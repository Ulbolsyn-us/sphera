{"version":3,"file":"js/chunk-vendors.4132f820.js","mappings":"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","sources":["webpack://sphera/./node_modules/core-js/internals/a-callable.js","webpack://sphera/./node_modules/core-js/internals/a-possible-prototype.js","webpack://sphera/./node_modules/core-js/internals/an-object.js","webpack://sphera/./node_modules/core-js/internals/array-buffer-basic-detection.js","webpack://sphera/./node_modules/core-js/internals/array-buffer-view-core.js","webpack://sphera/./node_modules/core-js/internals/array-includes.js","webpack://sphera/./node_modules/core-js/internals/array-iteration-from-last.js","webpack://sphera/./node_modules/core-js/internals/classof-raw.js","webpack://sphera/./node_modules/core-js/internals/classof.js","webpack://sphera/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://sphera/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://sphera/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://sphera/./node_modules/core-js/internals/create-property-descriptor.js","webpack://sphera/./node_modules/core-js/internals/define-built-in-accessor.js","webpack://sphera/./node_modules/core-js/internals/define-built-in.js","webpack://sphera/./node_modules/core-js/internals/define-global-property.js","webpack://sphera/./node_modules/core-js/internals/descriptors.js","webpack://sphera/./node_modules/core-js/internals/document-create-element.js","webpack://sphera/./node_modules/core-js/internals/engine-user-agent.js","webpack://sphera/./node_modules/core-js/internals/engine-v8-version.js","webpack://sphera/./node_modules/core-js/internals/enum-bug-keys.js","webpack://sphera/./node_modules/core-js/internals/error-stack-clear.js","webpack://sphera/./node_modules/core-js/internals/error-stack-installable.js","webpack://sphera/./node_modules/core-js/internals/export.js","webpack://sphera/./node_modules/core-js/internals/fails.js","webpack://sphera/./node_modules/core-js/internals/function-apply.js","webpack://sphera/./node_modules/core-js/internals/function-bind-context.js","webpack://sphera/./node_modules/core-js/internals/function-bind-native.js","webpack://sphera/./node_modules/core-js/internals/function-call.js","webpack://sphera/./node_modules/core-js/internals/function-name.js","webpack://sphera/./node_modules/core-js/internals/function-uncurry-this.js","webpack://sphera/./node_modules/core-js/internals/get-built-in.js","webpack://sphera/./node_modules/core-js/internals/get-method.js","webpack://sphera/./node_modules/core-js/internals/global.js","webpack://sphera/./node_modules/core-js/internals/has-own-property.js","webpack://sphera/./node_modules/core-js/internals/hidden-keys.js","webpack://sphera/./node_modules/core-js/internals/ie8-dom-define.js","webpack://sphera/./node_modules/core-js/internals/indexed-object.js","webpack://sphera/./node_modules/core-js/internals/inherit-if-required.js","webpack://sphera/./node_modules/core-js/internals/inspect-source.js","webpack://sphera/./node_modules/core-js/internals/install-error-cause.js","webpack://sphera/./node_modules/core-js/internals/internal-state.js","webpack://sphera/./node_modules/core-js/internals/is-callable.js","webpack://sphera/./node_modules/core-js/internals/is-forced.js","webpack://sphera/./node_modules/core-js/internals/is-null-or-undefined.js","webpack://sphera/./node_modules/core-js/internals/is-object.js","webpack://sphera/./node_modules/core-js/internals/is-pure.js","webpack://sphera/./node_modules/core-js/internals/is-symbol.js","webpack://sphera/./node_modules/core-js/internals/length-of-array-like.js","webpack://sphera/./node_modules/core-js/internals/make-built-in.js","webpack://sphera/./node_modules/core-js/internals/math-trunc.js","webpack://sphera/./node_modules/core-js/internals/normalize-string-argument.js","webpack://sphera/./node_modules/core-js/internals/object-define-property.js","webpack://sphera/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://sphera/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://sphera/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://sphera/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://sphera/./node_modules/core-js/internals/object-is-prototype-of.js","webpack://sphera/./node_modules/core-js/internals/object-keys-internal.js","webpack://sphera/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://sphera/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://sphera/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://sphera/./node_modules/core-js/internals/own-keys.js","webpack://sphera/./node_modules/core-js/internals/proxy-accessor.js","webpack://sphera/./node_modules/core-js/internals/regexp-flags.js","webpack://sphera/./node_modules/core-js/internals/require-object-coercible.js","webpack://sphera/./node_modules/core-js/internals/shared-key.js","webpack://sphera/./node_modules/core-js/internals/shared-store.js","webpack://sphera/./node_modules/core-js/internals/shared.js","webpack://sphera/./node_modules/core-js/internals/symbol-constructor-detection.js","webpack://sphera/./node_modules/core-js/internals/to-absolute-index.js","webpack://sphera/./node_modules/core-js/internals/to-indexed-object.js","webpack://sphera/./node_modules/core-js/internals/to-integer-or-infinity.js","webpack://sphera/./node_modules/core-js/internals/to-length.js","webpack://sphera/./node_modules/core-js/internals/to-object.js","webpack://sphera/./node_modules/core-js/internals/to-primitive.js","webpack://sphera/./node_modules/core-js/internals/to-property-key.js","webpack://sphera/./node_modules/core-js/internals/to-string-tag-support.js","webpack://sphera/./node_modules/core-js/internals/to-string.js","webpack://sphera/./node_modules/core-js/internals/try-to-string.js","webpack://sphera/./node_modules/core-js/internals/uid.js","webpack://sphera/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://sphera/./node_modules/core-js/internals/v8-prototype-define-bug.js","webpack://sphera/./node_modules/core-js/internals/weak-map-basic-detection.js","webpack://sphera/./node_modules/core-js/internals/well-known-symbol.js","webpack://sphera/./node_modules/core-js/internals/wrap-error-constructor-with-cause.js","webpack://sphera/./node_modules/core-js/modules/es.error.cause.js","webpack://sphera/./node_modules/core-js/modules/es.regexp.flags.js","webpack://sphera/./node_modules/core-js/modules/es.typed-array.at.js","webpack://sphera/./node_modules/core-js/modules/es.typed-array.find-last-index.js","webpack://sphera/./node_modules/core-js/modules/es.typed-array.find-last.js","webpack://sphera/./node_modules/core-js/modules/esnext.typed-array.find-last-index.js","webpack://sphera/./node_modules/core-js/modules/esnext.typed-array.find-last.js","webpack://sphera/script.full.js","webpack://sphera/./node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js","webpack://sphera/./node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js","webpack://sphera/./node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js","webpack://sphera/./node_modules/@vue/shared/dist/shared.esm-bundler.js","webpack://sphera/./node_modules/vue-loader/dist/exportHelper.js","webpack://sphera/./node_modules/vue3-carousel/dist/carousel.es.js","webpack://sphera/./node_modules/vue-router/dist/vue-router.mjs"],"sourcesContent":["var isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a function');\n};\n","var isCallable = require('../internals/is-callable');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","var isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw $TypeError($String(argument) + ' is not an object');\n};\n","// eslint-disable-next-line es-x/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer != 'undefined' && typeof DataView != 'undefined';\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-basic-detection');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar hasOwn = require('../internals/has-own-property');\nvar classof = require('../internals/classof');\nvar tryToString = require('../internals/try-to-string');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineProperty = require('../internals/object-define-property').f;\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar TypeError = global.TypeError;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\nvar TYPED_ARRAY_CONSTRUCTOR = 'TypedArrayConstructor';\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQUIRED = false;\nvar NAME, Constructor, Prototype;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === 'DataView'\n    || hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar getTypedArrayConstructor = function (it) {\n  var proto = getPrototypeOf(it);\n  if (!isObject(proto)) return;\n  var state = getInternalState(proto);\n  return (state && hasOwn(state, TYPED_ARRAY_CONSTRUCTOR)) ? state[TYPED_ARRAY_CONSTRUCTOR] : getTypedArrayConstructor(proto);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return hasOwn(TypedArrayConstructorsList, klass)\n    || hasOwn(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (isCallable(C) && (!setPrototypeOf || isPrototypeOf(TypedArray, C))) return C;\n  throw TypeError(tryToString(C) + ' is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced, options) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && hasOwn(TypedArrayConstructor.prototype, KEY)) try {\n      delete TypedArrayConstructor.prototype[KEY];\n    } catch (error) {\n      // old WebKit bug - some methods are non-configurable\n      try {\n        TypedArrayConstructor.prototype[KEY] = property;\n      } catch (error2) { /* empty */ }\n    }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    defineBuiltIn(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property, options);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && hasOwn(TypedArrayConstructor, KEY)) try {\n        delete TypedArrayConstructor[KEY];\n      } catch (error) { /* empty */ }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return defineBuiltIn(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      defineBuiltIn(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n  else NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\nfor (NAME in BigIntArrayConstructorsList) {\n  Constructor = global[NAME];\n  Prototype = Constructor && Constructor.prototype;\n  if (Prototype) enforceInternalState(Prototype)[TYPED_ARRAY_CONSTRUCTOR] = Constructor;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !isCallable(TypedArray) || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !hasOwn(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQUIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQUIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  getTypedArrayConstructor: getTypedArrayConstructor,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ findLast, findLastIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_FIND_LAST_INDEX = TYPE == 1;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that);\n    var index = lengthOfArrayLike(self);\n    var value, result;\n    while (index-- > 0) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (result) switch (TYPE) {\n        case 0: return value; // findLast\n        case 1: return index; // findLastIndex\n      }\n    }\n    return IS_FIND_LAST_INDEX ? -1 : undefined;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.findLast` method\n  // https://github.com/tc39/proposal-array-find-from-last\n  findLast: createMethod(0),\n  // `Array.prototype.findLastIndex` method\n  // https://github.com/tc39/proposal-array-find-from-last\n  findLastIndex: createMethod(1)\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","var hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es-x/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","var isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar $Error = Error;\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String($Error(arg).stack); })('zxcasd');\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error.prepareStackTrace) {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n","var fails = require('../internals/fails');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = !fails(function () {\n  var error = Error('a');\n  if (!('stack' in error)) return true;\n  // eslint-disable-next-line es-x/no-object-defineproperty -- safe\n  Object.defineProperty(error, 'stack', createPropertyDescriptor(1, 7));\n  return error.stack !== 7;\n});\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es-x/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es-x/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar bind = FunctionPrototype.bind;\nvar call = FunctionPrototype.call;\nvar uncurryThis = NATIVE_BIND && bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? function (fn) {\n  return fn && uncurryThis(fn);\n} : function (fn) {\n  return fn && function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","var aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es-x/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es-x/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","module.exports = {};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\n// `InstallErrorCause` abstract operation\n// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause\nmodule.exports = function (O, options) {\n  if (isObject(options) && 'cause' in options) {\n    createNonEnumerableProperty(O, 'cause', options.cause);\n  }\n};\n","var NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = uncurryThis(store.get);\n  var wmhas = uncurryThis(store.has);\n  var wmset = uncurryThis(store.set);\n  set = function (it, metadata) {\n    if (wmhas(store, it)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = function (argument) {\n  return typeof argument == 'function';\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","var isCallable = require('../internals/is-callable');\n\nvar documentAll = typeof document == 'object' && document.all;\n\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\nvar SPECIAL_DOCUMENT_ALL = typeof documentAll == 'undefined' && documentAll !== undefined;\n\nmodule.exports = SPECIAL_DOCUMENT_ALL ? function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it) || it === documentAll;\n} : function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","module.exports = false;\n","var getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (String(name).slice(0, 7) === 'Symbol(') {\n    name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = TEMPLATE.join(typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es-x/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","var toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es-x/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es-x/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es-x/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\n    setter = uncurryThis(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set);\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw $TypeError(\"Can't convert object to primitive value\");\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","var defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (Target, Source, key) {\n  key in Target || defineProperty(Target, key, {\n    configurable: true,\n    get: function () { return Source[key]; },\n    set: function (it) { Source[key] = it; }\n  });\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.hasIndices) result += 'd';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.unicodeSets) result += 'v';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.25.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2022 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.25.1/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","/* eslint-disable es-x/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","var call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","var $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","/* eslint-disable es-x/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar symbolFor = Symbol && Symbol['for'];\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    var description = 'Symbol.' + name;\n    if (NATIVE_SYMBOL && hasOwn(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else if (USE_SYMBOL_AS_UID && symbolFor) {\n      WellKnownSymbolsStore[name] = symbolFor(description);\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol(description);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar proxyAccessor = require('../internals/proxy-accessor');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar installErrorCause = require('../internals/install-error-cause');\nvar clearErrorStack = require('../internals/error-stack-clear');\nvar ERROR_STACK_INSTALLABLE = require('../internals/error-stack-installable');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nmodule.exports = function (FULL_NAME, wrapper, FORCED, IS_AGGREGATE_ERROR) {\n  var STACK_TRACE_LIMIT = 'stackTraceLimit';\n  var OPTIONS_POSITION = IS_AGGREGATE_ERROR ? 2 : 1;\n  var path = FULL_NAME.split('.');\n  var ERROR_NAME = path[path.length - 1];\n  var OriginalError = getBuiltIn.apply(null, path);\n\n  if (!OriginalError) return;\n\n  var OriginalErrorPrototype = OriginalError.prototype;\n\n  // V8 9.3- bug https://bugs.chromium.org/p/v8/issues/detail?id=12006\n  if (!IS_PURE && hasOwn(OriginalErrorPrototype, 'cause')) delete OriginalErrorPrototype.cause;\n\n  if (!FORCED) return OriginalError;\n\n  var BaseError = getBuiltIn('Error');\n\n  var WrappedError = wrapper(function (a, b) {\n    var message = normalizeStringArgument(IS_AGGREGATE_ERROR ? b : a, undefined);\n    var result = IS_AGGREGATE_ERROR ? new OriginalError(a) : new OriginalError();\n    if (message !== undefined) createNonEnumerableProperty(result, 'message', message);\n    if (ERROR_STACK_INSTALLABLE) createNonEnumerableProperty(result, 'stack', clearErrorStack(result.stack, 2));\n    if (this && isPrototypeOf(OriginalErrorPrototype, this)) inheritIfRequired(result, this, WrappedError);\n    if (arguments.length > OPTIONS_POSITION) installErrorCause(result, arguments[OPTIONS_POSITION]);\n    return result;\n  });\n\n  WrappedError.prototype = OriginalErrorPrototype;\n\n  if (ERROR_NAME !== 'Error') {\n    if (setPrototypeOf) setPrototypeOf(WrappedError, BaseError);\n    else copyConstructorProperties(WrappedError, BaseError, { name: true });\n  } else if (DESCRIPTORS && STACK_TRACE_LIMIT in OriginalError) {\n    proxyAccessor(WrappedError, OriginalError, STACK_TRACE_LIMIT);\n    proxyAccessor(WrappedError, OriginalError, 'prepareStackTrace');\n  }\n\n  copyConstructorProperties(WrappedError, OriginalError);\n\n  if (!IS_PURE) try {\n    // Safari 13- bug: WebAssembly errors does not have a proper `.name`\n    if (OriginalErrorPrototype.name !== ERROR_NAME) {\n      createNonEnumerableProperty(OriginalErrorPrototype, 'name', ERROR_NAME);\n    }\n    OriginalErrorPrototype.constructor = WrappedError;\n  } catch (error) { /* empty */ }\n\n  return WrappedError;\n};\n","/* eslint-disable no-unused-vars -- required for functions `.length` */\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar wrapErrorConstructorWithCause = require('../internals/wrap-error-constructor-with-cause');\n\nvar WEB_ASSEMBLY = 'WebAssembly';\nvar WebAssembly = global[WEB_ASSEMBLY];\n\nvar FORCED = Error('e', { cause: 7 }).cause !== 7;\n\nvar exportGlobalErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  var O = {};\n  O[ERROR_NAME] = wrapErrorConstructorWithCause(ERROR_NAME, wrapper, FORCED);\n  $({ global: true, constructor: true, arity: 1, forced: FORCED }, O);\n};\n\nvar exportWebAssemblyErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  if (WebAssembly && WebAssembly[ERROR_NAME]) {\n    var O = {};\n    O[ERROR_NAME] = wrapErrorConstructorWithCause(WEB_ASSEMBLY + '.' + ERROR_NAME, wrapper, FORCED);\n    $({ target: WEB_ASSEMBLY, stat: true, constructor: true, arity: 1, forced: FORCED }, O);\n  }\n};\n\n// https://github.com/tc39/proposal-error-cause\nexportGlobalErrorCauseWrapper('Error', function (init) {\n  return function Error(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('EvalError', function (init) {\n  return function EvalError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('RangeError', function (init) {\n  return function RangeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('ReferenceError', function (init) {\n  return function ReferenceError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('SyntaxError', function (init) {\n  return function SyntaxError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('TypeError', function (init) {\n  return function TypeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('URIError', function (init) {\n  return function URIError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('CompileError', function (init) {\n  return function CompileError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('LinkError', function (init) {\n  return function LinkError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('RuntimeError', function (init) {\n  return function RuntimeError(message) { return apply(init, this, arguments); };\n});\n","var global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar regExpFlags = require('../internals/regexp-flags');\nvar fails = require('../internals/fails');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 'd') -> /./d and it causes SyntaxError\nvar RegExp = global.RegExp;\nvar RegExpPrototype = RegExp.prototype;\n\nvar FORCED = DESCRIPTORS && fails(function () {\n  var INDICES_SUPPORT = true;\n  try {\n    RegExp('.', 'd');\n  } catch (error) {\n    INDICES_SUPPORT = false;\n  }\n\n  var O = {};\n  // modern V8 bug\n  var calls = '';\n  var expected = INDICES_SUPPORT ? 'dgimsy' : 'gimsy';\n\n  var addGetter = function (key, chr) {\n    // eslint-disable-next-line es-x/no-object-defineproperty -- safe\n    Object.defineProperty(O, key, { get: function () {\n      calls += chr;\n      return true;\n    } });\n  };\n\n  var pairs = {\n    dotAll: 's',\n    global: 'g',\n    ignoreCase: 'i',\n    multiline: 'm',\n    sticky: 'y'\n  };\n\n  if (INDICES_SUPPORT) pairs.hasIndices = 'd';\n\n  for (var key in pairs) addGetter(key, pairs[key]);\n\n  // eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\n  var result = Object.getOwnPropertyDescriptor(RegExpPrototype, 'flags').get.call(O);\n\n  return result !== expected || calls !== expected;\n});\n\n// `RegExp.prototype.flags` getter\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nif (FORCED) defineBuiltInAccessor(RegExpPrototype, 'flags', {\n  configurable: true,\n  get: regExpFlags\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.at` method\n// https://github.com/tc39/proposal-relative-indexing-method\nexportTypedArrayMethod('at', function at(index) {\n  var O = aTypedArray(this);\n  var len = lengthOfArrayLike(O);\n  var relativeIndex = toIntegerOrInfinity(index);\n  var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;\n  return (k < 0 || k >= len) ? undefined : O[k];\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findLastIndex = require('../internals/array-iteration-from-last').findLastIndex;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findLastIndex` method\n// https://github.com/tc39/proposal-array-find-from-last\nexportTypedArrayMethod('findLastIndex', function findLastIndex(predicate /* , thisArg */) {\n  return $findLastIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findLast = require('../internals/array-iteration-from-last').findLast;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findLast` method\n// https://github.com/tc39/proposal-array-find-from-last\nexportTypedArrayMethod('findLast', function findLast(predicate /* , thisArg */) {\n  return $findLast(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","// TODO: Remove from `core-js@4`\nrequire('../modules/es.typed-array.find-last-index');\n","// TODO: Remove from `core-js@4`\nrequire('../modules/es.typed-array.find-last');\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.DG = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){\nvar css = \".dg-customization__marker_type_mushroom:focus,.leaflet-container,.leaflet-popup a{outline:0}.leaflet-image-layer,.leaflet-layer,.leaflet-map-pane canvas,.leaflet-map-pane svg,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane,.leaflet-tile,.leaflet-tile-container,.leaflet-zoom-box{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden;font:12px/1.5 \\\"Helvetica Neue\\\",Arial,Helvetica,sans-serif}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile{-webkit-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-overlay-pane svg,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer{max-width:none!important}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-drag{-ms-touch-action:none;touch-action:none}.leaflet-tile{-webkit-filter:inherit;filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:800;border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto;float:left;clear:both}.leaflet-bottom,.leaflet-top{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-right .leaflet-control{float:right;margin-right:10px}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-fade-anim .leaflet-tile{will-change:opacity}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}.leaflet-zoom-anim .leaflet-zoom-animated{will-change:transform;-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1),-webkit-transform .25s cubic-bezier(0,0,.25,1)}.leaflet-pan-anim .leaflet-tile,.leaflet-zoom-anim .leaflet-tile{-webkit-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-control,.leaflet-popup-pane{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing}.leaflet-image-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-image-layer.leaflet-interactive,.leaflet-marker-icon.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container a{color:#0078A8}.leaflet-container a.leaflet-active{outline:orange solid 2px}.leaflet-bar{-webkit-box-shadow:0 1px 5px rgba(0,0,0,.65);box-shadow:0 1px 5px rgba(0,0,0,.65);border-radius:4px}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px 'Lucida Console',Monaco,monospace;text-indent:1px}.leaflet-control-zoom-out{font-size:20px}.leaflet-touch .leaflet-control-zoom-in{font-size:22px}.leaflet-touch .leaflet-control-zoom-out{font-size:24px}.leaflet-control-layers{-webkit-box-shadow:0 1px 5px rgba(0,0,0,.4);box-shadow:0 1px 5px rgba(0,0,0,.4);background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(dist/css/images/layers.png);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(dist/css/images/layers-2x.png);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(dist/css/images/marker-icon.png)}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.7);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover{text-decoration:underline}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;font-size:11px;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;background:#fff;background:rgba(255,255,255,.5)}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers{-webkit-box-shadow:none;box-shadow:none}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-layers{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center}.leaflet-popup-content-wrapper,[class^=dg-] caption,[class^=dg-] th{text-align:left}.leaflet-popup-tip-container{width:40px;position:absolute;left:50%;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;color:#333;-webkit-box-shadow:0 3px 14px rgba(0,0,0,.4);box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-container a.leaflet-popup-close-button{border:none;font:16px/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;background:0 0}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-oldie .leaflet-popup-content-wrapper{zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:\\\"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)\\\";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678, M12=.70710678, M21=-.70710678, M22=.70710678)}.leaflet-oldie .leaflet-popup-tip-container{margin-top:-1px}.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.4);box-shadow:0 1px 3px rgba(0,0,0,.4)}.leaflet-tooltip.leaflet-clickable{cursor:pointer;pointer-events:auto}.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before,.leaflet-tooltip-top:before{position:absolute;pointer-events:none;border:6px solid transparent;background:0 0;content:\\\"\\\"}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-popup,[class^=dg-]>[class^=dg-]:last-child{margin-bottom:0}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}[class^=dg-],[class^=dg-]:after,[class^=dg-]:before{-webkit-box-sizing:content-box;box-sizing:content-box;margin:0;padding:0;vertical-align:baseline;font-weight:inherit;font-style:inherit;font-size:1em;font-family:inherit;line-height:1.2}[class^=dg-] abbr,[class^=dg-] fieldset,[class^=dg-] img{border:0}[class^=dg-] blockquote,[class^=dg-] q{quotes:none}[class^=dg-] blockquote:after,[class^=dg-] blockquote:before,[class^=dg-] q:after,[class^=dg-] q:before{content:'';content:none}[class^=dg-] ol,[class^=dg-] ul{list-style:none}[class^=dg-] table{border-spacing:0;border-collapse:collapse}[class^=dg-] td,[class^=dg-] th{vertical-align:middle}[class^=dg-] button::-moz-focus-inner,[class^=dg-] input::-moz-focus-inner{padding:0;border:0}.dg-label{position:absolute;top:0;left:0;max-width:none;max-height:none;width:300px;-webkit-user-select:none;-ms-user-select:none;user-select:none}.dg-label__content{display:inline-block;overflow:hidden;padding:3px 7px;min-width:30px;max-width:300px;width:auto;border-width:1px;border-style:solid;border-radius:2px;vertical-align:top;font-size:12px;border-color:#323232;border-color:rgba(50,50,50,.85);background:#323232;background:rgba(50,50,50,.85);color:#ffd26e}.leaflet-top .dg-label_name_location-error{top:5px}.leaflet-right .dg-label_name_location-error{right:40px;left:auto;text-align:right}.leaflet-bottom .dg-label_name_location-error{top:4px}.leaflet-left .dg-label_name_location-error{left:40px}.leaflet-popup-tip-container{height:0}.leaflet-popup-content-wrapper{overflow:hidden;padding:0;min-width:60px;min-height:50px;border:0;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;color:#e6e6e6;font-size:14px;-webkit-transition:opacity ease-out .2s,max-height ease-out .2s,height ease-out .2s;transition:opacity ease-out .2s,max-height ease-out .2s,height ease-out .2s;-webkit-transform-origin:50% 100%;-ms-transform-origin:50% 100%;transform-origin:50% 100%;background:rgba(50,50,50,.9)}.leaflet-popup-content-wrapper:before{float:right;width:30px;height:17px;content:''}.leaflet-popup-content{position:relative;margin:16px;width:auto;line-height:1.4}.leaflet-popup-content p{margin:0}.leaflet-popup-scrolled{overflow:visible;border:0}.leaflet-popup-inner{position:relative;z-index:0}.leaflet-popup_show_true{-webkit-transition:opacity ease-in-out .2s,height ease-out .2s,-webkit-transform ease-in-out .2s;transition:opacity ease-in-out .2s,height ease-out .2s,-webkit-transform ease-in-out .2s;transition:transform ease-in-out .2s,opacity ease-in-out .2s,height ease-out .2s;transition:transform ease-in-out .2s,opacity ease-in-out .2s,height ease-out .2s,-webkit-transform ease-in-out .2s;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}.leaflet-popup_show_false{opacity:0!important;-webkit-transition:all ease-in-out .1s;transition:all ease-in-out .1s;-webkit-transform:scale(.2);-ms-transform:scale(.2);transform:scale(.2)}.leaflet-popup_preloader_true{width:384px;height:52px}.leaflet-map-pane .leaflet-popup-tip-container{position:absolute;top:auto;bottom:0;left:50%;margin-left:-29px;width:58px;height:47px;background-repeat:no-repeat;-webkit-transform:translateY(47px);-ms-transform:translateY(47px);transform:translateY(47px);pointer-events:none}.leaflet-popup-tip{display:none}.leaflet-popup-tip-container_svg{background-repeat:no-repeat;background-image:url(https://maps.api.2gis.ru/2.0/img/DGPopup__popupShadow.png);background-position:50% 95%;background-size:36px 12px}.leaflet-retina .leaflet-popup-tip-container_svg{background-image:url(https://maps.api.2gis.ru/2.0/img/DGPopup__popupShadow@2x.png)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:3px;right:3px;z-index:1;overflow:hidden;padding:0;width:30px;height:30px;text-align:center;font-weight:400;font-size:18px;line-height:30px;cursor:pointer}.no-touch .leaflet-container a.leaflet-popup-close-button:hover{border-radius:2px;-webkit-transition:all .2s;transition:all .2s;background-color:#222;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.5);box-shadow:0 1px 3px rgba(0,0,0,.5)}.leaflet-container a.leaflet-popup-close-button:active{color:#777}.leaflet-container a.leaflet-popup-close-button:after{position:absolute;z-index:2;content:'';top:-3px;right:-5px;width:40px;height:40px}.leaflet-popup-tip-container_image{background-repeat:no-repeat;background-image:url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2258%22%20height%3D%2247%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M0%200c12.643%200%2028%207.115%2028%2044h2c0-36.885%2015.358-44%2028-44h-58z%22%20fill%3D%22rgba(50%2C50%2C50%2C.9)%22%3E%3C%2Fpath%3E%0A%3C%2Fsvg%3E%0A')}.leaflet-map-pane .leaflet-popup-tip-container_svg{fill:rgba(50,50,50,.9)}.dg-wrapper{position:relative;overflow:hidden}.dg-scroller{height:100%;overflow-y:scroll;border:0}.dg-scroller::-webkit-scrollbar{width:0}.dg-scroller__bar{z-index:1;right:0;background:#999}.dg-scroller__bar_h{bottom:2px;height:8px}.dg-header__title{width:100%;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;background:#999}.dg-header__title_state_fixed{position:absolute;z-index:1}.dg-scroller_hidden_true{overflow:auto}.dg-scroller__wrapper{position:relative;overflow:hidden}.dg-scroller__bar-wrapper{position:absolute;top:18px;right:3px;bottom:4px;width:7px;border-radius:5px}.dg-scroller_hidden_true .dg-scroller__bar-wrapper{visibility:hidden}.dg-popup__header+.dg-popup__container-wrapper .dg-scroller__bar-wrapper{top:4px}.dg-scroller__bar{position:absolute;min-height:20px;width:7px;border-radius:3px;pointer-events:auto}.scroller__bar-wrapper .scroller__bar{background-color:#665b4f}.scroller__bar-wrapper:hover .scroller__bar{background-color:#897a6b}.dg-popup__container{margin:0}.leaflet-popup-scrolled .dg-popup__container{padding:8px 14px 8px 0}.dg-popup__header{position:relative;padding-bottom:12px}.leaflet-popup-scrolled .dg-popup__header:after{position:relative;top:12px;display:block;width:100%;height:1px;content:''}.dg-popup__footer{position:relative;bottom:0;overflow:hidden}.leaflet-popup-scrolled .dg-popup__footer:before{display:block;width:100%;height:1px;content:''}.dg-control-round,.dg-control-round__icon{position:relative;width:30px;height:30px;border-radius:50%}.dg-popup_hidden_true{display:none}.leaflet-popup-scrolled .dg-popup__footer:before,.leaflet-popup-scrolled .dg-popup__header:after{border-bottom:1px solid #636363;background-color:#494949}.dg-control-round{padding:5px;cursor:default}.dg-control-round__icon{display:block;background-color:#f0f0f0;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fff),to(#e0e0e0));background-image:-webkit-linear-gradient(top,#fff 0,#e0e0e0 100%);background-image:linear-gradient(to bottom,#fff 0,#e0e0e0 100%);color:#2b2a29;text-align:center;text-decoration:none;text-shadow:0 1px 0 #fff;font-size:22px;line-height:30px;cursor:pointer}.no-touch .dg-control-round__icon:hover{background-color:#f5f5f5;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#ebebeb),to(#fff));background-image:-webkit-linear-gradient(top,#ebebeb 0,#fff 100%);background-image:linear-gradient(to bottom,#ebebeb 0,#fff 100%)}.dg-control-round__icon:active,.dg-control-round__icon_state_active,.no-touch .dg-control-round__icon:active{background-color:#ebebeb;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#d6d6d6),to(#fff));background-image:-webkit-linear-gradient(top,#d6d6d6 0,#fff 100%);background-image:linear-gradient(to bottom,#d6d6d6 0,#fff 100%)}.leaflet-touch .dg-control-round__icon:before{position:absolute;top:-10px;right:-15px;bottom:-10px;left:-15px;content:''}.dg-control-round_is-hidden_true{display:none}.dg-control-round{background-color:#3d3d3d;-webkit-box-shadow:0 3px 5px 0 rgba(0,0,0,.3);box-shadow:0 3px 5px 0 rgba(0,0,0,.3)}.dg-control-round__icon{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,.4);box-shadow:0 2px 2px 0 rgba(0,0,0,.4)}.no-touch .dg-control-round__icon:hover{-webkit-box-shadow:inset 0 1px #fff,0 0 0 1px rgba(0,0,0,.3),0 1px 0 1px rgba(0,0,0,.4);box-shadow:inset 0 1px #fff,0 0 0 1px rgba(0,0,0,.3),0 1px 0 1px rgba(0,0,0,.4)}.dg-control-round__icon:active,.dg-control-round__icon_state_active,.no-touch .dg-control-round__icon:active{-webkit-box-shadow:inset 0 1px 1px 1px rgba(0,0,0,.2),0 0 0 1px rgba(0,0,0,.3),0 -1px 1px 0 #000;box-shadow:inset 0 1px 1px 1px rgba(0,0,0,.2),0 0 0 1px rgba(0,0,0,.3),0 -1px 1px 0 #000}.leaflet-disabled .dg-control-round__icon,.leaflet-disabled .dg-control-round__icon:active,.no-touch .leaflet-disabled .dg-control-round__icon:hover{background-image:none;cursor:default;background-color:#b8b8b8;-webkit-box-shadow:none;box-shadow:none}.dg-museum{position:absolute;top:0;left:0;right:0;z-index:1500;padding:4px 5px 8px;background:#333;color:#fff;opacity:.97;text-align:center}.dg-museum-browser{position:relative;top:4px;display:inline-block;width:16px;height:16px;margin:0 4px;background:url(https://maps.api.2gis.ru/2.0/img/DGMuseum.jpg) left top no-repeat}.dg-museum__chrome{background-position:0 0}.dg-museum__chrome:hover{background-position:0 -16px}.dg-museum__firefox{background-position:-16px 0}.dg-museum__firefox:hover{background-position:-16px -16px}.dg-museum__safari{background-position:-32px 0}.dg-museum__safari:hover{background-position:-32px -16px}.dg-museum__opera{width:15px;background-position:-48px 0}.dg-museum__opera:hover{background-position:-48px -16px}.dg-museum__ie{width:17px;background-position:-63px 0}.dg-museum__ie:hover{background-position:-63px -16px}.dg-museum__close{display:inline-block;margin:0 4px;width:9px;height:9px;background:url(https://maps.api.2gis.ru/2.0/img/DGMuseum_close.gif) top left no-repeat;cursor:pointer}.dg-museum__close:hover{opacity:.6}.leaflet-container{z-index:0;background:#f7f3df;cursor:default}.leaflet-container:-webkit-full-screen{width:100%!important;height:100%!important}.leaflet-container:-ms-fullscreen{width:100%!important;height:100%!important}.leaflet-container:fullscreen{width:100%!important;height:100%!important}.leaflet-dragging,.leaflet-dragging .leaflet-clickable,.leaflet-dragging .leaflet-container{cursor:move}.leaflet-control a,.leaflet-control a:focus{outline:0!important}.leaflet-container .leaflet-control-attribution{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.dg-customization__marker{background-repeat:no-repeat}.dg-customization__marker:before{position:absolute;top:0;left:0;width:100%;height:100%;background-image:inherit;background-size:contain;background-repeat:no-repeat;-webkit-transition:opacity ease-in-out .2s,-webkit-transform ease-in-out .2s;transition:opacity ease-in-out .2s,-webkit-transform ease-in-out .2s;transition:opacity ease-in-out .2s,transform ease-in-out .2s;transition:opacity ease-in-out .2s,transform ease-in-out .2s,-webkit-transform ease-in-out .2s;-webkit-transform:scale(1,1);-ms-transform:scale(1,1);transform:scale(1,1);-webkit-transform-origin:50% 100%;-ms-transform-origin:50% 100%;transform-origin:50% 100%}.dg-customization__marker_type_mushroom{background-repeat:no-repeat;background-image:url(https://maps.api.2gis.ru/2.0/img/DGCustomization__marker.png);background-size:22px 34px;width:22px;height:34px;-webkit-transform-origin:50% 100%;-ms-transform-origin:50% 100%;transform-origin:50% 100%;-webkit-animation:dg-customization__show-marker .2s;animation:dg-customization__show-marker .2s}.leaflet-retina .dg-customization__marker_type_mushroom{background-image:url(https://maps.api.2gis.ru/2.0/img/DGCustomization__marker@2x.png)}.no-touch .dg-customization__marker_type_mushroom:hover{background-repeat:no-repeat;background-image:url(https://maps.api.2gis.ru/2.0/img/DGCustomization__markerHover.png);background-size:22px 34px}.leaflet-retina .no-touch .dg-customization__marker_type_mushroom:hover{background-image:url(https://maps.api.2gis.ru/2.0/img/DGCustomization__markerHover@2x.png)}.dg-customization__marker_type_mushroom:active,.no-touch .dg-customization__marker_type_mushroom:active{background-repeat:no-repeat;background-image:url(https://maps.api.2gis.ru/2.0/img/DGCustomization__markerActive.png);background-size:22px 34px}.leaflet-retina .dg-customization__marker_type_mushroom:active,.leaflet-retina .no-touch .dg-customization__marker_type_mushroom:active{background-image:url(https://maps.api.2gis.ru/2.0/img/DGCustomization__markerActive@2x.png)}@-webkit-keyframes dg-customization__show-marker{from{opacity:0}to{opacity:1}}@keyframes dg-customization__show-marker{from{opacity:0}to{opacity:1}}.dg-customization__marker_appear{background-position:999px}.dg-customization__marker_appear:before{content:''}.dg-customization__marker_disappear{background-position:999px;pointer-events:none}.dg-customization__marker_disappear:before{visibility:hidden;content:'';opacity:0;-webkit-transform:scale(1.2,1.8);-ms-transform:scale(1.2,1.8);transform:scale(1.2,1.8);-webkit-animation:dg-customization__marker-to-callout .2s;animation:dg-customization__marker-to-callout .2s}@-webkit-keyframes dg-customization__marker-to-callout{0%{visibility:visible;opacity:1;-webkit-transform:scale(1,1);transform:scale(1,1)}100%{visibility:visible;opacity:0;-webkit-transform:scale(1.2,1.8);transform:scale(1.2,1.8)}}@keyframes dg-customization__marker-to-callout{0%{visibility:visible;opacity:1;-webkit-transform:scale(1,1);transform:scale(1,1)}100%{visibility:visible;opacity:0;-webkit-transform:scale(1.2,1.8);transform:scale(1.2,1.8)}}.dg-dragging-false{touch-action:auto;-ms-touch-action:auto}.dg-zoom{width:40px;height:74px}.dg-zoom__in{position:absolute;top:0;left:0}.leaflet-touch .dg-zoom__in:before{position:absolute;top:-5px;right:-10px;bottom:0;left:-10px;content:''}.dg-control-round__icon_name_fullscreen:after,.dg-control-round__icon_name_locate:after,.dg-zoom__button_type_in:after,.dg-zoom__button_type_in:before,.dg-zoom__button_type_out:after,.leaflet-touch .dg-zoom__button_type_in:before{position:absolute;top:0;margin:auto;content:''}.dg-zoom__in:after{position:absolute;right:0;bottom:-1px;left:0;z-index:-1;margin:auto;width:12px;height:2px;-webkit-box-shadow:0 0 3px 2px rgba(0,0,0,.3);box-shadow:0 0 3px 2px rgba(0,0,0,.3);content:''}.dg-zoom__button_type_in:after,.dg-zoom__button_type_in:before,.leaflet-touch .dg-zoom__button_type_in:before{right:0;bottom:0;left:0;width:14px;height:2px;background-color:#7a7a7a;-webkit-box-shadow:0 1px #fff;box-shadow:0 1px #fff}.dg-zoom__button_type_in:after{width:2px;height:14px}.no-touch .dg-zoom__button_type_in:hover:after,.no-touch .dg-zoom__button_type_in:hover:before{background-color:#616161}.dg-zoom__button_type_in:active:after,.dg-zoom__button_type_in:active:before,.no-touch .dg-zoom__button_type_in:active:after,.no-touch .dg-zoom__button_type_in:active:before{background-color:#575757}.leaflet-disabled .dg-zoom__button_type_in:active:after,.leaflet-disabled .dg-zoom__button_type_in:active:before,.leaflet-disabled .dg-zoom__button_type_in:after,.leaflet-disabled .dg-zoom__button_type_in:before,.no-touch .leaflet-disabled .dg-zoom__button_type_in:hover:after,.no-touch .leaflet-disabled .dg-zoom__button_type_in:hover:before{-webkit-box-shadow:none;box-shadow:none}.dg-zoom__out{position:absolute;top:40px;right:0;left:0;margin:auto;width:22px;height:22px}.dg-zoom__out:after{position:absolute;top:-1px;right:0;left:0;margin:auto;width:12px;height:2px;content:''}.dg-zoom__button_type_out{width:22px;height:22px}.leaflet-touch .dg-zoom__button_type_out:before{top:-5px;right:-19px;bottom:-19px;left:-19px}.dg-zoom__button_type_out:after{right:0;bottom:0;left:0;width:10px;height:2px;background:#7a7a7a;-webkit-box-shadow:0 1px #fff;box-shadow:0 1px #fff}.no-touch .dg-zoom__button_type_out:hover:after{background:#616161}.dg-zoom__button_type_out:active:after,.no-touch .dg-zoom__button_type_out:active:after{background:#575757}.leaflet-disabled .dg-zoom__button_type_out:active:after,.leaflet-disabled .dg-zoom__button_type_out:after,.no-touch .leaflet-disabled .dg-zoom__button_type_out:hover:after{-webkit-box-shadow:none;box-shadow:none}.dg-zoom__out{-webkit-box-shadow:0 2px 3px 0 rgba(0,0,0,.3);box-shadow:0 2px 3px 0 rgba(0,0,0,.3)}.dg-zoom__out:after{background-color:#3d3d3d}.leaflet-disabled .dg-zoom__button_type_in:active:after,.leaflet-disabled .dg-zoom__button_type_in:active:before,.leaflet-disabled .dg-zoom__button_type_in:after,.leaflet-disabled .dg-zoom__button_type_in:before,.leaflet-disabled .dg-zoom__button_type_out:active:after,.leaflet-disabled .dg-zoom__button_type_out:after,.no-touch .leaflet-disabled .dg-zoom__button_type_in:hover:after,.no-touch .leaflet-disabled .dg-zoom__button_type_in:hover:before,.no-touch .leaflet-disabled .dg-zoom__button_type_out:hover:after{background-color:#707070}.dg-attribution{background-color:transparent!important}.dg-attribution__copyright{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 0 5px;text-align:right;white-space:nowrap;font-size:9px;font-family:Helvetica,Arial,sans-serif}.dg-attribution__links{display:inline-block;margin:0;padding:0 5px 0 0}.dg-attribution__link-item{padding:0;list-style-type:none}.leaflet-container .dg-attribution__link{background:-webkit-gradient(linear,left top,right top,from(rgba(8,8,8,.3)),to(rgba(8,8,8,.3))) 0 95%/10px 1px repeat-x;background:-webkit-linear-gradient(left,rgba(8,8,8,.3),rgba(8,8,8,.3) 100%) 0 95%/10px 1px repeat-x;background:linear-gradient(to right,rgba(8,8,8,.3),rgba(8,8,8,.3) 100%) 0 95%/10px 1px repeat-x;color:#333;text-decoration:none;font-size:9px;font-family:Helvetica,Arial,sans-serif;cursor:pointer}.leaflet-container .dg-attribution__link:hover{background-image:-webkit-gradient(linear,left top,right top,from(#080808),to(#080808));background-image:-webkit-linear-gradient(left,#080808,#080808 100%);background-image:linear-gradient(to right,#080808,#080808 100%);color:#333;text-decoration:none}.dg-attribution__logo-url{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2245%22%20height%3D%2214%22%3E%0A%20%3Cpath%0A%20%20%20fill-rule%3D%22evenodd%22%0A%20%20%20clip-rule%3D%22evenodd%22%0A%20%20%20fill%3D%22%236D7173%22%0A%20%20%20d%3D%22M6.964%200c3.865%200%206.99%203.144%206.99%206.994%200%203.862-3.125%207.006-6.99%207.006C3.136%2014%200%2010.856%200%206.994%200%203.144%203.136%200%206.964%200zm.025%202.45c-2.297%200-3.85%201.805-3.85%203.735%200%20.772.172%201.457.575%202.304%202.33.012%202.794%201.446%202.943%202.712l.014.126.061.573h.501l.061-.573.014-.126c.15-1.266.605-2.7%203.017-2.712.416-.847.489-1.532.489-2.291%200-1.955-1.528-3.748-3.825-3.748zm34.142-.21c2.094%200%203.6%201.04%203.869%203.017h-2.12c-.14-.735-.753-1.305-1.775-1.305-.88%200-1.404.418-1.404%201.102%200%20.778.884.942%201.757%201.074l.196.029c1.367.203%203.32.596%203.32%202.776%200%202.029-1.698%202.967-3.767%202.967-2.234%200-3.754-1.116-3.881-3.195h2.094c.179.964.894%201.496%201.966%201.496.869%200%201.482-.355%201.482-1.077%200-1.065-1.226-1.09-2.478-1.332-.97-.19-2.796-.659-2.796-2.623%200-1.851%201.417-2.929%203.537-2.929zm-12.365.21c2.174%200%204.013%201.217%204.374%203.338h-2.1c-.323-.941-1.168-1.468-2.299-1.468-1.85%200-2.646%201.443-2.646%202.861%200%201.406.845%202.824%202.659%202.824%201.031%200%201.926-.464%202.323-1.443H28.53V7.006h4.61v.74c0%202.535-1.926%204.154-4.386%204.154-2.498%200-4.684-1.744-4.684-4.694%200-2.911%202.013-4.756%204.696-4.756zm-9.156%200c2.12%200%203.574%201.217%203.574%203.148%200%201.574-.966%202.496-2.658%203.234-1.116.48-1.225.548-2.386.898h5.232v1.82h-7.599V8.845c1.09-.37%202.157-.787%203.65-1.44%201.09-.479%201.68-.921%201.68-1.709%200-.787-.59-1.475-1.593-1.475-1.154%200-1.806.922-1.78%201.93h-2.032C15.685%203.84%2017.353%202.45%2019.61%202.45zm16.764%200v9.1h-1.978v-9.1h1.978z%22%0A%20%2F%3E%0A%3C%2Fsvg%3E);width:45px;height:14px;background-size:45px 14px;margin:0 3px 0 0}.dg-attribution__open2gis-button{background:#fff;border-radius:4px;-webkit-box-shadow:0 3px 5px rgba(0,0,0,.2);box-shadow:0 3px 5px rgba(0,0,0,.2);padding:4px 6px 4px 4px;position:relative;display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box;text-align:left;text-decoration:none;line-height:14px;font-style:normal;font-weight:600;font-size:9px;cursor:pointer;-webkit-transition:all .1s;transition:all .1s;height:22px;min-width:101px}.no-touch .dg-attribution__open2gis-button:hover{-webkit-transition:all .2s;transition:all .2s;background:#e7f3ff}.dg-attribution__open2gis-icon-button:before{display:inline-block;margin:-1px 4px 0 0;width:12px;height:12px;background-size:contain;background-repeat:no-repeat;content:'';vertical-align:middle}.dg-attribution__button-wrapper{margin-left:3px}.dg-attribution__button-wrapper .dg-attribution__open2gis-button{color:#454C4F}.no-touch .dg-attribution__button-wrapper .dg-attribution__open2gis-button:hover{color:#286482}.dg-attribution__open2gis-button_name_open:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20width%3D%2214%22%20height%3D%2214%22%20viewBox%3D%220%200%2014%2014%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M13.8462%206.99989C13.8462%2010.864%2010.7308%2014%206.92318%2014C3.10156%2014%200%2010.864%200%206.99989C0%203.13602%203.10156%200%206.92318%200C10.7308%200%2013.8462%203.13602%2013.8462%206.99989ZM10.7585%206.07597C10.7585%204.15815%209.20777%202.38004%206.92317%202.38004C4.63858%202.38004%203.0878%204.15815%203.0878%206.07597C3.0878%206.84596%203.2539%207.51796%203.64155%208.35813C5.91238%208.35813%206.32775%209.884%206.42466%2010.906L6.49385%2011.62H7.3525L7.42169%2010.906C7.51839%209.884%207.93396%208.35813%2010.2046%208.35813C10.5922%207.51796%2010.7585%206.84596%2010.7585%206.07597Z%22%20fill%3D%22%23299400%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:14px;height:14px;background-size:14px 14px}.dg-location__pin{background-repeat:no-repeat;width:20px;height:20px;background-image:url(https://maps.api.2gis.ru/2.0/img/sprite.basic.png);background-position:-22px -14px;background-size:83px 72px}.leaflet-retina .dg-location__pin{background-image:url(https://maps.api.2gis.ru/2.0/img/sprite@2x.basic.png);background-position:0 -33.5px;background-size:82px 73.5px}.dg-location__pin_state_following{background-repeat:no-repeat;width:20px;height:20px;background-image:url(https://maps.api.2gis.ru/2.0/img/sprite.basic.png);background-position:-42px -14px;background-size:83px 72px}.leaflet-retina .dg-location__pin_state_following{background-image:url(https://maps.api.2gis.ru/2.0/img/sprite@2x.basic.png);background-position:-20px -33.5px;background-size:82px 73.5px}.dg-control-round__icon_state_active.dg-control-round__icon_name_locate:active:after,.dg-control-round__icon_state_active.dg-control-round__icon_name_locate:after,.no-touch .dg-control-round__icon_state_active.dg-control-round__icon_name_locate:hover:after{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%3E%0A%20%20%20%20%3Cg%20fill%3D%22%2323a5d4%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2017%2C8%20H%2015.92%20C%2015.48%2C4.937%2013.064%2C2.52%2010%2C2.08%20V%201%20C%2010%2C0.448%209.553%2C0%209%2C0%208.447%2C0%208%2C0.448%208%2C1%20V%202.08%20C%204.936%2C2.52%202.52%2C4.937%202.08%2C8%20H%201%20C%200.447%2C8%200%2C8.448%200%2C9%200%2C9.553%200.447%2C10%201%2C10%20H%202.08%20C%202.52%2C13.063%204.936%2C15.48%208%2C15.92%20V%2017%20c%200%2C0.553%200.447%2C1%201%2C1%200.553%2C0%201%2C-0.447%201%2C-1%20V%2015.92%20C%2013.064%2C15.481%2015.48%2C13.064%2015.92%2C10%20H%2017%20C%2017.553%2C10%2018%2C9.553%2018%2C9%2018%2C8.448%2017.553%2C8%2017%2C8%20z%20M%209%2C14%20C%206.24%2C14%204%2C11.762%204%2C9%204%2C6.238%206.24%2C4%209%2C4%20c%202.761%2C0%205%2C2.238%205%2C5%200%2C2.762%20-2.239%2C5%20-5%2C5%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%229%22%20cy%3D%229%22%20r%3D%223%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2014%2C10.004%20C%2014%2C9.834%2013.991%2C9.667%2013.975%2C9.502%2013.723%2C12.027%2011.592%2C14%209%2C14%206.408%2C14%204.277%2C12.027%204.025%2C9.502%204.009%2C9.667%204%2C9.834%204%2C10.004%20c%200%2C2.762%202.24%2C5%205%2C5%202.761%2C0%205%2C-2.238%205%2C-5%20z%20M%2010%2C3.083%20c%203.064%2C0.439%205.48%2C2.856%205.92%2C5.921%20H%2017%20c%200.369%2C0%200.688%2C0.201%200.86%2C0.498%20C%2017.947%2C9.354%2018%2C9.184%2018%2C9%2018%2C8.448%2017.553%2C8%2017%2C8%20H%2015.92%20C%2015.48%2C4.937%2013.064%2C2.52%2010%2C2.08%20V%203.083%20z%20M%201%2C9.004%20H%202.08%20C%202.52%2C5.939%204.936%2C3.522%208%2C3.083%20V%202.08%20C%204.936%2C2.52%202.52%2C4.937%202.08%2C8%20H%201%20C%200.447%2C8%200%2C8.448%200%2C9%200%2C9.184%200.053%2C9.354%200.14%2C9.502%200.312%2C9.205%200.631%2C9.004%201%2C9.004%20z%20m%208%2C-8%20c%200.553%2C0%201%2C0.447%201%2C1%20V%201%20C%2010%2C0.448%209.553%2C0%209%2C0%208.447%2C0%208%2C0.448%208%2C1%20v%201.004%20c%200%2C-0.553%200.447%2C-1%201%2C-1%20z%22%20fill%3D%22%232685aa%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%209%2C7%20c%201.486%2C0%202.717%2C1.082%202.955%2C2.5%20C%2011.982%2C9.337%2012%2C9.171%2012%2C9%2012%2C7.344%2010.656%2C6%209%2C6%207.344%2C6%206%2C7.344%206%2C9%206%2C9.171%206.018%2C9.337%206.045%2C9.5%206.283%2C8.082%207.514%2C7%209%2C7%20z%22%20fill%3D%22%231c85ab%22%2F%3E%0A%3C%2Fsvg%3E%0A)}@-webkit-keyframes DGLocation__locateIconRequestingAnim{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes DGLocation__locateIconRequestingAnim{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.dg-control-round__icon_name_locate:after{right:0;bottom:0;left:0;background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%3E%0A%20%20%20%20%3Cg%20fill%3D%22%23616161%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2017%2C8%20H%2015.92%20C%2015.48%2C4.937%2013.064%2C2.52%2010%2C2.08%20V%201%20C%2010%2C0.448%209.553%2C0%209%2C0%208.447%2C0%208%2C0.448%208%2C1%20V%202.08%20C%204.936%2C2.52%202.52%2C4.937%202.08%2C8%20H%201%20C%200.447%2C8%200%2C8.448%200%2C9%200%2C9.553%200.447%2C10%201%2C10%20H%202.08%20C%202.52%2C13.063%204.936%2C15.48%208%2C15.92%20V%2017%20c%200%2C0.553%200.447%2C1%201%2C1%200.553%2C0%201%2C-0.447%201%2C-1%20V%2015.92%20C%2013.064%2C15.481%2015.48%2C13.064%2015.92%2C10%20H%2017%20C%2017.553%2C10%2018%2C9.553%2018%2C9%2018%2C8.448%2017.553%2C8%2017%2C8%20z%20M%209%2C14%20C%206.24%2C14%204%2C11.762%204%2C9%204%2C6.238%206.24%2C4%209%2C4%20c%202.761%2C0%205%2C2.238%205%2C5%200%2C2.762%20-2.239%2C5%20-5%2C5%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%229%22%20cy%3D%229%22%20r%3D%223%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3Cg%20fill%3D%22%23444%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2014%2C10.004%20C%2014%2C9.834%2013.991%2C9.667%2013.975%2C9.502%2013.723%2C12.027%2011.592%2C14%209%2C14%206.408%2C14%204.277%2C12.027%204.025%2C9.502%204.009%2C9.667%204%2C9.834%204%2C10.004%20c%200%2C2.762%202.24%2C5%205%2C5%202.761%2C0%205%2C-2.238%205%2C-5%20z%20M%2010%2C3.083%20c%203.064%2C0.439%205.48%2C2.856%205.92%2C5.921%20H%2017%20c%200.369%2C0%200.688%2C0.201%200.86%2C0.498%20C%2017.947%2C9.354%2018%2C9.184%2018%2C9%2018%2C8.448%2017.553%2C8%2017%2C8%20H%2015.92%20C%2015.48%2C4.937%2013.064%2C2.52%2010%2C2.08%20V%203.083%20z%20M%201%2C9.004%20H%202.08%20C%202.52%2C5.939%204.936%2C3.522%208%2C3.083%20V%202.08%20C%204.936%2C2.52%202.52%2C4.937%202.08%2C8%20H%201%20C%200.447%2C8%200%2C8.448%200%2C9%200%2C9.184%200.053%2C9.354%200.14%2C9.502%200.312%2C9.205%200.631%2C9.004%201%2C9.004%20z%20m%208%2C-8%20c%200.553%2C0%201%2C0.447%201%2C1%20V%201%20C%2010%2C0.448%209.553%2C0%209%2C0%208.447%2C0%208%2C0.448%208%2C1%20v%201.004%20c%200%2C-0.553%200.447%2C-1%201%2C-1%20z%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%209%2C7%20c%201.486%2C0%202.717%2C1.082%202.955%2C2.5%20C%2011.982%2C9.337%2012%2C9.171%2012%2C9%2012%2C7.344%2010.656%2C6%209%2C6%207.344%2C6%206%2C7.344%206%2C9%206%2C9.171%206.018%2C9.337%206.045%2C9.5%206.283%2C8.082%207.514%2C7%209%2C7%20z%22%20fill%3D%22%23444%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:18px;height:18px;background-size:18px 18px}.dg-control-round__icon_name_locate:active:after,.no-touch .dg-control-round__icon_name_locate:hover:after{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2218%22%20height%3D%2218%22%3E%0A%20%20%20%20%3Cg%20fill%3D%22%23424242%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2017%2C8%20H%2015.92%20C%2015.48%2C4.937%2013.064%2C2.52%2010%2C2.08%20V%201%20C%2010%2C0.448%209.553%2C0%209%2C0%208.447%2C0%208%2C0.448%208%2C1%20V%202.08%20C%204.936%2C2.52%202.52%2C4.937%202.08%2C8%20H%201%20C%200.447%2C8%200%2C8.448%200%2C9%200%2C9.553%200.447%2C10%201%2C10%20H%202.08%20C%202.52%2C13.063%204.936%2C15.48%208%2C15.92%20V%2017%20c%200%2C0.553%200.447%2C1%201%2C1%200.553%2C0%201%2C-0.447%201%2C-1%20V%2015.92%20C%2013.064%2C15.481%2015.48%2C13.064%2015.92%2C10%20H%2017%20C%2017.553%2C10%2018%2C9.553%2018%2C9%2018%2C8.448%2017.553%2C8%2017%2C8%20z%20M%209%2C14%20C%206.24%2C14%204%2C11.762%204%2C9%204%2C6.238%206.24%2C4%209%2C4%20c%202.761%2C0%205%2C2.238%205%2C5%200%2C2.762%20-2.239%2C5%20-5%2C5%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Ccircle%20cx%3D%229%22%20cy%3D%229%22%20r%3D%223%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3Cg%20fill%3D%22%232e2e2e%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2014%2C10.004%20C%2014%2C9.834%2013.991%2C9.667%2013.975%2C9.502%2013.723%2C12.027%2011.592%2C14%209%2C14%206.408%2C14%204.277%2C12.027%204.025%2C9.502%204.009%2C9.667%204%2C9.834%204%2C10.004%20c%200%2C2.762%202.24%2C5%205%2C5%202.761%2C0%205%2C-2.238%205%2C-5%20z%20M%2010%2C3.083%20c%203.064%2C0.439%205.48%2C2.856%205.92%2C5.921%20H%2017%20c%200.369%2C0%200.688%2C0.201%200.86%2C0.498%20C%2017.947%2C9.354%2018%2C9.184%2018%2C9%2018%2C8.448%2017.553%2C8%2017%2C8%20H%2015.92%20C%2015.48%2C4.937%2013.064%2C2.52%2010%2C2.08%20V%203.083%20z%20M%201%2C9.004%20H%202.08%20C%202.52%2C5.939%204.936%2C3.522%208%2C3.083%20V%202.08%20C%204.936%2C2.52%202.52%2C4.937%202.08%2C8%20H%201%20C%200.447%2C8%200%2C8.448%200%2C9%200%2C9.184%200.053%2C9.354%200.14%2C9.502%200.312%2C9.205%200.631%2C9.004%201%2C9.004%20z%20m%208%2C-8%20c%200.553%2C0%201%2C0.447%201%2C1%20V%201%20C%2010%2C0.448%209.553%2C0%209%2C0%208.447%2C0%208%2C0.448%208%2C1%20v%201.004%20c%200%2C-0.553%200.447%2C-1%201%2C-1%20z%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%209%2C7%20c%201.486%2C0%202.717%2C1.082%202.955%2C2.5%20C%2011.982%2C9.337%2012%2C9.171%2012%2C9%2012%2C7.344%2010.656%2C6%209%2C6%207.344%2C6%206%2C7.344%206%2C9%206%2C9.171%206.018%2C9.337%206.045%2C9.5%206.283%2C8.082%207.514%2C7%209%2C7%20z%22%20fill%3D%22%232e2e2e%22%2F%3E%0A%3C%2Fsvg%3E%0A)}.dg-control-round__icon_state_requesting.dg-control-round__icon_name_locate:active:after,.dg-control-round__icon_state_requesting.dg-control-round__icon_name_locate:after,.no-touch .dg-control-round__icon_state_requesting.dg-control-round__icon_name_locate:hover:after{background-repeat:no-repeat;width:24px;height:24px;background-image:url(https://maps.api.2gis.ru/2.0/img/sprite.dark.png);background-position:0 0;background-size:78px 65px;-webkit-animation:DGLocation__locateIconRequestingAnim 1s linear infinite;animation:DGLocation__locateIconRequestingAnim 1s linear infinite;image-rendering:optimizeQuality}.leaflet-retina .dg-control-round__icon_state_requesting.dg-control-round__icon_name_locate:active:after,.leaflet-retina .dg-control-round__icon_state_requesting.dg-control-round__icon_name_locate:after,.leaflet-retina .no-touch .dg-control-round__icon_state_requesting.dg-control-round__icon_name_locate:hover:after{background-image:url(https://maps.api.2gis.ru/2.0/img/sprite@2x.dark.png);background-position:0 0;background-size:78px 65px}.dg-control-round__icon_state_active.dg-control-round__icon_name_fullscreen:active:after,.dg-control-round__icon_state_active.dg-control-round__icon_name_fullscreen:after,.no-touch .dg-control-round__icon_state_active.dg-control-round__icon_name_fullscreen:hover:after{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%206%2C1%20H%201%20V%206%20H%203%20V%203%20h%203%20z%20m%204%2C14%20h%205%20v%20-5%20h%20-2%20v%203%20H%2010%20z%20M%2015%2C6%20V%201%20h%20-5%20v%202%20h%203%20V%206%20z%20M%201%2C10%20v%205%20H%206%20V%2013%20H%203%20v%20-3%20z%22%20fill%3D%22%230da4d4%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%201%2C1%20H%206%20V%202%20H%201%20z%20m%209%2C0%20h%205%20v%201%20h%20-5%20z%20m%203%2C9%20h%202%20v%201%20h%20-2%20z%20m%20-3%2C3%20h%203%20v%201%20h%20-3%20z%20m%20-7%2C0%20h%203%20v%201%20H%203%20z%20M%201%2C10%20h%202%20v%201%20H%201%20z%22%20fill%3D%22%230a84ab%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%201%2C6%20H%203%20V%207%20H%201%20z%20m%2012%2C0%20h%202%20V%207%20H%2013%20z%20M%201%2C15%20h%205%20v%201%20H%201%20z%20m%209%2C0%20h%205%20v%201%20h%20-5%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%3C%2Fsvg%3E%0A)}.dg-control-round__icon_name_fullscreen:after{right:0;bottom:0;left:0;background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%201%2C3%20H%206%20V%204%20H%201%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%206%2C1%20H%201%20V%206%20H%203%20V%203%20h%203%20z%20m%204%2C14%20h%205%20v%20-5%20h%20-2%20v%203%20h%20-3%20z%22%20fill%3D%22%236c6c6c%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%2010%2C3%20h%205%20v%201%20h%20-5%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2015%2C6%20V%201%20h%20-5%20v%202%20h%203%20V%206%20z%20M%201%2C10%20v%205%20H%206%20V%2013%20H%203%20v%20-3%20z%22%20fill%3D%22%236c6c6c%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%201%2C1%20H%206%20V%202%20H%201%20z%20m%209%2C0%20h%205%20v%201%20h%20-5%20z%20m%203%2C9%20h%202%20v%201%20h%20-2%20z%20m%20-3%2C3%20h%203%20v%201%20h%20-3%20z%20m%20-7%2C0%20h%203%20v%201%20H%203%20z%20M%201%2C10%20h%202%20v%201%20H%201%20z%22%20fill%3D%22%234b4b4b%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%201%2C6%20H%203%20V%207%20H%201%20z%20m%2012%2C0%20h%202%20V%207%20H%2013%20z%20M%201%2C15%20h%205%20v%201%20H%201%20z%20m%209%2C0%20h%205%20v%201%20h%20-5%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:16px;height:16px;background-size:16px 16px}.dg-map-geoclicker__address+.dg-map-geoclicker__purpose,.dg-map-geoclicker__purpose+.dg-map-geoclicker__address{margin-top:-6px}.dg-control-round__icon_name_fullscreen:active:after,.no-touch .dg-control-round__icon_name_fullscreen:hover:after{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%2012%2C9%20h%204%20v%207%20h%20-4%20z%20m%20-3%2C3%20h%205%20v%204%20H%209%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%2010%2C15%20h%205%20v%20-5%20h%20-2%20v%203%20h%20-3%20z%22%20fill%3D%22%23282828%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%200%2C9%20h%204%20v%207%20H%200%20z%20m%202%2C3%20h%205%20v%204%20H%202%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%201%2C10%20v%205%20H%206%20V%2013%20H%203%20v%20-3%20z%22%20fill%3D%22%23282828%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C0%20H%204%20V%207%20H%200%20z%20m%209%2C0%20h%205%20V%204%20H%209%20z%20m%203%2C0%20h%204%20v%207%20h%20-4%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2015%2C6%20V%201%20h%20-5%20v%202%20h%203%20v%203%20z%22%20fill%3D%22%23282828%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%202%2C0%20H%207%20V%204%20H%202%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%206%2C1%20H%201%20V%206%20H%203%20V%203%20h%203%20z%22%20fill%3D%22%23282828%22%2F%3E%0A%3C%2Fsvg%3E%0A)}.dg-building-callout__body{position:relative}.dg-building-callout__list{margin-bottom:8px;padding-left:24px;color:#ffe6aa;list-style:none}.dg-building-callout__list-item{position:relative;margin-bottom:4px;font-size:12px}.dg-building-callout__list-item:before{position:absolute;top:5px;left:-21px;content:'';background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%226%22%20height%3D%226%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%203%2C-0.002%20C%204.654%2C-0.002%205.994%2C1.342%205.994%2C3%205.994%2C4.658%204.655%2C6.002%203%2C6.002%201.345%2C6.002%200.005%2C4.658%200.005%2C3%200.005%2C1.342%201.346%2C-0.002%203%2C-0.002%20z%22%20fill%3D%22%23aaa%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:6px;height:6px;background-size:6px 6px}.dg-map-geoclicker__address{margin-bottom:10px;font-size:16px}.dg-map-geoclicker__address-header{position:relative;margin-bottom:4px;padding-left:24px}.dg-map-geoclicker__address-header:first-child:before{position:absolute;top:5px;left:1px;content:''}.dg-map-geoclicker__address-drilldown{position:relative;margin-bottom:4px;padding-left:24px;color:#aaa;font-size:12px}.dg-map-geoclicker__address-drilldown:first-child:before{position:absolute;top:2px;left:1px;content:''}.dg-map-geoclicker__purpose{position:relative;margin-bottom:10px;padding-left:24px;font-size:16px}.dg-map-geoclicker__purpose:before{position:absolute;top:4px;left:2px;content:''}.dg-map-geoclicker__sight-description{overflow:hidden;padding:.5em 0 0 24px;max-height:3.6em}a.dg-map-geoclicker__show-more-sights-link{position:relative;margin-left:24px;border-bottom:1px dotted;text-decoration:none;color:#ffe6aa}.dg-preloader_animation_true:after,.dg-preloader_animation_true:before,a.dg-map-geoclicker__show-more-sights-link:after{position:absolute;content:''}a.dg-map-geoclicker__show-more-sights-link:after{top:4px;margin-left:5px;width:6px;height:10px;font-weight:700}.dg-map-geoclicker__clamped-line{display:block;white-space:nowrap}.dg-map-geoclicker__clamped-line_last{overflow:hidden;width:100%;text-overflow:ellipsis}.dg-map-geoclicker__preloader-wrapper{display:table-cell;vertical-align:middle;text-align:center}.dg-map-geoclicker__address-drilldown:first-child:before,.dg-map-geoclicker__address-header:first-child:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%229%22%20height%3D%2211%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%204.958%2C11%20C%204.958%2C9.036%206.756%2C6.751%208.719%2C6.751%208.885%2C6.223%209%2C5.656%209%2C5.063%209%2C2.267%206.985%2C0%204.5%2C0%202.015%2C0%200%2C2.267%200%2C5.063%200%2C5.656%200.114%2C6.222%200.28%2C6.751%202.243%2C6.751%204.018%2C9.012%204.018%2C11%20h%200.94%20z%22%20fill%3D%22%23a0a0a0%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:9px;height:11px;background-size:9px 11px}.dg-map-geoclicker__purpose:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%228%22%20height%3D%2212%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%203.582%2C8%20c%200.211%2C0%200.798%2C0.035%201%2C0%20v%204%20l%20-2%2C-1%20V%208%20c%200.372%2C0.066%200.861%2C0%201%2C0%20z%20M%200.44%2C5.384%20C%200.163%2C4.866%200%2C4.276%200%2C3.646%200%2C1.633%201.604%2C0.002%203.582%2C0.002%20c%201.978%2C0%203.582%2C1.631%203.582%2C3.644%200%2C0.647%20-0.169%2C1.254%20-0.461%2C1.781%20L%206.641%2C5.495%206.618%2C5.567%20C%205.954%2C6.549%204.844%2C7.192%203.584%2C7.192%202.25%2C7.192%201.084%2C6.467%200.44%2C5.384%20z%20M%202.613%2C1.276%20c%20-0.549%2C0%20-0.995%2C0.453%20-0.995%2C1.013%200%2C0.559%200.446%2C1.013%200.995%2C1.013%200.551%2C0%200.996%2C-0.454%200.996%2C-1.013%200%2C-0.56%20-0.445%2C-1.013%20-0.996%2C-1.013%20z%22%20fill%3D%22%23a0a0a0%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:8px;height:12px;background-size:8px 12px}.dg-map-geoclicker__purpose_type_street:before{top:4px;background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%208.8%2C0%20H%203.199%20L%200%2C12%20H%2012%20L%208.8%2C0%20z%20M%207%2C12%20H%205%20V%209%20h%202%20v%203%20z%20M%207%2C8%20H%205%20V%206%20H%207%20V%208%20z%20M%207%2C5%20H%205%20V%203%20H%207%20V%205%20z%20M%207%2C2%20H%205%20V%200%20h%202%20v%202%20z%22%20fill%3D%22%23a0a0a0%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:12px;height:12px;background-size:12px 12px}.dg-preloader_animation_true:after,.dg-preloader_animation_true:before{top:50%;left:50%;outline:transparent solid 1px;image-rendering:optimizeQuality}.dg-map-geoclicker__purpose_type_sight:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%228%22%20height%3D%2212%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%207%2C0%20H%202.547%20C%200.547%2C0%200%2C0.828%200%2C2.5%200%2C3.734%200.5%2C5%202%2C5%203.359%2C5%204%2C3.844%204%2C3%204%2C2.281%202.859%2C2%202%2C2%202%2C2.766%202.234%2C3%203%2C3%203%2C3.69%202.48%2C4%202%2C4%201.234%2C4%201%2C3.329%201%2C2.5%201%2C1.693%201.375%2C1%202.5%2C1%204.391%2C1%205%2C1.656%205%2C3%205%2C4.6%204.338%2C5.119%203%2C6%20v%204%20H%202%20v%202%20H%208%20V%201%20L%207%2C0%20z%20M%204%2C10%20V%206%20l%201%2C1%20v%203%20H%204%20z%20m%202%2C0%20V%206%20l%201%2C1%20v%203%20H%206%20z%22%20fill%3D%22%23aaa%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:8px;height:12px;background-size:8px 12px}.dg-map-geoclicker__purpose_type_settlement:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%209%2C9%20C%208.235%2C9%207.762%2C9.522%207.259%2C10.022%207.795%2C10.38%208.051%2C11.05%207.879%2C12%20H%2012%20C%2012%2C10.46%2010.535%2C9%209%2C9%20z%20m%20-2.868%2C1.248%20c%20-0.965%2C0%20-1.747%2C0.784%20-1.747%2C1.751%20h%203.494%20c%200%2C-0.967%20-0.782%2C-1.751%20-1.747%2C-1.751%20z%20M%2010%2C1%20V%200%20H%207%20V%201%20H%205%20V%206%20L%206%2C7%20V%202%20H%207%20V%207%20L%208%2C8%20V%202%20h%201%20v%206%20h%201%20V%202%20h%201%20v%207%20l%201%2C0.607%20V%201%20H%2010%20z%20M%206.66%2C9.539%206.721%2C9.479%20C%206.903%2C9.297%207.104%2C9.14%207.314%2C9.004%20V%208.414%20L%206.131%2C7.187%203%2C8%20v%204%20H%203.62%20C%203.62%2C10.612%204.747%2C9.483%206.132%2C9.483%206.312%2C9.482%206.49%2C9.502%206.66%2C9.539%20z%20M%202%2C12%20z%20M%201%2C2%200%2C5%20v%207%20H%202%20V%205%20L%201%2C2%20z%20M%201.111%2C6.955%20C%200.804%2C6.955%200.556%2C6.706%200.556%2C6.4%20c%200%2C-0.307%200.248%2C-0.555%200.555%2C-0.555%200.307%2C0%200.554%2C0.248%200.554%2C0.555%200%2C0.306%20-0.247%2C0.555%20-0.554%2C0.555%20z%22%20fill%3D%22%23a0a0a0%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:12px;height:12px;background-size:12px 12px}.no-touch a.dg-map-geoclicker__show-more-sights-link:hover{color:#9cd}a.dg-map-geoclicker__show-more-sights-link:after{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%226%22%20height%3D%2210%22%20viewBox%3D%220%200%206%2010%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%206%2C5%20V%205.4%20L%201.4%2C10%20H%200%20L%200%2C8.6%203.6%2C5%200%2C1.4%200%2C0%201.4%2C0%206%2C4.6%20V%205%20l%200%2C0%200%2C0%200%2C0%200%2C0%200%2C0%20z%22%20fill%3D%22%23aaa%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A)}.dg-map-geoclicker__drilldown{margin-bottom:10px;color:#aaa}.dg-preloader{position:relative;margin:0 auto;width:200px;height:44px;vertical-align:middle}.dg-preloader_animation_false{background-repeat:no-repeat;background-image:url(https://maps.api.2gis.ru/2.0/img/DGPreloader__preloader.gif);background-size:100px 26px;background-attachment:scroll;background-position:50% 50%}.dg-preloader_animation_true:before{margin:-22px 0 0 -22px;width:44px;height:44px;-webkit-animation:dg-preloader__outer 5s linear infinite;animation:dg-preloader__outer 5s linear infinite}.dg-preloader_animation_true.dg-preloader_size_small:before{margin:-12px 0 0 -12px;width:24px;height:24px}.dg-preloader_animation_true.dg-preloader_scheme_regular:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2244%22%20height%3D%2244%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2035.68%2C10.32%20C%2038.368%2C13.465%2040%2C17.539%2040%2C22%2040%2C31.941%2031.941%2C40%2022%2C40%2012.059%2C40%204%2C31.941%204%2C22%204%2C17.539%205.632%2C13.465%208.32%2C10.32%20L%205.48%2C7.48%20C%202.07%2C11.354%200%2C16.434%200%2C22%200%2C34.15%209.85%2C44%2022%2C44%2034.15%2C44%2044%2C34.15%2044%2C22%2044%2C16.434%2041.93%2C11.354%2038.52%2C7.48%20l%20-2.84%2C2.84%20z%22%20fill%3D%22%230da5d5%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%209.271%2C9.272%20C%2012.529%2C6.015%2017.029%2C4%2022%2C4%2026.971%2C4%2031.471%2C6.015%2034.729%2C9.272%20L%2037.557%2C6.444%20C%2033.575%2C2.462%2028.075%2C0%2022%2C0%2015.925%2C0%2010.425%2C2.462%206.443%2C6.444%20l%202.828%2C2.828%20z%22%20fill%3D%22%23a6cd2a%22%2F%3E%0A%3C%2Fsvg%3E%0A);background-size:44px 44px}.dg-preloader_animation_true.dg-preloader_scheme_regular.dg-preloader_size_small:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2018.564%2C7.435%20C%2019.467%2C8.73%2020%2C10.302%2020%2C12%2020%2C16.418%2016.418%2C20%2012%2C20%207.582%2C20%204%2C16.418%204%2C12%204%2C10.302%204.533%2C8.73%205.436%2C7.435%20L%202.581%2C4.581%20C%200.969%2C6.623%200%2C9.195%200%2C12%200%2C18.627%205.373%2C24%2012%2C24%2018.627%2C24%2024%2C18.627%2024%2C12%2024%2C9.195%2023.031%2C6.623%2021.419%2C4.581%20l%20-2.855%2C2.854%20z%22%20fill%3D%22%230da5d5%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2012%2C0%20C%208.686%2C0%205.686%2C1.343%203.516%2C3.515%20L%206.343%2C6.343%20C%207.791%2C4.895%209.791%2C4%2012%2C4%20c%202.209%2C0%204.209%2C0.895%205.657%2C2.343%20L%2020.484%2C3.515%20C%2018.314%2C1.343%2015.314%2C0%2012%2C0%20z%22%20fill%3D%22%23a6cd2a%22%2F%3E%0A%3C%2Fsvg%3E%0A);background-size:24px 24px}.dg-preloader_animation_true:after{margin:-16px 0 0 -16px;width:32px;height:32px;-webkit-animation:dg-preloader__inner 4s linear infinite;animation:dg-preloader__inner 4s linear infinite}.dg-preloader_animation_true.dg-preloader_size_small:after{margin:-6px 0 0 -6px;width:12px;height:12px}.dg-preloader_animation_true.dg-preloader_scheme_regular:after{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2232%22%20height%3D%2232%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%206.581%2C23.419%20C%204.969%2C21.377%204%2C18.804%204%2C16%204%2C9.373%209.373%2C4%2016%2C4%20c%206.627%2C0%2012%2C5.373%2012%2C12%200%2C2.804%20-0.969%2C5.377%20-2.581%2C7.419%20l%202.847%2C2.847%20C%2030.594%2C23.487%2032%2C19.909%2032%2C16%2032%2C7.163%2024.837%2C0%2016%2C0%207.163%2C0%200%2C7.163%200%2C16%20c%200%2C3.909%201.406%2C7.487%203.734%2C10.266%20l%202.847%2C-2.847%20z%22%20fill%3D%22%23a6cd2a%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2027.314%2C27.314%2024.486%2C24.486%20C%2022.314%2C26.657%2019.314%2C28%2016%2C28%2012.686%2C28%209.686%2C26.657%207.516%2C24.485%20L%204.688%2C27.313%20C%207.582%2C30.209%2011.582%2C32%2016%2C32%20c%204.418%2C0%208.418%2C-1.791%2011.314%2C-4.686%20z%22%20fill%3D%22%230da5d5%22%2F%3E%0A%3C%2Fsvg%3E%0A);background-size:32px 32px}.dg-preloader_animation_true.dg-preloader_scheme_regular.dg-preloader_size_small:after{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%203.141%2C6.86%20C%203.059%2C6.586%203%2C6.301%203%2C6%203%2C4.343%204.343%2C3%206%2C3%207.657%2C3%209%2C4.343%209%2C6%209%2C6.301%208.941%2C6.586%208.859%2C6.86%20l%202.26%2C2.259%20C%2011.674%2C8.209%2012%2C7.144%2012%2C6%2012%2C2.686%209.314%2C0%206%2C0%202.686%2C0%200%2C2.686%200%2C6%200%2C7.144%200.326%2C8.209%200.881%2C9.119%20L%203.141%2C6.86%20z%22%20fill%3D%22%23a6cd2a%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%206%2C12%20c%201.657%2C0%203.157%2C-0.672%204.243%2C-1.757%20L%208.122%2C8.122%20C%207.578%2C8.664%206.828%2C9%206%2C9%205.172%2C9%204.422%2C8.664%203.879%2C8.121%20L%201.758%2C10.242%20C%202.843%2C11.328%204.343%2C12%206%2C12%20z%22%20fill%3D%22%230da5d5%22%2F%3E%0A%3C%2Fsvg%3E%0A);background-size:12px 12px}@-webkit-keyframes dg-preloader__outer{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes dg-preloader__outer{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dg-preloader__inner{to{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}@keyframes dg-preloader__inner{to{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}.dg-popup__footer-buttons{display:table;margin-top:10px;width:100%}.dg-popup__footer-button-wrapper{display:table-cell}.dg-popup__footer-button{position:relative;display:inline-block;-webkit-box-sizing:border-box;box-sizing:border-box;margin-left:5%;width:95%;border-radius:2px;text-align:center;text-decoration:none;font:12px/24px Arial,sans-serif;cursor:pointer;-webkit-transition:all .1s;transition:all .1s}.dg-popup__footer-button-wrapper:first-child .dg-popup__footer-button{margin:0;width:100%}.dg-popup__footer-icon-button:before{display:inline-block;margin:-2px 5px 0 0;width:12px;height:12px;background-size:contain;background-repeat:no-repeat;content:'';vertical-align:middle}.dg-popup__button_name_back:before,.dg-popup__button_name_firm-card-back:before,.dg-popup__button_name_firm-list-back:before{width:9px;height:6px}.dg-popup__show-less-house-link{position:relative;top:6px;margin:0 15px 10px;color:#0070c0;text-decoration:none;font-size:12px;line-height:24px}.dg-popup__header-links{margin:8px 18px 0 0}.dg-popup__header-title_for_firmcard{position:relative;overflow:hidden;max-height:3.4em}.dg-popup__header-teaser{display:-webkit-box;height:3.3em;-webkit-line-clamp:3;-webkit-box-orient:vertical}.dg-popup__header-title{display:block;white-space:normal;font:22px/24px 'Arial narrow',Arial,sans-serif}.dg-popup__header-link,.dg-popup__rating{display:inline-block;vertical-align:middle}.dg-firm-card__link,.dg-popup__header-link,.dg-schedule__string-time,.dg-schedule__table-cell-group,.dg-schedule__today-inner{white-space:nowrap}.dg-popup__header-link{margin-left:2.6em}.dg-popup__header-link:first-child{margin-left:1.2em}.dg-popup__rating{margin:0 .4em 3px 0;width:70px;height:14px}.dg-popup__rating-stars{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2214%22%20height%3D%2214%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%206.999%2C0%208.748%2C4.989%2013.997%2C4.991%209.83%2C8.708%2011.324%2C14.002%206.999%2C10.871%202.674%2C14.002%204.168%2C8.708%200%2C4.991%205.249%2C4.989%206.999%2C0%20z%22%20fill%3D%22%23ffc84b%22%2F%3E%0A%3C%2Fsvg%3E%0A);float:left;height:100%}.dg-popup__link{position:relative;background-position:center bottom;background-size:10px 1px;background-repeat:repeat-x;text-decoration:none;-webkit-tap-highlight-color:transparent}.dg-popup__link_type_booklet:before,.dg-popup__link_type_photos:before{position:absolute;top:2px;left:-18px;display:inherit;content:'';width:12px;height:10px}.dg-popup__link_type_flamp_reviews{margin-left:.1em}.dg-popup__link_type_booklet:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2210%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%200%2C8%203%2C2%20V%202%20L%200%2C0%20V%208%20z%20M%204%2C10%208%2C8%20V%200%20L%204%2C2%20v%208%20z%20M%209%2C0%20v%208%20l%203%2C2%20V%202%20L%209%2C0%20z%22%20fill%3D%22%237dc814%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A);background-size:12px 10px}a.dg-popup__link{background-image:-webkit-gradient(linear,left top,right top,from(rgba(255,230,170,.3)),to(rgba(255,230,170,.3)));background-image:-webkit-linear-gradient(left,rgba(255,230,170,.3),rgba(255,230,170,.3) 100%);background-image:linear-gradient(to right,rgba(255,230,170,.3),rgba(255,230,170,.3) 100%);color:#ffe6aa}.no-touch .dg-firm-card__link a:hover,.no-touch a.dg-popup__link:hover{background-image:-webkit-gradient(linear,left top,right top,from(rgba(153,204,221,.3)),to(rgba(153,204,221,.3)));background-image:-webkit-linear-gradient(left,rgba(153,204,221,.3),rgba(153,204,221,.3) 100%)}.no-touch a.dg-popup__link:hover{background-image:linear-gradient(to right,rgba(153,204,221,.3),rgba(153,204,221,.3) 100%);color:#9cd}.dg-popup__header-title{color:#ffc84b}.dg-popup__footer-button-wrapper .dg-popup__footer-button,.dg-popup__footer-button-wrapper .dg-popup__footer-button:hover{color:#e6e6e6}.dg-popup__footer-button{background:rgba(0,0,0,.2);-webkit-box-shadow:0 1px rgba(0,0,0,.1);box-shadow:0 1px rgba(0,0,0,.1)}.no-touch .dg-popup__footer-button:hover{-webkit-transition:all .2s;transition:all .2s;background:#222;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.5);box-shadow:0 1px 3px rgba(0,0,0,.5)}.dg-popup__rating{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2214%22%20height%3D%2214%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%207.002%2C0%208.751%2C4.989%2014%2C4.991%209.833%2C8.708%2011.327%2C14.002%207.002%2C10.871%202.677%2C14.002%204.171%2C8.708%200.003%2C4.991%205.252%2C4.989%207.002%2C0%20z%22%20fill%3D%22%23aaa%22%2F%3E%0A%3C%2Fsvg%3E%0A)}.dg-popup__link_type_photos:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2210%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2011%2C1%20H%2010%20L%209%2C0%20H%206%20L%205%2C1%20H%201%20L%200%2C2%20v%207%20l%201%2C1%20H%2011%20L%2012%2C9%20V%202%20L%2011%2C1%20z%20M%203%2C4%20H%202%20V%203%20h%201%20v%201%20z%20m%204.518%2C3.992%20c%20-1.381%2C0%20-2.5%2C-1.119%20-2.5%2C-2.5%200%2C-1.38%201.119%2C-2.5%202.5%2C-2.5%201.38%2C0%202.5%2C1.12%202.5%2C2.5%200%2C1.381%20-1.121%2C2.5%20-2.5%2C2.5%20z%22%20fill%3D%22%2379b0bc%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A);background-size:12px 10px}.dg-popup__button_name_back:before,.dg-popup__button_name_firm-card-back:before,.dg-popup__button_name_firm-list-back:before{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%229%22%20height%3D%226%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C3%204%2C6%20V%204%20H%209%20V%202%20H%204%20V%200%20z%22%20fill%3D%22%239f9f9f%22%2F%3E%0A%3C%2Fsvg%3E%0A);background-repeat:no-repeat}.dg-popup__button_name_back:before{width:9px;height:6px;background-size:9px 6px}.dg-popup__button_name_goto:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2220%22%20height%3D%227%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2016.5%2C0%20C%2014.738%2C0%2013.295%2C1.306%2013.051%2C3%20H%204.949%20C%204.718%2C1.858%203.71%2C1%202.5%2C1%201.119%2C1%200%2C2.119%200%2C3.5%200%2C4.881%201.119%2C6%202.5%2C6%203.71%2C6%204.718%2C5.142%204.949%2C4%20h%208.102%20C%2013.295%2C5.693%2014.739%2C7%2016.5%2C7%2018.433%2C7%2020%2C5.433%2020%2C3.5%2020%2C1.566%2018.433%2C0%2016.5%2C0%20z%22%20fill%3D%22%239f9f9f%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:20px;height:7px;background-size:20px 7px}.dg-popup__button_name_show-entrance:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%205%2C9%209%2C6%205%2C3%20V%205%20H%200%20V%207%20H%205%20V%209%20z%20M%209.6%2C0%20H%202.4%20C%201.074%2C0%200%2C1.074%200%2C2.4%20V%204%20H%202%20V%203.6%20C%202%2C2.716%202.716%2C2%203.6%2C2%20H%208.4%20C%209.283%2C2%2010%2C2.716%2010%2C3.6%20V%208.4%20C%2010%2C9.284%209.283%2C10%208.4%2C10%20H%203.6%20C%202.716%2C10%202%2C9.284%202%2C8.4%20V%208%20H%200%20V%209.6%20C%200%2C10.925%201.074%2C12%202.4%2C12%20H%209.6%20C%2010.926%2C12%2012%2C10.925%2012%2C9.6%20V%202.4%20C%2012%2C1.074%2010.926%2C0%209.6%2C0%20z%22%20fill%3D%22%23a0a0a0%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A)}.dg-firm-card__icon{position:relative;padding-left:24px}.dg-firm-card__address:before,.dg-firm-card__icon:before{position:absolute;content:''}.dg-firm-card__icon:before{top:0;left:0;margin:auto;background-position:0 50%;background-repeat:no-repeat}.dg-firm-card__link{overflow:hidden;margin-bottom:4px;text-overflow:ellipsis;word-wrap:normal;line-height:16px}.dg-firm-card__link a{background-position:center bottom;background-size:10px 1px;background-repeat:repeat-x;text-decoration:none;background-image:-webkit-gradient(linear,left top,right top,from(rgba(255,230,170,.3)),to(rgba(255,230,170,.3)));background-image:-webkit-linear-gradient(left,rgba(255,230,170,.3),rgba(255,230,170,.3) 100%);background-image:linear-gradient(to right,rgba(255,230,170,.3),rgba(255,230,170,.3) 100%);color:#ffe6aa}.dg-firm-card__address{margin-bottom:10px;font-size:16px}.dg-firm-card__address:before{top:5px;left:1px}.dg-firm-card__comment{position:relative;margin-left:5px;font-size:12px}.dg-firm-card__phone{overflow:hidden;margin-bottom:4px;text-overflow:ellipsis;line-height:16px}.dg-firm-card__phone:before{top:3px;left:1px}.dg-firm-card__site:before{top:3px}.dg-firm-card__rubrics{overflow:hidden;margin-bottom:4px;font-size:12px;line-height:16px}.dg-firm-card__rubrics-list{margin:0;padding:0;list-style:none}.dg-firm-card__rubrics-list-item{display:inline;cursor:default}.dg-firm-card__rubrics-list-item:before{display:inline-block;margin:0 4px;content:'•'}.dg-firm-card__rubrics-list-item:first-child:before{margin:0;content:''}.dg-firm-card__aa{margin:0 0 4px;padding:0 0 0 24px;font-size:12px}.dg-firm-card__aa-list{display:inline;margin:0;padding:0;list-style:none;line-height:16px}.dg-firm-card__aa-list-item{display:inline;-webkit-box-sizing:border-box;box-sizing:border-box;max-width:100%;cursor:default}.dg-firm-card__aa-list-item:before{display:inline-block;margin:0 4px;content:'•'}.dg-control-round__icon_name_ruler:after,.dg-control-round__icon_name_traffic:after,.dg-firm-card__aa-list-item:first-child:before,.dg-schedule__today:after,.dg-schedule__today:before{content:''}.dg-firm-card__aa-list-item:first-child:before{margin:0}.dg-firm-card__aa-list-additional{display:inline;margin:0;padding:0;list-style:none;line-height:16px}.dg-firm-card__schedule{margin-bottom:10px}.no-touch .dg-firm-card__link a:hover{background-image:linear-gradient(to right,rgba(153,204,221,.3),rgba(153,204,221,.3) 100%);color:#9cd}.dg-firm-card__comment,.dg-firm-card__rubrics{color:#aaa}.dg-firm-card__rubrics-list-item:after{color:#6e6964}.dg-firm-card__aa-list-item:after{color:#e6e6e6}.dg-firm-card__address:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%229%22%20height%3D%2211%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%204.958%2C11%20C%204.958%2C9.036%206.756%2C6.751%208.719%2C6.751%208.885%2C6.223%209%2C5.656%209%2C5.063%209%2C2.267%206.985%2C0%204.5%2C0%202.015%2C0%200%2C2.267%200%2C5.063%200%2C5.656%200.114%2C6.222%200.28%2C6.751%202.243%2C6.751%204.018%2C9.012%204.018%2C11%20h%200.94%20z%22%20fill%3D%22%23a0a0a0%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:9px;height:11px;background-size:9px 11px}.dg-firm-card__phone:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2210%22%20height%3D%2210%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%209.181%2C9.05%20C%208.673%2C9.556%208.047%2C9.873%207.391%2C10%206.156%2C9.841%205.008%2C9.417%203.998%2C8.788%20L%201.293%2C6.092%20C%200.639%2C5.053%200.203%2C3.865%200.052%2C2.589%200.19%2C1.964%200.494%2C1.368%200.983%2C0.882%20L%201.803%2C0.065%203.987%2C2.241%20V%202.79%20L%203.441%2C3.332%20c%20-0.452%2C0.451%20-0.453%2C1.183%200%2C1.634%20L%205.082%2C6.6%20c%200.452%2C0.451%201.187%2C0.451%201.639%2C0%20L%207.244%2C6.079%20H%207.838%20L%2010%2C8.233%209.181%2C9.05%20z%22%20fill%3D%22%23a0a0a0%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:10px;height:10px;background-size:10px 10px}.dg-firm-card__site:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2211%22%20height%3D%2211%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%205.5%2C11%20C%202.463%2C11%200%2C8.538%200%2C5.5%200%2C2.462%202.463%2C0%205.5%2C0%208.537%2C0%2011%2C2.462%2011%2C5.5%2011%2C8.538%208.537%2C11%205.5%2C11%20z%20m%200%2C-9%20C%203.566%2C2%202%2C3.567%202%2C5.5%202%2C7.433%203.566%2C9%205.5%2C9%205.655%2C9%205.804%2C8.974%205.954%2C8.954%20L%203%2C6%20V%205%20L%205.571%2C3.286%205.984%2C2.049%20C%205.824%2C2.026%205.666%2C2%205.5%2C2%20z%20M%208.949%2C5%20H%207.375%20C%207.021%2C5.505%206.545%2C6.082%206%2C6.497%20V%208.95%20C%207.693%2C8.705%209%2C7.262%209%2C5.5%209%2C5.329%208.974%2C5.165%208.949%2C5%20z%22%20fill%3D%22%23a0a0a0%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:11px;height:11px;background-size:11px 11px}.dg-firm-card__email:before{top:5px;background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2211%22%20height%3D%227%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%2011%2C1.555%20v%203.89%20C%2011%2C6.303%2010.242%2C7%209.309%2C7%20H%201.692%20C%200.758%2C7%200%2C6.303%200%2C5.444%20V%201.554%20L%205.5%2C4.826%2011%2C1.555%20z%20M%200.191%2C0%20H%2010.808%20L%205.5%2C3.111%200.191%2C0%20z%22%20fill%3D%22%23aaa%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:11px;height:7px;background-size:11px 7px}.dg-schedule__today{position:relative;display:inline-block;margin-left:24px;max-width:84%;background-position:center bottom;background-size:2px 1px;background-repeat:repeat-x;font-size:14px;line-height:16px;cursor:pointer}.dg-schedule__today:before{position:absolute;top:3px;left:-24px}.dg-schedule__today-inner{overflow:hidden;width:100%;text-overflow:ellipsis}.dg-schedule_works-everyday_true .dg-schedule__today{background-image:none;cursor:default}.dg-schedule_works-everyday_true .dg-schedule__today:after{background-image:none}.dg-schedule_open_true .dg-schedule__today:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2211%22%20height%3D%2211%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%205.5%2C11%20C%202.463%2C11%200%2C8.537%200%2C5.5%200%2C2.462%202.463%2C0%205.5%2C0%208.537%2C0%2011%2C2.462%2011%2C5.5%2011%2C8.537%208.537%2C11%205.5%2C11%20z%20M%206%2C5.293%20V%202%20H%205%20V%205.707%20L%207.646%2C8.353%208.353%2C7.646%206%2C5.293%20z%22%20fill%3D%22%2370bf00%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:11px;height:11px;background-size:11px 11px}.dg-schedule__now{margin:2px 7px 0 36px;font-size:12px}.dg-schedule__string{padding:3px 16px 3px 24px;text-align:left;font-size:14px}.dg-schedule__table{display:none;text-align:center;font-size:0}.dg-schedule__tc{display:inline-block;padding:2px 0 15px;width:44px;vertical-align:top;white-space:normal;font-size:14px}.dg-schedule__tc_pre{width:19px}.dg-schedule__day-name{margin:0;color:#8c8782;text-transform:capitalize}.dg-schedule__td{margin:10px 0 0}.dg-schedule_state_expanded .dg-schedule__popup{display:block;visibility:visible;max-height:1000px;opacity:1}.dg-schedule__table-clock{margin:13px 0 0}.dg-schedule__today{background-image:-webkit-gradient(linear,left top,right top,from(rgba(230,230,230,.55)),color-stop(50%,rgba(230,230,230,.55)),color-stop(51%,rgba(0,0,0,0)),to(rgba(0,0,0,0)));background-image:-webkit-linear-gradient(left,rgba(230,230,230,.55),rgba(230,230,230,.55) 50%,rgba(0,0,0,0) 51%,rgba(0,0,0,0) 100%);background-image:linear-gradient(to right,rgba(230,230,230,.55),rgba(230,230,230,.55) 50%,rgba(0,0,0,0) 51%,rgba(0,0,0,0) 100%)}.dg-schedule__now{color:#aaa}.dg-schedule__string-time,.dg-schedule__td{color:#e6e6e6}.dg-schedule__tc_active_true{background:rgba(255,255,255,.1)}.dg-schedule__table-clock{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2211%22%20height%3D%2211%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%205.5%2C11%20C%202.463%2C11%200%2C8.537%200%2C5.5%200%2C2.462%202.463%2C0%205.5%2C0%208.537%2C0%2011%2C2.462%2011%2C5.5%2011%2C8.537%208.537%2C11%205.5%2C11%20z%20M%206%2C5.293%20V%202%20H%205%20V%205.707%20L%207.646%2C8.353%208.353%2C7.646%206%2C5.293%20z%22%20fill%3D%22%23a0a0a0%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:11px;height:11px;background-size:11px 11px}.dg-schedule__table-lunch{margin:31px 0 0;background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2211%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%204%2C7%20H%208%20C%208.58%2C7%209.461%2C6.084%209.826%2C4.977%20V%205%20C%2011.047%2C5%2012%2C3.453%2012%2C2.031%2012%2C1.453%2011.531%2C1%2011.016%2C1%20H%2010%20C%2010%2C0.188%209.781%2C0%209%2C0%20H%203%20C%202.297%2C0%202%2C0.188%202%2C1%20v%203%20c%200%2C1.49%201.137%2C3%202%2C3%20z%20m%206%2C-5%20h%200.5%20C%2010.875%2C2%2011%2C2.219%2011%2C2.5%2011%2C3.625%2010.562%2C4%2010%2C4%20V%202%20z%20M%200%2C9%20c%200%2C0.448%201.791%2C1%203%2C1%200%2C0.405%200.646%2C1%201%2C1%20h%204%20c%200.354%2C0%201%2C-0.595%201%2C-1%201.208%2C0%203%2C-0.552%203%2C-1%20V%208%20H%200%20v%201%20z%22%20fill%3D%22%23aaa5a0%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:12px;height:11px;background-size:12px 11px}.dg-schedule_open_false .dg-schedule__today:before{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2211%22%20height%3D%2211%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%205.5%2C11%20C%202.463%2C11%200%2C8.537%200%2C5.5%200%2C2.462%202.463%2C0%205.5%2C0%208.537%2C0%2011%2C2.462%2011%2C5.5%2011%2C8.537%208.537%2C11%205.5%2C11%20z%20M%206%2C5.293%20V%202%20H%205%20V%205.707%20L%207.646%2C8.353%208.353%2C7.646%206%2C5.293%20z%22%20fill%3D%22%23a0a0a0%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:11px;height:11px;background-size:11px 11px}.dg-schedule__today:after,.dg-schedule__today_shown_true:after{background-repeat:no-repeat;height:6px;background-size:10px 6px;width:10px}.dg-schedule__today:after{position:absolute;right:-15px;bottom:4px;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2210%22%20height%3D%226%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%205%2C6%20H%204.586%20L%200%2C1.414%20V%200%20H%201.414%20L%205%2C3.586%208.586%2C0%20H%2010%20V%201.414%20L%205.414%2C6%20H%205%20z%22%20fill%3D%22%23a5a09c%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A)}.dg-schedule__today_shown_true:after{background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2210%22%20height%3D%226%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%205%2C0%20H%205.414%20L%2010%2C4.586%20V%206%20H%208.586%20L%205%2C2.414%201.414%2C6%20H%200%20V%204.586%20L%204.586%2C0%20H%205%20z%22%20fill%3D%22%23a5a09c%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A)}.dg-link,.dg-link:hover{background-position:0 95%;background-size:10px 1px;background-repeat:repeat-x}.dg-link_type_local{background:-webkit-gradient(linear,left top,right top,from(#9cd),color-stop(50%,#9cd),color-stop(50%,transparent));background:-webkit-linear-gradient(left,#9cd,#9cd 50%,transparent 50%);background:linear-gradient(to right,#9cd,#9cd 50%,transparent 50%)}.no-touch .dg-link_type_local:hover{background:-webkit-gradient(linear,left top,right top,from(#9bc),color-stop(50%,#9bc),color-stop(50%,transparent));background:-webkit-linear-gradient(left,#9bc,#9bc 50%,transparent 50%);background:linear-gradient(to right,#9bc,#9bc 50%,transparent 50%)}.dg-link.dg-link_type_local,.dg-link.dg-link_type_local:hover{background-size:6px 1px}.dg-control-round__icon_name_traffic:after{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2220%22%20height%3D%2214%22%20viewBox%3D%220%200%2020%2014%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2018%2C5%20C%2018%2C4%2017%2C1%2015%2C1%20H%2012%2010%20C%208%2C1%207%2C4%207%2C5%20H%205%20v%202%20h%201%20v%204%20c%200%2C0.6%200%2C1%201%2C1%20v%202%20h%202%20v%20-2%20h%207%20v%202%20h%202%20v%20-2%20c%201%2C0%201%2C-0.4%201%2C-1%20V%207%20h%201%20V%205%20H%2018%20z%20M%2010%2C3%20h%202%203%20c%202%2C0%202%2C1%202%2C3%20H%208%20C%208%2C4%208%2C3%2010%2C3%20z%20M%209%2C10%20H%208%20C%207.4%2C10%207%2C9.6%207%2C9%207%2C8.4%207.4%2C8%208%2C8%20h%201%20c%200.6%2C0%201%2C0.4%201%2C1%200%2C0.6%20-0.4%2C1%20-1%2C1%20z%20m%208%2C0%20H%2016%20C%2015.4%2C10%2015%2C9.6%2015%2C9%2015%2C8.4%2015.4%2C8%2016%2C8%20h%201%20c%200.6%2C0%201%2C0.4%201%2C1%200%2C0.6%20-0.4%2C1%20-1%2C1%20z%20M%204%2C4%20H%206%20V%203%20H%204%20C%201%2C3%201%2C6%201%2C7%20H%200%20v%201%20h%201%20v%204%20H%203%20V%2011%20H%205%20V%207%20H%202%20C%202%2C6%202%2C4%204%2C4%20z%20M%203%2C9%204%2C10%20H%202%20V%209%20h%201%20z%22%20fill%3D%22%23616161%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%20%20%20%20%3Cg%20fill%3D%22%23fff%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22m%2016%2C8%20h%201%20c%200.4%2C0%200.7%2C0.2%200.8%2C0.5%20C%2017.9%2C8.4%2018%2C8.2%2018%2C8%2018%2C7.4%2017.6%2C7%2017%2C7%20h%20-1%20c%20-0.6%2C0%20-1%2C0.4%20-1%2C1%200%2C0.2%200.1%2C0.4%200.2%2C0.5%20C%2015.3%2C8.2%2015.6%2C8%2016%2C8%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%208%2C8%20H%209%20C%209.4%2C8%209.7%2C8.2%209.8%2C8.5%209.9%2C8.4%2010%2C8.2%2010%2C8%2010%2C7.4%209.6%2C7%209%2C7%20H%208%20C%207.4%2C7%207%2C7.4%207%2C8%207%2C8.2%207.1%2C8.4%207.2%2C8.5%207.3%2C8.2%207.6%2C8%208%2C8%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%206%2C3%20H%204%20C%204%2C3%204%2C3%204%2C3%202%2C3%202%2C5%202%2C6%20H%202%20C%202.1%2C5%202.5%2C4%204%2C4%20H%205%206%20V%203%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0%207H1V8H0z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2015%2C2%20H%2012%2010%20C%208%2C2%208%2C3%208%2C5%20H%208%20C%208%2C3.7%208.3%2C3%2010%2C3%20h%202%203%20c%201.7%2C0%201.9%2C0.7%202%2C2%20h%200%20C%2017%2C3%2017%2C2%2015%2C2%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3%209L4%209%203%208%202%208%202%209%202%209%202%209%203%209z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%207%2C11%20C%206%2C11%206%2C10.6%206%2C10%20v%201%20c%200%2C0.6%200%2C1%201%2C1%20v%20-1%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22m%2018%2C11%20v%201%20c%201%2C0%201%2C-0.4%201%2C-1%20v%20-1%20c%200%2C0.6%200%2C1%20-1%2C1%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M19%206H20V7H19z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3%2011L1%2011%201%2012%203%2012%203%2011%205%2011%205%207%205%207%205%2010%203%2010z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M16%2013H18V14H16z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M5%206H6V7H5z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M9%2013L7%2013%207%2014%209%2014%209%2012%2016%2012%2016%2011%209%2011z%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3Cg%20fill%3D%22%23444%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%202%2C6%20C%202%2C6.4%202%2C6.7%202%2C7%20H%205%20V%206%20H%202%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M2%209L2%2010%204%2010%203%209z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%204%2C3%20H%206%20V%202%20H%204%20C%201%2C2%201%2C5%201%2C6%20H%200%20V%207%20H%201%20C%201%2C6%201%2C3%204%2C3%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2018%2C4%20C%2018%2C3%2017%2C0%2015%2C0%20H%2012%2010%20C%208%2C0%207%2C3%207%2C4%20H%206%205%20V%205%20H%207%20C%207%2C4%208%2C1%2010%2C1%20h%202%203%20c%202%2C0%203%2C3%203%2C4%20h%202%20V%204%20h%20-2%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%208%2C10%20H%209%20C%209.6%2C10%2010%2C9.6%2010%2C9%2010%2C8.8%209.9%2C8.6%209.8%2C8.5%209.7%2C8.8%209.4%2C9%209%2C9%20H%208%20C%207.6%2C9%207.3%2C8.8%207.2%2C8.5%207.1%2C8.6%207%2C8.8%207%2C9%20c%200%2C0.6%200.4%2C1%201%2C1%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2017%2C6%20C%2017%2C5.6%2017%2C5.3%2017%2C5%20H%208%20c%200%2C0.3%200%2C0.6%200%2C1%20h%209%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2017.8%2C8.5%20C%2017.7%2C8.8%2017.4%2C9%2017%2C9%20H%2016%20C%2015.6%2C9%2015.3%2C8.8%2015.2%2C8.5%2015.1%2C8.6%2015%2C8.8%2015%2C9%20c%200%2C0.6%200.4%2C1%201%2C1%20h%201%20c%200.6%2C0%201%2C-0.4%201%2C-1%200%2C-0.2%20-0.1%2C-0.4%20-0.2%2C-0.5%20z%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A);width:20px;height:14px;background-size:20px 14px;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto}.dg-control-round__icon_name_traffic:active:after,.no-touch .dg-control-round__icon_name_traffic:hover:after{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2220%22%20height%3D%2214%22%20viewBox%3D%220%200%2020%2014%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%2018%2C5%20C%2018%2C4%2017%2C1%2015%2C1%20H%2012%2010%20C%208%2C1%207%2C4%207%2C5%20H%205%20v%202%20h%201%20v%204%20c%200%2C0.6%200%2C1%201%2C1%20v%202%20h%202%20v%20-2%20h%207%20v%202%20h%202%20v%20-2%20c%201%2C0%201%2C-0.4%201%2C-1%20V%207%20h%201%20V%205%20H%2018%20z%20M%2010%2C3%20h%202%203%20c%202%2C0%202%2C1%202%2C3%20H%208%20C%208%2C4%208%2C3%2010%2C3%20z%20M%209%2C10%20H%208%20C%207.4%2C10%207%2C9.6%207%2C9%207%2C8.4%207.4%2C8%208%2C8%20h%201%20c%200.6%2C0%201%2C0.4%201%2C1%200%2C0.6%20-0.4%2C1%20-1%2C1%20z%20m%208%2C0%20H%2016%20C%2015.4%2C10%2015%2C9.6%2015%2C9%2015%2C8.4%2015.4%2C8%2016%2C8%20h%201%20c%200.6%2C0%201%2C0.4%201%2C1%200%2C0.6%20-0.4%2C1%20-1%2C1%20z%20M%204%2C4%20H%206%20V%203%20H%204%20C%201%2C3%201%2C6%201%2C7%20H%200%20v%201%20h%201%20v%204%20H%203%20V%2011%20H%205%20V%207%20H%202%20C%202%2C6%202%2C4%204%2C4%20z%20M%203%2C9%204%2C10%20H%202%20V%209%20h%201%20z%22%20fill%3D%22%23424242%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%20%20%20%20%3Cg%20fill%3D%22%23fff%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22m%2016%2C8%20h%201%20c%200.4%2C0%200.7%2C0.2%200.8%2C0.5%20C%2017.9%2C8.4%2018%2C8.2%2018%2C8%2018%2C7.4%2017.6%2C7%2017%2C7%20h%20-1%20c%20-0.6%2C0%20-1%2C0.4%20-1%2C1%200%2C0.2%200.1%2C0.4%200.2%2C0.5%20C%2015.3%2C8.2%2015.6%2C8%2016%2C8%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%208%2C8%20H%209%20C%209.4%2C8%209.7%2C8.2%209.8%2C8.5%209.9%2C8.4%2010%2C8.2%2010%2C8%2010%2C7.4%209.6%2C7%209%2C7%20H%208%20C%207.4%2C7%207%2C7.4%207%2C8%207%2C8.2%207.1%2C8.4%207.2%2C8.5%207.3%2C8.2%207.6%2C8%208%2C8%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%206%2C3%20H%204%20C%204%2C3%204%2C3%204%2C3%202%2C3%202%2C5%202%2C6%20H%202%20C%202.1%2C5%202.5%2C4%204%2C4%20H%205%206%20V%203%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M0%207H1V8H0z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2015%2C2%20H%2012%2010%20C%208%2C2%208%2C3%208%2C5%20H%208%20C%208%2C3.7%208.3%2C3%2010%2C3%20h%202%203%20c%201.7%2C0%201.9%2C0.7%202%2C2%20h%200%20C%2017%2C3%2017%2C2%2015%2C2%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3%209L4%209%203%208%202%208%202%209%202%209%202%209%203%209z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%207%2C11%20C%206%2C11%206%2C10.6%206%2C10%20v%201%20c%200%2C0.6%200%2C1%201%2C1%20v%20-1%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22m%2018%2C11%20v%201%20c%201%2C0%201%2C-0.4%201%2C-1%20v%20-1%20c%200%2C0.6%200%2C1%20-1%2C1%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M19%206H20V7H19z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M3%2011L1%2011%201%2012%203%2012%203%2011%205%2011%205%207%205%207%205%2010%203%2010z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M16%2013H18V14H16z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M5%206H6V7H5z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M9%2013L7%2013%207%2014%209%2014%209%2012%2016%2012%2016%2011%209%2011z%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3Cg%20fill%3D%22%232e2e2e%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%202%2C6%20C%202%2C6.4%202%2C6.7%202%2C7%20H%205%20V%206%20H%202%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M2%209L2%2010%204%2010%203%209z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%204%2C3%20H%206%20V%202%20H%204%20C%201%2C2%201%2C5%201%2C6%20H%200%20V%207%20H%201%20C%201%2C6%201%2C3%204%2C3%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2018%2C4%20C%2018%2C3%2017%2C0%2015%2C0%20H%2012%2010%20C%208%2C0%207%2C3%207%2C4%20H%206%205%20V%205%20H%207%20C%207%2C4%208%2C1%2010%2C1%20h%202%203%20c%202%2C0%203%2C3%203%2C4%20h%202%20V%204%20h%20-2%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%208%2C10%20H%209%20C%209.6%2C10%2010%2C9.6%2010%2C9%2010%2C8.8%209.9%2C8.6%209.8%2C8.5%209.7%2C8.8%209.4%2C9%209%2C9%20H%208%20C%207.6%2C9%207.3%2C8.8%207.2%2C8.5%207.1%2C8.6%207%2C8.8%207%2C9%20c%200%2C0.6%200.4%2C1%201%2C1%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2017%2C6%20C%2017%2C5.6%2017%2C5.3%2017%2C5%20H%208%20c%200%2C0.3%200%2C0.6%200%2C1%20h%209%20z%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M%2017.8%2C8.5%20C%2017.7%2C8.8%2017.4%2C9%2017%2C9%20H%2016%20C%2015.6%2C9%2015.3%2C8.8%2015.2%2C8.5%2015.1%2C8.6%2015%2C8.8%2015%2C9%20c%200%2C0.6%200.4%2C1%201%2C1%20h%201%20c%200.6%2C0%201%2C-0.4%201%2C-1%200%2C-0.2%20-0.1%2C-0.4%20-0.2%2C-0.5%20z%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A)}.dg-control-round__icon_state_active.dg-control-round__icon_name_traffic:active:after,.dg-control-round__icon_state_active.dg-control-round__icon_name_traffic:after,.no-touch .dg-control-round__icon_state_active.dg-control-round__icon_name_traffic:hover:after{background-image:none}a.dg-traffic-control{z-index:0;color:#f2f2f2;text-decoration:none;text-shadow:0 1px 2px rgba(0,0,0,.3);font:400 15px/32px 'Arial narrow',Arial,sans-serif}a.dg-traffic-control_color_green:after,a.dg-traffic-control_color_red:after,a.dg-traffic-control_color_yellow:after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1;margin:auto;width:22px;height:22px;border-radius:50%;-webkit-box-shadow:inset 0 1px 0 0 rgba(0,0,0,.2),0 1px 0 0 #fff;box-shadow:inset 0 1px 0 0 rgba(0,0,0,.2),0 1px 0 0 #fff}.no-touch a.dg-traffic-control:hover{color:#f2f2f2}.no-touch a.dg-traffic-control_color_green:hover:after,.no-touch a.dg-traffic-control_color_red:hover:after,.no-touch a.dg-traffic-control_color_yellow:hover:after{width:22px;height:22px}a.dg-traffic-control_color_green:after{background:#3fc03b}.no-touch a.dg-traffic-control_color_green:hover:after,a.dg-traffic-control_color_green:active:after{background:-webkit-gradient(linear,left bottom,left top,from(#2aa731),to(#53e13a)) #3ec435;background:-webkit-linear-gradient(bottom,#2aa731,#53e13a) #3ec435;background:linear-gradient(to top,#2aa731,#53e13a) #3ec435}a.dg-traffic-control_color_yellow:after{background:#f3b223}.no-touch a.dg-traffic-control_color_yellow:hover:after,a.dg-traffic-control_color_yellow:active:after{background:-webkit-gradient(linear,left bottom,left top,from(#ef931b),to(#f7be26)) #f4a820;background:-webkit-linear-gradient(bottom,#ef931b,#f7be26) #f4a820;background:linear-gradient(to top,#ef931b,#f7be26) #f4a820}a.dg-traffic-control_color_red:after{background:#eb240c}.no-touch a.dg-traffic-control_color_red:hover:after,a.dg-traffic-control_color_red:active:after{background:-webkit-gradient(linear,left bottom,left top,from(#c01c0a),to(#f73416)) #db2811;background:-webkit-linear-gradient(bottom,#c01c0a,#f73416) #db2811;background:linear-gradient(to top,#c01c0a,#f73416) #db2811}.leaflet-rulerMarker-pane{z-index:600}.dg-ruler__label{position:absolute;top:0;left:0;z-index:200;-webkit-tap-highlight-color:transparent}.dg-ruler__label-spacer{display:block}.dg-ruler__label-container{display:none;padding:2px 4px;border:4px solid #fff;border-radius:13px;background:#0da5d5;background-clip:padding-box;color:#fff;white-space:nowrap;font-size:12px}.dg-ruler__point{display:inline-block;margin:2px 4px 0 0;width:10px;height:10px;border-radius:5px;background:#fff}.dg-ruler__label-remove-link{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%206%2C0%20C%202.687%2C0%200%2C2.687%200%2C6%200%2C9.313%202.687%2C12%206%2C12%209.313%2C12%2012%2C9.313%2012%2C6%2012%2C2.687%209.313%2C0%206%2C0%20z%20M%209.401%2C9.398%208.8%2C9.6%206%2C6.8%203.199%2C9.6%202.59%2C9.415%202.375%2C8.774%205.199%2C6%202.399%2C3.175%202.62%2C2.591%203.175%2C2.375%205.949%2C5.225%208.774%2C2.375%209.415%2C2.605%209.566%2C3.196%206.824%2C6%209.6%2C8.8%209.401%2C9.398%20z%22%20fill%3D%22%23fff%22%20fill-rule%3D%22evenodd%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:12px;height:12px;background-size:12px 12px;display:none;margin:1px 0 0 4px;vertical-align:top;-webkit-transition:all .2s ease;transition:all .2s ease}.no-touch .dg-ruler__label-remove-link:hover{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.dg-ruler__remove-link-overlay{position:absolute;top:-7px;right:-7px;bottom:-7px;width:40px}.no-touch .dg-ruler__remove-link-overlay{display:none}.dg-control-round__icon_name_ruler:after{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%229%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%2012.999%2C0%20v%204.001%20h%20-1%20V%200%20h%20-2%20v%202%20h%20-1%20V%200%20h%20-2%20V%202%20H%206%20V%200%20H%203.998%20v%204.001%20h%20-1%20V%200%20h%20-3%20V%208%20H%2016%20V%200%20z%22%20fill%3D%22%23616161%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%202.999%2C4%20h%201%20v%201%20h%20-1%20z%20m%203%2C-2%20h%201%20v%201%20h%20-1%20z%20m%203%2C0%20h%201%20v%201%20h%20-1%20z%20m%203%2C2%20h%201%20v%201%20h%20-1%20z%22%20fill%3D%22%23444%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C8%20H%2016%20V%209%20H%200%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C0%20H%203%20V%201%20H%200%20z%20m%2013%2C0%20h%203%20v%201%20h%20-3%20z%20m%20-3%2C0%20h%202%20V%201%20H%2010%20z%20M%207%2C0%20H%209%20V%201%20H%207%20z%20M%204%2C0%20H%206%20V%201%20H%204%20z%22%20fill%3D%22%23444%22%2F%3E%0A%3C%2Fsvg%3E%0A);width:16px;height:9px;background-size:16px 9px;position:absolute;top:0;right:0;bottom:0;left:0;margin:auto}.dg-control-round__icon_name_ruler:active:after,.no-touch .dg-control-round__icon_name_ruler:hover:after{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%229%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%2012.999%2C0%20v%204.001%20h%20-1%20V%200%20h%20-2%20v%202%20h%20-1%20V%200%20h%20-2%20V%202%20H%206%20V%200%20H%203.998%20v%204.001%20h%20-1%20V%200%20h%20-3%20V%208%20H%2016%20V%200%20z%22%20fill%3D%22%23424242%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%202.999%2C4%20h%201%20v%201%20h%20-1%20z%20m%203%2C-2%20h%201%20v%201%20h%20-1%20z%20m%203%2C0%20h%201%20v%201%20h%20-1%20z%20m%203%2C2%20h%201%20v%201%20h%20-1%20z%22%20fill%3D%22%232e2e2e%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C8%20H%2016%20V%209%20H%200%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C0%20H%203%20V%201%20H%200%20z%20m%2013%2C0%20h%203%20v%201%20h%20-3%20z%20m%20-3%2C0%20h%202%20V%201%20H%2010%20z%20M%207%2C0%20H%209%20V%201%20H%207%20z%20M%204%2C0%20H%206%20V%201%20H%204%20z%22%20fill%3D%22%232e2e2e%22%2F%3E%0A%3C%2Fsvg%3E%0A)}.dg-control-round__icon_state_active.dg-control-round__icon_name_ruler:active:after,.dg-control-round__icon_state_active.dg-control-round__icon_name_ruler:after,.no-touch .dg-control-round__icon_state_active.dg-control-round__icon_name_ruler:hover:after{background-repeat:no-repeat;background-image:url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%229%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%2012.999%2C0%20v%204.001%20h%20-1%20V%200%20h%20-2%20v%202%20h%20-1%20V%200%20h%20-2%20V%202%20H%206%20V%200%20H%203.999%20v%204.001%20h%20-1%20V%200%20h%20-3%20V%208%20H%2016%20V%200%20z%22%20fill%3D%22%2321a7d6%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22m%202.999%2C4%20h%201%20v%201%20h%20-1%20z%20m%203%2C-2%20h%201%20v%201%20h%20-1%20z%20m%203%2C0%20h%201%20v%201%20h%20-1%20z%20m%203%2C2%20h%201%20v%201%20h%20-1%20z%22%20fill%3D%22%23147596%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C8%20H%2016%20V%209%20H%200%20z%22%20fill%3D%22%23fff%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M%200%2C0%20H%203%20V%201%20H%200%20z%20m%2013%2C0%20h%203%20v%201%20h%20-3%20z%20m%20-3%2C0%20h%202%20V%201%20H%2010%20z%20M%207%2C0%20H%209%20V%201%20H%207%20z%20M%204%2C0%20H%206%20V%201%20H%204%20z%22%20fill%3D%22%23147596%22%2F%3E%0A%3C%2Fsvg%3E%0A)}\"; (_dereq_(\"browserify-css\").createStyle(css, { \"href\": \"dist/css/styles.full.dark.css\" }, { \"insertAt\": \"bottom\" })); module.exports = css;\n},{\"browserify-css\":3}],2:[function(_dereq_,module,exports){\n(function (process){\n/* reduce implemintation by Mozila https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FReduce*/\nif ('function' !== typeof Array.prototype.reduce) {\n  Array.prototype.reduce = function(callback, opt_initialValue){\n    'use strict';\n    if (null === this || 'undefined' === typeof this) {\n      // At the moment all modern browsers, that support strict mode, have\n      // native implementation of Array.prototype.reduce. For instance, IE8\n      // does not support strict mode, so this check is actually useless.\n      throw new TypeError(\n          'Array.prototype.reduce called on null or undefined');\n    }\n    if ('function' !== typeof callback) {\n      throw new TypeError(callback + ' is not a function');\n    }\n    var index, value,\n        length = this.length >>> 0,\n        isValueSet = false;\n    if (1 < arguments.length) {\n      value = opt_initialValue;\n      isValueSet = true;\n    }\n    for (index = 0; length > index; ++index) {\n      if (this.hasOwnProperty(index)) {\n        if (isValueSet) {\n          value = callback(value, this[index], index, this);\n        }\n        else {\n          value = this[index];\n          isValueSet = true;\n        }\n      }\n    }\n    if (!isValueSet) {\n      throw new TypeError('Reduce of empty array with no initial value');\n    }\n    return value;\n  };\n}\n\n// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\n// Production steps of ECMA-262, Edition 5, 15.4.4.18\n// Reference: http://es5.github.com/#x15.4.4.18\nif (!Array.prototype.forEach) {\n\n  Array.prototype.forEach = function forEach(callback, thisArg) {\n    'use strict';\n    var T, k;\n\n    if (this == null) {\n      throw new TypeError(\"this is null or not defined\");\n    }\n\n    var kValue,\n        // 1. Let O be the result of calling ToObject passing the |this| value as the argument.\n        O = Object(this),\n\n        // 2. Let lenValue be the result of calling the Get internal method of O with the argument \"length\".\n        // 3. Let len be ToUint32(lenValue).\n        len = O.length >>> 0; // Hack to convert O.length to a UInt32\n\n    // 4. If IsCallable(callback) is false, throw a TypeError exception.\n    // See: http://es5.github.com/#x9.11\n    if ({}.toString.call(callback) !== \"[object Function]\") {\n      throw new TypeError(callback + \" is not a function\");\n    }\n\n    // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.\n    if (arguments.length >= 2) {\n      T = thisArg;\n    }\n\n    // 6. Let k be 0\n    k = 0;\n\n    // 7. Repeat, while k < len\n    while (k < len) {\n\n      // a. Let Pk be ToString(k).\n      //   This is implicit for LHS operands of the in operator\n      // b. Let kPresent be the result of calling the HasProperty internal method of O with argument Pk.\n      //   This step can be combined with c\n      // c. If kPresent is true, then\n      if (k in O) {\n\n        // i. Let kValue be the result of calling the Get internal method of O with argument Pk.\n        kValue = O[k];\n\n        // ii. Call the Call internal method of callback with T as the this value and\n        // argument list containing kValue, k, and O.\n        callback.call(T, kValue, k, O);\n      }\n      // d. Increase k by 1.\n      k++;\n    }\n    // 8. return undefined\n  };\n}\n\n// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\nif (!Object.keys) {\n  Object.keys = (function () {\n    'use strict';\n    var hasOwnProperty = Object.prototype.hasOwnProperty,\n        hasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),\n        dontEnums = [\n          'toString',\n          'toLocaleString',\n          'valueOf',\n          'hasOwnProperty',\n          'isPrototypeOf',\n          'propertyIsEnumerable',\n          'constructor'\n        ],\n        dontEnumsLength = dontEnums.length;\n\n    return function (obj) {\n      if (typeof obj !== 'object' && (typeof obj !== 'function' || obj === null)) {\n        throw new TypeError('Object.keys called on non-object');\n      }\n\n      var result = [], prop, i;\n\n      for (prop in obj) {\n        if (hasOwnProperty.call(obj, prop)) {\n          result.push(prop);\n        }\n      }\n\n      if (hasDontEnumBug) {\n        for (i = 0; i < dontEnumsLength; i++) {\n          if (hasOwnProperty.call(obj, dontEnums[i])) {\n            result.push(dontEnums[i]);\n          }\n        }\n      }\n      return result;\n    };\n  }());\n}\n\n// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\nif (!Array.prototype.some)\n{\n  Array.prototype.some = function(fun /*, thisArg */)\n  {\n    'use strict';\n\n    if (this === void 0 || this === null)\n      throw new TypeError();\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== 'function')\n      throw new TypeError();\n\n    var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n    for (var i = 0; i < len; i++)\n    {\n      if (i in t && fun.call(thisArg, t[i], i, t))\n        return true;\n    }\n\n    return false;\n  };\n}\n\n// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\nif (!Array.prototype.map)\n{\n  Array.prototype.map = function(fun /*, thisArg */)\n  {\n    \"use strict\";\n\n    if (this === void 0 || this === null)\n      throw new TypeError();\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun !== \"function\")\n      throw new TypeError();\n\n    var res = new Array(len);\n    var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n    for (var i = 0; i < len; i++)\n    {\n      // NOTE: Absolute correctness would demand Object.defineProperty\n      //       be used.  But this method is fairly new, and failure is\n      //       possible only if Object.prototype or Array.prototype\n      //       has a property |i| (very unlikely), so use a less-correct\n      //       but more portable alternative.\n      if (i in t)\n        res[i] = fun.call(thisArg, t[i], i, t);\n    }\n\n    return res;\n  };\n}\n\n//From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\nif (!Array.prototype.filter)\n{\n  Array.prototype.filter = function(fun /*, thisArg */)\n  {\n    \"use strict\";\n\n    if (this === void 0 || this === null)\n      throw new TypeError();\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n    if (typeof fun != \"function\")\n      throw new TypeError();\n\n    var res = [];\n    var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n    for (var i = 0; i < len; i++)\n    {\n      if (i in t)\n      {\n        var val = t[i];\n\n        // NOTE: Technically this should Object.defineProperty at\n        //       the next index, as push can be affected by\n        //       properties on Object.prototype and Array.prototype.\n        //       But that method's new, and collisions should be\n        //       rare, so use the more-compatible alternative.\n        if (fun.call(thisArg, val, i, t))\n          res.push(val);\n      }\n    }\n\n    return res;\n  };\n}\n\n//From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\nif (!Function.prototype.bind) {\n  Function.prototype.bind = function (oThis) {\n    if (typeof this !== \"function\") {\n      // closest thing possible to the ECMAScript 5 internal IsCallable function\n      throw new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");\n    }\n\n    var aArgs = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        fNOP = function () {},\n        fBound = function () {\n          return fToBind.apply(this instanceof fNOP && oThis\n                                 ? this\n                                 : oThis,\n                               aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n\n    fNOP.prototype = this.prototype;\n    fBound.prototype = new fNOP();\n\n    return fBound;\n  };\n}\n\n//From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FindexOf\nif (!Array.prototype.indexOf) {\n  Array.prototype.indexOf = function (searchElement, fromIndex) {\n    if ( this === undefined || this === null ) {\n      throw new TypeError( '\"this\" is null or not defined' );\n    }\n\n    var length = this.length >>> 0; // Hack to convert object.length to a UInt32\n\n    fromIndex = +fromIndex || 0;\n\n    if (Math.abs(fromIndex) === Infinity) {\n      fromIndex = 0;\n    }\n\n    if (fromIndex < 0) {\n      fromIndex += length;\n      if (fromIndex < 0) {\n        fromIndex = 0;\n      }\n    }\n\n    for (;fromIndex < length; fromIndex++) {\n      if (this[fromIndex] === searchElement) {\n        return fromIndex;\n      }\n    }\n\n    return -1;\n  };\n}\n\nif (typeof Promise !== 'function') {\n  (function() {\n  var define, requireModule, _dereq_, requirejs;\n\n  (function() {\n    var registry = {}, seen = {};\n\n    define = function(name, deps, callback) {\n      registry[name] = { deps: deps, callback: callback };\n    };\n\n    requirejs = _dereq_ = requireModule = function(name) {\n    requirejs._eak_seen = registry;\n\n      if (seen[name]) { return seen[name]; }\n      seen[name] = {};\n\n      if (!registry[name]) {\n        throw new Error(\"Could not find module \" + name);\n      }\n\n      var mod = registry[name],\n          deps = mod.deps,\n          callback = mod.callback,\n          reified = [],\n          exports;\n\n      for (var i=0, l=deps.length; i<l; i++) {\n        if (deps[i] === 'exports') {\n          reified.push(exports = {});\n        } else {\n          reified.push(requireModule(resolve(deps[i])));\n        }\n      }\n\n      var value = callback.apply(this, reified);\n      return seen[name] = exports || value;\n\n      function resolve(child) {\n        if (child.charAt(0) !== '.') { return child; }\n        var parts = child.split(\"/\");\n        var parentBase = name.split(\"/\").slice(0, -1);\n\n        for (var i=0, l=parts.length; i<l; i++) {\n          var part = parts[i];\n\n          if (part === '..') { parentBase.pop(); }\n          else if (part === '.') { continue; }\n          else { parentBase.push(part); }\n        }\n\n        return parentBase.join(\"/\");\n      }\n    };\n  })();\n\n  define(\"promise/all\",\n    [\"./utils\",\"exports\"],\n    function(__dependency1__, __exports__) {\n      \"use strict\";\n      /* global toString */\n\n      var isArray = __dependency1__.isArray;\n      var isFunction = __dependency1__.isFunction;\n\n      /**\n        Returns a promise that is fulfilled when all the given promises have been\n        fulfilled, or rejected if any of them become rejected. The return promise\n        is fulfilled with an array that gives all the values in the order they were\n        passed in the `promises` array argument.\n\n        Example:\n\n        ```javascript\n        var promise1 = RSVP.resolve(1);\n        var promise2 = RSVP.resolve(2);\n        var promise3 = RSVP.resolve(3);\n        var promises = [ promise1, promise2, promise3 ];\n\n        RSVP.all(promises).then(function(array){\n          // The array here would be [ 1, 2, 3 ];\n        });\n        ```\n\n        If any of the `promises` given to `RSVP.all` are rejected, the first promise\n        that is rejected will be given as an argument to the returned promises's\n        rejection handler. For example:\n\n        Example:\n\n        ```javascript\n        var promise1 = RSVP.resolve(1);\n        var promise2 = RSVP.reject(new Error(\"2\"));\n        var promise3 = RSVP.reject(new Error(\"3\"));\n        var promises = [ promise1, promise2, promise3 ];\n\n        RSVP.all(promises).then(function(array){\n          // Code here never runs because there are rejected promises!\n        }, function(error) {\n          // error.message === \"2\"\n        });\n        ```\n\n        @method all\n        @for RSVP\n        @param {Array} promises\n        @param {String} label\n        @return {Promise} promise that is fulfilled when all `promises` have been\n        fulfilled, or rejected if any of them become rejected.\n      */\n      function all(promises) {\n        /*jshint validthis:true */\n        var Promise = this;\n\n        if (!isArray(promises)) {\n          throw new TypeError('You must pass an array to all.');\n        }\n\n        return new Promise(function(resolve, reject) {\n          var results = [], remaining = promises.length,\n          promise;\n\n          if (remaining === 0) {\n            resolve([]);\n          }\n\n          function resolver(index) {\n            return function(value) {\n              resolveAll(index, value);\n            };\n          }\n\n          function resolveAll(index, value) {\n            results[index] = value;\n            if (--remaining === 0) {\n              resolve(results);\n            }\n          }\n\n          for (var i = 0; i < promises.length; i++) {\n            promise = promises[i];\n\n            if (promise && isFunction(promise.then)) {\n              promise.then(resolver(i), reject);\n            } else {\n              resolveAll(i, promise);\n            }\n          }\n        });\n      }\n\n      __exports__.all = all;\n    });\n  define(\"promise/asap\",\n    [\"exports\"],\n    function(__exports__) {\n      \"use strict\";\n      var browserGlobal = (typeof window !== 'undefined') ? window : {};\n      var BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\n      var local = window;\n\n      // node\n      function useNextTick() {\n        return function() {\n          process.nextTick(flush);\n        };\n      }\n\n      function useMutationObserver() {\n        var iterations = 0;\n        var observer = new BrowserMutationObserver(flush);\n        var node = document.createTextNode('');\n        observer.observe(node, { characterData: true });\n\n        return function() {\n          node.data = (iterations = ++iterations % 2);\n        };\n      }\n\n      function useSetTimeout() {\n        return function() {\n          local.setTimeout(flush, 1);\n        };\n      }\n\n      var queue = [];\n      function flush() {\n        for (var i = 0; i < queue.length; i++) {\n          var tuple = queue[i];\n          var callback = tuple[0], arg = tuple[1];\n          callback(arg);\n        }\n        queue = [];\n      }\n\n      var scheduleFlush;\n\n      // Decide what async method to use to triggering processing of queued callbacks:\n      if (typeof process !== 'undefined' && {}.toString.call(process) === '[object process]') {\n        scheduleFlush = useNextTick();\n      } else if (BrowserMutationObserver) {\n        scheduleFlush = useMutationObserver();\n      } else {\n        scheduleFlush = useSetTimeout();\n      }\n\n      function asap(callback, arg) {\n        var length = queue.push([callback, arg]);\n        if (length === 1) {\n          // If length is 1, that means that we need to schedule an async flush.\n          // If additional callbacks are queued before the queue is flushed, they\n          // will be processed by this flush that we are scheduling.\n          scheduleFlush();\n        }\n      }\n\n      __exports__.asap = asap;\n    });\n  define(\"promise/config\",\n    [\"exports\"],\n    function(__exports__) {\n      \"use strict\";\n      var config = {\n        instrument: false\n      };\n\n      function configure(name, value) {\n        if (arguments.length === 2) {\n          config[name] = value;\n        } else {\n          return config[name];\n        }\n      }\n\n      __exports__.config = config;\n      __exports__.configure = configure;\n    });\n  define(\"promise/polyfill\",\n    [\"./promise\",\"./utils\",\"exports\"],\n    function(__dependency1__, __dependency2__, __exports__) {\n      \"use strict\";\n      /*global self*/\n      var RSVPPromise = __dependency1__.Promise;\n      var isFunction = __dependency2__.isFunction;\n\n      function polyfill() {\n        var local;\n\n        if (typeof window !== 'undefined' && window.document) {\n          local = window;\n        } else {\n          local = self;\n        }\n\n        var es6PromiseSupport =\n          \"Promise\" in local &&\n          // Some of these methods are missing from\n          // Firefox/Chrome experimental implementations\n          \"resolve\" in local.Promise &&\n          \"reject\" in local.Promise &&\n          \"all\" in local.Promise &&\n          \"race\" in local.Promise &&\n          // Older version of the spec had a resolver object\n          // as the arg rather than a function\n          (function() {\n            var resolve;\n            new local.Promise(function(r) { resolve = r; });\n            return isFunction(resolve);\n          }());\n\n        if (!es6PromiseSupport) {\n          local.Promise = RSVPPromise;\n        }\n      }\n\n      __exports__.polyfill = polyfill;\n    });\n  define(\"promise/promise\",\n    [\"./config\",\"./utils\",\"./all\",\"./race\",\"./resolve\",\"./reject\",\"./asap\",\"exports\"],\n    function(__dependency1__, __dependency2__, __dependency3__, __dependency4__, __dependency5__, __dependency6__, __dependency7__, __exports__) {\n      \"use strict\";\n      var config = __dependency1__.config;\n      var configure = __dependency1__.configure;\n      var objectOrFunction = __dependency2__.objectOrFunction;\n      var isFunction = __dependency2__.isFunction;\n      var now = __dependency2__.now;\n      var all = __dependency3__.all;\n      var race = __dependency4__.race;\n      var staticResolve = __dependency5__.resolve;\n      var staticReject = __dependency6__.reject;\n      var asap = __dependency7__.asap;\n\n      var counter = 0;\n\n      config.async = asap; // default async is asap;\n\n      function Promise(resolver) {\n        if (!isFunction(resolver)) {\n          throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n        }\n\n        if (!(this instanceof Promise)) {\n          throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n        }\n\n        this._subscribers = [];\n\n        invokeResolver(resolver, this);\n      }\n\n      function invokeResolver(resolver, promise) {\n        function resolvePromise(value) {\n          resolve(promise, value);\n        }\n\n        function rejectPromise(reason) {\n          reject(promise, reason);\n        }\n\n        try {\n          resolver(resolvePromise, rejectPromise);\n        } catch(e) {\n          rejectPromise(e);\n        }\n      }\n\n      function invokeCallback(settled, promise, callback, detail) {\n        var hasCallback = isFunction(callback),\n            value, error, succeeded, failed;\n\n        if (hasCallback) {\n          try {\n            value = callback(detail);\n            succeeded = true;\n          } catch(e) {\n            failed = true;\n            error = e;\n          }\n        } else {\n          value = detail;\n          succeeded = true;\n        }\n\n        if (handleThenable(promise, value)) {\n          return;\n        } else if (hasCallback && succeeded) {\n          resolve(promise, value);\n        } else if (failed) {\n          reject(promise, error);\n        } else if (settled === FULFILLED) {\n          resolve(promise, value);\n        } else if (settled === REJECTED) {\n          reject(promise, value);\n        }\n      }\n\n      var PENDING   = void 0;\n      var SEALED    = 0;\n      var FULFILLED = 1;\n      var REJECTED  = 2;\n\n      function subscribe(parent, child, onFulfillment, onRejection) {\n        var subscribers = parent._subscribers;\n        var length = subscribers.length;\n\n        subscribers[length] = child;\n        subscribers[length + FULFILLED] = onFulfillment;\n        subscribers[length + REJECTED]  = onRejection;\n      }\n\n      function publish(promise, settled) {\n        var child, callback, subscribers = promise._subscribers, detail = promise._detail;\n\n        for (var i = 0; i < subscribers.length; i += 3) {\n          child = subscribers[i];\n          callback = subscribers[i + settled];\n\n          invokeCallback(settled, child, callback, detail);\n        }\n\n        promise._subscribers = null;\n      }\n\n      Promise.prototype = {\n        constructor: Promise,\n\n        _state: undefined,\n        _detail: undefined,\n        _subscribers: undefined,\n\n        then: function(onFulfillment, onRejection) {\n          var promise = this;\n\n          var thenPromise = new this.constructor(function() {});\n\n          if (this._state) {\n            var callbacks = arguments;\n            config.async(function invokePromiseCallback() {\n              invokeCallback(promise._state, thenPromise, callbacks[promise._state - 1], promise._detail);\n            });\n          } else {\n            subscribe(this, thenPromise, onFulfillment, onRejection);\n          }\n\n          return thenPromise;\n        },\n\n        'catch': function(onRejection) {\n          return this.then(null, onRejection);\n        }\n      };\n\n      Promise.all = all;\n      Promise.race = race;\n      Promise.resolve = staticResolve;\n      Promise.reject = staticReject;\n\n      function handleThenable(promise, value) {\n        var then = null,\n        resolved;\n\n        try {\n          if (promise === value) {\n            throw new TypeError(\"A promises callback cannot return that same promise.\");\n          }\n\n          if (objectOrFunction(value)) {\n            then = value.then;\n\n            if (isFunction(then)) {\n              then.call(value, function(val) {\n                if (resolved) { return true; }\n                resolved = true;\n\n                if (value !== val) {\n                  resolve(promise, val);\n                } else {\n                  fulfill(promise, val);\n                }\n              }, function(val) {\n                if (resolved) { return true; }\n                resolved = true;\n\n                reject(promise, val);\n              });\n\n              return true;\n            }\n          }\n        } catch (error) {\n          if (resolved) { return true; }\n          reject(promise, error);\n          return true;\n        }\n\n        return false;\n      }\n\n      function resolve(promise, value) {\n        if (promise === value) {\n          fulfill(promise, value);\n        } else if (!handleThenable(promise, value)) {\n          fulfill(promise, value);\n        }\n      }\n\n      function fulfill(promise, value) {\n        if (promise._state !== PENDING) { return; }\n        promise._state = SEALED;\n        promise._detail = value;\n\n        config.async(publishFulfillment, promise);\n      }\n\n      function reject(promise, reason) {\n        if (promise._state !== PENDING) { return; }\n        promise._state = SEALED;\n        promise._detail = reason;\n\n        config.async(publishRejection, promise);\n      }\n\n      function publishFulfillment(promise) {\n        publish(promise, promise._state = FULFILLED);\n      }\n\n      function publishRejection(promise) {\n        publish(promise, promise._state = REJECTED);\n      }\n\n      __exports__.Promise = Promise;\n    });\n  define(\"promise/race\",\n    [\"./utils\",\"exports\"],\n    function(__dependency1__, __exports__) {\n      \"use strict\";\n      /* global toString */\n      var isArray = __dependency1__.isArray;\n\n      /**\n        `RSVP.race` allows you to watch a series of promises and act as soon as the\n        first promise given to the `promises` argument fulfills or rejects.\n\n        Example:\n\n        ```javascript\n        var promise1 = new RSVP.Promise(function(resolve, reject){\n          setTimeout(function(){\n            resolve(\"promise 1\");\n          }, 200);\n        });\n\n        var promise2 = new RSVP.Promise(function(resolve, reject){\n          setTimeout(function(){\n            resolve(\"promise 2\");\n          }, 100);\n        });\n\n        RSVP.race([promise1, promise2]).then(function(result){\n          // result === \"promise 2\" because it was resolved before promise1\n          // was resolved.\n        });\n        ```\n\n        `RSVP.race` is deterministic in that only the state of the first completed\n        promise matters. For example, even if other promises given to the `promises`\n        array argument are resolved, but the first completed promise has become\n        rejected before the other promises became fulfilled, the returned promise\n        will become rejected:\n\n        ```javascript\n        var promise1 = new RSVP.Promise(function(resolve, reject){\n          setTimeout(function(){\n            resolve(\"promise 1\");\n          }, 200);\n        });\n\n        var promise2 = new RSVP.Promise(function(resolve, reject){\n          setTimeout(function(){\n            reject(new Error(\"promise 2\"));\n          }, 100);\n        });\n\n        RSVP.race([promise1, promise2]).then(function(result){\n          // Code here never runs because there are rejected promises!\n        }, function(reason){\n          // reason.message === \"promise2\" because promise 2 became rejected before\n          // promise 1 became fulfilled\n        });\n        ```\n\n        @method race\n        @for RSVP\n        @param {Array} promises array of promises to observe\n        @param {String} label optional string for describing the promise returned.\n        Useful for tooling.\n        @return {Promise} a promise that becomes fulfilled with the value the first\n        completed promises is resolved with if the first completed promise was\n        fulfilled, or rejected with the reason that the first completed promise\n        was rejected with.\n      */\n      function race(promises) {\n        /*jshint validthis:true */\n        var Promise = this;\n\n        if (!isArray(promises)) {\n          throw new TypeError('You must pass an array to race.');\n        }\n        return new Promise(function(resolve, reject) {\n          var results = [], promise;\n\n          for (var i = 0; i < promises.length; i++) {\n            promise = promises[i];\n\n            if (promise && typeof promise.then === 'function') {\n              promise.then(resolve, reject);\n            } else {\n              resolve(promise);\n            }\n          }\n        });\n      }\n\n      __exports__.race = race;\n    });\n  define(\"promise/reject\",\n    [\"exports\"],\n    function(__exports__) {\n      \"use strict\";\n      /**\n        `RSVP.reject` returns a promise that will become rejected with the passed\n        `reason`. `RSVP.reject` is essentially shorthand for the following:\n\n        ```javascript\n        var promise = new RSVP.Promise(function(resolve, reject){\n          reject(new Error('WHOOPS'));\n        });\n\n        promise.then(function(value){\n          // Code here doesn't run because the promise is rejected!\n        }, function(reason){\n          // reason.message === 'WHOOPS'\n        });\n        ```\n\n        Instead of writing the above, your code now simply becomes the following:\n\n        ```javascript\n        var promise = RSVP.reject(new Error('WHOOPS'));\n\n        promise.then(function(value){\n          // Code here doesn't run because the promise is rejected!\n        }, function(reason){\n          // reason.message === 'WHOOPS'\n        });\n        ```\n\n        @method reject\n        @for RSVP\n        @param {Any} reason value that the returned promise will be rejected with.\n        @param {String} label optional string for identifying the returned promise.\n        Useful for tooling.\n        @return {Promise} a promise that will become rejected with the given\n        `reason`.\n      */\n      function reject(reason) {\n        /*jshint validthis:true */\n        var Promise = this;\n\n        return new Promise(function (resolve, reject) {\n          reject(reason);\n        });\n      }\n\n      __exports__.reject = reject;\n    });\n  define(\"promise/resolve\",\n    [\"exports\"],\n    function(__exports__) {\n      \"use strict\";\n      function resolve(value) {\n        /*jshint validthis:true */\n        if (value && typeof value === 'object' && value.constructor === this) {\n          return value;\n        }\n\n        var Promise = this;\n\n        return new Promise(function(resolve) {\n          resolve(value);\n        });\n      }\n\n      __exports__.resolve = resolve;\n    });\n  define(\"promise/utils\",\n    [\"exports\"],\n    function(__exports__) {\n      \"use strict\";\n      function objectOrFunction(x) {\n        return isFunction(x) || (typeof x === \"object\" && x !== null);\n      }\n\n      function isFunction(x) {\n        return typeof x === \"function\";\n      }\n\n      function isArray(x) {\n        return Object.prototype.toString.call(x) === \"[object Array]\";\n      }\n\n      // Date.now is not available in browsers < IE9\n      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now#Compatibility\n      var now = Date.now || function() { return new Date().getTime(); };\n\n\n      __exports__.objectOrFunction = objectOrFunction;\n      __exports__.isFunction = isFunction;\n      __exports__.isArray = isArray;\n      __exports__.now = now;\n    });\n  requireModule('promise/polyfill').polyfill();\n  }());\n}\n\n_dereq_('leaflet');\n_dereq_('html5shiv');\n\n// DG inheritance\nvar oldDG = window.DG;\nvar DG = new (\n    (function() {\n        var DgApi = function() {},\n            DgApiCore = function() {};\n\n        DgApiCore.prototype = L;\n        DgApi.prototype = new DgApiCore();\n\n        return DgApi;\n    })()\n)();\n\nfor (var prop in oldDG) {\n    if (oldDG.hasOwnProperty(prop) && typeof DG[prop] === 'undefined') {\n        DG[prop] = oldDG[prop];\n    }\n}\n\nwindow.__dgApi__ = window.__dgApi__ || {};\nDG.version = window.__dgApi__.version;\nDG.Icon.Default.imagePath  = '../img/vendors/leaflet';\n\nDG.Map.addInitHook((function() {\n    var inited = false;\n\n    // Analytics inited once\n    return function() {\n        if (!inited) {\n            /*eslint-disable */\n            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n            })(window,document,'script',DG.config.googleAnalytics,'ga');\n            /*eslint-enable */\n\n            inited = true;\n        }\n\n        /*eslint-disable */\n        ga('create', DG.config.gaCode, {\n            storage: 'none', // don't store and use cookies thanks GDPR\n            name: DG.config.gaName,\n            sampleRate: 50\n        });\n        ga(DG.config.gaName + '.set', 'anonymizeIp', true);\n        ga(DG.config.gaName + '.send', 'pageview');\n        /*eslint-enable */\n    };\n})());\n\n// Improve IHandler\nDG.Map.include({\n    addHandler: function(name, HandlerClass) {\n        if (!HandlerClass) { return this; }\n\n        var options = this.options[name],\n            param = (options === Object(options)) ? options : null,\n            handler = this[name] = new HandlerClass(this, param);\n\n        this._handlers.push(handler);\n\n        if (options) {\n            handler.enable();\n        }\n\n        return this;\n    }\n});\n\n// Apply class to map container for detect when we dont need hover effects\nDG.Map.addInitHook(function() {\n    if (!DG.Browser.touchEnabled) {\n        DG.DomUtil.addClass(this._container, 'no-touch');\n    }\n});\n\nwindow.DG = DG;\nmodule.exports = DG;\n\nvar handlers = window.__dgApi__.callbacks || [],\n    chain = Promise.resolve();\n\nhandlers.forEach(function(handlers) {\n    chain = chain.then(handlers[0], handlers[1]);\n});\n\nDG.then = function(resolve, reject) {\n    return chain.then(resolve, reject);\n};\n\n// IE8 throw error if `chain.catch`\n/* eslint-disable dot-notation, no-console */\nchain['catch'](function(err) {\n    console.error(err);\n});\n/* eslint-enable dot-notation, no-console */\n\nDG.plugin = function(plugins) {\n    var count,\n        jsReg = new RegExp(/.js$/i),\n        cssReg = new RegExp(/.css$/i);\n\n    return new Promise(function(resolve) {\n        function checkLoading() {\n            count--;\n\n            if (count === 0) {\n                resolve();\n            }\n        }\n\n        function appendJS(link) {\n            var js = document.createElement('script');\n            js.setAttribute('type', 'text/javascript');\n            js.setAttribute('src', link);\n            js.onload = function() {\n                checkLoading();\n            };\n            js.onerror = function() {\n                checkLoading();\n            };\n            // load/error for IE\n            js.onreadystatechange = function() {\n                if (js.readyState === 'complete' || js.readyState === 'loaded') {\n                    checkLoading();\n                }\n            };\n\n            document.getElementsByTagName('head')[0].appendChild(js);\n        }\n\n        function appendCSS(link) {\n            var css = document.createElement('link');\n            css.setAttribute('rel', 'stylesheet');\n            css.setAttribute('type', 'text/css');\n            css.setAttribute('href', link);\n            document.getElementsByTagName('head')[0].appendChild(css);\n\n            checkLoading();\n        }\n\n        function isJs(url) {\n            return jsReg.test(url);\n        }\n\n        function isCss(url) {\n            return cssReg.test(url);\n        }\n\n        function appendAsset(asset) {\n            if (isJs(asset)) {\n                appendJS(asset);\n            } else if (isCss(asset)) {\n                appendCSS(asset);\n            } else {\n                count--;\n            }\n        }\n\n        if (DG.Util.isArray(plugins)) {\n            count = plugins.length;\n            plugins.forEach(function(plugin) {\n                appendAsset(plugin);\n            });\n        }\n\n        if (typeof plugins === 'string') {\n            count = 1;\n            appendAsset(plugins);\n        }\n    });\n};\n\nDG.ajax = (function() {\n\n    var win = window,\n        doc = document,\n\n        rurl = /^([\\w.+-]+:)?(?:\\/\\/([^\\/?#:]*)(?::(\\d+)|)|)/,\n        twoHundo = /^20\\d$/,\n\n        // Document location\n        ajaxLocParts,\n        ajaxLocation,\n\n        byTag = 'getElementsByTagName',\n        readyState = 'readyState',\n        contentType = 'Content-Type',\n        requestedWith = 'X-Requested-With',\n        head = doc[byTag]('head')[0],\n        uniqid = 0,\n        callbackPrefix = 'l_dg_ajax_callback_' + (+new Date()),\n        lastValue, // data stored by the most recent JSONP callback\n        xmlHttpRequest = 'XMLHttpRequest',\n        xDomainRequest = 'XDomainRequest', // IE 8 and 9 only\n        noop = function() {},\n        defaultHeaders = {\n            contentType: 'application/x-www-form-urlencoded',\n            requestedWith: xmlHttpRequest,\n            accept: {\n                '*':  'text/javascript, text/html, application/xml, text/xml, */*',\n                xml:  'application/xml, text/xml',\n                html: 'text/html',\n                text: 'text/plain',\n                json: 'application/json, text/javascript',\n                js:   'application/javascript, text/javascript'\n            }\n        },\n        /*global XDomainRequest:false */\n        xhr = function(o) {\n            // is it x-domain\n            if (o.crossDomain === true) {\n                var xhr = win[xmlHttpRequest] ? new XMLHttpRequest() : null;\n                if (xhr && 'withCredentials' in xhr) {\n                    return xhr;\n                } else if (win[xDomainRequest]) {\n                    return new XDomainRequest();\n                } else {\n                    throw new Error('Browser does not support cross-origin requests');\n                }\n            } else {\n                return new XMLHttpRequest();\n            }\n        },\n\n        globalSetupOptions = {\n            dataFilter: function(data) {\n                return data;\n            }\n        };\n\n    // IE may throw an exception when accessing\n    // a field from window.location if document.domain has been set\n    try {\n        ajaxLocation = location.href;\n    } catch (e) {\n        // Use the href attribute of an A element\n        // since IE will modify it given document.location\n        ajaxLocation = document.createElement('a');\n        ajaxLocation.href = '';\n        ajaxLocation = ajaxLocation.href;\n    }\n\n    // Segment location into parts\n    ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || [];\n\n    function handleReadyState(r, success, error) {\n        return function() {\n            // use _aborted to mitigate against IE err c00c023f\n            // (can't read props on aborted request objects)\n            if (r._aborted) {\n                return error(r.request);\n            }\n            if (r.request && r.request[readyState] === 4) {\n                r.request.onreadystatechange = noop;\n                if (twoHundo.test(r.request.status)) {\n                    success(r.request);\n                } else {\n                    error(r.request);\n                }\n            }\n        };\n    }\n\n    function setHeaders(http, o) {\n        var headers = o.headers || {},\n            h;\n\n        headers.Accept = headers.Accept || defaultHeaders.accept[o.dataType] || defaultHeaders.accept['*'];\n\n        // breaks cross-origin requests with legacy browsers\n        if (!o.crossDomain && !headers[requestedWith]) {\n            headers[requestedWith] = defaultHeaders.requestedWith;\n        }\n        if (!headers[contentType]) {\n            headers[contentType] = o.contentType || defaultHeaders.contentType;\n        }\n        for (h in headers) {\n            if (headers.hasOwnProperty(h) && 'setRequestHeader' in http) {\n                http.setRequestHeader(h, headers[h]);\n            }\n        }\n    }\n\n    function setCredentials(http, o) {\n        if (typeof o.withCredentials !== 'undefined' && typeof http.withCredentials !== 'undefined') {\n            http.withCredentials = !!o.withCredentials;\n        }\n    }\n\n    function generalCallback(data) {\n        lastValue = data;\n    }\n\n    function urlappend(url, s) {\n        return url + (/\\?/.test(url) ? '&' : '?') + s;\n    }\n\n    function handleJsonp(o, fn, err, url) {\n        var reqId = uniqid++,\n            cbkey = o.jsonpCallback || 'callback', // the 'callback' key\n            cbval = o.jsonpCallbackName || callbackPrefix,\n            cbreg = new RegExp('((^|\\\\?|&)' + cbkey + ')=([^&]+)'),\n            match = url.match(cbreg),\n            script = doc.createElement('script'),\n            loaded = 0,\n            isIE10 = navigator.userAgent.indexOf('MSIE 10.0') !== -1;\n\n        if (match) {\n            if (match[3] === '?') {\n                url = url.replace(cbreg, '$1=' + cbval); // wildcard callback func name\n            } else {\n                cbval = match[3]; // provided callback func name\n            }\n        } else {\n            url = urlappend(url, cbkey + '=' + cbval); // no callback details, add 'em\n        }\n\n        win[cbval] = generalCallback;\n\n        script.type = 'text/javascript';\n        script.src = url;\n        script.async = true;\n        if (typeof script.onreadystatechange !== 'undefined' && !isIE10) {\n            // need this for IE due to out-of-order onreadystatechange(), binding script\n            // execution to an event listener gives us control over when the script\n            // is executed. See http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html\n            //\n            // if this hack is used in IE10 jsonp callback are never called\n            script.event = 'onclick';\n            script.htmlFor = script.id = '_request_' + reqId;\n        }\n\n        script.onerror = function() {\n            script.onerror = script.onload = script.onreadystatechange = null;\n            err({}, 'Request unknown error', {});\n            lastValue = undefined;\n            head.removeChild(script);\n            loaded = 1;\n        };\n        script.onload = script.onreadystatechange = function() {\n            if ((script[readyState] && script[readyState] !== 'complete' && script[readyState] !== 'loaded') || loaded) {\n                return false;\n            }\n            script.onerror = script.onload = script.onreadystatechange = null;\n            if (script.onclick) {\n                script.onclick();\n            }\n            // Call the user callback with the last value stored and clean up values and scripts.\n            fn(lastValue);\n            lastValue = undefined;\n            head.removeChild(script);\n            loaded = 1;\n        };\n\n        // Add the script to the DOM head\n        head.appendChild(script);\n\n        // Enable JSONP timeout\n        return {\n            abort: function() {\n                script.onerror = script.onload = script.onreadystatechange = null;\n                err({}, 'Request is aborted: timeout', {});\n                lastValue = undefined;\n                head.removeChild(script);\n                loaded = 1;\n            }\n        };\n    }\n\n    function getRequest(fn, err) {\n        var o = this.options,\n            method = (o.type || 'GET').toUpperCase(),\n            url = typeof o === 'string' ? o : o.url,\n            // convert non-string objects to query-string form unless o.processData is false\n            data = (o.processData !== false && o.data && typeof o.data !== 'string') ? Ajax.toQueryString(o.data) : (o.data || null),\n            http,\n            sendWait = false;\n\n        // if we're working on a GET request and we have data then we should append\n        // query string to end of URL and not post data\n        if ((o.type === 'jsonp' || method === 'GET') && data) {\n            url = urlappend(url, data);\n            data = null;\n        }\n\n        if (o.type === 'jsonp') {\n            return handleJsonp(o, fn, err, url);\n        }\n\n        http = xhr(o);\n        http.open(method, url, o.async !== false);\n\n        setHeaders(http, o);\n        setCredentials(http, o);\n\n        if (win[xDomainRequest] && http instanceof win[xDomainRequest]) {\n            http.onload = fn;\n            http.onprogress = function() {};\n            http.ontimeout = function() {};\n            http.onerror = err;\n            sendWait = true;\n        } else {\n            http.onreadystatechange = handleReadyState(this, fn, err);\n        }\n        if (sendWait) {\n            setTimeout(function() {\n                http.send(data);\n            }, 200);\n        } else {\n            http.send(data);\n        }\n        return http;\n    }\n\n    function buildParams(prefix, obj, traditional, add) {\n        var name, i, v,\n            rbracket = /\\[\\]$/;\n\n        if (DG.Util.isArray(obj)) {\n        // Serialize array item.\n            for (i = 0; obj && i < obj.length; i++) {\n                v = obj[i];\n                if (traditional || rbracket.test(prefix)) {\n                    // Treat each array item as a scalar.\n                    add(prefix, v);\n                } else {\n                    buildParams(prefix + '[' + (typeof v === 'object' ? i : '') + ']', v, traditional, add);\n                }\n            }\n        } else if (obj && obj.toString() === '[object Object]') {\n            // Serialize object item.\n            for (name in obj) {\n                if (obj.hasOwnProperty(name)) {\n                    buildParams(prefix + '[' + name + ']', obj[name], traditional, add);\n                }\n            }\n        } else {\n            // Serialize scalar item.\n            add(prefix, obj);\n        }\n    }\n\n    function setType(url) {\n        var m = url.match(/\\.(json|jsonp|html|xml)(\\?|$)/);\n        return m ? m[1] : 'js';\n    }\n\n    function isCrossDomain(url) {\n        var parts = rurl.exec(url.toLowerCase());\n        return !!(parts &&\n                (parts[1] !== ajaxLocParts[1] || parts[2] !== ajaxLocParts[2] ||\n                    (parts[3] || (parts[1] === 'http:' ? '80' : '443')) !==\n                        (ajaxLocParts[3] || (ajaxLocParts[1] === 'http:' ? '80' : '443')))\n        );\n    }\n\n    function doRequest(o) {\n\n        if (!('crossDomain' in o)) {\n            o.crossDomain = isCrossDomain(o.url);\n        }\n\n        var self = {};\n        self.promise = new Promise(function(resolve, reject) {\n            self.abort = function() {\n                self._aborted = true;\n                reject('aborted');\n            };\n\n            self.url = o.url;\n            self.timeout = null;\n            self.options = o;\n\n            self._aborted = false;\n            self._erred = false;\n            self._responseArgs = {};\n\n            var type = o.type === 'jsonp' ? o.type : (o.dataType || setType(self.url));\n\n            if (o.timeout) {\n                self.timeout = setTimeout(function() {\n                    self.abort();\n                }, o.timeout);\n            }\n\n            function complete(resp) {\n                if (o.timeout) {\n                    clearTimeout(self.timeout);\n                }\n                self.timeout = null;\n                if (self._erred) {\n                    reject(resp);\n                } else {\n                    resolve(resp);\n                }\n            }\n\n            function success(resp) {\n                resp = (type !== 'jsonp') ? self.request : resp;\n                // use global data filter on response text\n                var filteredResponse = globalSetupOptions.dataFilter(resp.responseText, type),\n                    r = filteredResponse;\n\n                try {\n                    resp.responseText = r;\n                } catch (e) {\n                    // can't assign this in IE<=8, just ignore\n                }\n                /* eslint-disable no-eval */\n                if (r) {\n                    switch (type) {\n                        case 'json':\n                            try {\n                                resp = win.JSON.parse(r);\n                            } catch (err) {\n                                return error(resp, 'Could not parse JSON in response', err);\n                            }\n                            break;\n                        case 'js':\n                            resp = eval('(' + r + ')');\n                            break;\n                        case 'html':\n                            resp = r;\n                            break;\n                        case 'xml':\n                            resp = resp.responseXML && resp.responseXML.parseError && resp.responseXML.parseError.errorCode && resp.responseXML.parseError.reason ? null : resp.responseXML;\n                            break;\n                    }\n                }\n                /* eslint-enable no-eval */\n                self._responseArgs.resp = resp;\n                complete(resp);\n            }\n\n            function error(resp, msg, t) {\n                resp = self.request;\n                self._responseArgs.resp = resp;\n                self._responseArgs.msg = msg;\n                self._responseArgs.t = t;\n                self._erred = true;\n                complete(resp);\n            }\n\n            self.request = getRequest.call(self, success, error);\n        });\n\n        return self;\n    }\n\n    function Ajax(url, options) {\n\n        if (Object.prototype.toString.call(url) === '[object Object]') {\n            options = url;\n            url = undefined;\n        }\n        options = options || {};\n        options.url = url || options.url;\n\n        var requestPromise = doRequest(options),\n            resultPromise = requestPromise.promise;\n\n        if (options.success || options.error || options.complete) {\n            resultPromise.then(options.success, options.error);\n        }\n\n        resultPromise.abort = requestPromise.abort;\n\n        return resultPromise;\n    }\n\n    Ajax.setup = function(options) {\n        options = options || {};\n        for (var k in options) {\n            if (options.hasOwnProperty(k)) {\n                globalSetupOptions[k] = options[k];\n            }\n        }\n    };\n\n    Ajax.toQueryString = function(o, trad) {\n        var prefix, i,\n            traditional = trad || false,\n            s = [],\n            enc = encodeURIComponent,\n            add = function(key, value) {\n                // If value is a function, invoke it and return its value\n                if (typeof value == 'function') {\n                    value = value();\n                } else {\n                    value = value || '';\n                }\n\n                s[s.length] = enc(key) + '=' + enc(value);\n            };\n\n        // If an array was passed in, assume that it is an array of form elements.\n        if (DG.Util.isArray(o)) {\n            for (i = 0; o && i < o.length; i++) {\n                add(o[i].name, o[i].value);\n            }\n        } else {\n            // If traditional, encode the \"old\" way (the way 1.3.2 or older\n            // did it), otherwise encode params recursively.\n            for (prefix in o) {\n                if (o.hasOwnProperty(prefix)) {\n                    buildParams(prefix, o[prefix], traditional, add);\n                }\n            }\n        }\n\n        // spaces should be + according to spec\n        return s.join('&').replace(/%20/g, '+');\n    };\n\n    var testxhr = win[xmlHttpRequest] ? new XMLHttpRequest() : null;\n\n    Ajax.corsSupport = !(!(testxhr && 'withCredentials' in testxhr) && !win[xDomainRequest]) &&\n        // cors not available in IE and with cyrillic domain\n        !(DG.Browser.ie && document.location.host.toLowerCase().search(/[а-я]/) != -1);\n\n    return Ajax;\n})();\n\nDG.Wkt = {};\n\nDG.Wkt.toGeoJSON = function (data) {\n    if (DG.Util.isArray(data)) {\n        data = data[0];\n    }\n    var parts = data.split(';');\n    data = parts.pop();\n\n    var i = 0,\n        srid = (parts.shift() || '').split('=').pop();\n\n    function $(re) {\n        var match = data.substring(i).match(re);\n        if (!match) {\n            return null;\n        }\n        else {\n            i += match[0].length;\n            return match[0];\n        }\n    }\n\n    function crs(obj) {\n        if (obj && srid.match(/\\d+/)) {\n            obj.crs = {\n                type: 'name',\n                'properties': {\n                    name: 'urn:ogc:def:crs:EPSG::' + srid\n                }\n            };\n        }\n\n        return obj;\n    }\n\n    function white() { $(/^\\s*/); }\n\n    function multicoords() {\n        white();\n        var depth = 0, rings = [], stack = [rings],\n            pointer = rings, elem;\n        while (elem =\n            $(/^(\\()/) ||\n            $(/^(\\))/) ||\n            $(/^(\\,)/) ||\n            $(/^[-+]?([0-9]*\\.[0-9]+|[0-9]+)/)) {\n            if (elem === '(') {\n                stack.push(pointer);\n                pointer = [];\n                stack[stack.length - 1].push(pointer);\n                depth++;\n            } else if (elem === ')') {\n                pointer = stack.pop();\n                depth--;\n                if (depth === 0) {\n                    break;\n                }\n            } else if (elem === ',') {\n                pointer = [];\n                stack[stack.length - 1].push(pointer);\n            } else {\n                pointer.push(parseFloat(elem));\n            }\n            white();\n        }\n        stack.length = 0;\n        if (depth !== 0) {\n            return null;\n        }\n        return rings;\n    }\n\n    function coords() {\n        var list = [], item, pt;\n        while (pt =\n            $(/^[-+]?([0-9]*\\.[0-9]+|[0-9]+)/) ||\n            $(/^(\\,)/)) {\n            if (pt === ',') {\n                list.push(item);\n                item = [];\n            } else {\n                if (!item) {\n                    item = [];\n                }\n                item.push(parseFloat(pt));\n            }\n            white();\n        }\n        if (item) {\n            list.push(item);\n        }\n        return list.length ? list : null;\n    }\n\n    function point() {\n        if (!$(/^(point)/i)) { return null; }\n        white();\n        if (!$(/^(\\()/)) { return null; }\n        var c = coords();\n        white();\n        if (!$(/^(\\))/)) { return null; }\n        return {\n            type: 'Point',\n            coordinates: c[0]\n        };\n    }\n\n    function multipoint() {\n        if (!$(/^(multipoint)/i)) { return null; }\n        white();\n        var c = multicoords();\n        white();\n        return {\n            type: 'MultiPoint',\n            coordinates: c\n        };\n    }\n\n    function multilinestring() {\n        if (!$(/^(multilinestring)/i)) { return null; }\n        white();\n        var c = multicoords();\n        white();\n        return {\n            type: 'MultiLineString',\n            coordinates: c\n        };\n    }\n\n    function linestring() {\n        if (!$(/^(linestring)/i)) { return null; }\n        white();\n        if (!$(/^(\\()/)) { return null; }\n        var c = coords();\n        if (!$(/^(\\))/)) { return null; }\n        return {\n            type: 'LineString',\n            coordinates: c\n        };\n    }\n\n    function polygon() {\n        if (!$(/^(polygon)/i)) { return null; }\n        white();\n        return {\n            type: 'Polygon',\n            coordinates: multicoords()\n        };\n    }\n\n    function multipolygon() {\n        if (!$(/^(multipolygon)/i)) { return null; }\n        white();\n        return {\n            type: 'MultiPolygon',\n            coordinates: multicoords()\n        };\n    }\n\n    function geometrycollection() {\n        var geometries = [], geometry;\n\n        if (!$(/^(geometrycollection)/i)) { return null; }\n        white();\n\n        if (!$(/^(\\()/)) { return null; }\n        while (geometry = root()) {\n            geometries.push(geometry);\n            white();\n            $(/^(\\,)/);\n            white();\n        }\n        if (!$(/^(\\))/)) { return null; }\n\n        return {\n            type: 'GeometryCollection',\n            geometries: geometries\n        };\n    }\n\n    function root() {\n        return point() ||\n            linestring() ||\n            polygon() ||\n            multipoint() ||\n            multilinestring() ||\n            multipolygon() ||\n            geometrycollection();\n    }\n\n    return crs(root());\n};\n\nDG.Wkt.geoJsonLayer = function (data, opts) {\n    return DG.geoJson(DG.Wkt.toGeoJSON(data), opts);\n};\n\nDG.Wkt._coordsToLatLngs = function (coords) {\n    if (DG.Util.isArray(coords) && !DG.Util.isArray(coords[0])) {\n        return [DG.GeoJSON.coordsToLatLng(coords)];\n    }\n\n    return coords.map(function (el) {\n            return DG.Wkt._coordsToLatLngs(el);\n        })\n        .reduce(function (arr, coord) {\n            return arr.concat(coord);\n        });\n};\n\nDG.Wkt.toLatLngs = function (data) {\n    if (!DG.Util.isArray(data)) {\n        data = [data];\n    }\n\n    return data.map(function (el) {\n        var coords = DG.Wkt.toGeoJSON(el).coordinates;\n\n        return DG.Wkt._coordsToLatLngs(coords);\n    }).reduce(function (arr, coord) {\n        return arr.concat(coord);\n    });\n};\n\nDG.Wkt.toPoints = function (data) {\n    return DG.Wkt.toGeoJSON(data).coordinates;\n};\n\nDG.Wkt.pointsToLatLngOnMap = function (wkt, map) {\n    return (function parsePoints(points) {\n        return (Array.isArray(points) && Array.isArray(points[0])) ?\n            points.map(parsePoints) :\n            map.containerPointToLatLng(points);\n    })(DG.Wkt.toPoints(wkt));\n};\n\nDG.ProjectDetector = DG.Handler.extend({\n    initialize: function(map) { // (Object)\n        this._map = map;\n        this._osmViewport = false;\n        this._project = undefined;\n        this._loadProjectList();\n    },\n\n    addHooks: function() {\n        this._projectWatch();\n        this._map.on('move', this._projectWatch, this);\n    },\n\n    removeHooks: function() {\n        this._map.off('move', this._projectWatch, this);\n    },\n\n    getProject: function() {\n        if (!this._project) { return false; }\n\n        return DG.Util.extend({}, this._project);\n    },\n\n    getProjectsList: function() {\n        return this._projectList.slice(0);\n    },\n\n    isProjectHere: function(coords, project, checkMethod) {\n        if (!coords) { return null; }\n\n        if (!(coords instanceof DG.LatLng) && !(coords instanceof DG.LatLngBounds)) {\n            coords = DG.latLng(coords);\n        }\n\n        coords = (coords instanceof DG.LatLngBounds) ?\n            DG.latLngBounds(coords.getSouthWest().wrap(), coords.getNorthEast().wrap()) : coords.wrap();\n\n        checkMethod = checkMethod || ((coords instanceof DG.LatLngBounds) ?  'intersects' : 'contains');\n\n        var method = checkMethod == 'intersects' ? this._testProjectIntersects : this._testProjectContains;\n        method = method.bind(this, coords);\n\n        if (project) {\n            return method(project);\n        } else {\n            return this._projectList.filter(method)[0];\n        }\n    },\n\n    _projectWatch: function() {\n        if (!this._map._loaded) {\n            return;\n        }\n\n        if (this._osmViewport === (this._project && this._centerInProject(this._project, 'contains'))) {\n            this._osmViewport = !this._osmViewport;\n            this._map.attributionControl._update(null, this._osmViewport);\n        }\n\n        if (this._project && this._zoomInProject(this._project) && this._centerInProject(this._project)) {\n            return;\n        }\n\n        this._searchProject();\n\n        if (this._project) {\n            if (this._osmViewport === (this._project && this._centerInProject(this._project, 'contains'))) {\n                this._osmViewport = !this._osmViewport;\n            }\n            this._map.attributionControl._update(null, this._osmViewport, this._project.country_code);\n        }\n    },\n\n    _checkProjectData: function(project) {\n        function check(value) {\n            return value !== undefined && value !== null;\n        }\n\n        return project &&\n                project.bounds &&\n                check(project.code) &&\n                check(project.domain) &&\n                check(project.country_code) &&\n                check(project.flags) &&\n                project.zoom_level &&\n                    check(project.zoom_level.min) &&\n                    check(project.zoom_level.max) &&\n                project.time_zone &&\n                    check(project.time_zone.offset);\n    },\n\n    _loadProjectList: function() {\n        DG.fallbackProjectsList = DG.fallbackProjectsList || [];\n\n        if (!DG.projectsList) {\n            DG.projectsList = DG.fallbackProjectsList;\n        }\n        delete DG.fallbackProjectsList;\n\n        this._projectList = DG.projectsList\n            .filter(this._checkProjectData)\n            .map(function(project) {\n                var bound = DG.Wkt.toGeoJSON(project.bounds);\n                var latLngBounds = DG.geoJSON(bound).getBounds();\n                var defaultPos = project.default_pos ? DG.latLng(project.default_pos.lat, project.default_pos.lon) : null;\n\n\n                /* eslint-disable camelcase */\n                return {\n                    id: project.id,\n                    code: project.code,\n                    minZoom: project.zoom_level.min,\n                    maxZoom: project.zoom_level.max,\n                    timeOffset: project.time_zone.offset,\n                    bound: bound,\n                    latLngBounds: latLngBounds,\n                    traffic: !!project.flags.traffic,\n                    transport: !!project.flags.public_transport,\n                    roads: !!project.flags.road_network,\n                    country_code: project.country_code,\n                    domain: project.domain,\n                    defaultPos: defaultPos\n                };\n                /* eslint-enable camelcase */\n            });\n    },\n\n    _searchProject: function() {\n        // Вначале отсеиваем регионы по зуму\n        var filteredByZoom = this._projectList.filter(this._zoomInProject, this);\n\n        // Находим проект в границы которого попадает центр карты\n        var foundProjects = filteredByZoom.filter(this._centerInProject, this);\n\n        // Если такой проект не найден, то ищем проекты баунд боксы которых пересекаются с экраном\n        if (foundProjects.length === 0) {\n            var mapBounds = this._map.getBounds();\n            foundProjects = filteredByZoom.filter(DG.bind(this._testProjectIntersects, this, mapBounds));\n\n            if (foundProjects.length > 1) {\n                var mapCenter = this._map.getCenter();\n                var neareastProject = foundProjects[0];\n                for (var i = 1; i < foundProjects.length; i++) {\n                    var currentProject = foundProjects[i];\n                    if (currentProject.defaultPos &&\n                        mapCenter.distanceTo(neareastProject.defaultPos) >\n                        mapCenter.distanceTo(currentProject.defaultPos)\n                    ) {\n                        neareastProject = currentProject;\n                    }\n                }\n                foundProjects = [neareastProject];\n            }\n        }\n\n        var newProject = foundProjects[0] || null;\n\n        if (this._project === newProject) {\n            return;\n        }\n\n        var self = this;\n\n        if (this._project !== null) {\n            this._project = null;\n            setTimeout(function() {\n                self._map.fire('projectleave');\n            }, 1);\n        }\n\n        if (newProject) {\n            this._project = newProject;\n            setTimeout(function() {\n                self._map.fire('projectchange', {getProject: self.getProject.bind(self)});\n            }, 1);\n        }\n    },\n\n    _testProjectIntersects: function(bounds, project) {\n        return project.latLngBounds.intersects(bounds);\n    },\n\n    _testProjectContains: function(latlng, project) {\n        return DG.PolyUtil.inside([latlng.lng, latlng.lat], project.bound);\n    },\n\n    _centerInProject: function(project, checkMethod) {\n        return this.isProjectHere(this._map.getCenter(), project, checkMethod);\n    },\n\n    _zoomInProject: function(project) {\n        return (this._map.getZoom() >= project.minZoom);\n    }\n});\n\nDG.Map.mergeOptions({\n    projectDetector: true\n});\n\nDG.Map.addInitHook('addHandler', 'projectDetector', DG.ProjectDetector);\n\n/*\n * Utility functions\n */\n\nDG.Metric = function() {};\n\n/*\n * DG.Metric.Segments class can calculate total pushed segments length and used to shortcut\n * 'get Something by provided Length' calculations (segment's Index, segment's Length, etc...)\n */\nDG.Metric.Segments = function() {\n    this.length = 0;\n};\n\nDG.Metric.Segments.prototype = {\n    push: function(len) {\n        this[this.length] = this.length > 0 ? this[this.length - 1] + len : len;\n        this.length += 1;\n\n        return this;\n    },\n\n    getLength: function() {\n        return this[this.length - 1];\n    },\n\n    getReverse: function() {\n        var segments = new DG.Metric.Segments();\n        var i = this.length - 1;\n\n        if (i < 0) { return segments; }\n\n        while (i--) {\n            segments.push(this[i + 1] - this[i]);\n        }\n\n        return segments.push(this[0]);\n    },\n\n    getIndex: function(len) {\n        var i = this.length - 1;\n\n        if (i < 0) { return i; }\n\n        while (i--) {\n            if (this[i] <= len) { break; }\n        }\n\n        return i + 1;\n    },\n\n    getSegRatio: function(len) {\n        var i = this.getIndex(len);\n        var sub = i > 0 ? this[i - 1] : 0;\n\n        return (len - sub) / (this[i] - sub);\n    },\n\n    getSegLength: function(len) {\n        var i = this.getIndex(len);\n        var sub = i > 0 ? this[i - 1] : 0;\n\n        return len - sub;\n    }\n};\n\n/*\n * DG.VertexTransform is a classic 2D matrix transformation class\n *\n * Prototype methods can scale/rotate/translate vertices\n *\n * Static methods do the same but return simple array instances with attached\n * .clone() method which can reconstruct full DG.VertexTransform object\n */\n\nDG.VertexTransform = DG.Class.extend({\n    initialize: function(vertices) {\n        this._vertices = vertices;\n\n        this._scale = null;\n        this._angle = null;\n        this._trans = null;\n        this._matrix = null;\n\n        this.load();\n    },\n\n    load: function() {\n        this.vertices = this._vertices.map(function(vertex) { return vertex.clone(); });\n        this.vertices.clone = DG.VertexTransform.clone;\n\n        return this;\n    },\n\n    save: function() {\n        this._vertices = this.vertices.map(function(vertex) { return vertex.clone(); });\n\n        return this;\n    },\n\n    setScale: function(scale) {\n        this._scale = scale;\n        return this;\n    },\n\n    getScale: function() {\n        return this._scale;\n    },\n\n    setAngle: function(angle) {\n        this._angle = angle;\n        return this;\n    },\n\n    getAngle: function() {\n        return this._angle;\n    },\n\n    setTranslation: function(trans) {\n        this._trans = trans;\n        return this;\n    },\n\n    getTranslation: function() {\n        return this._trans;\n    },\n\n    setMatrix: function(matrix) {\n        this._matrix = matrix;\n        return this;\n    },\n\n    getMatrix: function() {\n        return this._matrix;\n    },\n\n    scale: function(scale) {\n        var v = this.vertices;\n        var i = v.length;\n\n        scale = scale || this._scale || 1;\n        while (i--) {\n            v[i].x *= scale;\n            v[i].y *= scale;\n        }\n\n        return this;\n    },\n\n    unScale: function(scale) {\n        scale = scale || this._scale || 1;      //  Also safeguard against zero scale\n        return this.scale(1 / scale);\n    },\n\n    rotate: function(angle) {\n        var cos = angle ? angle.cos : (this._angle ? this._angle.cos : 1);\n        var sin = angle ? angle.sin : (this._angle ? this._angle.sin : 0);\n        var v = this.vertices;\n        var i = v.length;\n        var x, y;\n\n        while (i--) {\n            x = v[i].x;\n            y = v[i].y;\n            v[i].x = x * cos - y * sin;\n            v[i].y = x * sin + y * cos;\n        }\n\n        return this;\n    },\n\n    unRotate: function(angle) {\n        var cos = angle ? angle.cos : (this._angle ? this._angle.cos : 1);\n        var sin = angle ? angle.sin : (this._angle ? this._angle.sin : 0);\n\n        return this.rotate({cos: cos, sin: -sin});\n    },\n\n    translate: function(trans) {\n        var dx = trans ? trans.x : (this._trans ? this._trans.x : 0);\n        var dy = trans ? trans.y : (this._trans ? this._trans.y : 0);\n        var v = this.vertices;\n        var i = v.length;\n\n        while (i--) {\n            v[i].x += dx;\n            v[i].y += dy;\n        }\n\n        return this;\n    },\n\n    unTranslate: function(trans) {\n        var dx = trans ? trans.x : (this._trans ? this._trans.x : 0);\n        var dy = trans ? trans.y : (this._trans ? this._trans.y : 0);\n\n        return this.translate({x: -dx, y: -dy});\n    },\n\n    transform: function(matrix) {\n        var a, b, c, d, dx, dy;\n        var v = this.vertices;\n        var i = v.length;\n        var x, y;\n\n        if (matrix) {\n            a = matrix[0]; b = matrix[1]; dx = matrix[2];\n            c = matrix[3]; d = matrix[4]; dy = matrix[5];\n        } else if (this._matrix) {\n            a = this._matrix[0]; b = this._matrix[1]; dx = this._matrix[2];\n            c = this._matrix[3]; d = this._matrix[4]; dy = this._matrix[5];\n        } else {\n            a = 1; b = 0; dx = 0;\n            c = 0; d = 1; dy = 0;\n        }\n\n        while (i--) {\n            x = v[i].x;\n            y = v[i].y;\n            v[i].x = x * a + y * b + dx;\n            v[i].y = x * c + y * d + dy;\n        }\n\n        return this;\n    },\n\n    statics: {\n        scale: function(vt, scale) {\n            var v = vt.vertices;\n            var result = [];\n            var x, y;\n\n            scale = scale || 1;\n            for (var i = 0; i < v.length; i++) {\n                x = v[i].x * scale;\n                y = v[i].y * scale;\n                result.push(new DG.Point(x, y));\n            }\n            result.clone = DG.VertexTransform.clone;\n\n            return result;\n        },\n\n        unScale: function(vt, scale) {\n            scale = scale || 1;         //  Also safeguard against zero scale\n            return DG.VertexTransform.scale(vt, 1 / scale);\n        },\n\n        rotate: function(vt, angle) {\n            var cos = angle ? angle.cos : 1;\n            var sin = angle ? angle.sin : 0;\n            var v = vt.vertices;\n            var x, y, rx, ry;\n            var result = [];\n\n            for (var i = 0; i < v.length; i++) {\n                rx = v[i].x;\n                ry = v[i].y;\n                x = rx * cos - ry * sin;\n                y = rx * sin + ry * cos;\n                result.push(new DG.Point(x, y));\n            }\n            result.clone = DG.VertexTransform.clone;\n\n            return result;\n        },\n\n        unRotate: function(vt, angle) {\n            var cos = angle ? angle.cos : 1;\n            var sin = angle ? angle.sin : 0;\n\n            return DG.VertexTransform.rotate(vt, {cos: cos, sin: -sin});\n        },\n\n        translate: function(vt, trans) {\n            var dx = trans ? trans.x : 0;\n            var dy = trans ? trans.y : 0;\n            var v = vt.vertices;\n            var result = [];\n            var x, y;\n\n            for (var i = 0; i < v.length; i++) {\n                x = v[i].x + dx;\n                y = v[i].y + dy;\n                result.push(new DG.Point(x, y));\n            }\n            result.clone = DG.VertexTransform.clone;\n\n            return result;\n        },\n\n        unTranslate: function(vt, trans) {\n            var dx = trans ? trans.x : 0;\n            var dy = trans ? trans.y : 0;\n\n            return DG.VertexTransform.translate(vt, {x: -dx, y: -dy});\n        },\n\n        clone: function() {\n            //  'this' is an array\n            return new DG.VertexTransform(this).save();\n        },\n\n        getLength: function(vec1, vec2) {\n            var dx, dy;\n\n            if (typeof vec1 === 'number') {\n                //  'vec1' and 'vec2' are absolute coordinates of vector\n                return Math.sqrt(vec1 * vec1 + vec2 * vec2);\n            } else {\n                //  'vec1' and 'vec2' are vector objects\n                dx = vec2.x - vec1.x;\n                dy = vec2.y - vec1.y;\n                return Math.sqrt(dx * dx + dy * dy);\n            }\n        },\n\n        getScaled: function(vec1, vec2, scale) {\n            var dx, dy;\n\n            if (typeof vec1 === 'number') {\n                //  'vec1' and 'vec2' are absolute coordinates of vector\n                return new DG.Point(vec1 * scale, vec2 * scale);\n            } else {\n                //  'vec1' and 'vec2' are vector objects\n                dx = (vec2.x - vec1.x) * scale;\n                dy = (vec2.y - vec1.y) * scale;\n                return new DG.Point(vec1.x + dx, vec1.y + dy);\n            }\n        },\n\n        getAngle: function(vec1, vec2, origin) {\n            var l, sp, x1, y1, x2, y2;\n\n            if (typeof vec1 === 'number') {\n                //  'vec1' and 'vec2' are absolute coordinates of vector\n                l = Math.sqrt(vec1 * vec1 + vec2 * vec2);\n                if (l > 0) {\n                    return {cos: vec1 / l, sin: vec2 / l};\n                } else {\n                    return {cos: 1, sin: 0};\n                }\n            } else {\n                //  'vec1' and 'vec2' are vector objects\n                x1 = vec1.x; y1 = vec1.y;\n                x2 = vec2.x; y2 = vec2.y;\n                if (origin) {\n                    x1 -= origin.x; y1 -= origin.y;\n                    x2 -= origin.x; y2 -= origin.y;\n                }\n                sp = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2);\n                return {\n                    cos: (x1 * x2 + y1 * y2) / sp,\n                    sin: (x1 * y2 - x2 * y1) / sp\n                };\n            }\n        },\n\n        getAnglesSum: function(angle1, angle2) {\n            return {\n                cos: angle1.cos * angle2.cos - angle1.sin * angle2.sin,\n                sin: angle1.sin * angle2.cos + angle1.cos * angle2.sin\n            };\n        },\n\n        getAnglesDif: function(angle1, angle2) {\n            return {\n                cos: angle1.cos * angle2.cos + angle1.sin * angle2.sin,\n                sin: angle1.sin * angle2.cos - angle1.cos * angle2.sin\n            };\n        }\n    }\n});\n\n/*\n * DG.ArrowPathTransform class is a core of arrow's body calculations\n *\n * General ideas are:\n *      We construct arrow body with stroke points making arcs on outer path turns\n *      Processing is done segment by segment around {0, 0} virtual point\n *          and resulting 'path' finally rotated to it's original map's angle (.fullAngle)\n *      Subset of this vertices lately used in .subPath() calculations which can be used\n *          in animations for ex.\n *\n *  Final translation (see DG.Entrance.Arrow) moves arrow objects to their original positions\n */\n\nDG.ArrowPathTransform = DG.VertexTransform.extend({\n    initialize: function(path) {\n        //  'path.offset' is initial points offset (-x / +x) to compensate arrow tip length\n\n        //  Skip super initialization as we need only subset of DG.VertexTransform power\n        this._lengths = new DG.Metric.Segments();\n        this._vertices = [[], []];\n        this._drawings = [[], []];\n        //  this._arcs = [];    //  initialized in _setPath()\n\n        this._setPath(path);\n        this.subPath(1);\n    },\n\n    load: function() {\n        return this.subPath(1);\n    },\n\n    save: function() {\n        return this;    //  NoOp\n    },\n\n    //  Method constructs new path points with some displacement from original 'path'\n    //  Outer corners will be smoothed by arcs (cubic Bézier curves)\n    _setPath: function(path) {\n        var transform = DG.ArrowPathTransform.transform;\n        var vertices = this._vertices;\n        var drawings = this._drawings;\n        var Point = DG.Point;\n        var width = path.width;\n        var arcs = [[], [], []];\n        var lengths = [];\n\n        var i, x,\n            ax, bx, cx,\n            angles, angle;\n\n        vertices.push(path.vertices);   //  expect .pop() in final transform\n        vertices[0].push(new DG.Point(path.offset, +width));\n        vertices[1].push(new DG.Point(path.offset, -width));\n        angles = DG.ArrowPathTransform.getAngles(path);\n\n        cx = -path.offset;\n        for (i = 0; i < angles.length; i++) {\n            x = path.vertices[i + 1].x;\n            ax = width * angles[i].cot;\n\n            //  http://pomax.github.io/bezierinfo/#circles_cubic\n            //  actual equation is (4/3 * tan(α/4) * radius)\n            bx = angles[i].tan * width * 8 / 3;\n\n            //  Next code can be combined by -/+ inversion but for simplicity it is left as is\n            if (ax > 0) {\n                vertices[0].push(new Point(x + ax,      +width));\n                drawings[0].push('L');\n\n                arcs[2].push(1);\n                arcs[1].push(vertices[1].length);\n                vertices[1].push(new Point(x + ax,      -width));\n                vertices[1].push(new Point(x + ax - bx, -width));\n\n                transform(vertices, angles[i], {x: x, y: 0});\n\n                vertices[1].push(new Point(0 - ax + bx, -width));\n                vertices[1].push(new Point(0 - ax,      -width));\n                drawings[1].push('L', 'C');\n\n                lengths.push(Math.abs(x + ax) - cx); cx = +ax;\n            } else {\n                vertices[1].push(new Point(x - ax,      -width));\n                drawings[1].push('L');\n\n                arcs[2].push(0);\n                arcs[0].push(vertices[0].length);\n                vertices[0].push(new Point(x - ax,      +width));\n                vertices[0].push(new Point(x - ax + bx, +width));\n\n                transform(vertices, angles[i], {x: x, y: 0});\n\n                vertices[0].push(new Point(0 + ax - bx, +width));\n                vertices[0].push(new Point(0 + ax,      +width));\n                drawings[0].push('L', 'C');\n\n                lengths.push(Math.abs(x - ax) - cx); cx = -ax;\n            }\n        }\n\n        //  Final segments and tail arc\n        ax = path.vertices[i + 1].x;\n        bx = width * 4 / 3; // tan(PI/4) = 1\n\n        vertices[0].push(new Point(ax, +width));\n        vertices[1].push(new Point(ax, -width));\n\n        vertices[0].push(new Point(ax - bx, +width));\n        vertices[1].push(new Point(ax - bx, -width));\n\n        drawings[0].push('L');\n        drawings[1].push('L');\n\n        lengths.push(Math.abs(ax) - cx);\n\n        //  Reverse right path\n        vertices[1].reverse();\n        drawings[1].reverse();\n\n        //  Move vertices into original position (before last translation)\n        angle = DG.VertexTransform.getAnglesSum(angles.fullAngle, path.getAngle());\n        transform(vertices, angle, vertices.pop()[0]);  //  path.vertices[0]\n\n        //  We need to reconstruct arc's indexes but too many variables already touched, reuse some of them\n        ax = vertices[0].length;\n        bx = vertices[1].length;\n        this._arcs = arcs[2].map(function(i) {\n            cx = arcs[i].shift();\n            if (i > 0) {\n                return new DG.ArcBezier(vertices[1].slice(bx - cx - 4, bx - cx));\n            } else {\n                return new DG.ArcBezier(vertices[0].slice(cx, cx + 4).reverse());\n            }\n        }).reverse();\n\n        this._lengths.push(lengths.pop());\n        lengths.reverse().forEach(function(l, i) {\n            this._lengths.push(this._arcs[i].getLength()).push(l);\n        }, this);\n\n        //  Shortcut border cases (0%-length sub-path and full-path)\n        this[0] = {\n            vertices: [vertices[0][ax - 2], vertices[0][ax - 1], vertices[1][0], vertices[1][1]],\n            drawings: ['M', 'C']\n        };\n        this[1] = {\n            vertices: vertices[0].concat(vertices[1]),\n            drawings: ['M'].concat(drawings[0], 'C', drawings[1])\n        };\n    },\n\n    _setAngleAndDisplacement: function(vL, vR) { // Used in DG.ArrowTipTransform.subShape()\n        this.angle = DG.VertexTransform.getAngle({x: vL.x - vR.x, y: vL.y - vR.y}, {x: 0, y: 1});\n        this.displ = vR.clone();\n    },\n\n    subPath: function(pathRatio) {\n        pathRatio = pathRatio > 1 ? 1 : pathRatio;\n\n        //  Shortcut border cases (0%-length sub-path and full-path)\n        if (pathRatio === 0 || pathRatio === 1) {\n            this.vertices = this[pathRatio].vertices.map(function(vertex) { return vertex.clone(); });\n            this.drawings = this[pathRatio].drawings;\n            this._setAngleAndDisplacement(this.vertices[0], this.vertices[this.vertices.length - 1]);\n            return this;\n        }\n\n        var getScaled = DG.VertexTransform.getScaled;\n        var vertices = this._vertices;\n        var drawings = this._drawings;\n        var lengths = this._lengths;\n        var len = lengths.getLength() * pathRatio;\n        var segIndex = lengths.getIndex(len);\n        var segRatio = lengths.getSegRatio(len);\n        var vertexIndexLeft = vertices[0].length - 2;\n        var vertexIndexRight = 1;\n        var drawingIndexLeft = drawings[0].length - 1;\n        var drawingIndexRight = 0;\n        var vertexLeft, vertexRight;\n        var arc = 0, aed = 0;\n\n        while (aed++ < segIndex) {\n            if (aed % 2 == 1) {\n                vertexIndexLeft--;\n                drawingIndexLeft--;\n                vertexIndexRight++;\n                drawingIndexRight++;\n            } else {\n                if (drawings[0][drawingIndexLeft] === 'C') {\n                    vertexIndexLeft -= 3;\n                    drawingIndexLeft -= 1;\n                } else {\n                    vertexIndexRight += 3;\n                    drawingIndexRight += 1;\n                }\n                arc++;\n            }\n        }\n\n        if (segIndex % 2 == 1) {\n            //  One path ends with an arc\n            arc = this._arcs[arc];\n            if (drawings[0][drawingIndexLeft] === 'C') {\n                arc = arc.getCurveBefore(arc.getTbyL(lengths.getSegLength(len)));\n                vertexLeft = arc.points[3];\n                vertexRight = vertices[1][vertexIndexRight];\n                this.vertices = arc.points.slice(1).reverse()\n                    .concat(vertices[0].slice(vertexIndexLeft), vertices[1].slice(0, vertexIndexRight + 1))\n                    .map(function(vertex) { return vertex.clone(); });\n                this.drawings = ['M'].concat(drawings[0].slice(drawingIndexLeft), 'C', drawings[1].slice(0, drawingIndexRight));\n            } else {\n                arc = arc.getCurveBefore(arc.getTbyL(lengths.getSegLength(len)));\n                vertexLeft = vertices[0][vertexIndexLeft];\n                vertexRight = arc.points[3];\n                this.vertices = vertices[0].slice(vertexIndexLeft)\n                    .concat(vertices[1].slice(0, vertexIndexRight + 1), arc.points.slice(1))\n                    .map(function(vertex) { return vertex.clone(); });\n                this.drawings = ['M'].concat(drawings[0].slice(drawingIndexLeft + 1), 'C', drawings[1].slice(0, drawingIndexRight + 1));\n            }\n        } else {\n            //  Both paths end with lines\n            vertexLeft = getScaled(vertices[0][vertexIndexLeft], vertices[0][vertexIndexLeft - 1], segRatio);\n            vertexRight = getScaled(vertices[1][vertexIndexRight], vertices[1][vertexIndexRight + 1], segRatio);\n            this.vertices = [vertexLeft]\n                .concat(vertices[0].slice(vertexIndexLeft), vertices[1].slice(0, vertexIndexRight + 1), vertexRight)\n                .map(function(vertex) { return vertex.clone(); });\n            this.drawings = ['M'].concat(drawings[0].slice(drawingIndexLeft), 'C', drawings[1].slice(0, drawingIndexRight + 1));\n        }\n\n        this._setAngleAndDisplacement(vertexLeft, vertexRight);\n        return this;\n    },\n\n    statics: {\n        getAngles: function(path) {\n            var getAngle = DG.VertexTransform.getAngle;\n            var fullAngle = {cos: 1, sin: 0};\n            var vertices = path.vertices;\n            var angles = [];\n\n            var absSin, angle,\n                cos, sin, cot, temp, sign;\n\n            for (var i = 1, len = vertices.length - 1; i < len; i++) {\n                angle = getAngle(vertices[i - 1], vertices[i + 1], vertices[i]);\n\n                absSin = Math.abs(angle.sin);\n                if (absSin < 0.000001) {\n                    //  Exclude 180° angle from vertices array\n                    vertices.splice(vertices.length - i - 1, 1);\n                    len--;\n                    i--;\n                } else {\n                    //  This is half ∢α cotangent, sign describes angle direction and used to shortcut stroke calculations\n                    //  '-1' - right angle is inner angle, '1' - left angle is inner angle (if seen from [0, 0] to [-1, 0])\n                    angle.cot = (1 + angle.cos) / angle.sin;\n\n                    //  We need to rotate next segment to [-1, 0] axis, so we need complementary angle actually\n                    angle.cos = -angle.cos;\n\n                    //  Complimentary angle also used to calculate it's quaternary ∢β tangent\n                    //  ∢β tangent used in approximation of outer arc segment by Bézier curve\n                    cot = (1 + angle.cos) / angle.sin;\n                    sign = cot < 0 ? -1 : 1;\n                    temp = sign * Math.sqrt(4 * cot * cot + 4);\n                    angle.tan = -0.5 * (cot + cot - temp);\n\n                    angles.push(angle);\n\n                    cos = fullAngle.cos * angle.cos - fullAngle.sin * angle.sin;\n                    sin = fullAngle.sin * angle.cos + fullAngle.cos * angle.sin;\n\n                    fullAngle = {cos: cos, sin: sin};\n                }\n            }\n\n            //  Used in final stroke points translation\n            angles.fullAngle =  {cos: fullAngle.cos, sin: -fullAngle.sin};\n            return angles;\n        },\n\n        //  TODO - if length of 'latlngs' array is less than 2 or it is undefined next function produces exception\n        //  check this condition in outer routines?!\n        getTranslatedPath: function(map, latlngs) {\n            var path = new DG.VertexTransform([]);\n            var i = latlngs.length - 1;\n            var v = map.project(latlngs[i]);\n            var dx = v.x, dy = v.y;\n\n            path.vertices.push(new DG.Point(0, 0));\n            while (i--) {\n                v = map.project(latlngs[i]);\n                path.vertices.push(new DG.Point(v.x - dx, v.y - dy));\n            }\n            return path\n                .setAngle(DG.VertexTransform.getAngle(-path.vertices[1].x, -path.vertices[1].y))\n                .unRotate();\n        },\n\n        transform: function(rings, angle, vector) {\n            var i = rings.length;\n            var cos = angle.cos;\n            var sin = angle.sin;\n            var dx = vector.x;\n            var dy = vector.y;\n            var ring, x, y, j;\n\n            while (i--) {\n                ring = rings[i];\n                j = ring.length;\n                while (j--) {\n                    x = ring[j].x - dx;\n                    y = ring[j].y - dy;\n                    ring[j].x = x * cos - y * sin;\n                    ring[j].y = x * sin + y * cos;\n                }\n            }\n        }\n    }\n});\n\n/*\n * DG.ArrowTipTransform class is a core of arrow's tip calculations\n *\n * .subShape() routine 'bound' arrow's tip to the ending points of .subPath()\n * calculated separately in DG.ArrowPathTransform\n *\n *  Final translation (see DG.Entrance.Arrow) moves arrow objects to their original positions\n */\n\nDG.ArrowTipTransform = DG.VertexTransform.extend({\n    initialize: function(path, shape) {\n        this.drawings = shape.drawings; //  static mapping\n        this._vertices = shape.vertices;\n\n        this._setShape(path, shape);\n    },\n\n    _setShape: function(path, shape) {\n        var sp = shape.vertices[0];\n        var width = Math.abs(sp.y);\n        var pl = path.vertices[1].x;    //  negative value\n        var length = sp.x;              //  negative value\n        var offset = pl - length + width + width;\n\n        path.width = width;\n        path.offset = length + (offset > 0 ? offset : 0);\n        if (path.vertices.length < 3 && length > -10) {\n            path.offset += 2.5;\n        }\n\n        this._vertices = this.load().unTranslate(sp).vertices;\n    },\n\n    subShape: function(transform) {\n        this.load().unRotate(transform.angle).translate(transform.displ);\n        return this;\n    }\n});\n\n/*\n * DG.ComplexPath is a simple vector layer class with empty .getEvents() object(!)\n * It's drawing logic is maintained in DG.Entrance.Arrow class\n *\n * _pxBounds is a pixel bounds of this drawings and they are used in L.Canvas\n */\n\nDG.ComplexPath = DG.Path.extend({\n    options: {\n        fill: true,\n        fillOpacity: 1,\n        interactive: false\n    },\n\n    initialize: function(options) {\n        DG.setOptions(this, options);\n\n        this._empty = [];\n\n        this._pxEmpty = DG.bounds(\n            DG.point(0, 0), DG.point(0, 0)\n        );\n        this._pxBounds = this._pxEmpty;\n\n        this._vertices = [this._empty];\n        this._drawings = [this._empty];\n    },\n\n    getEvents: function() {\n        return {};\n    },\n\n    _project: function() {\n        var opts = this.options,\n            zoom, weight;\n\n        if (this._map) {\n            zoom = this._map.getZoom();\n        } else {\n            return;\n        }\n\n        if (opts.visibility.isShown && opts.transform[zoom]) {\n            //  Next numbers was empirically selected in order to provide visual compliance\n            //  to the original arrow's implementation\n            weight = 2.2 - ((19 - zoom) * 0.2);\n            if (opts.weight !== weight) {\n                this.setStyle({weight: +weight.toFixed(2)});\n            }\n\n            this._vertices[0] = opts.transform[zoom].vertices;\n            this._drawings[0] = opts.transform[zoom].drawings;\n\n            this._pxBounds = opts.transform[zoom]._pxBounds;\n        } else {\n            this._vertices[0] = this._empty;\n            this._drawings[0] = this._empty;\n\n            this._pxBounds = this._pxEmpty;\n        }\n    },\n\n    _update: function() {\n        if (this._map) {\n            this._updatePath();\n        }\n    },\n\n    _updatePath: function() {  //  used in Canvas renderer\n        this._renderer._updateComplexPath(this);\n    }\n});\n\n/*\n * Actual painting methods that can draw complex objects with curves\n *\n * Point coordinates must be provided in layer._vertices object\n * And types of line must be provided in layer._drawings object\n */\n\nDG.extend(L.Canvas.prototype, {\n    _updateComplexPath: function(layer, closed) {\n        var i, j, k, d, x, y, _x, _y, $x, $y, points;\n        var drawings = layer._drawings;\n        var vertices = layer._vertices;\n        var ctx = this._ctx;\n\n        this._drawnLayers[layer._leaflet_id] = layer;\n\n        //  TODO: Do we need to do a 'beginPath()' and possible 'closePath()' per ring?!\n        ctx.beginPath();\n\n        for (i = 0; i < vertices.length; i++) {\n            points = vertices[i];\n            x = y = 0;\n            j = k = 0;\n            while (j < points.length) {\n                d = drawings[i][k++];\n                switch (d) {\n                    case 'M':\n                        x = points[j].x;\n                        y = points[j].y;\n                        j += 1;\n                        ctx.moveTo(x, y);\n                        break;\n\n                    case 'm':\n                        x += points[j].x;\n                        y += points[j].y;\n                        j += 1;\n                        ctx.moveTo(x, y);\n                        break;\n\n                    case 'L':\n                        x = points[j].x;\n                        y = points[j].y;\n                        j += 1;\n                        ctx.lineTo(x, y);\n                        break;\n\n                    case 'l':\n                        x += points[j].x;\n                        y += points[j].y;\n                        j += 1;\n                        ctx.lineTo(x, y);\n                        break;\n\n                    case 'C':\n                        _x = points[j].x;\n                        _y = points[j].y;\n                        j += 1;\n                        $x = points[j].x;\n                        $y = points[j].y;\n                        j += 1;\n                        x = points[j].x;\n                        y = points[j].y;\n                        j += 1;\n                        ctx.bezierCurveTo(_x, _y, $x, $y, x, y);\n                        break;\n\n                    case 'c':\n                        _x = x + points[j].x;\n                        _y = y + points[j].y;\n                        j += 1;\n                        $x = x + points[j].x;\n                        $y = y + points[j].y;\n                        j += 1;\n                        x = x + points[j].x;\n                        y = y + points[j].y;\n                        j += 1;\n                        ctx.bezierCurveTo(_x, _y, $x, $y, x, y);\n                        break;\n\n                    case 'Q':\n                        _x = points[j].x;\n                        _y = points[j].y;\n                        j += 1;\n                        x = points[j].x;\n                        y = points[j].y;\n                        j += 1;\n                        ctx.quadraticCurveTo(_x, _y, x, y);\n                        break;\n\n                    case 'q':\n                        _x = x + points[j].x;\n                        _y = y + points[j].y;\n                        j += 1;\n                        x = x + points[j].x;\n                        y = y + points[j].y;\n                        j += 1;\n                        ctx.quadraticCurveTo(_x, _y, x, y);\n                        break;\n                }\n            }\n            if (closed) {\n                ctx.closePath();\n            }\n        }\n\n        this._fillStroke(ctx, layer);\n    }\n});\n\n\nDG.extend(L.SVG.prototype, {\n    _updateComplexPath: function(layer, closed) {\n        this._setPath(layer, L.SVG.complexPointsToPath(layer._vertices, layer._drawings, closed));\n    }\n});\n\n\nDG.extend(L.SVG, {\n    complexPointsToPath: function(vertices, drawings, closed) {\n        var str = '';\n        var svg = DG.Browser.svg;\n        var i, j, k, n, d, points;\n\n        for (i = 0; i < vertices.length; i++) {\n            points = vertices[i];\n\n            //  Speedup hot path by removing if/ternary condition checks but duplicating loops\n            if (svg) {\n                j = k = 0;\n                while (j < points.length) {\n                    d = drawings[i][k++];\n                    switch (d) {\n                        case 'C':\n                        case 'c':   n = 3; break;\n                        case 'Q':\n                        case 'q':   n = 2; break;\n\n                        default:    n = 1;  //  'M', 'm', 'L', 'l', ...\n                    }\n                    str += d;\n                    while (n--) {\n                        str += points[j].x.toFixed(4) + ',' + points[j].y.toFixed(4) + ' ';\n                        j += 1;\n                    }\n                }\n            } else {\n                //  vml in IE8 can support only integer values in 'path', sorry about loss of precision\n                j = k = 0;\n                while (j < points.length) {\n                    d = drawings[i][k++];\n                    switch (d) {\n                        case 'M':   d = 'm'; n = 1; break;\n                        case 'm':   d = 't'; n = 1; break;\n                        case 'L':   d = 'l'; n = 1; break;\n                        case 'l':   d = 'r'; n = 1; break;\n                        case 'C':   d = 'c'; n = 3; break;\n                        case 'c':   d = 'v'; n = 3; break;\n                        case 'Q':\n                            //  VML spec has 'qb' command in 'v' attribute string but no 'relativeTo' compliment\n                            //  So we'll emulate Cubic Bézier curve by applying Quadratic variant in both cases\n                            //  TODO: Both control points will use the same value but this is not true solution\n                            str += 'C' +\n                                points[j].x.toFixed(0) + ',' + points[j].y.toFixed(0) + ' ' +\n                                points[j].x.toFixed(0) + ',' + points[j].y.toFixed(0) + ' ' +\n                                points[j + 1].x.toFixed(0) + ',' + points[j + 1].y.toFixed(0) + ' ';\n                            j += 2;\n                            d = '';\n                            n = 0;\n                            break;\n                        case 'q':\n                            str += 'c' +\n                                points[j].x.toFixed(0) + ',' + points[j].y.toFixed(0) + ' ' +\n                                points[j].x.toFixed(0) + ',' + points[j].y.toFixed(0) + ' ' +\n                                points[j + 1].x.toFixed(0) + ',' + points[j + 1].y.toFixed(0) + ' ';\n                            j += 2;\n                            d = '';\n                            n = 0;\n                            break;\n\n                        default:    n = 1;\n                    }\n                    str += d;\n                    while (n--) {\n                        str += points[j].x.toFixed(0) + ',' + points[j].y.toFixed(0) + ' ';\n                        j += 1;\n                    }\n                }\n            }\n\n            str += closed ? (svg ? 'z' : 'x') : '';\n        }\n\n        // SVG complains about empty path strings\n        return str || 'm0,0';\n    }\n});\n\n/*\n * DGBezierCurves is a collection of three classes:\n * Original DG.Bezier class provides basic math for Cubic and Quadratic Bézier curves\n * DG.TimeBezier used in animation effects it can return 'Distance' (Y) by Time (X) value\n * DG.ArcBezier can return 't' value by curve's segment length\n * Actual calculations can be very hard (in math terms) so we use LUT's to optimize them\n *\n * Original ideas come from this source:   https://pomax.github.io/bezierinfo/\n */\n\nDG.Bezier = DG.Class.extend({\n    /**\n     * Initialize curve object by provided control points\n     * @param {Array<DG.Point>} coords Curve's control points in DG.Point format (up to four control points supported)\n     * @param {boolean} [clone] Clone original points or not (Default)\n     */\n    initialize: function(coords, clone) {\n        if (clone) {\n            this.points = coords.map(function(coord) { return coord.clone(); });\n        } else {\n            this.points = coords;\n        }\n        this.dpoints = this._getDerivatives();\n        this.order = this.points.length - 1;\n        this._lut = [];\n    },\n\n    getPoint: function(t) {\n        var p = this.points;\n        var mt, mt2, t2;\n        var a, b, c, d;\n\n        if (t === 0) { return p[0]; }\n        if (t === 1) { return p[this.order]; }\n\n        mt = 1 - t;\n        mt2 = mt * mt;\n        t2 = t * t;\n\n        if (this.order > 2) {\n            a = mt2 * mt;\n            b = mt2 * t * 3;\n            c = mt * t2 * 3;\n            d = t * t2;\n        } else {\n            p = [p[0], p[1], p[2], {x: 0, y: 0}];\n            a = mt2;\n            b = mt * t * 2;\n            c = t2;\n            d = 0;\n        }\n\n        return new DG.Point(\n            a * p[0].x + b * p[1].x + c * p[2].x + d * p[3].x,\n            a * p[0].y + b * p[1].y + c * p[2].y + d * p[3].y\n        );\n    },\n\n    derivative: function(t) {\n        var p = this.dpoints[0];\n        var mt = 1 - t;\n        var a, b, c;\n\n        if (this.order > 2) {\n            a = mt * mt;\n            b = mt * t * 2;\n            c = t * t;\n        } else {\n            p = [p[0], p[1], {x: 0, y: 0}];\n            a = mt; b = t; c = 0;\n        }\n\n        return new DG.Point(\n            a * p[0].x + b * p[1].x + c * p[2].x,\n            a * p[0].y + b * p[1].y + c * p[2].y\n        );\n    },\n\n    getLength: function() {\n        /* eslint-disable camelcase */\n        var w_i = DG.Bezier.WEIGHT;\n        var x_i = DG.Bezier.ABSCISSA;\n        var z = 0.5;\n        var sum = 0;\n        var d, l, t;\n\n        for (var i = 0; i < x_i.length; i++) {\n            t = z * x_i[i] + z;\n            d = this.derivative(t);\n            l = d.x * d.x + d.y * d.y;\n            sum += w_i[i] * Math.sqrt(l);\n        }\n        /* eslint-enable camelcase */\n\n        return z * sum;\n    },\n\n    getCurveBefore: function(z) {\n        var p = this.points;\n        var z2, z3, mz, mz2, mz3;\n        var b$3, b$4, c$4;\n        var curve;\n\n        if (z === 1) { return this.clone(); }\n\n        curve = [];\n        z2 = z * z;\n        mz = z - 1;\n        mz2 = mz * mz;\n\n        curve[0] = new DG.Point(\n            p[0].x,\n            p[0].y\n        );\n\n        curve[1] = new DG.Point(\n            z * p[1].x - mz * p[0].x,\n            z * p[1].y - mz * p[0].y\n        );\n\n        b$3 = z * mz * 2;\n        curve[2] = new DG.Point(\n            z2 * p[2].x - b$3 * p[1].x + mz2 * p[0].x,\n            z2 * p[2].y - b$3 * p[1].y + mz2 * p[0].y\n        );\n\n        if (this.order > 2) {\n            z3 = z2 * z;\n            mz3 = mz2 * mz;\n            b$4 = z2 * mz * 3;\n            c$4 = z * mz2 * 3;\n            curve[3] = new DG.Point(\n                z3 * p[3].x - b$4 * p[2].x + c$4 * p[1].x - mz3 * p[0].x,\n                z3 * p[3].y - b$4 * p[2].y + c$4 * p[1].y - mz3 * p[0].y\n            );\n        }\n\n        return new DG.Bezier(curve);\n    },\n\n    getCurveAfter: function(z) {\n        var p = this.points;\n        var n = this.order;\n        var z2, z3, mz, mz2, mz3;\n        var b$3, b$4, c$4;\n        var curve;\n\n        if (z === 1) { return this.clone(); }\n\n        curve = [];\n        z2 = z * z;\n        mz = z - 1;\n        mz2 = mz * mz;\n\n        curve[n] = new DG.Point(\n            p[n].x,\n            p[n].y\n        );\n\n        curve[--n] = new DG.Point(\n            z * p[n + 1].x - mz * p[n].x,\n            z * p[n + 1].y - mz * p[n].y\n        );\n\n        b$3 = z * mz * 2;\n        curve[--n] = new DG.Point(\n            z2 * p[n + 2].x - b$3 * p[n + 1].x + mz2 * p[n].x,\n            z2 * p[n + 2].y - b$3 * p[n + 1].y + mz2 * p[n].y\n        );\n\n        if (this.order > 2) {\n            z3 = z2 * z;\n            mz3 = mz2 * mz;\n            b$4 = z2 * mz * 3;\n            c$4 = z * mz2 * 3;\n            curve[--n] = new DG.Point(\n                z3 * p[n + 3].x - b$4 * p[n + 2].x + c$4 * p[n + 1].x - mz3 * p[n].x,\n                z3 * p[n + 3].y - b$4 * p[n + 2].y + c$4 * p[n + 1].y - mz3 * p[n].y\n            );\n        }\n\n        return new DG.Bezier(curve);\n    },\n\n    _getDerivatives: function() {\n        var p = this.points;\n        var d, c, j, list;\n        var result = [];\n\n        for (d = p.length, c = d - 1; d > 1; d--, c--) {\n            list = [];\n            for (j = 0; j < c; j++) {\n                list.push(new DG.Point(\n                    c * (p[j + 1].x - p[j].x),\n                    c * (p[j + 1].y - p[j].y)\n                ));\n            }\n            result.push(list);\n            p = list;\n        }\n\n        return result;\n    },\n\n    getLUT: function(steps) {\n        steps = steps || 125;\n\n        if (this._lut.length !== steps + 1) {\n            if (this.order > 2) {\n                this._setLUT3(steps);\n            } else {\n                this._setLUT2(steps);\n            }\n        }\n\n        return this._lut;\n    },\n\n    _setLUT2: function(steps) {\n        var lut = this._lut = [];\n        var p = this.points;\n        var t, mt;\n        var a, b, c;\n\n        lut.push({x: p[0].x, y: p[0].y, l: 0});\n        for (var s = 1; s < steps; s++) {\n            t = s / steps;\n            mt = 1 - t;\n            a = mt * mt;\n            b = mt * t * 2;\n            c = t * t;\n            lut.push({\n                x: a * p[0].x + b * p[1].x + c * p[2].x,\n                y: a * p[0].y + b * p[1].y + c * p[2].y\n            });\n        }\n        lut.push({x: p[2].x, y: p[2].y, l: 0});\n    },\n\n    _setLUT3: function(steps) {\n        var lut = this._lut = [];\n        var p = this.points;\n        var t, t2, mt, mt2;\n        var a, b, c, d;\n\n        lut.push({x: p[0].x, y: p[0].y, l: 0});\n        for (var s = 1; s < steps; s++) {\n            t = s / steps;\n            mt = 1 - t;\n            mt2 = mt * mt;\n            t2 = t * t;\n            a = mt2 * mt;\n            b = mt2 * t * 3;\n            c = mt * t2 * 3;\n            d = t * t2;\n            lut.push({\n                x: a * p[0].x + b * p[1].x + c * p[2].x + d * p[3].x,\n                y: a * p[0].y + b * p[1].y + c * p[2].y + d * p[3].y\n            });\n        }\n        lut.push({x: p[3].x, y: p[3].y, l: 0});\n    },\n\n    clone: function() {\n        return new DG.Bezier(this.points, true);\n    }\n});\n\nDG.bezier = function(coords) {\n    if (typeof coords === 'number' || coords instanceof DG.Point) {\n        coords = Array.prototype.slice.call(arguments);\n    }\n\n    if (typeof coords[0] === 'number') {\n        if (coords.length < 7) {\n            coords = [\n                new DG.Point(coords[0], coords[1]),\n                new DG.Point(coords[2], coords[3]),\n                new DG.Point(coords[4], coords[5])\n            ];\n        } else {\n            coords = [\n                new DG.Point(coords[0], coords[1]),\n                new DG.Point(coords[2], coords[3]),\n                new DG.Point(coords[4], coords[5]),\n                new DG.Point(coords[6], coords[7])\n            ];\n        }\n        return new DG.Bezier(coords);\n    } else {\n        return new DG.Bezier(coords, true);\n    }\n};\n\n/* eslint-disable indent */\nDG.Bezier.WEIGHT = [\n    0.3626837833783620,\n    0.3626837833783620,\n    0.3137066458778873,\n    0.3137066458778873,\n    0.2223810344533745,\n    0.2223810344533745,\n    0.1012285362903763,\n    0.1012285362903763\n];\nDG.Bezier.ABSCISSA = [\n   -0.1834346424956498,\n    0.1834346424956498,\n   -0.5255324099163290,\n    0.5255324099163290,\n   -0.7966664774136267,\n    0.7966664774136267,\n   -0.9602898564975363,\n    0.9602898564975363\n];\n/* eslint-enable indent */\n\n\n//  This curve is monotonically ordered by 'X' coordinate and has P[0] = {0, 0} and P[3] = {1, 1}\n//  We can utilize this facts to shortcut calculations\nDG.TimeBezier = DG.Bezier.extend({\n    initialize: function(controlPoint1, controlPoint2, clone) {\n        DG.Bezier.prototype.initialize.call(\n            this,\n            [DG.TimeBezier.START, controlPoint1, controlPoint2, DG.TimeBezier.END],\n            clone\n        );\n    },\n\n    getYbyX: function(x) {\n        var lut = this.getLUT();\n        var max = lut.length - 1;\n        var min = 0;\n        var mid;\n\n        if (x <= 0) { return 0; }\n        if (x >= 1) { return 1; }\n\n        //  'X' is monotonically increasing so we can do a simple binary search (LUT)\n        //  and then fine-tune the result by linear interpolation assuming 'Y' is not changed so radically\n        while (true) {\n            mid = min + (max - min >> 1);\n            if (x < lut[mid].x) {\n                max = mid;\n            } else {\n                min = mid;\n            }\n            if (max - min < 2) { break; }\n        }\n        x = (x - lut[min].x) / (lut[max].x - lut[min].x);\n\n        return (lut[min].y + (lut[max].y - lut[min].y) * x);\n    },\n\n    getLUT: function(steps) {\n        var p = this.points;\n        var t, t2, mt;\n        var b, c, d;\n        var lut;\n\n        steps = steps || 240;\n        if (this._lut.length === steps + 1) {\n            return this._lut;\n        } else {\n            this._lut = lut = [];\n        }\n\n        lut.push({x: 0, y: 0});\n        for (var s = 1; s < steps; s++) {\n            t = s / steps;\n            mt = 1 - t;\n            t2 = t * t;\n            //  We don't need 'a' coefficient because p[0] is {0, 0}\n            b = mt * mt * t * 3;\n            c = mt * t2 * 3;\n            d = t * t2;\n            lut.push({\n                x: b * p[1].x + c * p[2].x + d,\n                y: b * p[1].y + c * p[2].y + d\n            });\n        }\n        lut.push({x: 1, y: 1});\n\n        return lut;\n    },\n\n    clone: function() {\n        return new DG.TimeBezier(this.points, true);\n    }\n});\n\nDG.TimeBezier.START = DG.point(0, 0);\nDG.TimeBezier.END = DG.point(1, 1);\n\n\n//  This is cubic Bezier describing circular arc\nDG.ArcBezier = DG.Bezier.extend({\n    initialize: function(coords, clone) {\n        DG.Bezier.prototype.initialize.call(this, coords, clone);\n        this.getLUT();\n        this._setLutLengths();\n    },\n\n    getTbyL: function(l) {\n        var lut = this.getLUT();\n        var max = lut.length - 1;\n        var min = 0;\n        var mid;\n        var x, y;\n\n        if (l <= 0) { return 0; }\n        if (l >= lut[max].l) { return 1; }\n\n        //  'L' is monotonically increasing so we can do a binary search (LUT)\n        //  and then fine-tune the result by linear interpolation\n        while (true) {\n            mid = min + (max - min >> 1);\n            if (l < lut[mid].l) {\n                max = mid;\n            } else {\n                min = mid;\n            }\n            if (max - min < 2) { break; }\n        }\n        l = (l - lut[min].l) / (lut[max].l - lut[min].l);\n\n        x = (lut[min].x + (lut[max].x - lut[min].x) * l);\n        y = (lut[min].y + (lut[max].y - lut[min].y) * l);\n\n        //  BUT this is a part of story, we need a projection of this point to the actual curve and it's reverse 't' val\n        var p, dx, dy, t;\n        var et = max / lut.length;\n        var dt = min / lut.length;\n        var s = 1 / lut.length / 10;    //  TODO\n        var d = Math.pow(2, 53) - 1;\n\n        for (t = dt; dt < et; dt += s) {\n            p = this.getPoint(dt);\n            dx = p.x - x; dy = p.y - y;\n            l = Math.sqrt(dx * dx + dy * dy);\n            if (l < d) {\n                d = l;\n                t = dt;\n            }\n        }\n\n        return t;\n    },\n\n    _setLutLengths: function() {\n        var lut = this._lut;\n        var dx, dy;\n\n        lut[0].l = 0;\n        for (var i = 1; i < lut.length; i++) {\n            dx = lut[i].x - lut[i - 1].x;\n            dy = lut[i].y - lut[i - 1].y;\n            lut[i].l = lut[i - 1].l + Math.sqrt(dx * dx + dy * dy);\n        }\n    },\n\n    getLength: function() {\n        return this._lut[this._lut.length - 1].l;\n    },\n\n    clone: function() {\n        return new DG.ArcBezier(this.points, true);\n    }\n});\n\n/*\n * DG.Animation provides tick (step) logic returning progression values\n * calculated over provided or custom Bézier curves\n * Original input can be array object btw...\n */\n\nDG.Animation = DG.Evented.extend({\n    options: {\n        // animation: {    //  Or array of objects\n        //     function: DG.Animation.EASE,\n        //     duration: 2000,\n        //     frames: null\n        // }\n\n        //offset: 0\n        //repeat: 0\n    },\n\n    initialize: function(options) {\n        DG.setOptions(this, options);\n\n        this._animID = -1;\n        this._startTime = 0;\n        this._running = false;\n        this._animation = null;\n        this._durations = null;\n    },\n\n    start: function() {\n        this.stop();\n        this._prepare();\n\n        this._running = true;\n\n        this.fire('start');\n\n        //  Date.now(), but... IE9+\n        this._startTime = new Date().getTime();\n\n        this._animate();\n    },\n\n    stop: function() {\n        if (this._running) {\n            this._run(this._durations.getLength());\n        }\n    },\n\n    _prepare: function() {\n        this._animation = DG.Util.isArray(this.options.animation) ? this.options.animation : [this.options.animation];\n\n        this._durations = new DG.Metric.Segments();\n        this._animation.forEach(function(animation) {\n            this.push(animation.duration);\n        }, this._durations);\n    },\n\n    _animate: function() {\n        this._animID = DG.Util.requestAnimFrame(this._animate, this);\n        this._run();\n    },\n\n    _run: function(elapsed) {\n        var el, index, progress;\n        //  Possible skip zero delta time but who cares?!\n        elapsed = elapsed ? elapsed : new Date().getTime() - this._startTime;\n\n        if (elapsed < this._durations.getLength()) {\n            index = this._durations.getIndex(elapsed);\n            el = this._durations.getSegRatio(elapsed);\n            progress = this._animation[index]['function'].getYbyX(el);\n            this._step(this._getFrameValues(index, progress));\n        } else {\n            index = this._durations.length - 1;\n            this._step(this._getFrameValues(index, 1));\n            this._complete();\n        }\n    },\n\n    _step: function(obj) {\n        this.fire('step', obj);\n    },\n\n    _complete: function() {\n        DG.Util.cancelAnimFrame(this._animID);\n\n        this._durations = null;\n        this._animation = null;\n        this._running = false;\n        this.fire('end');\n    },\n\n    _getFrameValues: function(index, progress) {\n        var frames = this._animation[index].frames;\n        var obj = {progress: progress};\n        var fr, to;\n\n        if (frames) {\n            for (var key in frames) {\n                if (frames[key].progress) {\n                    obj[key] = frames[key].progress(progress);\n                } else {\n                    fr = frames[key].from;\n                    to = frames[key].to;\n                    obj[key] = fr + (to - fr) * progress;\n                }\n            }\n        }\n        return obj;\n    }\n});\n\nDG.animation = function(options) {\n    return new DG.Animation(options);\n};\n\nDG.Animation.LINEAR         = new DG.TimeBezier(DG.point(0.00, 0.0), DG.point(1.00, 1.0));\nDG.Animation.EASE           = new DG.TimeBezier(DG.point(0.25, 0.1), DG.point(0.25, 1.0));\nDG.Animation.EASE_IN        = new DG.TimeBezier(DG.point(0.42, 0.0), DG.point(1.00, 1.0));\nDG.Animation.EASE_IN_OUT    = new DG.TimeBezier(DG.point(0.42, 0.0), DG.point(0.58, 1.0));\nDG.Animation.EASE_OUT       = new DG.TimeBezier(DG.point(0.00, 0.0), DG.point(0.58, 1.0));\n\n/*\n * DG.Entrance is a main class that hosts actual arrow layers\n * It orchestrates animation and provides user space methods like .show() and .hide()\n */\n\nDG.Entrance = DG.FeatureGroup.extend({\n\n    options: {\n        vectors: [],\n\n        fillColor: '#0085a0',\n        strokeColor: '#fff',\n\n        enableAnimation: true,\n        interactive: false,\n\n        autoClose: true\n    },\n\n    initialize: function(options) {\n        DG.LayerGroup.prototype.initialize.call(this);\n\n        DG.setOptions(this, options);\n\n        this._bounds =\n            new DG.LatLngBounds();\n        this._animations = {\n            bounce: DG.animation(DG.Entrance.BOUNCE_ANIMATION),\n            path: DG.animation(DG.Entrance.PATH_ANIMATION)\n        };\n\n        this._initArrows();\n\n        this._isShown = false;\n    },\n\n    onAdd: function(map) {\n        DG.LayerGroup.prototype.onAdd.call(this, map);\n        this.show();\n    },\n\n    onRemove: function(map) {\n        this.hide();\n        DG.LayerGroup.prototype.onRemove.call(this, map);\n    },\n\n    getEvents: function() {\n        var events = {};\n\n        if (this.options.autoClose) {\n            events['layeradd'] = this._removeEntrance;  //  eslint-disable-line dot-notation\n        }\n        if (this.options.enableAnimation) {\n            events['zoomend'] = this._animate;          //  eslint-disable-line dot-notation\n        }\n\n        return events;\n    },\n\n    show: function(fitBounds) {\n        if (this._layers) {\n            if (fitBounds) {\n                this.fitBounds();\n            }\n            if (!this._isShown) {\n                this._isShown = true;\n                this.eachLayer(function(arrow) {\n                    arrow.setVisibility(true);\n                });\n                if (this.options.enableAnimation) {\n                    this._animate();\n                }\n                this._map.fire('entranceshow');\n            }\n        }\n\n        return this;\n    },\n\n    hide: function() {\n        if (this._layers && this._isShown) {\n            this._isShown = false;\n            this.eachLayer(function(arrow) {\n                arrow.setVisibility(false);\n            });\n            this._map.fire('entrancehide');\n        }\n\n        return this;\n    },\n\n    isShown: function() {\n        return this._isShown;\n    },\n\n    getBounds: function() {\n        return this._bounds;\n    },\n\n    setFillColor: function(color) {\n        this.eachLayer(function(arrow) {\n            arrow.setStyle({fillColor: color});\n        });\n    },\n\n    setStrokeColor: function(color) {\n        this.eachLayer(function(arrow) {\n            arrow.setStyle({color: color});\n        });\n    },\n\n    _initArrows: function() {\n        var base = {\n            color: this.options.strokeColor,\n            fillColor: this.options.fillColor,\n            interactive: this.options.interactive\n        };\n\n        this.options.vectors\n            .map(function(vector) {\n                return DG.Wkt.toLatLngs(vector);\n            })\n            .forEach(function(latlngs) {\n                var options = DG.Util.create(base),\n                    bounds = DG.latLngBounds(latlngs);\n\n                this._bounds.extend(bounds);\n\n                options.latlngs = latlngs;\n                options.bounds = bounds;\n                if (this.options.enableAnimation) {\n                    if (latlngs.length > 2) {\n                        options.animation = this._animations.path;\n                    } else {\n                        options.animation = this._animations.bounce;\n                        options.distance = true;\n                    }\n                }\n\n                this.addLayer(DG.entrance.arrow(options));\n            }, this);\n    },\n\n\n    _animate: function() {\n        if (this._isShown) {\n            this._animations.bounce.start();\n            this._animations.path.start();\n        }\n    },\n\n    //  Current logic of next four methods extracted from original arrow's implementation\n    fitBounds: function() {\n        var map = this._map, fitZoom,\n            bounds = this.getBounds();\n\n        if (!map.getBounds().contains(bounds) || !this._isAllowedZoom()) {\n            fitZoom = this._getFitZoom();\n            if (!map.projectDetector.getProject()) {\n                map.once('moveend', function() {\n                    map.setZoom(this._getFitZoom());\n                }, this);\n            }\n            map.setView(bounds.getCenter(), fitZoom, {animate: true});\n        }\n\n        return this;\n    },\n\n    _getFitZoom: function() {\n        var project = this._map.projectDetector.getProject();\n        return project ? project.maxZoom : DG.Entrance.SHOW_FROM_ZOOM;\n    },\n\n    _isAllowedZoom: function() {\n        return this._map.getZoom() >= DG.Entrance.SHOW_FROM_ZOOM;\n    },\n\n    _removeEntrance: function(e) {\n        if (e.layer instanceof DG.Popup ||\n            (e.layer instanceof DG.Entrance && e.layer !== this)) {\n\n            this.remove();\n        }\n    }\n});\n\nDG.entrance = function(options) {\n    return new DG.Entrance(options);\n};\n\nDG.Entrance.SHOW_FROM_ZOOM = 16;\nDG.Entrance.PATH_ANIMATION = {\n    animation: {\n        'function': DG.Animation.EASE_IN_OUT,\n        'duration': 750\n    }\n};\nDG.Entrance.BOUNCE_ANIMATION = {\n    animation: [\n        {'function': DG.Animation.EASE_IN_OUT, 'duration': 250, 'frames': {'distance': {'from': 0, 'to': 0.6}}},\n        {'function': DG.Animation.EASE_IN, 'duration': 135, 'frames': {'distance': {'from': 0.6, 'to': 0}}},\n        {'function': DG.Animation.EASE_OUT, 'duration': 135, 'frames': {'distance': {'from': 0, 'to': 0.16}}},\n        {'function': DG.Animation.EASE_IN, 'duration': 90, 'frames': {'distance': {'from': 0.16, 'to': 0}}},\n        {'function': DG.Animation.EASE_OUT, 'duration': 90, 'frames': {'distance': {'from': 0, 'to': 0.06}}},\n        {'function': DG.Animation.EASE_IN, 'duration': 50, 'frames': {'distance': {'from': 0.06, 'to': 0}}}\n    ]\n};\n\n/*\n * DG.Entrance.Arrow class hosts two layers, one for arrow body (path) and one for arrow tip\n * It overrides projection events from hosted layers to minimize total overhead\n * Actual calculations produced in DG.ArrowPathTransform and DG.ArrowTipTransform classes\n */\n\nDG.Entrance.Arrow = DG.FeatureGroup.extend({\n    initialize: function(options) {\n        DG.LayerGroup.prototype.initialize.call(this);\n\n        DG.setOptions(this, options);\n\n        this._progress = 1;\n        this._distance = 0;\n        this._visibility = {\n            isShown: false\n        };\n        this._position =\n            options.latlngs[options.latlngs.length - 1];\n        this._shape =\n            this.options.shape ||\n            DG.Entrance.Arrow.SHAPE;\n\n        this._apt = {}; // DG.ArrowPathTransform objects by zoom levels\n        this._att = {}; // DG.ArrowTipTransform objects by zoom levels\n    },\n\n    beforeAdd: function(map) {\n        //  this._map is not initialized yet, so we can freely addLayer(s)\n        var opts = this.options;\n\n        //  TODO: Check Canvas processing order\n        //  Additional logic to DISABLE animation on Canvas for now!\n        if (opts.animation && !map.options.preferCanvas && !DG.Browser.ielt9) {\n            opts.animation.on('step', this._animation, this);\n        } else {\n            opts.animation = null;\n        }\n\n        this.projection();\n\n        this.addLayer(new DG.ComplexPath({\n            lineCap: 'butt',\n            color: opts.color,\n            fillColor: opts.fillColor,\n            interactive: opts.interactive,\n            visibility: this._visibility,\n            transform: this._apt\n        }));\n\n        this.addLayer(new DG.ComplexPath({\n            lineJoin: 'miter',\n            color: opts.color,\n            fillColor: opts.fillColor,\n            interactive: opts.interactive,\n            visibility: this._visibility,\n            transform: this._att\n        }));\n    },\n\n    getEvents: function() {\n        return {\n            zoomend: this._project,\n            moveend: this._update,\n            viewreset: this._reset\n        };\n    },\n\n    setVisibility: function(isShown) {\n        if (this._visibility.isShown !== isShown) {\n            this._visibility.isShown = isShown;\n            if (isShown) {\n                if (!this.options.animation) {\n                    this._reset();\n                }\n            } else {\n                this._reset();\n            }\n        }\n    },\n\n    getBounds: function() {\n        return this.options.bounds;\n    },\n\n    projection: function() {\n        var map = this._map || this._mapToAdd;\n        var zoom = map ? map.getZoom() : 0;\n        var vertices = this._shape.vertices[zoom];\n        var drawings = this._shape.drawings[zoom];\n        var latlngs = this.options.latlngs;\n        var shape, path, lastPoint, prevPoint;\n\n        if (zoom && vertices && drawings) {\n            if (!this._att[zoom]) {\n                path = DG.ArrowPathTransform.getTranslatedPath(map, latlngs);\n                shape = {vertices: vertices, drawings: drawings};\n                this._att[zoom] = new DG.ArrowTipTransform(path, shape);\n                this._apt[zoom] = new DG.ArrowPathTransform(path);\n            }\n\n            lastPoint = map.latLngToLayerPoint(this._position);\n            prevPoint = map.latLngToLayerPoint(latlngs[latlngs.length - 2]);\n            if (!this._apt[zoom]._pxBounds) {\n                //  One-time action per 'viewreset' event\n                //  Caching _pxBounds for using with Canvas renderer\n                this._setBounds(lastPoint, prevPoint, this._apt[zoom], this._att[zoom]);\n            }\n            if (this.options.distance) {\n                //  Arrow position recalculated for Bounce animation effect\n                lastPoint = DG.VertexTransform.getScaled(lastPoint, prevPoint, this._distance);\n            }\n\n            //  Main calculations\n            //  Get part of the arrow path and move (bound) arrow tip to it\n            this._apt[zoom].subPath(this._progress).translate(lastPoint);\n            this._att[zoom].subShape(this._apt[zoom]).translate(lastPoint);\n        }\n\n        return this;\n    },\n\n    _animation: function(e) {\n        if (e.distance != undefined) {\n            this._distance = e.distance;    //  bounce animation effect\n        } else {\n            this._progress = e.progress;    //  path animation effect\n        }\n        if (this._visibility.isShown) {\n            //  TODO: Additional logic for animation on Canvas\n            // this.projection().invoke('redraw');\n\n            this._project();\n            this._update();\n        }\n    },\n\n    _project: function() {\n        this.projection().invoke('_project');\n    },\n\n    _update: function() {\n        this.invoke('_update');\n    },\n\n    _reset: function() {\n        this._resetBounds();\n\n        this._project();\n        this._update();\n    },\n\n    _resetBounds: function() {\n        //  Canvas renderer specific\n        var z;\n\n        for (z in this._apt) {\n            this._apt[z]._pxBounds = null;\n        }\n\n        for (z in this._att) {\n            this._att[z]._pxBounds = null;\n        }\n    },\n\n    _setBounds: function(pl, pp, apt, att) {\n        var _apt = apt.subPath(1).translate(pl).vertices,\n            _att = att.subShape(apt).translate(pl).vertices;\n\n        //  TODO: Additional logic for animation on Canvas\n        // if (this.options.distance) {\n        //     pl = DG.VertexTransform.getScaled(pl, pp, 1);\n        //     _apt = _apt.concat(apt.subPath(1).translate(pl).vertices);\n        //     _att = _att.concat(att.subShape(apt).translate(pl).vertices);\n        // }\n\n        apt._pxBounds = new DG.Bounds(_apt);\n        att._pxBounds = new DG.Bounds(_att);\n    }\n});\n\nDG.entrance.arrow = function(options) {\n    return new DG.Entrance.Arrow(options);\n};\n\n/*\n * Predefined arrow tips\n */\n\n/* eslint-disable array-bracket-spacing */\nDG.Entrance.Arrow.SHAPE = {\n    vertices: {\n        16: [\n            [ -6.5000,  -1.8000],\n            [ -6.0522,  -1.8000],\n            [ -7.0975,  -5.2537],\n            [ -6.6619,  -6.2565], [ -6.5980,  -6.3550], [ -6.1757,  -6.1470],\n            [  0.8371,  -0.3552],\n            [  0.9275,  -0.1764], [  0.9275,   0.1764], [  0.8371,   0.3552],\n            [ -6.1757,   6.1470],\n            [ -6.5980,   6.3550], [ -6.6619,   6.2565], [ -7.0975,   5.2537],\n            [ -6.0522,   1.8000],\n            [ -6.5000,   1.8000]\n        ],\n        17: [\n            [ -9.0000,  -2.4000],\n            [ -7.8890,  -2.4000],\n            [ -9.9245,  -7.2548],\n            [ -9.3363,  -8.6404], [ -9.3448,  -8.6448], [ -8.8717,  -8.3508],\n            [  1.0285,  -0.3552],\n            [  1.1190,  -0.1764], [  1.1190,   0.1764], [  1.0285,   0.3552],\n            [ -8.8717,   8.3508],\n            [ -9.3448,   8.6448], [ -9.3363,   8.6404], [ -9.9245,   7.2548],\n            [ -7.8890,   2.4000],\n            [ -9.0000,   2.4000]\n        ],\n        18: [\n            [-11.5000,  -3.0000],\n            [-10.0795,  -3.0000],\n            [-12.4909,  -9.3173],\n            [-11.8402, -10.7654], [-11.5986, -10.7073], [-10.9380, -10.2258],\n            [  1.1497,  -0.3552],\n            [  1.2402,  -0.1764], [  1.2402,   0.1764], [  1.1497,   0.3552],\n            [-10.9380,  10.2258],\n            [-11.5986,  10.7073], [-11.8402,  10.7654], [-12.4909,   9.3173],\n            [-10.0795,   3.0000],\n            [-11.5000,   3.0000]\n        ],\n        19: [\n            [-13.0000,  -3.6000],\n            [-11.6600,  -3.6000],\n            [-14.1696, -10.8351],\n            [-13.5189, -12.2832], [-13.2773, -12.2251], [-12.6167, -11.7436],\n            [  1.3061,  -0.3552],\n            [  1.3966,  -0.1764], [  1.3966,   0.1764], [  1.3061,   0.3552],\n            [-12.6167,  11.7436],\n            [-13.2773,  12.2251], [-13.5189,  12.2832], [-14.1696,  10.8351],\n            [-11.6600,   3.6000],\n            [-13.0000,   3.6000]\n        ]\n    },\n    drawings: {\n        16: ['M', 'L', 'L', 'C', 'L', 'C', 'L', 'C', 'L', 'L'],\n        17: ['M', 'L', 'L', 'C', 'L', 'C', 'L', 'C', 'L', 'L'],\n        18: ['M', 'L', 'L', 'C', 'L', 'C', 'L', 'C', 'L', 'L'],\n        19: ['M', 'L', 'L', 'C', 'L', 'C', 'L', 'C', 'L', 'L']\n    }\n};\n/* eslint-enable array-bracket-spacing */\n\n\n(function(vertices) {\n    for (var i in vertices) {\n        vertices[i] = vertices[i].map(function(vertex) { return DG.point(vertex); });\n    }\n})(DG.Entrance.Arrow.SHAPE.vertices);\n\nDG.Label = DG.Layer.extend({\n\n    options: {\n        offset: new DG.Point(12, 15),\n        className: 'dg-label',\n        zIndexOffset: 0,\n        textDirection: 'auto' // 'auto' | 'ltr' | 'rtl\n    },\n\n    _typeOfString : Object.prototype.toString.call('s'),\n    _defaultZIndex: 100,\n\n    initialize: function(content, options) {\n        DG.Util.setOptions(this, options);\n\n        this._animated = DG.Browser.any3d;\n        this._content = content;\n    },\n\n    onAdd: function(map) {\n        this._map = map;\n\n        if (!this._el) {\n            this._initDOM();\n        }\n\n        this._visible = true;\n\n        this\n            .setContent(this._content)\n            ._onViewReset();\n\n        map\n            .on('viewreset', this._onViewReset, this)\n            .on('zoomanim', this._onZoomAnimation, this);\n    },\n\n    onRemove: function(map) {\n        map\n            .off('viewreset', this._onViewReset, this)\n            .off('zoomanim', this._onZoomAnimation, this);\n\n        this._visible = false;\n\n        this._el.removeChild(this._container);\n        DG.Util.falseFn(this._container.offsetWidth); // we need reflow here\n        this._container = null;\n\n        map.getPanes().tooltipPane.removeChild(this._el);\n        this._el = null;\n    },\n\n    _initDOM: function() {\n        this._el = DG.DomUtil.create(\n            'div',\n            this.options.className + ' leaflet-zoom-' + (this._animated ? 'animated' : 'hide'),\n            this._map.getPanes().tooltipPane);\n        this._el.style.zIndex = this._defaultZIndex + this.options.zIndexOffset;\n\n        this._container = DG.DomUtil.create('div', this.options.className + '__content', this._el);\n        this._container.setAttribute('dir', this.options.textDirection);\n\n        DG.DomEvent\n            .disableClickPropagation(this._el)\n            .on(this._container, 'mousewheel', DG.DomEvent.stopPropagation)\n            .on(this._container, 'contextmenu', DG.DomEvent.stopPropagation);\n    },\n\n    _onViewReset: function() {\n        if (this._visible && this._latlng) {\n            DG.DomUtil.setPosition(this._el, this._map.latLngToLayerPoint(this._latlng).add(this.options.offset), DG.Browser.ie);\n        }\n    },\n\n    _onZoomAnimation: function(opt) {\n        if (this._latlng) {\n            DG.DomUtil.setPosition(this._el, this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center).add(this.options.offset));\n        }\n    },\n\n    setOffset: function(point) {\n        if (point instanceof DG.Point) {\n            this.options.offset = point;\n            this._onViewReset();\n        }\n        return this;\n    },\n\n    setZIndexOffset: function(zIndex) {\n        if (!isNaN(+zIndex)) {\n            this.options.zIndexOffset = +zIndex;\n            if (this._visible) {\n                this._el.style.zIndex = this._defaultZIndex + this.options.zIndexOffset;\n            }\n        }\n        return this;\n    },\n\n    setContent: function(content) {\n        if (Object.prototype.toString.call(content) !== this._typeOfString) {\n            return this;\n        }\n        this._content = content;\n        if (this._visible) {\n            this._container.innerHTML = content;\n        }\n        return this;\n    },\n\n    setPosition: function(latlng) {\n        if (!(latlng instanceof DG.LatLng)) {\n            return this;\n        }\n\n        this._latlng = latlng;\n        this._onViewReset();\n        return this;\n    }\n});\n\nDG.label = function(content, options) {\n    return new DG.Label(content, options);\n};\n\nDG.Marker.include({\n\n    bindLabel: function(content, options) {\n        if (this._label) {\n            this._label.setContent(content);\n            if (options) {\n                if (this.options.offset !== options.offset) {\n                    this._label.setOffset(this.options.offset = options.offset);\n                }\n                if (this.options.static !== options.static) {\n                    this.unbindLabel().bindLabel(content, options);\n                }\n            }\n        } else {\n            options = DG.extend({\n                offset: new DG.Point(5, 5)\n            }, options);\n\n            this._label = DG.label(content, options);\n\n            this.once('remove', this._onMarkerRemove);\n\n            if (options.static) {\n                this.showLabel();\n            } else {\n                this\n                    .on('mouseover', this._mouseOverLabel)\n                    .on('mouseout', this._mouseOutLabel)\n                    .on('dragstart', this._dragStartLabel)\n                    .on('dragend', this._dragEndLabel);\n            }\n\n            if (typeof this._map !== 'undefined') {\n                this._updateLabelZIndex();\n            } else {\n                this.once('add', this._updateLabelZIndex);\n            }\n        }\n        return this;\n    },\n\n    unbindLabel: function() {\n        if (this._label) {\n            this\n                .hideLabel()\n                .off('remove', this.unbindLabel)\n                .off('mouseover', this._mouseOverLabel)\n                .off('mouseout', this._mouseOutLabel)\n                .off('dragstart', this._dragStartLabel)\n                .off('dragend', this._dragEndLabel)\n                .off('move', this._updatePosition)\n                .off('add', this._updateLabelZIndex);\n\n            this._label = null;\n        }\n        return this;\n    },\n\n    _onMarkerRemove: function() {\n        if (this._label) {\n            var content = this._label._content;\n            this.once('add', function() {\n                if (this._label) { return; } // new label added after removing marker\n                this.bindLabel(content);\n            });\n            this.unbindLabel();\n        }\n    },\n\n    getLabel: function() {\n        return this._label ? this._label : null;\n    },\n\n    _originalUpdateZIndex: DG.Marker.prototype._updateZIndex,\n    _updateZIndex: function(offset) {\n        if (!this._zIndex) {\n            this._zIndex = 0;\n        }\n        this._originalUpdateZIndex(offset);\n        this._updateLabelZIndex();\n        return this;\n    },\n\n    _updateLabelZIndex: function() {\n        if (this._label && this._icon) {\n            this._label.setZIndexOffset(this._icon.style.zIndex);\n        }\n        return this;\n    },\n\n    showLabel : function() {\n        if (this._label) {\n            this\n                .on('move', this._updatePosition)\n                ._map.addLayer(this._label.setPosition(this.getLatLng()));\n        }\n\n        return this;\n    },\n\n    hideLabel : function() {\n        if (this._label) {\n            this\n                .off('move', this._updatePosition)\n                ._map.removeLayer(this._label);\n        }\n        return this;\n    },\n\n    _updatePosition : function() {\n        this._label.setPosition(this.getLatLng());\n    },\n\n    _dragStartLabel: function() {\n        this._label.isMarkerDragging = true;\n\n        this.hideLabel();\n    },\n\n    _dragEndLabel: function() {\n        this._label.isMarkerDragging = false;\n\n        if (this._label.isMouseOverMarker) {\n            this.showLabel();\n        }\n    },\n\n    _mouseOverLabel: function() {\n        this._label.isMouseOverMarker = true;\n\n        if (!this._label.isMarkerDragging) {\n            this.showLabel();\n        }\n    },\n\n    _mouseOutLabel: function() {\n        this._label.isMouseOverMarker = false;\n\n        this.hideLabel();\n    }\n});\n\nDG.Marker.addInitHook(function() {\n    if (typeof this.options.label !== 'undefined') {\n        this.bindLabel(this.options.label);\n    }\n});\n\nDG.Path.include({\n    bindLabel: function(content, options) {\n\n        if (!this._label) {\n            this._label = DG.label(content, options);\n            this.on(this._labelEvents, this);\n        } else {\n            this._label.setContent(content);\n\n            if (this._label.options.offset !== options.offset) {\n                this._label.setOffset(options.offset);\n            }\n        }\n        return this;\n    },\n\n    unbindLabel: function() {\n        if (this._label) {\n            this.off(this._labelEvents, this);\n            this._map.removeLayer(this._label);\n            this._label = null;\n        }\n        return this;\n    },\n\n    getLabel: function() {\n        return this._label ? this._label : null;\n    },\n\n    _labelEvents : {\n        mouseover: function(event) {\n            this._map.addLayer(this._label.setPosition(event.latlng));\n            DG.DomEvent.stop(event);\n        },\n        mousemove: function(event) {\n            this._label.setPosition(event.latlng);\n            DG.DomEvent.stop(event);\n        },\n        mouseout: function(event) {\n            this._map.removeLayer(this._label);\n            DG.DomEvent.stop(event);\n        },\n        remove: function() {\n            this._map.removeLayer(this._label);\n        }\n    }\n});\n\nDG.Path.addInitHook(function() {\n    if (typeof this.options.label !== 'undefined') {\n        this.bindLabel(this.options.label);\n    }\n});\n\nDG.Entrance.include({\n    bindLabel: function(content, options) {\n\n        if (!this._label) {\n            this._label = DG.label(content, options);\n            this.on(this._labelEvents, this);\n        } else {\n            this._label.setContent(content);\n\n            if (this._label.options.offset !== options.offset) {\n                this._label.setOffset(options.offset);\n            }\n        }\n        return this;\n    },\n\n    unbindLabel: function() {\n        if (this._label) {\n            this.off(this._labelEvents, this);\n            this._map.removeLayer(this._label);\n            this._label = null;\n        }\n        return this;\n    },\n\n    getLabel: function() {\n        return this._label ? this._label : null;\n    },\n\n    _labelEvents : {\n        mouseover: function(event) {\n            this._map.addLayer(this._label.setPosition(event.latlng));\n            DG.DomEvent.stop(event);\n        },\n        mousemove: function(event) {\n            this._label.setPosition(event.latlng);\n            DG.DomEvent.stop(event);\n        },\n        mouseout: function() {\n            this._label.remove();\n        },\n        remove: function() {\n            this._label.remove();\n        }\n    }\n});\n\nDG.Entrance.addInitHook(function() {\n    if (typeof this.options.label !== 'undefined') {\n        this.bindLabel(this.options.label);\n    }\n});\n\nDG.configTheme = DG.configTheme || {};\n\nDG.configTheme.balloonOptions = {\n    offset: {\n        x: 1,\n        y: -43\n    }\n};\n\n_dereq_('../../../vendors/baron');\n\n// 2GIS-related popup content wrapper and offset\n(function() {\n    var offsetX = DG.configTheme.balloonOptions.offset.x,\n        offsetY = DG.configTheme.balloonOptions.offset.y,\n        originalInitialize = DG.Popup.prototype.initialize,\n        originalInitLayout = DG.Popup.prototype._initLayout,\n        originalOnAdd = DG.Popup.prototype.onAdd,\n        graf = baron.noConflict();\n\n    var BaronDomHelper = function(element) {\n        this[0] = element;\n        this.length = 1;\n    };\n    BaronDomHelper.prototype = {\n        setAttribute: function(name, value) {\n            this[0].setAttribute(name, value);\n            return this;\n        },\n        getAttribute: function(name) {\n            return this[0].getAttribute(name);\n        },\n        removeAttribute: function(name) {\n            this[0].removeAttribute(name);\n            return this;\n        },\n        css: function(style, value) {\n            if (value) {\n                this[0].style[style] = value;\n                return this;\n            } else {\n                return DG.DomUtil.getStyle(this[0], style);\n            }\n        }\n    };\n\n    DG.Popup.prototype.options.offset = DG.point(offsetX, offsetY);\n\n    DG.Popup.mergeOptions({\n        border: 16,\n        mapControlsWidth: 60,\n        textDirection: 'auto' // 'auto' | 'ltr' | 'rtl\n    });\n\n    DG.Popup.include({\n        _headerContent: null,\n        _footerContent: null,\n\n        //baron elements references\n        _scroller: null,\n        _scrollerBar: null,\n        _barWrapper: null,\n        _baron: null,\n        _isBaronExist: false,\n\n        _popupShowClass: 'leaflet-popup_show_true',\n        _popupHideClass: 'leaflet-popup_show_false',\n\n        _popupTipClass: 'leaflet-popup-tip-container',\n        _tipSVGPath: 'M0 0c12.643 0 28 7.115 28 44h2c0-36.885 15.358-44 28-44h-58z',\n\n        _isAutoPanPaddingUserDefined: false,\n\n        initialize: function(options, source) { // (Object, Object)\n            this._popupStructure = {};\n            this._isAutoPanPaddingUserDefined = options && options.hasOwnProperty('autoPanPadding');\n            originalInitialize.call(this, options, source);\n        },\n\n        onAdd: function(map) { // (Map)\n            map.on({\n                entranceshow: this._closePopup,\n                resize: this.resize\n            }, this);\n            originalOnAdd.call(this, map);\n            this._animateOpening();\n\n            // Monitor popups usage\n            // TODO: remove after successful research\n            if (typeof ga !== undefined) {\n                // eslint-disable-next-line no-undef\n                ga(DG.config.gaName + '.send', 'event', 'Popup', 'Use');\n            }\n        },\n\n        onRemove: function(map) { // (Map)\n            this._animateClosing();\n            map.off({\n                entranceshow: this._closePopup,\n                resize: this.resize\n            }, this);\n\n            if (DG.DomUtil.TRANSITION) {\n                this._removeTimeout = setTimeout(L.bind(L.DomUtil.remove, L.DomUtil, this._container), 200);\n            } else {\n                L.DomUtil.remove(this._container);\n            }\n\n            map.fire('popupclose', {popup: this});\n\n            if (this._source) {\n                this._source.fire('popupclose', {popup: this}, true);\n            }\n        },\n\n        setContent: function(content) { // (DOMElement | Object | HTML) -> Popup\n            if (!this._isNode(content) && typeof content === 'object') {\n                Object.keys(content).forEach(function(item) {\n                    this['_' + item + 'Content'] = content[item];\n                }, this);\n            } else {\n                this._bodyContent = content;\n            }\n\n            this.update();\n\n            return this;\n        },\n\n        setHeaderContent: function(content) { // (HTML) -> Popup\n            this._headerContent = content;\n            this.update();\n\n            return this;\n        },\n\n        setFooterContent: function(content) { // (HTML) -> Popup\n            this._footerContent = content;\n            this.update();\n\n            return this;\n        },\n\n        getContent: function() { // () -> HTML\n            return this._bodyContent;\n        },\n\n        getHeaderContent: function() { // () -> HTML\n            return this._headerContent;\n        },\n\n        getFooterContent: function() { // () -> HTML\n            return this._footerContent;\n        },\n\n        clear: function() { // () -> Popup\n            Object.keys(this._popupStructure).forEach(this._clearElement, this);\n\n            // think about move this set to another public method\n            this._isBaronExist = false;\n            return this;\n        },\n\n        clearHeader: function() { // () -> Popup\n            return this._clearElement('header');\n        },\n\n        clearFooter: function() { // () -> Popup\n            return this._clearElement('footer');\n        },\n\n        findElement: function(element) { // (String) -> DOMElement\n            return this._contentNode.querySelector(element);\n        },\n\n        _animateOpening: function() {\n            DG.DomUtil.addClass(this._innerContainer, this._popupShowClass);\n            DG.DomUtil.removeClass(this._innerContainer, this._popupHideClass);\n        },\n\n        _animateClosing: function() {\n            DG.DomUtil.addClass(this._innerContainer, this._popupHideClass);\n            DG.DomUtil.removeClass(this._innerContainer, this._popupShowClass);\n        },\n\n        _closePopup: function() {\n            this._map.closePopup(this);\n        },\n\n        _isNode: function(o) { // (Object) -> Boolean\n            return (o.nodeName ? true : false);\n        },\n\n        _onCloseButtonClick: function(e) {\n            if (this._map) {\n                this._map.closePopup(this);\n            }\n            L.DomEvent.stop(e);\n        },\n\n        _close: function() {\n            if (this._map) {\n                if (DG.Browser.mobile && this._map.geoclicker &&\n                    (this.options.closeOnClick || this._map.options.closePopupOnClick)) {\n                    //  We need to signal geoclicker that popup was open before 'click' event\n                    //  But by time it will get it's event the popup will be already closed\n                    //  See 'DGGeoclicker' for '_mapEventsListeners' and '_singleClick' method\n                    this._map.geoclicker.popupWasOpen = true;\n                }\n\n                this._map.closePopup(this);\n            }\n        },\n\n        _initLayout: function() {\n            originalInitLayout.call(this);\n\n            // Prevents scroll events for div.leaflet-popup-content (this._contentNode) from web page scrolling when popup is opened\n            DG.DomEvent.on(this._contentNode, 'wheel', function(e) {\n                var eventPath;\n\n                if (e.composedPath) {\n                    eventPath = e.composedPath();\n                } else {\n                    var elem = e.target;\n                    eventPath = [];\n                    while (elem.parentNode) {\n                        eventPath.push(elem);\n                        elem = elem.parentNode;\n                    }\n                }\n\n                if (eventPath.indexOf(this._scroller) === -1 || eventPath.indexOf(this._barWrapper) !== -1) {\n                    e.preventDefault();\n                }\n            }, this);\n\n            this._innerContainer = DG.DomUtil.create('div', 'leaflet-popup-inner ' + this._popupHideClass, this._container);\n\n            // Prevents mouse events from leaking through close button\n            // See https://github.com/2gis/mapsapi/pull/153/\n            DG.DomEvent.disableClickPropagation(this._innerContainer);\n\n            if (this.options.closeButton) {\n                this._innerContainer.appendChild(this._detachEl(this._closeButton));\n            }\n\n            this._innerContainer.appendChild(this._detachEl(this._wrapper));\n\n            var tip = this._detachEl(this._tipContainer);\n\n            if (DG.Browser.svg) {\n                var path = DG.SVG.create('path');\n                var svgClass = this._popupTipClass + ' ' + this._popupTipClass + '_svg';\n\n                path.setAttribute('d', this._tipSVGPath);\n\n                tip = DG.SVG.create('svg');\n                tip.setAttribute('class', svgClass);\n\n                tip.appendChild(path);\n                DG.DomEvent.disableClickPropagation(path);\n            } else {\n                DG.DomUtil.addClass(tip, this._popupTipClass + '_image');\n                DG.DomEvent.disableClickPropagation(tip);\n            }\n\n            this._innerContainer.appendChild(tip);\n        },\n\n        _clearElement: function(elem) { // (DOMElement) -> Popup\n            this['_' + elem + 'Content'] = null;\n            this._detachEl(this._popupStructure[elem]);\n            delete this._popupStructure[elem];\n            return this;\n        },\n\n        _updateScrollPosition: function() {\n            if (this._baron) {\n                this._baron.update();\n            }\n        },\n\n        resize: function() {\n            var scrolled = this._updateLayout();\n            this._updatePosition();\n\n            if (!scrolled) {\n                if (this._isBaronExist) {\n                    this._scrollerWrapper.style.height = '';\n                    DG.DomUtil.removeClass(this._scroller, 'dg-scroller');\n\n                    DG.DomUtil.addClass(this._scroller, 'dg-scroller_hidden_true');\n                    DG.DomUtil.removeClass(this._scroller, 'dg-scroller');\n                    DG.DomEvent.off(this._scroller, 'scroll', this._onScroll);\n                }\n            } else if (this._isBaronExist) {\n                DG.DomUtil.removeClass(this._scroller, 'dg-scroller_hidden_true');\n                DG.DomUtil.addClass(this._scroller, 'dg-scroller');\n\n                var scrollTop = this._isBaronExist ? this._scroller.scrollTop : false;\n\n                if (scrollTop) {\n                    this._scroller.scrollTop = scrollTop;\n                }\n\n                var innerHeight = this.options.maxHeight - this.options.border * 2 - this._getDelta();\n                this._scrollerWrapper.style.height = innerHeight + 'px';\n\n                this._updateScrollPosition();\n            } else if (!this._isContentHeightEnough()) {\n                this._initBaronScroller();\n                this._initBaron();\n            }\n\n            this._adjustPan();\n            this._bindAdjustPanOnTransitionEnd();\n        },\n\n        _adjustPan: function(e) {\n            if (!this._map) { return; }\n\n            if (e) { // animated popup is opening (height from 0 to max)\n                if (e.propertyName === 'max-height') {\n                    // when it's finished we are here\n                    DG.DomEvent.off(this._wrapper, DG.DomUtil.TRANSITION_END, this._adjustPan);\n                } else {\n                    // here's intermediate steps - we don't need to process them\n                    return;\n                }\n            }\n\n            var options = this.options;\n\n            if (!options.autoPan) { return; }\n\n            var map = this._map,\n                containerHeight = this._container.offsetHeight,\n                containerWidth = this._containerWidth,\n                layerPos = new L.Point(this._containerLeft, -containerHeight - this._containerBottom);\n\n            if (this._zoomAnimated) {\n                layerPos._add(L.DomUtil.getPosition(this._container));\n            }\n\n            var autoPanPadding = [options.autoPanPadding[0], options.autoPanPadding[1]];\n\n            // if width of map is more then width of popup and controls\n            // set default autoPanPadding to width controls\n            if (\n                !this._isAutoPanPaddingUserDefined &&\n                    this._map._container.offsetWidth >= options.maxWidth + options.mapControlsWidth * 2\n            ) {\n                autoPanPadding[0] = options.mapControlsWidth;\n            }\n\n            var containerPos = map.layerPointToContainerPoint(layerPos),\n                padding = L.point(autoPanPadding),\n                paddingTL = L.point(options.autoPanPaddingTopLeft || padding),\n                paddingBR = L.point(options.autoPanPaddingBottomRight || padding),\n                size = map.getSize(),\n                dx = 0,\n                dy = 0;\n\n            if (size.x === 0 || size.y === 0) {\n                // map isn't visible\n                return;\n            }\n\n            if (containerPos.x + containerWidth + paddingBR.x > size.x) { // right\n                dx = containerPos.x + containerWidth - size.x + paddingBR.x;\n            }\n            if (containerPos.x - dx - paddingTL.x < 0) { // left\n                dx = containerPos.x - paddingTL.x;\n            }\n            if (containerPos.y + containerHeight + paddingBR.y > size.y) { // bottom\n                dy = containerPos.y + containerHeight - size.y + paddingBR.y;\n            }\n            if (containerPos.y - dy - paddingTL.y < 0) { // top\n                dy = containerPos.y - paddingTL.y;\n            }\n\n            if (dx || dy) {\n                map\n                    .fire('autopanstart')\n                    .panBy([dx, dy]);\n            }\n        },\n\n        _bindAdjustPanOnTransitionEnd: function() {\n            if (DG.DomUtil.TRANSITION) {\n                DG.DomEvent.on(this._wrapper, DG.DomUtil.TRANSITION_END, this._adjustPan, this);\n            } else {\n                this._adjustPan();\n            }\n        },\n\n        _isContentHeightEnough: function() { // () -> Boolean\n            var options = this.options;\n\n            if (!options.maxHeight) {\n                return true;\n            }\n\n            var popupHeight = this._popupStructure.body ?\n                this._popupStructure.body.offsetHeight + this._getDelta() :\n                this._contentNode.offsetHeight;\n\n            popupHeight += options.border * 2;\n\n            return popupHeight <= options.maxHeight;\n        },\n\n        _initBaronScroller: function() {\n            var contentNode = this._popupStructure.body.parentNode,\n                scrollerWrapper = this._scrollerWrapper = DG.DomUtil.create('div', 'dg-scroller__wrapper', contentNode),\n                scroller = this._scroller = DG.DomUtil.create('div', 'dg-scroller', scrollerWrapper),\n                barWrapper = this._barWrapper = DG.DomUtil.create('div', 'dg-scroller__bar-wrapper', scroller),\n                innerHeight = this.options.maxHeight - this.options.border * 2;\n\n            this._scrollerBar = DG.DomUtil.create('div', 'dg-scroller__bar', barWrapper);\n            scroller.appendChild(this._detachEl(this._popupStructure.body));\n\n            innerHeight -= this._getDelta();\n            scrollerWrapper.style.height = Math.max(18, innerHeight) + 'px';\n            scrollerWrapper.style.width = contentNode.offsetWidth + 5 + 'px'; //TODO\n\n            this._isBaronExist = true;\n\n            this._switchEvents();\n        },\n\n        _onScroll: function(e) {\n            this.fire('scroll', {originalEvent: e});\n        },\n\n        _onClick: function(e) {\n            e.target = e.target || e.srcElement;\n\n            if (!this._moving) {\n                this.fire('click', {originalEvent: e});\n            }\n        },\n\n        _onStart: function(e) {\n            this._moved = false;\n\n            if (this._moving) { return; }\n\n            var first = e.touches ? e.touches[0] : e;\n\n            this._startPoint = new DG.Point(first.clientX, first.clientY);\n\n            this._toggleTouchEvents();\n        },\n\n        _onEnd: function(e) {\n            this._toggleTouchEvents(true);\n\n            this._onClick(e);\n\n            this._moving = false;\n        },\n\n        _onMove: function(e) {\n\n            if (e.touches && e.touches.length > 1) {\n                this._moved = true;\n                return;\n            }\n\n            var first = (e.touches && e.touches.length === 1 ? e.touches[0] : e),\n                newPoint = DG.point(first.clientX, first.clientY),\n                offset = Math.abs(newPoint.subtract(this._startPoint).y);\n\n            if (!offset || offset < 10) { return; }\n\n            this._moving = this._moved = true;\n\n        },\n\n        _initBaron: function() {\n            var context = this._scrollerWrapper;\n            this._baron = graf({\n                scroller: '.dg-scroller',\n                bar: '.dg-scroller__bar',\n                track: '.dg-scroller__bar-wrapper',\n                $: function(selector) {\n                    var node = {}.toString.call(selector) === '[object String]' ?\n                        context.querySelector(selector) : selector;\n\n                    return new BaronDomHelper(node);\n                },\n                event: function(elem, event, func, mode) {\n                    event.split(' ').forEach(function(type) {\n                        DG.DomEvent[mode || 'on'](elem, type, func);\n                    });\n                }\n            });\n        },\n\n        _initHeader: function() {\n            this._popupStructure.header = DG.DomUtil.create('header', 'dg-popup__header', this._contentNode);\n            this._popupStructure.header.setAttribute('dir', this.options.textDirection);\n        },\n\n        _initFooter: function() {\n            this._popupStructure.footer = DG.DomUtil.create('footer', 'dg-popup__footer', this._contentNode);\n            this._popupStructure.footer.setAttribute('dir', this.options.textDirection);\n        },\n\n        _initBodyContainer: function() {\n            this._popupStructure.wrapper = DG.DomUtil.create('div', 'dg-popup__container-wrapper', this._contentNode);\n            this._popupStructure.body = DG.DomUtil.create('div', 'dg-popup__container', this._popupStructure.wrapper);\n            this._popupStructure.body.setAttribute('dir', this.options.textDirection);\n        },\n\n        update: function() {\n            if (!this._map) { return; }\n\n            if (!DG.Browser.ielt9) {\n                this._container.style.visibility = 'hidden';\n            }\n            this._switchEvents(true);\n\n            this._clearNode(this._contentNode);\n            this._isBaronExist = false;\n\n            // init popup content dom structure\n            if (this._headerContent) { this._initHeader(); }\n            if (this._bodyContent) { this._initBodyContainer(); }\n            if (this._footerContent) { this._initFooter(); }\n\n            this._updatePopupStructure();\n            this.resize();\n\n            DG.DomEvent.on(this._wrapper, 'click', DG.DomEvent.stopPropagation);\n            this._switchEvents();\n\n            if (DG.Browser.ielt9) {\n                var elem = this._popupStructure.footer;\n                if (elem) {\n                    elem.className += ' ie8';\n                }\n            }\n\n            if (!DG.Browser.ielt9) {\n                this._container.style.visibility = '';\n            }\n        },\n\n        _getDelta: function() { // () -> Number\n            var delta = 0,\n                popup = this._popupStructure;\n\n            if (popup.header) {\n                delta += popup.header.offsetHeight;\n            }\n            if (popup.footer) {\n                delta += popup.footer.offsetHeight;\n            }\n\n            return delta;\n        },\n\n        _updateLayout: function() {\n            var opts = this.options,\n                content = this._contentNode, // leaflet-popup-content\n                wrapper = this._wrapper, // leaflet-popup-content-wrapper\n                style = content.style,\n                wrapperStyle = wrapper.style,\n                width,\n                scrolledClass = 'leaflet-popup-scrolled',\n                result = false;\n\n            style.margin = opts.border + 'px';\n\n            DG.DomUtil.removeClass(content, scrolledClass);\n\n            if (this._isContentHeightEnough()) {\n                wrapperStyle.maxHeight = content.offsetHeight + opts.border * 2 + 'px';\n            } else {\n                wrapperStyle.maxHeight = opts.maxHeight + 'px';\n                DG.DomUtil.addClass(content, scrolledClass);\n                result = true;\n            }\n\n            var availableWidth = opts.autoPanPadding[0] * 2;\n\n            if (opts.sprawling) {\n                width = opts.maxWidth;\n\n                width = Math.min(width, this._map._container.offsetWidth - availableWidth);\n                width = Math.max(width, opts.minWidth);\n            } else {\n                wrapperStyle.width = '';\n\n                style.whiteSpace = 'nowrap';\n                width = wrapper.offsetWidth;\n                style.whiteSpace = '';\n\n                width = Math.min(width, this._map._container.offsetWidth - availableWidth);\n                width = Math.min(Math.max(width, opts.minWidth), opts.maxWidth);\n            }\n\n            wrapperStyle.width = width + 'px';\n\n            this._containerWidth = this._container.offsetWidth;\n\n            return result;\n        },\n\n        _updatePopupStructure: function() {\n            Object.keys(this._popupStructure).forEach(function(item) {\n                this._insertContent(this['_' + item + 'Content'], this._popupStructure[item]);\n            }, this);\n\n            this.fire('contentupdate');\n        },\n\n        _insertContent: function(content, node) { // (String | DOMElement, DOMElement)\n            if (!content || !node) { return; }\n\n            content = (typeof content === 'function') ? content(this._source || this) : content;\n\n            if (typeof content === 'string') {\n                node.innerHTML = content;\n            } else {\n                this._clearNode(node);\n                node.appendChild(content);\n            }\n        },\n\n        _clearNode: function(node) { // (DOMElement)\n            while (node.hasChildNodes()) {\n                node.removeChild(node.firstChild);\n            }\n        },\n\n        _detachEl: function(elem) { // (DOMElement) -> DOMElement\n            if (elem.parentNode) {\n                elem.parentNode.removeChild(elem);\n            }\n            return elem;\n        },\n\n        _switchEvents: function(on) { // (Boolean)\n            var switcher = on ? 'off' : 'on';\n\n            if (!DG.Browser.touch) {\n                DG.DomEvent[switcher](this._contentNode, 'click', this._onClick, this);\n            } else {\n                DG.DomEvent[switcher](this._contentNode, 'touchstart mousedown mousemove', this._onStart, this);\n            }\n\n            if (this._isBaronExist) {\n                DG.DomEvent[switcher](this._scroller, 'scroll', this._onScroll, this);\n            }\n        },\n\n        _toggleTouchEvents: function(on) {\n            var switcher = on ? 'off' : 'on';\n\n            DG.DomEvent[switcher](this._contentNode, 'touchmove', this._onMove, this);\n            DG.DomEvent[switcher](this._contentNode, 'touchend', this._onEnd, this);\n        }\n\n    });\n}());\n\n\nDG.Map.include({\n    _markerClass: 'dg-customization__marker_type_mushroom',\n    _markerShowClass: 'dg-customization__marker_appear',\n    _markerHideClass: 'dg-customization__marker_disappear',\n    _dgHideClass: 'dg-popup_hidden_true',\n    openPopup: function(popup, latlng, options) { // (Popup) or (String || HTMLElement, LatLng[, Object])\n        if (!(popup instanceof L.Popup)) {\n            var content = popup;\n\n            popup = new L.Popup(options).setContent(content);\n        }\n\n        if (latlng) {\n            popup.setLatLng(latlng);\n        }\n\n        if (this.hasLayer(popup)) {\n            return this;\n        }\n\n        if (this._popup && this._popup.options.autoClose) {\n            this.closePopup();\n        }\n\n        this._popup = popup;\n\n        if (popup._source && popup._source._icon) {\n            if (popup._source._icon.className.indexOf(this._markerClass) !== -1) {\n                DG.DomUtil.removeClass(popup._source._icon, this._markerShowClass);\n                DG.DomUtil.addClass(popup._source._icon, this._markerHideClass);\n            } else {\n                DG.DomUtil.addClass(popup._source._icon, this._dgHideClass);\n                if (popup._source._shadow) {\n                    DG.DomUtil.addClass(popup._source._shadow, this._dgHideClass);\n                }\n            }\n        }\n\n        return this.addLayer(popup);\n    },\n\n    closePopup: function(popup) {  // (Popup) -> Popup\n        if (!popup || popup === this._popup) {\n            popup = this._popup;\n            this._popup = null;\n        }\n        if (popup) {\n            if (popup._source && popup._source._icon) {\n                if (popup._source._icon.className.indexOf(this._markerClass) !== -1) {\n                    DG.DomUtil.removeClass(popup._source._icon, this._markerHideClass);\n                    DG.DomUtil.addClass(popup._source._icon, this._markerShowClass);\n                } else {\n                    DG.DomUtil.removeClass(popup._source._icon, this._dgHideClass);\n                    if (popup._source._shadow) {\n                        DG.DomUtil.removeClass(popup._source._shadow, this._dgHideClass);\n                    }\n                }\n            }\n            this.removeLayer(popup);\n        }\n\n        return this;\n    }\n});\n\nDG.Dictionary = {};\n\nDG.Dictionary.ru = {\n    pluralRules: function(n) { // (Number)\n        if (n % 10 === 1 && n % 100 !== 11) { // 1, 21\n            return 0;\n        }\n        if ((n % 10 >= 2 && n % 10 <= 4 && (n % 10) % 1 === 0) && (n % 100 < 12 || n % 100 > 14)) { // 2, 3\n            return 1;\n        }\n\n        if ((n % 10 === 0) || (n % 10 >= 5 && n % 10 <= 9 && (n % 10) % 1 === 0) || (n % 100 >= 11 && (n % 100) <= 14 && (n % 100) % 1 === 0)) { // 13, 17\n            return 2;\n        }\n    }\n};\n\nDG.Dictionary.en = {\n    pluralRules: function(n) { // (Number)\n        if (n === 1) { // 1\n            return 0;\n        } else {\n            return 1; //0, 2, 3, 4 ..\n        }\n    }\n};\n\nDG.Dictionary.it = {\n    pluralRules: function(n) { // (Number)\n        if (n === 1) { // 1\n            return 0;\n        } else {\n            return 1; //0, 2, 3, 4 ..\n        }\n    }\n};\n\nDG.Dictionary.cs = {\n    pluralRules: function(n) { // (Number)\n        return (n === 1) ? 0 : (n >= 2 && n <= 4) ? 1 : 2;\n    }\n};\n\nDG.Dictionary.es = {\n    pluralRules: function(n) { // (Number)\n        return (n >= 2) ? 1 : 0;\n    }\n};\n\n// Stub for Arabic language, we don't have cases with plural form usage\n// Actually Arabic has 6 plural forms\nDG.Dictionary.ar = {\n    pluralRules: function() {\n        return 0;\n    }\n};\n\nDG.Locale = {\n    t: function(msg, argument) { // (String, Number) -> String\n        var result,\n            lang = this._map.getLang(),\n            msgIsset = false,\n            dictionaryMsg,\n            exp;\n\n        if (typeof this.constructor.Dictionary[lang] === 'undefined') {\n            if (lang === 'ar') {\n                lang = 'en';\n            } else {\n                lang = DG.config.defaultLang;\n            }\n        }\n        dictionaryMsg = this.constructor.Dictionary[lang][msg];\n        msgIsset = typeof dictionaryMsg !== 'undefined';\n        if (!msgIsset) {\n            return msg;\n        }\n        result = msgIsset ? dictionaryMsg : msg;\n\n        if (argument !== undefined) {\n            argument = parseInt(argument, 10);\n            argument = isNaN(argument) ? 0 : argument;\n            exp = this.constructor.Dictionary[lang].pluralRules(argument);\n            result = dictionaryMsg[exp];\n        }\n\n        result = DG.Util.template(result, {n: argument});\n        return result;\n    }\n};\n\nDG.Map.include({\n    setLang: function(lang) { // (String)\n        if (lang && Object.prototype.toString.call(lang) === '[object String]') {\n            this.options.currentLang = lang;\n            this.fire('langchange', {'lang': lang});\n        }\n    },\n\n    getLang: function() { // () -> String\n        // If the language hasn't been set before, set it to page language or\n        // default language from config\n        if (!this.options.currentLang) {\n            var root = document.documentElement;\n            var lang = root.lang || (root.getAttributeNS && root.getAttributeNS('http://www.w3.org/XML/1998/namespace', 'lang')) || DG.config.defaultLang;\n\n            this.options.currentLang = lang;\n        }\n\n        return this.options.currentLang;\n    }\n});\n\nDG.RoundControl = DG.Control.extend({\n    includes: DG.Mixin.Events,\n\n    options: {\n        position: 'topright',\n        iconClass: 'default'\n    },\n\n    onAdd: function(map) {\n        var controlClass = this._controlCLass = 'dg-control-round',\n            controlIconClass = this._controlIconCLass = this._controlCLass + '__icon',\n            container = DG.DomUtil.create('div', '');\n\n        if (this._disable) {\n            return container;\n        }\n        DG.DomUtil.addClass(container, controlClass);\n\n        var link = this._link = DG.DomUtil.create(\n            'a',\n            controlIconClass + ' ' + controlIconClass + '_name_' + this.options.iconClass,\n            container\n        );\n\n        link.href = '#';\n\n        this._renderTranslation();\n\n        this._map = map;\n\n        DG.DomEvent\n            .on(container, 'click', this._toggleControl, this)\n            .on(container, 'dblclick', DG.DomEvent.stopPropagation)\n            .on(link, 'mousedown', DG.DomEvent.stopPropagation);\n\n        this.fireEvent('add');\n\n        return container;\n    },\n\n    onRemove: function() {\n        this.fireEvent('remove');\n        DG.DomEvent.off(this._link, 'click', this._toggleControl);\n    },\n\n    setState: function(state) {\n        if (!this._link || !this._container) {\n            return this;\n        }\n\n        if (this._state) {\n            DG.DomUtil.removeClass(this._container, this._controlCLass + '_state_' + this._state);\n            DG.DomUtil.removeClass(this._link, this._controlIconCLass + '_state_' + this._state);\n\n            this._state = null;\n        }\n\n        if (state) {\n            this._state = state;\n\n            DG.DomUtil.addClass(this._container, this._controlCLass + '_state_' + this._state);\n            DG.DomUtil.addClass(this._link, this._controlIconCLass + '_state_' + this._state);\n        }\n\n        return this;\n    },\n\n    _toggleControl: function(e) {\n        DG.DomEvent.stop(e);\n        this.fireEvent('click');\n    }\n});\n\nDG.RoundControl.include(DG.Locale);\n\nDG.roundControl = function(options) {\n    return new DG.RoundControl(options);\n};\n\nvar ie9 = (function() {\n    var div = document.createElement('div');\n    var all = div.getElementsByTagName('i');\n    div.innerHTML = '<!--[if IE 9]><i></i><![endif]-->';\n    return Boolean(all[0]);\n})();\n\nvar safari51 = DG.Browser.safari && navigator.userAgent.indexOf('Version/5.1') !== -1;\n\nvar wasPreviouslyDisabled = false;\n\n// Old Safari throws error when localStorage.getItem is called in private mode\ntry {\n    wasPreviouslyDisabled = localStorage.getItem('DGMuseum') === 'false';\n} catch (err) {\n    // do nothing\n}\n\nDG.Map.mergeOptions({\n    museum: !wasPreviouslyDisabled && (DG.Browser.ielt9 || ie9 || DG.Browser.opera12 || safari51)\n});\n\nDG.Map.Museum = DG.Handler.extend({\n    statics: {\n        Dictionary: {\n            ar: {\n                wearesorry: 'لا نضمن لك تشغيل ثابت للتطبيق على متصفحك. حاول التحديث:'\n            },\n            cs: {\n                wearesorry: 'Nezaručujeme stabilní fungování aplikace ve Vašem prohlížeči. Zkuste provést aktualizaci:'\n            },\n            en: {\n                wearesorry: 'We do not guarantee stable operation of the application in your browser. Try updating:'\n            },\n            es: {\n                wearesorry: 'No garantizamos un funcionamiento estable de la aplicación en su buscador. Intente actualizarlo:'\n            },\n            it: {\n                wearesorry: 'Non garantiamo il funzionamento stabile dell\\'applicazione nel tuo browser. Prova ad aggiornare:'\n            },\n            ru: {\n                wearesorry: 'Мы не гарантируем стабильную работу приложения в вашем браузере. Попробуйте обновиться:'\n            }\n        }\n    },\n\n    includes: [DG.Locale],\n\n    initialize: function(map) {\n        this._map = map;\n\n        this._element = document.createElement('div');\n        this._element.className = 'dg-museum';\n        this._element.innerHTML = '<span></span>' +\n            '<a class=\"dg-museum-browser dg-museum__chrome\" target=\"_blank\" href=\"https://www.google.com/chrome/\"></a>' +\n            '<a class=\"dg-museum-browser dg-museum__firefox\" target=\"_blank\" href=\"https://www.mozilla.org/firefox/new/\"></a>' +\n            '<a class=\"dg-museum-browser dg-museum__safari\" target=\"_blank\" href=\"https://support.apple.com/downloads/safari\"></a>' +\n            '<a class=\"dg-museum-browser dg-museum__opera\" target=\"_blank\" href=\"https://www.opera.com/\"></a>' +\n            '<a class=\"dg-museum-browser dg-museum__ie\" target=\"_blank\" href=\"https://windows.microsoft.com/internet-explorer/download-ie\"></a>';\n\n        this._text = this._element.children[0];\n\n        this._closeButton = document.createElement('span');\n        this._closeButton.className = 'dg-museum__close';\n        this._element.appendChild(this._closeButton);\n\n        this._renderTranslation();\n    },\n\n    addHooks: function() {\n        this._map.getContainer().appendChild(this._element);\n        this._map.on('langchange', this._renderTranslation, this);\n        DG.DomEvent.on(this._closeButton, 'click', this._onCloseButtonClick, this);\n    },\n\n    removeHooks: function() {\n        this._map.getContainer().removeChild(this._element);\n        this._map.off('langchange', this._renderTranslation, this);\n        DG.DomEvent.off(this._closeButton, 'click', this._onCloseButtonClick, this);\n    },\n\n    _onCloseButtonClick: function(e) {\n        DG.DomEvent.stop(e);\n\n        // Old Safari throws error when localStorage.getItem is called in private mode\n        try {\n            localStorage.setItem('DGMuseum', 'false');\n        } catch (err) {\n            // do nothing\n        }\n\n        this.disable();\n    },\n\n    _renderTranslation: function() {\n        var lang = this._map.getLang();\n        this._text.innerHTML = this.t('wearesorry');\n        this._element.setAttribute('dir', lang === 'ar' ? 'rtl': 'ltr');\n    }\n});\n\nDG.Map.addInitHook('addHandler', 'museum', DG.Map.Museum);\n\nDG.configTheme = DG.configTheme || {};\n\nDG.configTheme.markersData = {\n    iconSize: [22, 34],\n    className: 'dg-customization__marker dg-customization__marker_type_mushroom',\n    iconAnchor: [10, 32]\n};\n\n// Fix a lot of bugs with pinch-zooming\n// See https://github.com/2gis/mapsapi/issues/327\nDG.Map.mergeOptions({\n    bounceAtZoomLimits: false\n});\n\n//Inject observing localization change\nvar controlAddTo = DG.Control.prototype.addTo;\n\nDG.Control.include({\n    addTo: function(map) {\n        map.on('langchange', this._renderTranslation, this);\n\n        return controlAddTo.call(this, map);\n    },\n    _renderTranslation: function() {}\n});\n\n// Just a copy of toPoint function\n// https://github.com/Leaflet/Leaflet/blob/e079588573d0b0c649df95c3d6005373e87f323a/src/geometry/Point.js#L198-L222\nfunction toPoint(x, y, round) {\n    if (x instanceof DG.Point) {\n        return x;\n    }\n    if (DG.Util.isArray(x)) {\n        return new DG.Point(x[0], x[1]);\n    }\n    if (x === undefined || x === null) {\n        return x;\n    }\n    if (typeof x === 'object' && 'x' in x && 'y' in x) {\n        return new DG.Point(x.x, x.y);\n    }\n    return new DG.Point(x, y, round);\n}\n\n// Add ability to pass HTMLElement in DG.divIcon html parameter\n// See https://github.com/Leaflet/Leaflet/pull/6571\n// TODO: Remove it after updating leaflet at least to v1.5.0\nDG.DivIcon.include({\n    createIcon: function(oldIcon) {\n        var div = (oldIcon && oldIcon.tagName === 'DIV') ? oldIcon : document.createElement('div'),\n            options = this.options;\n\n        if (options.html instanceof Element) {\n            DG.DomUtil.empty(div);\n            div.appendChild(options.html);\n        } else {\n            div.innerHTML = options.html !== false ? options.html : '';\n        }\n\n        if (options.bgPos) {\n            var bgPos = toPoint(options.bgPos);\n            div.style.backgroundPosition = (-bgPos.x) + 'px ' + (-bgPos.y) + 'px';\n        }\n        this._setIconStyles(div, 'icon');\n\n        return div;\n    },\n});\n\n// Add some browser detection\nDG.Browser.safari51 = DG.Browser.safari && navigator.userAgent.indexOf('Version/5.1') !== -1;\n\n// DG.Browser.touch checks whether touch events supported or not; touchEnabled checks if it's a touch device\nvar msPointer = navigator.msPointerEnabled && navigator.msMaxTouchPoints && !window.PointerEvent;\nvar pointer = (window.PointerEvent && navigator.pointerEnabled && navigator.maxTouchPoints) || msPointer;\nvar documentTouch = window.DocumentTouch && document instanceof window.DocumentTouch;\nDG.Browser.touchEnabled = pointer || 'ontouchstart' in window || documentTouch;\n\n// Applies 2GIS divIcon to marker\nDG.Marker.prototype.options.icon = DG.divIcon(DG.configTheme.markersData);\n\n// support old option clickable\nvar utilSetOptions = DG.Util.setOptions;\n\nDG.setOptions = L.setOptions = DG.Util.setOptions = function(obj, options) {\n    if (options && typeof options.clickable !== 'undefined') {\n        options.interactive = options.clickable;\n    }\n\n    return utilSetOptions.call(this, obj, options);\n};\n\nDG.Layer.mergeOptions({\n    nonBubblingEvents: ['click', 'dblclick', 'mouseover', 'mouseout', 'contextmenu']\n});\n\nL.Canvas.include({\n    // overwrite the function without mousemove debounce as it breaks metalayers events\n    _initContainer: function() {\n        var container = this._container = document.createElement('canvas');\n\n        L.DomEvent\n            .on(container, 'mousemove', this._onMouseMove, this)\n            .on(container, 'click dblclick mousedown mouseup contextmenu', this._onClick, this)\n            .on(container, 'mouseout', this._handleMouseOut, this);\n\n        this._ctx = container.getContext('2d');\n    }\n});\n\n// Monitor geometry usage\n// TODO: remove after successful research\nif (DG.Path) {\n    var pathInitialize = DG.Path.prototype.onAdd;\n    var loggedGeometryTypes = {};\n\n    DG.Path.include({\n        onAdd: function(map) {\n            var type = 'Unknown';\n\n            if (DG.Rectangle && this instanceof DG.Rectangle) {\n                type = 'Rectangle';\n            } else if (DG.Circle && this instanceof DG.Circle) {\n                type = 'Circle';\n            } else if (DG.CircleMarker && this instanceof DG.CircleMarker) {\n                type = 'CircleMarker'\n            } else if (DG.Polygon && this instanceof DG.Polygon) {\n                type = 'Polygon';\n            } else if (DG.Polyline && this instanceof DG.Polyline) {\n                type = 'Polyline';\n            }\n\n            // Don't send event twice for same type\n            if (!loggedGeometryTypes[type]) {\n                loggedGeometryTypes[type] = true;\n\n                if (typeof ga !== undefined) {\n                    // eslint-disable-next-line no-undef\n                    ga(DG.config.gaName + '.send', 'event', 'Geometry', 'Use', type);\n                }\n            }\n\n            return pathInitialize.call(this, map);\n        },\n    });\n}\n\nvar initMap = DG.Map.prototype.initialize,\n    panBy = DG.Map.prototype.panBy,\n    getBoundsZoom = DG.Map.prototype.getBoundsZoom,\n    setMaxZoom = DG.Map.prototype.setMaxZoom;\n\n// Restrict zoom level according to 2gis projects, in case if dgTileLayer is only one\nDG.Map.include({\n\n    // number of tileLayers without 2gis layers\n    _tileLayersNumber: 0,\n\n    _mapMaxZoomCache: null,\n\n    //TODO try refactor it after up on new leaflet (> 0.7)\n    initialize: function(id, options) { // (HTMLElement or String, Object)\n        // Override default wheelPxPerZoomLevel value to avoid zooming too fast\n        // on mouse wheel rotation\n        // See https://github.com/2gis/mapsapi/issues/343\n        options = DG.extend({wheelPxPerZoomLevel: 10000}, options);\n\n        this.metaLayers = [];\n\n        initMap.call(this, id, options);\n\n        //  Project must be checked after BaseLayer init which occurs in InitHook (see orig method definition)\n        if (this.options.center && this.options.zoom !== undefined) {\n            this.setView(DG.latLng(this.options.center), this.options.zoom, {reset: true});\n        }\n\n        this._lastMetalayer = {\n            layer: undefined,\n            entity: undefined\n        };\n    },\n\n    setView: function(center, zoom, options) {\n        this._restrictZoom(center, zoom);\n\n        zoom = zoom === undefined ? this._zoom : this._limitZoom(zoom);\n        center = this._limitCenter(DG.latLng(center), zoom, this.options.maxBounds);\n        options = options || {};\n\n        if (options.animate) {\n            options.animate = this._testAnimation(center);\n        }\n\n        this._stop();\n\n        if (this._loaded && !options.reset && options !== true) {\n\n            if (options.animate !== undefined) {\n                options.zoom = DG.extend({\n                    animate: options.animate,\n                    duration: options.duration\n                }, options.zoom);\n                options.pan = DG.extend({\n                    animate: options.animate,\n                    duration: options.duration\n                }, options.pan);\n            }\n\n            // try animating pan or zoom\n            var animated = (this._zoom !== zoom) ?\n                this._tryAnimatedZoom && this._tryAnimatedZoom(center, zoom, options.zoom) :\n                this._tryAnimatedPan(center, options.pan);\n\n            if (animated) {\n                // prevent resize handler call, the view will refresh after animation anyway\n                clearTimeout(this._sizeTimer);\n                return this;\n            }\n        }\n\n        // animation didn't start, just reset the map view\n        this._resetView(center, zoom);\n\n        return this;\n    },\n\n    panBy: function(offset, options) {\n        var map = panBy.call(this, offset, options);\n\n        var zoom = this._restrictZoom(this.getCenter());\n        if (this.getZoom() > zoom) {\n            this.setZoom(zoom);\n        }\n\n        return map;\n    },\n\n    getBoundsZoom: function(bounds, inside, padding) {\n        bounds = DG.latLngBounds(bounds);\n        this._restrictZoom(bounds);\n        return getBoundsZoom.call(this, bounds, inside, padding);\n    },\n\n    getTileLayersNumber: function() {\n        return this._tileLayersNumber;\n    },\n\n    setMaxZoom: function(zoom) {\n        this._mapMaxZoomCache = null;\n        return setMaxZoom.call(this, zoom);\n    },\n\n    _testAnimation: function(coords) {//if we jump to other project - disable animation\n        if (this.projectDetector.enabled()) {\n            var projectFrom = this.projectDetector.getProject(),\n                projectTo = this.projectDetector.isProjectHere(coords);\n\n            if (projectFrom && projectTo) {\n                return projectFrom.code === projectTo.code;\n            }\n        }\n\n        return true;\n    },\n\n    _updateTileLayers: function(e) {\n        if (!(e.layer instanceof DG.TileLayer) || e.layer._isDg) { return; }\n\n        if (e.type === 'layeradd') {\n            this._tileLayersNumber++;\n        } else {\n            this._tileLayersNumber--;\n        }\n    },\n\n    _getNewBounds: function(coords, zoom) {\n        if (coords instanceof DG.LatLngBounds) {\n            return coords;\n        }\n\n        var point = this.project(coords, zoom);\n        var screenSize = this.getSize().divideBy(2);\n\n        var sw = this.unproject(point.subtract(screenSize), zoom);\n        var ne = this.unproject(point.add(screenSize), zoom);\n\n        return DG.latLngBounds(sw, ne);\n    },\n\n    _restrictZoom: function(coords, zoom) {\n        if (this._layers &&\n            this.projectDetector.enabled() &&\n            (this._tileLayersNumber === 0)) {\n\n            var mapOptions = this.options,\n                isMapMaxZoom = !!mapOptions.maxZoom,\n                dgTileLayer = this.baseLayer,\n                bounds = this._getNewBounds(coords, zoom),\n                project = this.projectDetector.isProjectHere(bounds);\n\n            if (isMapMaxZoom) {\n                if (!this._mapMaxZoomCache) {\n                    if (this.baseLayer.options.detectRetina && DG.Browser.retina && mapOptions.maxZoom > 0) {\n                        mapOptions.maxZoom--;\n                    }\n\n                    this._mapMaxZoomCache = mapOptions.maxZoom;\n                }\n                mapOptions.maxZoom = (this._mapMaxZoomCache && project) ? this._mapMaxZoomCache :  DG.config.projectLeaveMaxZoom;\n                if (project) {\n                    this._mapMaxZoomCache = mapOptions.maxZoom;\n                }\n\n                return mapOptions.maxZoom;\n            } else {\n                if (project) {\n                    if (dgTileLayer.options.detectRetina && DG.Browser.retina && project.maxZoom > 0) {\n                        dgTileLayer.options.maxZoom = project.maxZoom - 1;\n                    } else {\n                        dgTileLayer.options.maxZoom = project.maxZoom;\n                    }\n                } else {\n                    dgTileLayer.options.maxZoom = DG.config.projectLeaveMaxZoom;\n                }\n\n                dgTileLayer.options.maxNativeZoom = dgTileLayer.options.maxZoom;\n                this._updateZoomLevels();\n\n                return dgTileLayer.options.maxZoom;\n            }\n        }\n    },\n\n    // Added meta layers events processing before map events\n    _fireDOMEvent: function(e, type, targets) {\n        if (e.keyCode === 13) {\n            // https://github.com/Leaflet/Leaflet/issues/5499\n            return;\n        }\n        if (e.type === 'click') {\n            // Fire a synthetic 'preclick' event which propagates up (mainly for closing popups).\n            // @event preclick: MouseEvent\n            // Fired before mouse click on the map (sometimes useful when you\n            // want something to happen on click before any existing click\n            // handlers start running).\n            var synth = L.Util.extend({}, e);\n            synth.type = 'preclick';\n            this._fireDOMEvent(synth, synth.type, targets);\n        }\n\n        if (e._stopped) { return; }\n\n        // Find the layer the event is propagating from and its parents.\n        targets = (targets || []).concat(this._findEventTargets(e, type));\n\n        if (!targets.length) { return; }\n\n        var target = targets[0];\n        if (type === 'contextmenu' && target.listens(type, true)) {\n            L.DomEvent.preventDefault(e);\n        }\n\n        // The eventTargets and eventTargetsMapIndex properties are used for fire events continuation to\n        // remaining targets when the event was stopped due to the tile meta data request in progress.\n        // In this case there is need to fire events to remaining targets asynchronously.\n        var data = {\n            originalEvent: e,\n            eventTargets: targets,\n            eventTargetsMapIndex: targets.indexOf(this)\n        };\n\n        if (e.type !== 'keypress') {\n            var isMarker = target instanceof L.Marker;\n            data.containerPoint = isMarker ?\n                this.latLngToContainerPoint(target.getLatLng()) : this.mouseEventToContainerPoint(e);\n            data.layerPoint = this.containerPointToLayerPoint(data.containerPoint);\n            data.latlng = isMarker ? target.getLatLng() : this.layerPointToLatLng(data.layerPoint);\n        }\n\n        for (var i = 0; i < targets.length; i++) {\n            // Check metalayers before dispatch the event to the map\n            if (targets[i] === this) {\n                var metalayer = this._getCurrentMetaLayer(data);\n\n                if (type === 'mousemove') {\n                    if (this._lastMetalayer.entity && metalayer.entity &&\n                        this._lastMetalayer.entity.id === metalayer.entity.id) {\n                        this._fireMetalayerEvent('mousemove', metalayer, data);\n                    } else {\n                        this._fireMetalayerEvent('mouseout', this._lastMetalayer, data);\n                        this._fireMetalayerEvent('mouseover', metalayer, data);\n                        this._fireMetalayerEvent('mousemove', metalayer, data);\n                        this._lastMetalayer = metalayer;\n                    }\n                } else {\n                    this._fireMetalayerEvent(type, metalayer, data);\n                }\n\n                // If the event wasn't stopped in metalayers, dispatch it to the map\n                if (!data.originalEvent._stopped) {\n                    targets[i].fire(type, data, true);\n                }\n            } else {\n                targets[i].fire(type, data, true);\n                if (this._lastMetalayer.entity && data.originalEvent._stopped) {\n                    // fixes L.circle([54.983136831455, 82.897440725094], 200).addTo(map);\n                    this._fireMetalayerEvent('mouseout', this._lastMetalayer, data);\n                    this._lastMetalayer = {\n                        layer: undefined,\n                        entity: undefined\n                    };\n                }\n            }\n\n            if (data.originalEvent._stopped ||\n                (targets[i].options.nonBubblingEvents && L.Util.indexOf(targets[i].options.nonBubblingEvents, type) !== -1)) { return; }\n        }\n    },\n\n    _getCurrentMetaLayer: function(data) {\n        // Not forget for IE8 with srcElement\n        var eventTarget = data.originalEvent.target || data.originalEvent.srcElement;\n        var isClick = data.originalEvent.type === 'click';\n\n        // Suppose that user can interact with the metalayer only if there are no layers between cursor and map\n        if (\n            // For all browsers which support pointer-events: none on tiles\n            eventTarget === this._container ||\n            // And for IE10 or less where targets are tiles\n            DG.Browser.ie && eventTarget.className === 'leaflet-tile leaflet-tile-loaded' ||\n            // The only exception is canvas, because a canvas layer occupies the whole screen\n            eventTarget.tagName === 'CANVAS'\n        ) {\n            for (var j = this.metaLayers.length - 1; j >= 0; j--) {\n                var metaEntity = this.metaLayers[j].getHoveredObject(data);\n                if (metaEntity) {\n                    return {\n                        layer: this.metaLayers[j],\n                        entity: metaEntity\n                    };\n                } else if (isClick) {\n                    // Additional condition for click event, because there may not be the tile meta data.\n                    // E.g. when the tile meta data request in progress. In this case the metalayer must be\n                    // returned without an entity.\n                    return {\n                        layer: this.metaLayers[j],\n                        entity: undefined\n                    }\n                }\n            }\n        }\n        return {\n            layer: undefined,\n            entity: undefined\n        };\n    },\n\n    _fireMetalayerEvent: function(type, metalayer, data) {\n        // There is need to continue if the event type is click, because there may not be the tile meta data.\n        // That's why it will be processed in the metalayer click handler.\n        if (!metalayer.entity && type !== 'click') {\n            return;\n        }\n\n        // There is no need to fire metalayer event if the metalayer is undefined.\n        if (!metalayer.layer) {\n            return;\n        }\n\n        var listener = metalayer.layer.mapEvents[type];\n        if (!listener) {\n            return;\n        }\n        data.entity = metalayer.entity;\n        listener.call(metalayer.layer, data);\n    }\n});\n\nDG.Map.addInitHook(function() {\n    this.on('layeradd layerremove', this._updateTileLayers);\n});\n\n// Set css property touch-action to auto if dragging is false.\n// Need for scrolling page in mobile using our map dom element.\n// todo: I made issue in leaflet https://github.com/Leaflet/Leaflet/issues/4415\nDG.Map.addInitHook(function() {\n    if (this.options.dragging == false && this.options.tap == false) {\n        DG.DomUtil.addClass(this._container, 'dg-dragging-false');\n    }\n});\n\nDG.Map.addInitHook(function() {\n    var errorUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAQMAAABmvDolAAAAA1BMVEX28t5R0k5UAAAAH0lEQVR4Xu3AAQkAAADCMPunNsdhWxwAAAAAAAAAwAEhAAABg2UP5AAAAABJRU5ErkJggg==';\n    var errorRuUrl = DG.config.protocol + DG.config.baseUrl + '/img/nomap_ru.png';\n\n    var TileLayer = DG.Browser.mobile ? DG.MobileTileLayer : DG.TileLayer;\n\n    var BaseLayer = TileLayer.extend({\n        initialize: function(url, options) {\n            this._isDg = true;\n            TileLayer.prototype.initialize.call(this, url, options);\n        },\n\n        getTiles: function() {\n            return this._tiles;\n        }\n    });\n\n    var tileUrl = DG.config.protocol + (DG.Browser.retina ? DG.config.retinaTileServer : DG.config.tileServer);\n    var arabicTileUrl = DG.config.protocol +\n        (DG.Browser.retina ? DG.config.arabicRetinaTileServer : DG.config.arabicTileServer);\n\n    var previewTileUrl = DG.config.protocol +\n        (DG.Browser.retina ? DG.config.previewRetinaTileServer : DG.config.previewTileServer);\n    var arabicPreviewTileUrl = DG.config.protocol +\n        (DG.Browser.retina ? DG.config.arabicPreviewRetinaTileServer : DG.config.arabicPreviewTileServer);\n\n    this.baseLayer = new BaseLayer(tileUrl, {\n        subdomains: '0123',\n        errorTileUrl: this.getLang() === 'ru' ? errorRuUrl : errorUrl,\n        detectRetina: DG.config.detectRetina,\n        maxZoom: 19,\n        maxNativeZoom: 19,\n        zIndex: 0,\n        updateWhenIdle: false, // it's okay with preview tiles\n        previewUrl: previewTileUrl,\n    });\n\n    var currentTilesLang = ''; // 'ar' | ''\n\n    function updateTileUrl() {\n        var lang = this.getLang();\n        var project = this.projectDetector && this.projectDetector.getProject();\n\n        if (lang === 'ru' && !project) {\n            this.baseLayer.options.errorTileUrl = errorRuUrl;\n        } else {\n            this.baseLayer.options.errorTileUrl = errorUrl;\n        }\n\n        // Change 2GIS tiles for Arabic language in Dubai project\n        if (currentTilesLang === '' && lang === 'ar' && project && project.country_code === 'ae') {\n            currentTilesLang = 'ar';\n            this.baseLayer.setUrl(arabicTileUrl);\n            if (this.baseLayer.setPreviewUrl) {\n                this.baseLayer.setPreviewUrl(arabicPreviewTileUrl);\n            }\n\n        } else if (currentTilesLang === 'ar' && (lang !== 'ar' || (!project || project.country_code !== 'ae'))) {\n            currentTilesLang = '';\n            this.baseLayer.setUrl(tileUrl);\n            if (this.baseLayer.setPreviewUrl) {\n                this.baseLayer.setPreviewUrl(previewTileUrl);\n            }\n        }\n    }\n\n    updateTileUrl.call(this);\n\n    this.baseLayer.addTo(this);\n\n    this.on({\n        langchange: updateTileUrl,\n        projectchange: updateTileUrl,\n        projectleave: updateTileUrl\n    }, this);\n});\n\nDG.Map.mergeOptions({\n    tilesCheck: true\n});\n\nDG.Map.TilesCheck = DG.Handler.extend({\n    initialize: function(map) {\n        this._map = map;\n        this._layer = map.baseLayer;\n\n        this._moveStartEventCounter = 0;\n        this._moveEndEventCounter = 0;\n\n        this._loadingEventCounter = 0;\n        this._loadEventCounter = 0;\n    },\n\n    addHooks: function() {\n        this._map.on(this._mapEvents, this);\n        this._layer.on(this._layerEvents, this);\n    },\n\n    removeHooks: function() {\n        this._map.off(this._mapEvents, this);\n        this._layer.off(this._layerEvents, this);\n    },\n\n    _mapEvents: {\n        layeradd: function(e) {\n            if (e.layer == this._layer) {\n                this.enable();\n            }\n        },\n\n        layerremove: function(e) {\n            if (e.layer == this._layer) {\n                this.disable();\n            }\n        },\n\n        movestart: function() {\n            this._stopWaiting();\n\n            this._moveStartEventCounter++;\n            this._isWaiting = true;\n        },\n\n        moveend: function() {\n            this._moveEndEventCounter++;\n\n            if (!this._isWaiting && this._moveStartEventCounter !== this._moveEndEventCounter) { return; }\n\n            this._isMoveEnd = true;\n\n            this._checkWaiting();\n        }\n    },\n\n    _layerEvents: {\n        loading: function() {\n            this._loadingEventCounter++;\n        },\n\n        load: function() {\n            this._loadEventCounter++;\n\n            if (!this._isWaiting && this._loadingEventCounter !== this._loadEventCounter) { return; }\n\n            this._isLoad = true;\n\n            this._checkWaiting();\n        }\n    },\n\n    _stopWaiting: function() {\n        this._isWaiting = false;\n        this._isMoveEnd = false;\n        this._isLoad = false;\n    },\n\n    _checkWaiting: function() {\n        if (this._isWaiting && this._isLoad && this._isMoveEnd) {\n            this._stopWaiting();\n            this._resetCounters();\n            this._checkTiles();\n        }\n    },\n\n    _checkTiles: function() {\n        if (this._map.getTileLayersNumber() !== 0 || !this._map._loaded) { return; }\n\n        var tileZoom = this._layer._tileZoom;\n        var errorUrl = this._layer.options.errorTileUrl;\n        var tiles = this._layer.getTiles();\n\n        for (var i in tiles) {\n            if (tiles[i].coords.z === tileZoom && tiles[i].el.src !== errorUrl) {\n                return;\n            }\n        }\n\n        this._map.zoomOut();\n    },\n\n    _resetCounters: function() {\n        this._moveStartEventCounter = 0;\n        this._moveEndEventCounter = 0;\n\n        this._loadingEventCounter = 0;\n        this._loadEventCounter = 0;\n    }\n});\n\nDG.Map.addInitHook('addHandler', 'tilesCheck', DG.Map.TilesCheck);\n\n/**\n * This customization fixes unwanted inertia movement after sudden drag stops\n * See https://github.com/Leaflet/Leaflet/pull/4048.\n * If this PR ever gets merged, this file can be removed.\n */\nvar onDragEnd = DG.Map.Drag.prototype._onDragEnd;\n\nDG.Map.Drag.include({\n    _rememberTimeAndPosition: function() {\n        var time = this._lastTime = +new Date(),\n            pos = this._lastPos = this._draggable._absPos || this._draggable._newPos;\n\n        this._positions.push(pos);\n        this._times.push(time);\n\n        // Remove all data points older than 50 ms\n        while (time - this._times[0] > 50) {\n            this._positions.shift();\n            this._times.shift();\n        }\n    },\n\n    _onDrag: function(e) {\n        if (this._map.options.inertia) {\n            this._rememberTimeAndPosition();\n        }\n\n        this._map\n            .fire('move', e)\n            .fire('drag', e);\n    },\n\n    _onDragEnd: function() {\n        if (this._map.options.inertia && !DG.Browser.touch) {\n            this._rememberTimeAndPosition();\n        }\n\n        onDragEnd.call(this);\n    }\n});\n\n// from https://github.com/Turfjs/turf-inside/blob/master/index.js\nDG.PolyUtil.inside = function(point, polygon, pointReduce) {\n    pointReduce = pointReduce || DG.PolyUtil._defaultPointReduce;\n    var polys = polygon.coordinates;\n    var pt = pointReduce(point);\n\n    // normalize to multipolygon\n    if (polygon.type === 'Polygon') {\n        polys = [polys];\n    }\n\n    var insidePoly = false;\n    var i = 0;\n    while (i < polys.length && !insidePoly) {\n        // check if it is in the outer ring first\n        if (this._inRing(pt, polys[i][0], pointReduce)) {\n            var inHole = false;\n            var k = 1;\n            // check for the point in any of the holes\n            while (k < polys[i].length && !inHole) {\n                if (this._inRing(pt, polys[i][k], pointReduce)) {\n                    inHole = true;\n                }\n                k++;\n            }\n            if (!inHole)  {\n                insidePoly = true;\n            }\n        }\n        i++;\n    }\n    return insidePoly;\n};\n\n// pt is [x,y] and ring is [[x,y], [x,y],..]\nDG.PolyUtil._inRing = function(pt, ring, pointReduce) {\n    var isInside = false;\n    for (var i = 0, j = ring.length - 1; i < ring.length; j = i++) {\n        var pi = pointReduce(ring[i]);\n        var pj = pointReduce(ring[j]);\n        var xi = pi[0], yi = pi[1];\n        var xj = pj[0], yj = pj[1];\n        var intersect = ((yi > pt[1]) !== (yj > pt[1])) &&\n            (pt[0] < (xj - xi) * (pt[1] - yi) / (yj - yi) + xi);\n\n        if (intersect) {\n            isInside = !isInside;\n        }\n    }\n    return isInside;\n};\n\nDG.PolyUtil._defaultPointReduce = function(point) {\n    return point;\n};\n\n/**\n * В файле содежатся изменения для ускорения лифлета на мобильных девайсах\n */\n\nif (DG.Browser.mobile) {\n    (function() {\n        /**\n         * Хакаем addClass и removeClass, чтобы они не работали для определённых классов\n         * Сделано так, чтобы не менять кучу методов в кишках лифлета\n         *\n         * leaflet-dragging и leaflet-drag-target вызывает длинный recalculate style\n         */\n        var addClass = L.DomUtil.addClass;\n        L.DomUtil.addClass = function(el, name) {\n            if (name === 'leaflet-dragging' ||\n                name === 'leaflet-drag-target'\n            ) {\n                return;\n            }\n\n            addClass(el, name);\n        };\n\n        var removeClass = L.DomUtil.removeClass;\n        L.DomUtil.removeClass = function(el, name) {\n            if (name === 'leaflet-dragging' ||\n                name === 'leaflet-drag-target'\n            ) {\n                return;\n            }\n\n            removeClass(el, name);\n        }\n\n        L.Draggable.include({\n            /**\n             * Добавлено округление позиции this._startPos.add(offset)._round()\n             * И сравнение с предудыщей if (this._newPos && this._newPos.x == pos.x && this._newPos.y == pos.y) {\n             * Чтобы обновление dom происходило только при реальном изменении\n             * Убраны классы leaflet-dragging и leaflet-drag-target\n             */\n            _onMove: function(e) {\n                // Ignore simulated events, since we handle both touch and\n                // mouse explicitly; otherwise we risk getting duplicates of\n                // touch events, see #4315.\n                // Also ignore the event if disabled; this happens in IE11\n                // under some circumstances, see #3666.\n                if (e._simulated || !this._enabled) { return; }\n\n                if (e.touches && e.touches.length > 1) {\n                    this._moved = true;\n                    return;\n                }\n\n                var first = (e.touches && e.touches.length === 1 ? e.touches[0] : e),\n                    newPoint = new L.Point(first.clientX, first.clientY),\n                    offset = newPoint.subtract(this._startPoint);\n\n                if (!offset.x && !offset.y) { return; }\n                if (Math.abs(offset.x) + Math.abs(offset.y) < this.options.clickTolerance) { return; }\n\n                L.DomEvent.preventDefault(e);\n\n                if (!this._moved) {\n                    // @event dragstart: Event\n                    // Fired when a drag starts\n                    this.fire('dragstart');\n\n                    this._moved = true;\n                    this._startPos = L.DomUtil.getPosition(this._element).subtract(offset);\n\n                    this._lastTarget = e.target || e.srcElement;\n                    // IE and Edge do not give the <use> element, so fetch it\n                    // if necessary\n                    if ((window.SVGElementInstance) && (this._lastTarget instanceof window.SVGElementInstance)) {\n                        this._lastTarget = this._lastTarget.correspondingUseElement;\n                    }\n                }\n\n                var pos = this._startPos.add(offset)._round();\n                this._moving = true;\n\n                L.Util.cancelAnimFrame(this._animRequest);\n                this._lastEvent = e;\n\n                if (this._newPos && this._newPos.x == pos.x && this._newPos.y == pos.y) {\n                    return;\n                }\n\n                this._newPos = pos;\n                this._animRequest = L.Util.requestAnimFrame(this._updatePosition, this, true);\n            }\n        });\n\n        /**\n         * Длительность всех инерций при движении карты теперь 1 секунда\n         */\n        L.Map.Drag.include({\n            _onDragEnd: function(e) {\n                var map = this._map,\n                    options = map.options,\n\n                    noInertia = !options.inertia || this._times.length < 2;\n\n                map.fire('dragend', e);\n\n                if (noInertia) {\n                    map.fire('moveend');\n\n                } else {\n\n                    var direction = this._lastPos.subtract(this._positions[0]),\n                        duration = (this._lastTime - this._times[0]) / 1000,\n                        ease = options.easeLinearity,\n\n                        speedVector = direction.multiplyBy(ease / duration),\n                        speed = speedVector.distanceTo([0, 0]),\n\n                        limitedSpeed = Math.min(options.inertiaMaxSpeed, speed),\n                        limitedSpeedVector = speedVector.multiplyBy(limitedSpeed / speed),\n\n                        decelerationDuration = 1, // limitedSpeed / (options.inertiaDeceleration * ease),\n                        offset = limitedSpeedVector.multiplyBy(-decelerationDuration / 2).round();\n\n                    if (!offset.x && !offset.y) {\n                        map.fire('moveend');\n\n                    } else {\n                        offset = map._limitOffset(offset, map.options.maxBounds);\n\n                        L.Util.requestAnimFrame(function() {\n                            map.panBy(offset, {\n                                duration: decelerationDuration,\n                                easeLinearity: ease,\n                                noMoveStart: true,\n                                animate: true\n                            });\n                        });\n                    }\n                }\n            }\n        })\n    })();\n}\n\nL.MobileTileLayer = L.TileLayer.extend({\n    initialize: function(url, options) {\n        L.TileLayer.prototype.initialize.call(this, url, options);\n\n        this._previewUrl = options.previewUrl;\n    },\n\n    setPreviewUrl: function(url) {\n        this._previewUrl = url;\n        this.redraw();\n    },\n\n    /**\n     * Быстрое навешивание событий, вместо L.DomUtil.on используем простое присваивание\n     */\n    createTile: function(coords, done, url) {\n        var tile = document.createElement('img');\n        tile.onload = L.bind(this._tileOnLoad, this, done, tile);\n        tile.onerror = L.bind(this._tileOnError, this, done, tile);\n\n        if (this.options.crossOrigin) {\n            tile.crossOrigin = '';\n        }\n\n        /*\n         Alt tag is set to empty string to keep screen readers from reading URL and for compliance reasons\n         http://www.w3.org/TR/WCAG20-TECHS/H67\n        */\n        tile.alt = '';\n        tile.src = this.getTileUrl(coords, url);\n\n        return tile;\n    },\n\n    /**\n     * Убран класс leaflet-tile\n     * Добавлен хак для превью тайлов\n     */\n    _initTile: function(tile) {\n        tile.style.position = 'absolute';\n\n        var tileSize = this.getTileSize();\n        tile.style.width = tileSize.x + 'px';\n        tile.style.height = tileSize.y + 'px';\n\n        tile.style.visibility = 'hidden';\n        tile.style.pointerEvents = 'none';\n\n        tile.onselectstart = L.Util.falseFn;\n        tile.onmousemove = L.Util.falseFn;\n\n        // without this hack, tiles disappear after zoom on Chrome for Android\n        // https://github.com/Leaflet/Leaflet/issues/2078\n        if (L.Browser.android && !L.Browser.android23) {\n            tile.style.WebkitBackfaceVisibility = 'hidden';\n        }\n\n        return tile;\n    },\n\n    /**\n     * Убран класс leaflet-tile-container\n     */\n    _updateLevels: function() {\n\n        var zoom = this._tileZoom,\n            maxZoom = this.options.maxZoom;\n\n        if (zoom === undefined) { return undefined; }\n\n        for (var z in this._levels) {\n            if (this._levels[z].el.children.length || z === zoom) {\n                this._levels[z].el.style.zIndex = maxZoom - Math.abs(zoom - z);\n            } else {\n                L.DomUtil.remove(this._levels[z].el);\n                this._removeTilesAtZoom(z);\n                delete this._levels[z];\n            }\n        }\n\n        var level = this._levels[zoom],\n            map = this._map;\n\n        if (!level) {\n            level = this._levels[zoom] = {};\n\n            level.el = L.DomUtil.create('div', 'leaflet-zoom-animated', this._container);\n\n            level.el.style.zIndex = maxZoom;\n\n            level.origin = map.project(map.unproject(map.getPixelOrigin()), zoom).round();\n            level.zoom = zoom;\n\n            this._setZoomTransform(level, map.getCenter(), map.getZoom());\n\n            // force the browser to consider the newly added element for transition\n            L.Util.falseFn(level.el.offsetWidth);\n        }\n\n        this._level = level;\n\n        return level;\n    },\n\n    /**\n     * Убрано добавление тайлов через documentFragment\n     */\n    _update: function(center) {\n        var map = this._map;\n        if (!map) { return; }\n        var zoom = map.getZoom();\n\n        if (center === undefined) { center = map.getCenter(); }\n        if (this._tileZoom === undefined) { return; }\t// if out of minzoom/maxzoom\n\n        var pixelBounds = this._getTiledPixelBounds(center),\n            tileRange = this._pxBoundsToTileRange(pixelBounds),\n            tileCenter = tileRange.getCenter(),\n            queue = [],\n            margin = this.options.keepBuffer,\n            noPruneRange = new L.Bounds(tileRange.getBottomLeft().subtract([margin, -margin]),\n                tileRange.getTopRight().add([margin, -margin]));\n\n        for (var key in this._tiles) {\n            var c = this._tiles[key].coords;\n            if (c.z !== this._tileZoom || !noPruneRange.contains(L.point(c.x, c.y))) {\n                this._tiles[key].current = false;\n            }\n        }\n\n        // _update just loads more tiles. If the tile zoom level differs too much\n        // from the map's, let _setView reset levels and prune old tiles.\n        if (Math.abs(zoom - this._tileZoom) > 1) { this._setView(center, zoom); return; }\n\n        // create a queue of coordinates to load tiles from\n        for (var j = tileRange.min.y; j <= tileRange.max.y; j++) {\n            for (var i = tileRange.min.x; i <= tileRange.max.x; i++) {\n                var coords = new L.Point(i, j);\n                coords.z = this._tileZoom;\n\n                if (!this._isValidTile(coords)) { continue; }\n\n                var tile = this._tiles[this._tileCoordsToKey(coords)];\n                if (tile) {\n                    tile.current = true;\n                } else {\n                    queue.push(coords);\n                }\n            }\n        }\n\n        // sort tile queue to load tiles in order of their distance to center\n        queue.sort(function(a, b) {\n            return a.distanceTo(tileCenter) - b.distanceTo(tileCenter);\n        });\n\n        if (queue.length !== 0) {\n            // if it's the first batch of tiles to load\n            if (!this._loading) {\n                this._loading = true;\n                // @event loading: Event\n                // Fired when the grid layer starts loading tiles.\n                this.fire('loading');\n            }\n\n            for (i = 0; i < queue.length; i++) {\n                this._addTile(queue[i], this._level.el);\n            }\n        }\n    },\n\n    /**\n     * We don't load preview tile:\n     * - after zoom-in if a tile from a lower zoom is already shown\n     * - after zoom-out if four tiles from a higher zoom is already shown\n     */\n    _needPreviewTile: function(coords) {\n        if (this._tileZoom - this._map.getZoom() > 0) {\n            // zoom in\n            return !this._existTileFromLowerZoom(coords);\n        } else {\n            // zoom out\n            return !this._existTilesFromHigherZoom(coords);\n        }\n    },\n\n    _existTileFromLowerZoom: function(coords) {\n        var coords2 = L.point(coords.x / 2, coords.y / 2)._floor();\n\n        coords2.z = coords.z - 1;\n\n        var key = this._tileCoordsToKey(coords2);\n        var tile = this._tiles[key];\n        return tile && !tile.preview;\n    },\n\n    _existTilesFromHigherZoom: function(coords) {\n        var x = coords.x;\n        var y = coords.y;\n\n        for (var i = 2 * x; i < 2 * x + 2; i++) {\n            for (var j = 2 * y; j < 2 * y + 2; j++) {\n                var c = new L.Point(i, j);\n                c.z = coords.z + 1;\n                var key = this._tileCoordsToKey(c);\n                if (!this._tiles[key]) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    },\n\n    /**\n     * Добавлена логика с превью тайлами\n     */\n    _addTile: function(coords, container) {\n        var tilePos = this._getTilePos(coords),\n            key = this._tileCoordsToKey(coords);\n\n        var wrapCoords = this._wrapCoords(coords);\n        var needPreview = this._needPreviewTile(wrapCoords);\n\n        var url = needPreview ? this._previewUrl : this._url;\n        var tile = this.createTile(wrapCoords, L.bind(this._tileReady, this, coords), url);\n\n        this._initTile(tile);\n\n        L.DomUtil.setPosition(tile, tilePos);\n\n        // save tile in cache\n        this._tiles[key] = {\n            el: tile,\n            preview: needPreview,\n            coords: coords,\n            current: true\n        };\n\n        container.appendChild(tile);\n        // @event tileloadstart: TileEvent\n        // Fired when a tile is requested and starts loading.\n        this.fire('tileloadstart', {\n            tile: tile,\n            coords: coords\n        });\n    },\n\n    /**\n     * Убран fadeAnimated и класс leaflet-tile-loaded\n     */\n    _tileReady: function(coords, err, tile) {\n        if (!this._map) { return; }\n\n        if (err) {\n            // @event tileerror: TileErrorEvent\n            // Fired when there is an error loading a tile.\n            this.fire('tileerror', {\n                error: err,\n                tile: tile,\n                coords: coords\n            });\n        }\n\n        var key = this._tileCoordsToKey(coords);\n\n        tile = this._tiles[key];\n        if (!tile) { return; }\n\n        // Если у тайла уже есть оригинальная (не пожатая) картинка,\n        // то заменим превью на нее\n        if (tile.originalEl && tile.el.parentNode) {\n            tile.el.parentNode.replaceChild(tile.originalEl, tile.el);\n            tile.el = tile.originalEl;\n\n            tile.originalEl = null;\n            tile.preview = false;\n\n        // Если у тайла есть только превью, то добавим его на карту\n        // И начнем грузить оригинальный\n        } else if (tile.preview) {\n            tile.originalEl = this.createTile(this._wrapCoords(coords), L.bind(this._tileReady, this, coords), this._url);\n            this._initTile(tile.originalEl);\n            L.DomUtil.setPosition(tile.originalEl, this._getTilePos(coords));\n        }\n\n        tile.loaded = +new Date();\n        tile.active = true;\n        this._pruneTiles();\n\n        if (!err) {\n            tile.el.style.visibility = '';\n\n            // @event tileload: TileEvent\n            // Fired when a tile loads.\n            this.fire('tileload', {\n                tile: tile.el,\n                preview: tile.preview,\n                coords: coords\n            });\n        }\n\n        if (this._noTilesToLoad()) {\n            this._loading = false;\n            // @event load: Event\n            // Fired when the grid layer loaded all visible tiles.\n            this.fire('load');\n\n            if (L.Browser.ielt9 || !this._map._fadeAnimated) {\n                L.Util.requestAnimFrame(this._pruneTiles, this);\n            } else {\n                // Wait a bit more than 0.2 secs (the duration of the tile fade-in)\n                // to trigger a pruning.\n                setTimeout(L.bind(this._pruneTiles, this), 250);\n            }\n        }\n    },\n\n    /**\n     * В отличие от оригинального метода, здесь url прокидывается параметром\n     */\n    getTileUrl: function(coords, url) {\n        var data = {\n            r: L.Browser.retina ? '@2x' : '',\n            s: this._getSubdomain(coords),\n            x: coords.x,\n            y: coords.y,\n            z: this._getZoomForUrl()\n        };\n        if (this._map && !this._map.options.crs.infinite) {\n            var invertedY = this._globalTileRange.max.y - coords.y;\n            if (this.options.tms) {\n                data['y'] = invertedY;\n            }\n            data['-y'] = invertedY;\n        }\n\n        return L.Util.template(url, L.extend(data, this.options));\n    },\n});\n\nDG.Control.Zoom.include(DG.Locale);\nDG.Control.Zoom.Dictionary = {};\n\nDG.Control.Zoom.include({\n    onAdd: function(map) {\n        var zoomName = 'dg-zoom',\n            buttonTemplate = '<div class=\"dg-control-round__icon ' + zoomName + '__control ' + zoomName + '__button ' + zoomName + '__button_type_{type}\"></div>',\n            container = DG.DomUtil.create('div', zoomName);\n\n        this._map = map;\n\n        this._zoomInButton = this._createButton(DG.Util.template(buttonTemplate, {type : 'in'}), this.t('zoom_in'), 'dg-control-round ' + zoomName + '__in', container, this._zoomIn, this);\n        this._zoomOutButton = this._createButton(DG.Util.template(buttonTemplate, {type : 'out'}), this.t('zoom_out'), 'dg-control-round ' + zoomName + '__out', container, this._zoomOut, this);\n\n        this._updateDisabled();\n        map.on('zoomend zoomlevelschange', this._updateDisabled, this);\n\n        return container;\n    },\n\n    _originalCreateButton: DG.Control.Zoom.prototype._createButton,\n\n    // set active state control on mobile devices\n    _createButton: function() {\n        var args = Array.prototype.slice.call(arguments);\n        var link = this._originalCreateButton.apply(this, args);\n\n        var icon = link.children[0];\n        var linkActiveClass = 'dg-control-round_state_active';\n        var iconActiveClass = 'dg-control-round__icon_state_active';\n\n        DG.DomEvent\n            .on(link, 'touchstart', function() {\n                DG.DomUtil.addClass(link, linkActiveClass);\n                DG.DomUtil.addClass(icon, iconActiveClass);\n            })\n            .on(link, 'touchend touchcancel', function() {\n                DG.DomUtil.removeClass(link, linkActiveClass);\n                DG.DomUtil.removeClass(icon, iconActiveClass);\n            });\n\n        return link;\n    },\n\n    _renderTranslation: function() {\n        if (!this._zoomInButton || !this._zoomOutButton) {\n            return;\n        }\n\n        this._zoomInButton.title = this.t('zoom_in');\n        this._zoomOutButton.title = this.t('zoom_out');\n    }\n});\n\nDG.Control.Zoom.Dictionary.ru = {\n    zoom_in : 'Приблизить',\n    zoom_out : 'Отдалить'\n};\n\nDG.Control.Zoom.Dictionary.it = {\n    zoom_in : 'Zoom avanti',\n    zoom_out : 'Zoom indietro'\n};\n\nDG.Control.Zoom.Dictionary.cs = {\n    zoom_in : 'Přiblížit',\n    zoom_out : 'Oddálit'\n};\n\nDG.Control.Zoom.Dictionary.en = {\n    zoom_in : 'Zoom in',\n    zoom_out : 'Zoom out'\n};\n\nDG.Control.Zoom.Dictionary.es = {\n    zoom_in : 'Acercar',\n    zoom_out : 'Alejar'\n};\n\nDG.Control.Zoom.Dictionary.ar = {\n    zoom_in : '',\n    zoom_out : ''\n};\n\nvar dust = _dereq_('dustjs-linkedin');\n_dereq_('dustjs-helpers');\n\nDG.dust = function(name, data) {\n    var result;\n\n    // The callback is called synchronously, so this works\n    dust.render(name, data, function(err, html) {\n        result = html;\n    });\n\n    return result;\n};\n\nDG.Control.Attribution.include(DG.Locale);\nDG.Control.Attribution.Dictionary = {};\nDG.Control.Attribution.include({\n    options: {\n        position: 'bottomright'\n    },\n\n    _getLink: function(linkType) {\n        /* eslint-disable camelcase */\n        var dictionary = {\n            ru: {\n                copyright_logo: 'https://2gis.ru/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_apilink: 'https://dev.2gis.ru/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_license: 'https://law.2gis.ru/api-rules/',\n                open_link: 'https://2gis.ru',\n            },\n\n            it: {\n                copyright_logo: 'https://2gis.it/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_apilink: 'https://dev.2gis.com/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_license: 'https://law.2gis.it/licensing-agreement/',\n                open_link: 'https://2gis.ru',\n            },\n\n            cz: {\n                copyright_logo: 'https://praha.2gis.cz/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_apilink: 'https://dev.2gis.com/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_license: 'https://law.2gis.cz/api-rules/',\n                open_link: 'https://2gis.ru',\n            },\n\n            cl: {\n                copyright_logo: 'https://santiago.2gis.cl/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_apilink: 'https://dev.2gis.com/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_license: 'https://law.2gis.cl/api-rules/',\n                open_link: 'https://2gis.ru',\n            },\n\n            cy: {\n                copyright_logo: 'https://info.2gis.com.cy/lemesos?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_apilink: 'https://dev.2gis.com/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_license: 'https://law.2gis.com.cy/api-rules/',\n                open_link: 'https://2gis.ru',\n            },\n\n            ae: {\n                copyright_logo: 'https://2gis.ae/dubai?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_apilink: 'http://dev.2gis.com/?utm_source=copyright&utm_medium=map&utm_campaign=partners',\n                copyright_license: 'https://law.2gis.ae/api-rules/',\n                open_link: 'https://2gis.ae',\n            }\n        };\n        /* eslint-enable camelcase */\n\n        var countryCode = (this._countryCode in dictionary) ? this._countryCode : 'ru';\n\n        return dictionary[countryCode][linkType];\n    },\n\n    _markerToRoute: undefined,\n    _markers: [],\n\n    _checkMarkerLayers: function() {\n        this._markerToRoute = this._markers.length != 1 ? undefined : this._markers[0];\n        this._update();\n    },\n\n    _mapEvents: {\n\n        layeradd: function(e) {\n            if (e.layer instanceof DG.Marker) {\n                this._markers.push(e.layer)\n                if (this._markers.length <= 2) {\n                    this._checkMarkerLayers();\n                }\n            }\n        },\n\n        layerremove: function(e) {\n            if (e.layer instanceof DG.Marker) {\n                var currentMarkers = [];\n                for (var i = 0; i < this._markers.length; i++) {\n                    if (this._markers[i] !== e.layer) {\n                        currentMarkers.push(this._markers[i])\n                    }\n                }\n                this._markers = currentMarkers;\n                if (this._markers.length <= 1) {\n                    this._checkMarkerLayers();\n                }\n            }\n        },\n\n    },\n\n    onAdd: function(map) {\n        if (!map._copyright) {\n            map._copyright = true;\n            this._first = true;\n        }\n        this._logotype = map.options.logotype;\n        this._open2gis = this._getLink('open_link')\n\n        this._map.on(this._mapEvents, this);\n\n        map.attributionControl = this;\n        this._container = DG.DomUtil.create('div', 'dg-attribution');\n        DG.DomEvent.disableClickPropagation(this._container);\n\n        for (var i in map._layers) {\n            if (map._layers[i].getAttribution) {\n                this.addAttribution(map._layers[i].getAttribution());\n            }\n        }\n\n        this._update();\n\n        DG.DomEvent\n            .on(this._container, 'touchstart', this._updateLink, this)\n        return this._container;\n    },\n\n    _updateLink: function(e) {\n        if (e.target.name === 'linkButton') {\n            this._open2gis = this._getOpenUrl();\n            e.target.href = this._open2gis;\n        }\n    },\n\n    _update: function(lang, osm, countryCode) {\n        if (!this._map) { return; }\n\n        if (typeof osm !== 'undefined') {\n            this._osm = osm;\n        }\n\n        if (typeof countryCode !== 'undefined') {\n            this._countryCode = countryCode;\n        }\n\n        var attribs = [];\n\n        for (var i in this._attributions) {\n            if (this._attributions[i]) {\n                attribs.push(i);\n            }\n        }\n\n        var prefixAndAttribs = [],\n            copyright = '';\n\n        if (this._first) {\n            copyright = this._getAttributionHTML(lang);\n        }\n\n        if (this.options.prefix) {\n            prefixAndAttribs.push(this.options.prefix);\n        }\n        if (attribs.length) {\n            prefixAndAttribs.push(attribs.join(', '));\n        }\n\n        this._container.innerHTML = copyright + prefixAndAttribs.join(' | ');\n\n    },\n\n\n    _getOpenUrl: function() {\n        if (this._markerToRoute) {\n            return DG.Util.template(DG.config.ppLink2gis, {\n                'gislink': this._getLink('open_link'),\n                'center': this._map.getCenter().lng + ',' + this._map.getCenter().lat,\n                'zoom': this._map.getZoom(),\n                'rsType': this._map.getZoom() > 11 ? 'bus' : 'car',\n                'point': this._markerToRoute._latlng.lng + ',' + this._markerToRoute._latlng.lat\n            });\n        }\n\n        return DG.Util.template(DG.config.openLink2gis, {\n            'gislink': this._getLink('open_link'),\n            'center': this._map.getCenter().lng + ',' + this._map.getCenter().lat,\n            'zoom': this._map.getZoom(),\n        });\n    },\n    _getData: function(lang) {\n        lang = lang || this._map.getLang();\n        var btn =\n        {\n            name: 'open',\n            label: this._markerToRoute ? this.t('route_on') : this.t('open_on'),\n        }\n\n        // Do not show link button if button don't have translate to current language or map options logotype set true\n        var isHideButton = btn.label == 'open_on' || btn.label == 'route_on' || this._logotype;\n\n        return {\n            'osm': this._osm,\n            'logotype': isHideButton,\n            'work_on': this.t('work_on'),\n            'work_on_with_osm': this.t('work_on_with_osm'),\n            'lang': lang,\n            'copyright_apilink': this._getLink('copyright_apilink'),\n            'copyright_license': this._getLink('copyright_license'),\n            'copyright_logo': this._getLink('copyright_logo'),\n            'open2gis_link': this._open2gis,\n            'open2gis_name': 'linkButton',\n            'license_agreement': this.t('license_agreement'),\n            'dir': lang !== 'ar' ? 'ltr' : 'rtl',\n            'btn': btn\n        };\n    },\n    _getAttributionHTML: function(lang) {\n        return DG.dust('DGAttribution/copyright', this._getData(lang));\n    },\n    _renderTranslation: function(e) {\n        this._update(e.lang);\n    }\n});\n\nDG.Map.addInitHook(function() {\n    if (!this._copyright) {\n        DG.control.attribution().addTo(this);\n    }\n});\nDG.Control.Attribution.Dictionary.ru = {\n    license_agreement: 'Лицензионное соглашение',\n    work_on: 'Работает на API 2ГИС',\n    work_on_with_osm: 'API 2ГИС',\n    open_on: 'Открыть в 2ГИС',\n    route_on: 'Доехать с 2ГИС'\n};\n\nDG.Control.Attribution.Dictionary.it = {\n    license_agreement : 'Accordo di licenza',\n    work_on: '2GIS API',\n    work_on_with_osm: '2GIS API'\n};\n\nDG.Control.Attribution.Dictionary.cs = {\n    license_agreement: 'Licenční smlouva',\n    work_on: 'Pracuje na API 2GIS',\n    work_on_with_osm: 'API 2GIS'\n};\n\nDG.Control.Attribution.Dictionary.en = {\n    license_agreement: 'License agreement',\n    work_on: 'Uses 2GIS API',\n    work_on_with_osm: '2GIS API'\n};\n\nDG.Control.Attribution.Dictionary.es = {\n    license_agreement : 'Acuerdo de licencia',\n    work_on: '2GIS API',\n    work_on_with_osm: '2GIS API'\n};\n\nDG.Control.Attribution.Dictionary.ar = {\n    license_agreement: 'إتفاقية ترخيص',\n    work_on: 'يعمل بتطبيق 2GIS',\n    work_on_with_osm: 'API 2GIS',\n    open_on: 'Open in 2GIS',\n    route_on: 'Route on 2GIS'\n};\n\nDG.Control.Location = DG.RoundControl.extend({\n\n    statics: {\n        Dictionary: {}\n    },\n\n    options: {\n        iconClass: 'locate',\n        position: DG.Browser.mobile ? 'bottomright' : 'topleft',\n        drawCircle: true,\n        follow: true,  // follow with zoom and pan the user's location\n        stopFollowingOnDrag: false, // if follow is true, stop following when map is dragged\n        metric: true,\n        onLocationError: function(/*err*/) {\n            // this event is called in case of any location error\n            // that is not a time out error.\n            // console.log(err.message);\n        },\n        onLocationOutsideMapBounds: function(/*context*/) {\n            // this event is repeatedly called when the location changes\n            // console.log(context.t('outsideMapBoundsMsg'));\n        },\n        locateOptions: {}\n    },\n\n    initialize: function(options) {\n        DG.Util.setOptions(this, options);\n\n        if (!navigator.geolocation) {\n            this._disable = true;\n            return;\n        }\n\n        this._event = undefined;\n\n        this._locateOptions = {\n            watch: true,  // if you overwrite this, visualization cannot be updated\n            setView: true,\n            maximumAge: Infinity,\n            maxZoom: Infinity\n        };\n        DG.extend(this._locateOptions, this.options.locateOptions);\n\n        this._resetVariables();\n\n        this.on({\n            'click': this._handleLocate,\n            'add': this._initLocate\n        });\n    },\n\n    _initLocate: function() {\n        this._layer = new DG.LayerGroup();\n        this._layer.addTo(this._map);\n\n        // event hooks\n        this._map.on({\n            'locationfound': this._onLocationFound,\n            'locationerror': this._onLocationError\n        }, this);\n    },\n\n    _handleLocate: function() {\n        if (this._active && (!this._event ||\n            (this._map.getBounds().contains(this._event.latlng) ||\n            this._isOutsideMapBounds()))) {\n            this._stopLocate();\n        } else {\n            this._locateOnNextLocationFound = true;\n\n            if (!this._active) {\n                this._map.locate(this._locateOptions);\n            }\n\n            this._active = true;\n\n            if (this.options.follow) {\n                this._startFollowing();\n            }\n\n            this._clearError();\n\n            if (this._event) {\n                this._visualizeLocation();\n            } else {\n                this.setState('requesting');\n            }\n        }\n    },\n\n    _onLocationFound: function(e) {\n        // no need to do anything if the location has not changed\n        if (this._event &&\n            (this._event.latlng.lat === e.latlng.lat &&\n             this._event.latlng.lng === e.latlng.lng &&\n             this._event.accuracy === e.accuracy)) {\n            return;\n        }\n\n        if (!this._active) {\n            return;\n        }\n\n        this._event = e;\n\n        if (this.options.follow && this._following) {\n            this._locateOnNextLocationFound = true;\n        }\n\n        this._visualizeLocation();\n    },\n\n    _startFollowing: function() {\n        this._following = true;\n        if (this.options.stopFollowingOnDrag) {\n            this._map.on('dragstart', this._stopFollowing, this);\n        }\n    },\n\n    _stopFollowing: function() {\n        this._following = false;\n        if (this.options.stopFollowingOnDrag) {\n            this._map.off('dragstart', this._stopFollowing, this);\n        }\n        this._visualizeLocation();\n    },\n\n    _isOutsideMapBounds: function() {\n        if (this._event === undefined) {\n            return false;\n        }\n        return this._map.options.maxBounds &&\n            !this._map.options.maxBounds.contains(this._event.latlng);\n    },\n\n    _visualizeLocation: function() {\n        if (this._event.accuracy === undefined) {\n            this._event.accuracy = 0;\n        }\n\n        var radius = this._event.accuracy;\n\n        if (this._locateOnNextLocationFound) {\n            if (this._isOutsideMapBounds()) {\n                this.options.onLocationOutsideMapBounds(this);\n            } else if (this._locateOptions.setView) {\n                var project = this._map.projectDetector.getProject();\n                var zoom = project ? project.maxZoom : DG.config.projectLeaveMaxZoom;\n                zoom = Math.min(this._locateOptions.maxZoom, zoom);\n                this._map.setView(this._event.latlng, zoom);\n            }\n            this._locateOnNextLocationFound = false;\n        }\n\n        // circle with the radius of the location's accuracy\n        var style = {\n            clickable: false,\n            color: '#FFF',\n            fillColor: '#FFF',\n            fillOpacity: 0.4,\n            weight: 0,\n            opacity: 0.3\n        };\n        if (this.options.drawCircle) {\n            if (!this._circle) {\n                this._circle = DG.circle(this._event.latlng, radius, style)\n                    .addTo(this._layer);\n            } else {\n                this._circle.setLatLng(this._event.latlng).setRadius(radius);\n            }\n        }\n\n        var markerClass = 'dg-location__pin';\n\n        markerClass += this._following ? (' ' + markerClass + 'state_following') : '';\n        // small inner marker\n        var m = {\n            icon: DG.divIcon({\n                className: markerClass,\n                iconSize: [20, 20]\n            })\n        };\n\n        if (!this._marker) {\n            this._marker = DG.marker(this._event.latlng, m)\n                .bindLabel(this.t('you_are_here'))\n                .addTo(this._layer);\n        } else {\n            this._marker.setLatLng(this._event.latlng);\n        }\n\n        DG.DomEvent.on(this._marker, 'click', function() {\n            this._map.fireEvent('dgLocateClick');\n        }, this);\n\n        if (!this._container) {\n            return;\n        }\n\n        this.setState('active');\n    },\n\n    _resetVariables: function() {\n        this._active = false;\n        this._following = false;\n    },\n\n\n    _stopLocate: function() {\n        this._map.stopLocate();\n        this._map.off('dragstart', this._stopFollowing);\n\n        this.setState();\n        this._resetVariables();\n\n        this._layer.clearLayers();\n        this._marker = undefined;\n        this._circle = undefined;\n        this._event = undefined;\n    },\n\n    _onLocationError: function(err) {\n        // ignore time out error if the location is watched\n        if (err.code === 3 && this._locateOptions.watch) {\n            return;\n        }\n\n        this._stopLocate();\n        this._error = DG.DomUtil.create('div', 'dg-label dg-label_name_location-error', this._container);\n        this._errorText = DG.DomUtil.create('div', 'dg-label__content', this._error);\n        this._errorText.innerHTML = this.t('cant_find');\n\n        var self = this;\n        setTimeout(function() {\n            self._clearError();\n        }, 3000);\n\n        //show location error\n        this.options.onLocationError(err);\n    },\n\n    _clearError: function() {\n        if (this._error) {\n            this._container.removeChild(this._error);\n            this._error = undefined;\n            this._errorText = undefined;\n        }\n    },\n\n    _renderTranslation: function() {\n        if (this._link) {\n            this._link.title = this.t('button_title');\n        }\n        if (this._marker) {\n            this._marker.bindLabel(this.t('you_are_here'));\n        }\n    }\n});\n\nDG.control.location = function(options) {\n    return new DG.Control.Location(options);\n};\n\nDG.Map.addInitHook(function() {\n    if (this.options.locationControl) {\n        this.locationControl = DG.control.location(this.options.locationControl);\n        this.addControl(this.locationControl);\n    }\n});\n\nDG.Control.Location.Dictionary.ru = {\n    cant_find : 'Мы не смогли Вас найти',\n    you_are_here : 'Вы здесь',\n    button_title : 'Найти Вас на карте'\n};\n\nDG.Control.Location.Dictionary.it = {\n    cant_find : 'Non siamo riusciti a localizzarti',\n    you_are_here : 'Voi siete qui',\n    button_title : 'Trova la tua posizione sulla mappa'\n};\n\nDG.Control.Location.Dictionary.cs = {\n    cant_find : 'Nepodařilo se nám určit Vaši polohu',\n    you_are_here : 'Jste tady',\n    button_title : 'Určit Vaši polohu na mapě'\n};\n\nDG.Control.Location.Dictionary.en = {\n    cant_find : 'We can\\'t find you',\n    you_are_here : 'You are here',\n    button_title : 'Show your location'\n};\n\nDG.Control.Location.Dictionary.es = {\n    cant_find : 'No pudimos encontrarte',\n    you_are_here : 'Tú estás aquí',\n    button_title : 'Encontrarte en el mapa'\n};\n\nDG.Control.Location.Dictionary.ar = {\n    cant_find : 'لم نستطع تحديد موقعك',\n    you_are_here : 'أنت هنا',\n    button_title : 'موقعي'\n};\n\n// Inspired by Sindre Sorhus screenfull\nDG.Screenfull = DG.Class.extend({\n    _apiMap: [\n        [\n            'requestFullscreen',\n            'exitFullscreen',\n            'fullscreenElement',\n            'fullscreenEnabled',\n            'fullscreenchange',\n            'fullscreenerror'\n        ],\n        [\n            'webkitRequestFullscreen',\n            'webkitExitFullscreen',\n            'webkitFullscreenElement',\n            'webkitFullscreenEnabled',\n            'webkitfullscreenchange',\n            'webkitfullscreenerror'\n\n        ],\n        [\n            'mozRequestFullScreen',\n            'mozCancelFullScreen',\n            'mozFullScreenElement',\n            'mozFullScreenEnabled',\n            'mozfullscreenchange',\n            'mozfullscreenerror'\n        ],\n        [\n            'msRequestFullscreen',\n            'msExitFullscreen',\n            'msFullscreenElement',\n            'msFullscreenEnabled',\n            'MSFullscreenChange',\n            'MSFullscreenError'\n        ]\n    ],\n\n    initialize: function() {\n        this.api = this._api();\n    },\n\n    request: function(elem) {\n        var request = this.api.requestFullscreen;\n\n        elem = elem || document.documentElement;\n        elem[request](Element.ALLOW_KEYBOARD_INPUT);\n    },\n\n    exit: function() {\n        document[this.api.exitFullscreen]();\n    },\n\n    isFullscreen: function() {\n        return !!document[this.api.fullscreenElement];\n    },\n\n    isAvailable: function() {\n        return Boolean(this.api);\n    },\n\n    _api: function() {\n        var api = {},\n            apiMap = this._apiMap;\n\n        apiMap.forEach(function(val) {\n            if (val && val[1] in document) {\n                val.forEach(function(method, i) {\n                    api[apiMap[0][i]] = method;\n                });\n            }\n        });\n\n        return api.requestFullscreen ? api : false;\n    }\n});\n\nDG.screenfull = new DG.Screenfull();\n\nDG.Control.Fullscreen = DG.RoundControl.extend({\n\n    statics: {\n        Dictionary: {}\n    },\n\n    options: {\n        position: 'topright',\n        iconClass: 'fullscreen'\n    },\n\n    initialize: function(options) {\n        DG.Util.setOptions(this, options);\n        this._isFullscreen = false;\n        this.on('click', this._toggleFullscreen);\n    },\n\n    _toggleFullscreen: function() {\n        if (!this._isFullscreen) {\n            this._toggle(true, 'request', 'on', 'requestfullscreen');\n        } else {\n            this._toggle(false, 'exit', 'on', 'cancelfullscreen');\n        }\n\n        this._renderTranslation();\n        this._map.invalidateSize();\n    },\n\n    _renderTranslation: function() {\n        this._link.title = this.t(this._isFullscreen ? 'title_min' : 'title_max');\n    },\n\n    _toggle: function(isEnabled, method, list, event) {\n        var container = this._map._container;\n\n        this._isFullscreen = isEnabled;\n        this.setState(isEnabled ? 'active' : '');\n\n        DG.screenfull[method](container);\n        DG.DomEvent[list](document, DG.screenfull.api.fullscreenchange, this._onFullScreenStateChange, this);\n        this._map.fire(event);\n    },\n\n    _onFullScreenStateChange: function() {\n        if (!DG.screenfull.isFullscreen()) {\n            this._toggle(false, 'exit', 'on', 'cancelfullscreen');\n        }\n    }\n});\n\nDG.control.fullscreen = function(options) {\n    return new DG.Control.Fullscreen(options);\n};\n\nDG.Map.mergeOptions({\n    fullscreenControl: true\n});\n\nDG.Map.addInitHook(function() {\n    if (this.options.fullscreenControl) {\n        this.fullscreenControl = DG.control.fullscreen(this.options.fullscreenControl);\n\n        if (DG.screenfull.isAvailable()) {\n            this.addControl(this.fullscreenControl);\n        }\n    }\n});\n\nDG.Control.Fullscreen.Dictionary.ru = {\n    title_max : 'Развернуть',\n    title_min : 'Восстановить'\n};\n\nDG.Control.Fullscreen.Dictionary.it = {\n    title_max : 'Espandi',\n    title_min : 'Ripristina'\n};\n\nDG.Control.Fullscreen.Dictionary.cs = {\n    title_max : 'Rozbalit',\n    title_min : 'Obnovit'\n};\n\nDG.Control.Fullscreen.Dictionary.en = {\n    title_max : 'Expand',\n    title_min : 'Restore'\n};\n\nDG.Control.Fullscreen.Dictionary.es = {\n    title_max : 'Maximizar',\n    title_min : 'Restaurar'\n};\n\nDG.Control.Fullscreen.Dictionary.ar = {\n    title_max : '',\n    title_min : ''\n};\n\nDG.Meta = {};\n\nDG.Meta.Layer = DG.Layer.extend({\n\n    options: {\n        tileSize: 256,\n\n        minZoom: 0,\n        maxZoom: 19,\n        zoomOffset: 0,\n        eventBubbling: 'transparent'\n        // maxNativeZoom: <Number>,\n        // detectRetina: <Number>,\n        // zoomReverse: <Number>\n        // attribution: <String>,\n        // zIndex: <Number>,\n        // bounds: <LatLngBounds>\n    },\n\n    initialize: function(source, options) { // (String, Object)\n        DG.TileLayer.prototype.initialize.call(this, null, options);\n        delete this._url;\n\n        this._currentTileKey = '';\n        this._currentTileData = [];\n        this._lastEntity = undefined;\n        this._dispatchMouseEvents = true;\n\n        this._origin = DG.Meta.origin(source, {\n            dataFilter: this.options.dataFilter\n        });\n    },\n\n    getOrigin: function() { // () -> Object\n        return this._origin;\n    },\n\n    onAdd: function(map) {\n        this._resetView();\n\n        map.metaLayers.push(this);\n\n        map.on('rulerstart', this._disableDispatchMouseEvents, this);\n        map.on('rulerend', this._enableDispatchMouseEvents, this);\n\n        var self = this;\n\n        if (DG.Browser.touchEnabled && this.options.isPoi) {\n            map.eachLayer(function(layer) {\n                if (layer instanceof L.TileLayer) {\n                    // On every tile will be load meta tile.\n                    layer.on('tileloadstart', self._onTileLoadStart, self);\n                    // Load metatiles for already loaded tiles.\n                    for (var tile in layer._tiles) {\n                        self._onTileLoadStart({\n                            coords: layer._tiles[tile].coords\n                        });\n                    }\n                }\n            });\n        }\n    },\n\n    onRemove: function(map) {\n        var self = this;\n\n        if (DG.Browser.touchEnabled && this.options.isPoi) {\n            map.eachLayer(function(layer) {\n                if (layer instanceof L.TileLayer) {\n                    // On every tile will be load meta tile.\n                    layer.off('tileloadstart', self._onTileLoadStart);\n                }\n            });\n        }\n\n        this._tileZoom = null;\n\n        var index = map.metaLayers.indexOf(this);\n        if (index !== -1) {\n            map.metaLayers.splice(index, 1);\n        }\n\n        map.off('rulerstart', this._disableDispatchMouseEvents, this);\n        map.off('rulerend', this._enableDispatchMouseEvents, this);\n    },\n\n    getEvents: function() {\n        return {\n            viewprereset: this._invalidateAll,\n            viewreset: this._resetView,\n            zoom: this._resetView,\n            moveend: this._onMoveEnd\n        };\n    },\n\n    setUrl: function(url) {\n        this._currentTileKey = '';\n        this._currentTileData = [];\n        this._lastEntity = undefined;\n        this._dispatchMouseEvents = true;\n        this._origin.setURL(url, true);\n    },\n\n    getHoveredObject: function(event) {\n        var tileSize = this.getTileSize(),\n            layerPoint = this._map.mouseEventToLayerPoint(event.originalEvent),\n            tileOriginPoint = this._map.getPixelOrigin().add(layerPoint),\n            tileCoord = tileOriginPoint.unscaleBy(tileSize).floor(),\n            mouseTileOffset = DG.point(tileOriginPoint.x % tileSize.x, tileOriginPoint.y % tileSize.y),\n            tileKey,\n            zoom = this._map.getZoom(),\n            self = this;\n\n        if (zoom > (this.options.maxZoom + this.options.zoomOffset) ||\n            zoom < (this.options.minZoom - this.options.zoomOffset) ||\n            !this._isValidTile(tileCoord)) {\n            return;\n        }\n\n        this._wrapCoords(tileCoord);\n\n        tileCoord.z = this._getZoomForUrl();\n        tileCoord.key = tileSize.x + 'x' + tileSize.y;\n        tileKey = this._origin.getTileKey(tileCoord);\n\n        if (tileKey === this._currentTileKey) {\n            self._lastEntity = self._getHoveredObject(mouseTileOffset);\n        } else {\n            this._origin.getTileData(tileCoord, function(tileData) {\n                self._currentTileKey = tileKey;\n                self._currentTileData = tileData;\n                self._lastEntity = self._getHoveredObject(mouseTileOffset);\n            });\n        }\n\n        return this._lastEntity;\n    },\n\n    _removeAllTiles: DG.GridLayer.prototype._removeAllTiles,\n    _getZoomForUrl: DG.TileLayer.prototype._getZoomForUrl,\n    getTileSize: DG.TileLayer.prototype.getTileSize,\n    _isValidTile: DG.GridLayer.prototype._isValidTile,\n    _wrapCoords: DG.GridLayer.prototype._wrapCoords,\n    _resetView: DG.GridLayer.prototype._resetView,\n    _resetGrid: DG.GridLayer.prototype._resetGrid,\n    _invalidateAll: DG.GridLayer.prototype._invalidateAll,\n    _pxBoundsToTileRange: DG.GridLayer.prototype._pxBoundsToTileRange,\n\n    // Fix for https://github.com/Leaflet/Leaflet/compare/0726f12bbf33fcb18fe8bb541d5e3212bb1f5ab2...c263f2d8b1bd962b60474376cc4816a688052513#diff-f1e6be67599c594731fff6191c710420L579\n    _onMoveEnd: function() {\n        if (!this._map || this._map._animatingZoom) { return; }\n\n        this._resetView();\n    },\n\n    _onTileLoadStart: function(e) {\n        var tileSize = this.getTileSize();\n        e.coords.key = tileSize.x + 'x' + tileSize.y;\n        this._origin.getTileData(e.coords);\n    },\n\n    _enableDispatchMouseEvents: function() {\n        this._dispatchMouseEvents = true;\n    },\n\n    _disableDispatchMouseEvents: function() {\n        this._dispatchMouseEvents = false;\n    },\n\n    mapEvents: {\n        mousemove: function(event) {\n            this._fireMetalayerEvent('mousemove', event);\n        },\n\n        mouseover: function(event) {\n            this._fireMetalayerEvent('mouseover', event);\n        },\n\n        mouseout: function(event) {\n            this._fireMetalayerEvent('mouseout', event);\n            this._currentTileKey = '';\n        },\n\n        click: function(event) {\n            var tileSize = this.getTileSize(),\n                layerPoint = this._map.mouseEventToLayerPoint(event.originalEvent),\n                tileOriginPoint = this._map.getPixelOrigin().add(layerPoint),\n                tileCoord = tileOriginPoint.unscaleBy(tileSize).floor(),\n                mouseTileOffset = DG.point(tileOriginPoint.x % tileSize.x, tileOriginPoint.y % tileSize.y);\n            tileCoord.z = this._getZoomForUrl();\n            tileCoord.key = tileSize.x + 'x' + tileSize.y;\n            var tileKey = this._origin.getTileKey(tileCoord);\n            var self = this;\n\n            // In this function the tile meta data are processed by metalayer.\n            var onTileData = function(currentTileData) {\n                self._currentTileData = currentTileData;\n                self._currentTileKey = tileKey;\n                self._lastEntity = self._getHoveredObject(mouseTileOffset);\n                self._mouseDown = false;\n\n                if (self._lastEntity) {\n                    event.entity = self._lastEntity;\n                    self._fireMetalayerEvent('click', event);\n                }\n            }\n\n            // For more information about the code below see:\n            // https://github.com/2gis/mapsapi/pull/501\n            this._origin.getTileData(tileCoord, function(tileData) {\n                if (tileData) {\n                    onTileData(tileData);\n                } else if (self._origin._requests[tileKey]) {\n                    DG.DomEvent.stop(event);\n                    self._origin._requests[tileKey].then(function() {\n                        delete event.originalEvent._stopped;\n                        onTileData(self._origin._tileStorage[tileKey]);\n                        if (!event.originalEvent._stopped) {\n                            var targets = event.eventTargets;\n                            for (var i = event.eventTargetsMapIndex; i < targets.length; i++) {\n                                targets[i].fire('click', event, true);\n                                if (\n                                    event.originalEvent._stopped ||\n                                    (targets[i].options.nonBubblingEvents &&\n                                    L.Util.indexOf(targets[i].options.nonBubblingEvents, 'click') !== -1)\n                                ) {\n                                    return;\n                                }\n                            }\n                        }\n                    });\n                }\n            });\n        },\n\n        dblclick: function(event) {\n            this._fireMetalayerEvent('dblclick', event);\n        },\n\n        mousedown: function(event) {\n            this._mouseDown = true;\n            this._fireMetalayerEvent('mousedown', event);\n        },\n\n        contextmenu: function(event) {\n            this._fireMetalayerEvent('contextmenu', event);\n        }\n    },\n\n    _fireMetalayerEvent: function(type, mouseEvent) {\n        if (!mouseEvent.entity || !this._dispatchMouseEvents) {\n            return;\n        }\n        this.fire(type, {\n            meta: mouseEvent.entity,\n            latlng: this._map.mouseEventToLatLng(mouseEvent.originalEvent)\n        });\n        var isDragging = type === 'mousedown' || (this._mouseDown && type === 'mousemove');\n        if (this.options.eventBubbling === 'layer' && !isDragging) {\n            DG.DomEvent.stop(mouseEvent);\n        }\n    },\n\n    _getHoveredObject: function(mouseTileOffset) {\n        if (!this._currentTileData) {\n            return;\n        }\n\n        for (var i = 0; i < this._currentTileData.length; i++) {\n            if (DG.PolyUtil.inside(mouseTileOffset, this._currentTileData[i].geometry, this._pointReduceHelper)) {\n                return this._currentTileData[i];\n            }\n        }\n    },\n\n    _pointReduceHelper: function(point) {\n        return [point.x, point.y];\n    },\n\n    _setView: function(center, zoom, noPrune, noUpdate) {\n        var tileZoom = Math.round(zoom),\n            tileZoomChanged = this._tileZoom !== tileZoom;\n\n        if (!noUpdate && tileZoomChanged) {\n            this._tileZoom = tileZoom;\n            this._resetGrid();\n        }\n    }\n});\n\nDG.Meta.layer = function(source, options) {\n    return new DG.Meta.Layer(source, options);\n};\n\nDG.Meta.Origin = DG.Class.extend({\n\n    options: {\n        subdomains: '0123',\n        dataFilter: null\n    },\n\n    _url: false,\n\n    initialize: function(url, options) { // (String, Object)\n        this._url = url;\n        this._requests = {};\n\n        this._tileStorage = {};\n\n        options = DG.setOptions(this, options);\n\n        if (typeof options.subdomains === 'string') {\n            options.subdomains = options.subdomains.split('');\n        }\n    },\n\n    getTileData: function(coord, clb) { // (Object) -> Object\n        var tileKey = this.getTileKey(coord),\n            self = this,\n            callback = typeof clb === 'function' ? clb : function() {};\n\n        // if the tile meta data request in progress, this function returns false, it is therefore synchronous.\n        if (typeof this._tileStorage[tileKey] === 'undefined' && typeof this._requests[tileKey] === 'undefined') {\n            this._tileStorage[tileKey] = false;\n            var currentRequest = this._requests[tileKey] = this._requestData(coord).then(function(data) {\n                if (self._requests[tileKey] !== currentRequest) {\n                    callback(false);\n                    return;\n                }\n                self.setTileData(tileKey, self.options.dataFilter ? self.options.dataFilter(data, coord) : data);\n                delete self._requests[tileKey];\n                callback(self._tileStorage[tileKey]);\n            });\n        } else {\n            callback(this._tileStorage[tileKey]);\n        }\n    },\n\n    setTileData: function(key, data) { // (Object/String, Object) -> Object\n        if (typeof key !== 'string') {\n            key = this.getTileKey(key);\n        }\n\n        data.forEach(function(entity) {\n            if (entity.geometry.constructor !== Object) {\n                entity.geometry = DG.Wkt.toGeoJSON(entity.geometry);\n            }\n            if (!this._tileStorage[key]) {\n                this._tileStorage[key] = [];\n            }\n            this._tileStorage[key].push(entity);\n        }, this);\n\n        return this;\n    },\n\n    flush: function() { // () -> Object\n        this._tileStorage = {};\n        Object.keys(this._requests).forEach(function(tileKey) {\n            if (this[tileKey].abort) {\n                this[tileKey].abort();\n            }\n        }, this._requests);\n        this._requests = {};\n\n        return this;\n    },\n\n    setURL: function(url, flush) { // (String, Boolean) -> Object\n        this._url = url;\n        if (flush) {\n            this.flush();\n        }\n\n        return this;\n    },\n\n    getTileKey: function(coord) { // (Object)-> String\n        return [coord.x, coord.y, coord.z, coord.key].join(':');\n    },\n\n    _requestData: function(key) { // (String)\n        if (this._url) {\n            return this._performRequest(key);\n        } else {\n            return Promise.resolve([]);\n        }\n    },\n\n    _performRequest: function(coords) { // (Object) -> Promise\n        return DG.ajax(this._prepareURL(coords), {\n            type: 'get',\n            dataType: 'json'\n        });\n    },\n\n    _prepareURL: function(coords) { // (Object) -> String\n        return DG.Util.template(this._url, {\n            x: coords.x,\n            y: coords.y,\n            z: coords.z,\n            s: this._getSubdomain(coords)\n        });\n    },\n\n    _getSubdomain: DG.TileLayer.prototype._getSubdomain\n\n});\n\nDG.Meta.origin = function(source, options) {\n    return new DG.Meta.Origin(source, options);\n};\n\nDG.Map.mergeOptions({\n    poi: true\n});\n\nDG.Poi = DG.Handler.extend({\n\n    options: {\n        disableLabel: false\n    },\n\n    initialize: function(map, options) { // (Object)\n        this._map = map;\n        DG.Util.setOptions(this, options);\n\n        var url = DG.config.protocol + (DG.Browser.retina ? DG.config.retinaPoiMetaServer : DG.config.poiMetaServer);\n\n        this._metaLayer = DG.Meta.layer(url, {\n            minZoom: DG.config.poiLayerMinZoom,\n            maxNativeZoom: 19,\n            detectRetina: DG.config.detectRetina,\n            eventBubbling: 'layer',\n            dataFilter: DG.bind(this._processData, this),\n            isPoi: true\n        });\n\n        this._currentTilesLang = ''; // 'ar' | ''\n    },\n\n    addHooks: function() {\n        this._map.addLayer(this._metaLayer);\n        if (!this.options.disableLabel) {\n            this._labelHelper = DG.label();\n        }\n        this._metaLayer.on(this._layerEventsListeners, this);\n        this._map.on('langchange', this._updateUrl, this);\n        this._map.on('projectchange', this._updateUrl, this);\n        this._map.on('projectleave', this._updateUrl, this);\n    },\n\n    removeHooks: function() {\n        this._map.removeLayer(this._metaLayer);\n        if (!this.options.disableLabel) {\n            this._map.removeLayer(this._labelHelper);\n            this._labelHelper = null;\n        }\n        this._metaLayer.off(this._layerEventsListeners, this);\n        this._map.off('langchange', this._updateUrl, this);\n        this._map.off('projectchange', this._updateUrl, this);\n        this._map.off('projectleave', this._updateUrl, this);\n    },\n\n    getMetaLayer: function() {\n        return this._metaLayer;\n    },\n\n    _updateUrl: function() {\n        var url = DG.config.protocol + (DG.Browser.retina ? DG.config.retinaPoiMetaServer : DG.config.poiMetaServer);\n        var arabicUrl = DG.config.protocol +\n            (DG.Browser.retina ? DG.config.arabicRetinaPoiMetaServer : DG.config.arabicPoiMetaServer);\n        var lang = this._map.getLang();\n        var project = this._map.projectDetector && this._map.projectDetector.getProject();\n\n        // Change POI for Arabic language in Dubai project\n        if (this._currentTilesLang === '' && lang === 'ar' && project && project.country_code === 'ae') {\n            this._currentTilesLang = 'ar';\n            this._metaLayer.setUrl(arabicUrl);\n\n        } else if (this._currentTilesLang === 'ar' && (lang !== 'ar' || (!project || project.country_code !== 'ae'))) {\n            this._currentTilesLang = '';\n            this._metaLayer.setUrl(url);\n        }\n    },\n\n    _processData: function(data, coord) {\n        var tileOriginPoint = coord.scaleBy(this._metaLayer.getTileSize());\n        var polygonLngLatToPoints = DG.bind(this._polygonLngLatToPoints, this, tileOriginPoint, coord.z);\n\n        if (data.responseText === '') {\n            return [];\n        }\n\n        return data.result.poi\n            .map(function(item) {\n                var hovers = item.hovers !== undefined\n                    ? item.hovers\n                    : [item.hover];\n\n                return {\n                    id: item.id,\n                    hint: item.links[0].name,\n                    linked: item.links[0],\n                    geometry: hovers.map(DG.Wkt.toGeoJSON),\n                };\n            })\n            .map(function(item) {\n                var coordinates = item.geometry.reduce(function(result, item) {\n                    if (item.type === 'Polygon') {\n                        result.push(polygonLngLatToPoints(item.coordinates));\n                    } else if (item.type === 'MultiPolygon') {\n                        result = result.concat(item.coordinates.map(polygonLngLatToPoints));\n                    }\n\n                    return result;\n                }, []);\n\n                item.geometry = {\n                    type: 'MultiPolygon',\n                    coordinates: coordinates,\n                };\n\n                return item;\n            });\n    },\n\n    _polygonLngLatToPoints: function(originPoint, zoom, polygon) {\n        var map = this._map;\n\n        return polygon.map(function(contour) {\n            return contour.map(function(lngLat) {\n                return map\n                    .project([lngLat[1], lngLat[0]], zoom).round()\n                    .subtract(originPoint);\n            });\n        });\n    },\n\n    _layerEventsListeners : {\n        mouseover: function(e) { // (Object)\n            this._setCursor('pointer');\n            if (e.meta.hint && e.meta.hint.length && !this.options.disableLabel) {\n                this._labelHelper\n                    .setPosition(e.latlng)\n                    .setContent(e.meta.hint)\n                    .setZIndexOffset(300);\n                this._map.addLayer(this._labelHelper);\n            }\n            this._map.fire('poihover', {\n                latlng: e.latlng,\n                meta: e.meta\n            });\n        },\n\n        mouseout: function(e) {\n            this._setCursor('');\n            if (!this.options.disableLabel) {\n                this._map.removeLayer(this._labelHelper);\n            }\n            this._map.fire('poileave', {\n                latlng: e.latlng,\n                meta: e.meta\n            });\n        },\n\n        mousemove: function(e) { // (Object)\n            if (!this.options.disableLabel) {\n                this._labelHelper.setPosition(e.latlng);\n            }\n        }\n    },\n\n    _setCursor: function(cursor) { // (String)\n        this._map.getContainer().style.cursor = cursor;\n    }\n\n});\n\nDG.Map.addInitHook('addHandler', 'poi', DG.Poi);\n\nDG.Map.mergeOptions({\n    geoclicker: false\n});\n\nDG.Geoclicker = DG.Handler.extend({\n    clickCount: 0,\n    pendingClick: 0,\n    timeout: 250, // should be equal to 'delay' value in DoubleTap event\n\n    initialize: function(map, options) { // (Object)\n        this._map = map;\n        this._controller = new DG.Geoclicker.Controller(map, options);\n    },\n\n    addHooks: function() {\n        this._toggleEvents(true);\n\n        // Monitor geoclicker usage statistics\n        // TODO: remove after successful research\n        if (typeof ga !== undefined) {\n            // eslint-disable-next-line no-undef\n            ga(DG.config.gaName + '.send', 'event', 'Geoclicker', 'Enable');\n        }\n\n        this._map\n            .on('rulerstart', this._pause, this)\n            .on('rulerend', this._unpause, this);\n    },\n\n    removeHooks: function() {\n        this._toggleEvents();\n\n        this._map\n            .off('rulerstart', this._pause, this)\n            .off('rulerend', this._unpause, this);\n    },\n\n    _checkOpenPopup: function() {\n        if (DG.Browser.mobile && this._map._popup &&\n            (this._map._popup.options.closeOnClick ||\n            this._map.options.closePopupOnClick)) {\n            this.popupWasOpen = true;\n        }\n    },\n\n    _pause: function() {\n        this._toggleEvents();\n    },\n\n    _unpause: function() {\n        // Reenable event handling only in case geoclicker is enabled\n        if (this.enabled()) {\n            this._toggleEvents(true);\n        }\n    },\n\n    _toggleEvents: function(flag) {\n        this._map[flag ? 'on' : 'off'](this._mapEventsListeners, this);\n        if (this._map.poi) {\n            this._map.poi.getMetaLayer()[flag ? 'on' : 'off']('click', this._onMetaClick, this);\n        }\n    },\n\n    getController: function() {\n        return this._controller;\n    },\n\n    _onMetaClick: function(e) {\n        this.clickCount = 0;\n        clearTimeout(this.pendingClick);\n        this.popupWasOpen = false;\n\n        this._mapEventsListeners.click.call(this, e);\n    },\n\n    _mapEventsListeners: {\n        langchange: function() {\n            this._controller.reinvokeHandler();\n        },\n\n        popupclose: function(e) { // (Object)\n            this._controller.handlePopupClose(e.popup);\n        },\n\n        click: function(e) { // (Object)\n            if (this.clickCount === 0) {\n                this.clickCount = 1;\n                this._singleClick(e);\n            } else {\n                this.clickCount = 0;\n                clearTimeout(this.pendingClick);\n                this.popupWasOpen = false;\n            }\n        },\n\n        dblclick: function() {\n            if (DG.Browser.ielt9) {\n                this.clickCount = 0;\n                this.popupWasOpen = false;\n                clearTimeout(this.pendingClick);\n            }\n        }\n    },\n\n    _singleClick: function(e) { // (Object)\n        var self = this;\n\n        clearTimeout(this.pendingClick);\n\n        this.pendingClick = setTimeout(function() {\n            if (e.meta) {\n                self._checkOpenPopup();\n                self._map.closePopup();\n            }\n\n            //  DGPopup's '_close' method is the only place where .popupWasOpen is modified\n            //  It signals geoclicker that popup was open before user do a 'click' on map\n            //  Multistage behavior is needed as this processing occurs after popup was already closed\n            if (!self.popupWasOpen) {\n                var zoom = self._map.getZoom();\n                self._controller.handleClick(e.latlng, zoom, e.meta);\n            }\n\n            self.clickCount = 0;\n            self.popupWasOpen = false;\n        }, this.timeout);\n    }\n});\n\nDG.Map.addInitHook('addHandler', 'geoclicker', DG.Geoclicker);\n\nDG.Geoclicker.clampHelper = function(el, lineClamp) {\n    var measure, text, lineWidth,\n        lineStart, lineCount, wordStart,\n        line, lineText, wasNewLine,\n        ce = document.createElement.bind(document),\n        ctn = document.createTextNode.bind(document);\n\n    // measurement element is made a child of the clamped element to get it's style\n    measure = ce('span');\n\n    (function(s) {\n        s.position = 'absolute'; // prevent page reflow\n        s.whiteSpace = 'pre'; // cross-browser width results\n        s.visibility = 'hidden'; // prevent drawing\n        s.margin = '0 18px 8px 0';\n    })(measure.style);\n\n    // make sure the element belongs to the document\n    if (!el.ownerDocument || el.ownerDocument !== document) {\n        return;\n    }\n    // reset to safe starting values\n    lineStart = wordStart = 0;\n    lineCount = 1;\n    wasNewLine = false;\n    lineWidth = el.clientWidth;\n    // get all the text, remove any line changes\n    text = (el.textContent || el.innerText).replace(/\\n/g, ' ');\n    // remove all content\n    while (el.firstChild !== null) {\n        el.removeChild(el.firstChild);\n    }\n    // add measurement element within so it inherits styles\n    el.appendChild(measure);\n    // http://ejohn.org/blog/search-and-dont-replace/\n    text.replace(/ |-/g, function(m, pos) {\n        // ignore any further processing if we have total lines\n        if (lineCount === lineClamp) {\n            return;\n        }\n        // create a text node and place it in the measurement element\n        measure.appendChild(ctn(text.substr(lineStart, pos - lineStart)));\n        // have we exceeded allowed line width?\n        if (lineWidth < measure.clientWidth) {\n            if (wasNewLine) {\n                // we have a long word so it gets a line of it's own\n                lineText = text.substr(lineStart, pos + 1 - lineStart);\n                // next line start position\n                lineStart = pos + 1;\n            } else {\n                // grab the text until this word\n                lineText = text.substr(lineStart, wordStart - lineStart);\n                // next line start position\n                lineStart = wordStart;\n            }\n            // create a line element\n            line = ce('span');\n            // add text to the line element\n            line.appendChild(ctn(lineText));\n            // add the line element to the container\n            el.appendChild(line);\n            line.className = 'dg-map-geoclicker__clamped-line';\n            // yes, we created a new line\n            wasNewLine = true;\n            lineCount++;\n        } else {\n            // did not create a new line\n            wasNewLine = false;\n        }\n        // remember last word start position\n        wordStart = pos + 1;\n        // clear measurement element\n        measure.removeChild(measure.firstChild);\n    });\n    // remove the measurement element from the container\n    el.removeChild(measure);\n    // create the last line element\n    line = ce('span');\n    // give styles required for text-overflow to kick in\n    line.className = 'dg-map-geoclicker__clamped-line dg-map-geoclicker__clamped-line_last';\n    // add all remaining text to the line element\n    line.appendChild(ctn(text.substr(lineStart)));\n    // add the line element to the container\n    el.appendChild(line);\n};\n\nDG.Geoclicker.Provider = {};\n\nDG.Geoclicker.Provider.CatalogApi = DG.Class.extend({\n    initialize: function(map) { // (Object)\n        this._map = map;\n\n        var apiUrl = DG.config.protocol +\n            DG.config.webApiServer + '/' +\n            DG.config.webApiVersion + '/';\n\n        this._urlGeoSearch = apiUrl + 'geo/search';\n        this._urlGeoGet = apiUrl + 'geo/get';\n        this._urlDetails = apiUrl + 'catalog/branch/get';\n        this._urlFirmsInHouse = apiUrl + 'catalog/branch/list';\n\n        this._key = DG.config.geoclickerCatalogApiKey;\n        this._geoFields = DG.config.geoAdditionalFields;\n        this._firmInfoFields = DG.config.firmInfoFields;\n    },\n\n    getLocations: function(options) { // (Object)\n        // Callback will receive array of found results or void if errors occurred or nothing was found.\n        var zoom = options.zoom,\n            latlng = options.latlng,\n            beforeRequest = options.beforeRequest || function() {},\n            types = this.getTypesByZoom(zoom),\n            q = latlng.lng + ',' + latlng.lat;\n\n        if (!types) {\n            return Promise.reject('no type');\n        }\n\n        beforeRequest();\n\n        return this.geoSearch(q, types, zoom).then(DG.bind(function(result) {\n            return this._filterResponse(result, types);\n        }, this));\n    },\n\n    firmsInHouse: function(houseId, parameters) { // (String, Function, Number)\n        parameters = parameters || {};\n\n        /* eslint-disable camelcase */\n        var params = {\n            building_id: houseId,\n            page: parameters.page || 1\n        };\n        /* eslint-enable camelcase */\n\n        return this._performRequest(params, this._urlFirmsInHouse);\n    },\n\n    getFirmInfo: function(firmId) {\n        return this._performRequest({\n            type: 'filial',\n            id: firmId,\n            fields: this._firmInfoFields\n        }, this._urlDetails);\n    },\n\n    geoSearch: function(q, types, zoomlevel) { // (String, String, Number)\n        /* eslint-disable camelcase */\n        var params = {\n            point: q,\n            type: types,\n            zoom_level: zoomlevel,\n            fields: this._geoFields\n        };\n        /* eslint-enable camelcase */\n\n        return this._performRequest(params, this._urlGeoSearch);\n    },\n\n    geoGet: function(id) {\n        var params = {\n            id: id,\n            fields: this._geoFields\n        };\n\n        return this._performRequest(params, this._urlGeoGet);\n    },\n\n    cancelLastRequest: function() {\n        if (this._lastRequest) {\n            this._lastRequest.abort();\n        }\n    },\n\n    getTypesByZoom: function(zoom) { // (Number) -> String|Null\n        var types = {\n                'adm_div.settlement':   8,\n                'adm_div.city':         8,\n                'adm_div.division':     11,\n                'adm_div.district':     12,\n                'street':               14,\n                'building':             14,\n                'adm_div.place':        15,\n                'poi':                  15,\n                'attraction':           17\n            },\n            selectedTypes = [];\n\n        Object.keys(types).forEach(function(type) {\n            if (zoom >= types[type]) {\n                selectedTypes.push(type);\n            }\n        });\n\n        if (selectedTypes.length) {\n            return selectedTypes.join(',');\n        } else {\n            return null;\n        }\n    },\n\n    _performRequest: function(params, url) { // (Object, String, Function, Function)\n        var data = DG.extend({key: this._key}, params);\n        var type = 'get';\n\n        this.cancelLastRequest();\n\n        if (!DG.ajax.corsSupport) {\n            type = data.format = 'jsonp';\n        }\n\n        this._lastRequest = DG.ajax(url, {\n            type: type,\n            data: data,\n            timeout: this._timeoutMs,\n            withCredentials: true\n        });\n\n        return this._lastRequest;\n    },\n\n    _filterResponse: function(response, allowedTypes) { // (Object, Array) -> Boolean|Object\n        var result = {}, i, item, found, data, type;\n\n        if (this._isNotFound(response)) {\n            return false;\n        }\n\n        data = response.result.items;\n\n        for (i = data.length - 1; i >= 0; i--) {\n            item = data[i];\n\n            type = item.type;\n            if (item.subtype) {\n                type += '.' + item.subtype;\n            }\n\n            if (allowedTypes && allowedTypes.indexOf(type) === -1) {\n                continue;\n            }\n\n            result[type] = item;\n            found = true;\n        }\n\n        if (found) {\n            return result;\n        } else {\n            return false;\n        }\n    },\n\n    _isNotFound: function(response) { // (Object) -> Boolean\n        return !response ||\n               !!response.meta && !!response.meta.error ||\n               !response.result ||\n               !response.result.items ||\n               !response.result.items.length;\n    }\n\n});\n\nDG.Geoclicker.Handler = {};\n\nDG.Geoclicker.Handler.Default = DG.Class.extend({\n\n    includes: DG.Locale,\n\n    statics: {\n        Dictionary: {}\n    },\n\n    _eventHandlers: {},\n\n    initialize: function(controller, view, map) { // (Object, Object, Object)\n        this._controller = controller;\n        this._view = view;\n        this._map = map;\n    },\n\n    handle: function() { // () -> Promise\n        return Promise.resolve({\n            tmpl: 'popupHeader',\n            data: {'title': this.t('we_have_not')}\n        });\n    },\n\n    addClickEvent: function() {\n        this._view._popup.on('click', this._runEventHandlers, this);\n        this._map.once('popupclose', this._removeClickEvent, this);\n    },\n\n    _removeClickEvent: function() {\n        this._view._popup.off('click', this._runEventHandlers, this);\n    },\n\n    _addEventHandler: function(el, handler) { // (String, Function)\n        this._eventHandlers[el] = handler;\n    },\n\n    _runEventHandlers: function(e) {\n        var target = e.originalEvent.target;\n\n        for (var eventClass in this._eventHandlers) {\n            if (this._eventHandlers.hasOwnProperty(eventClass) && target.className.indexOf(eventClass) > -1) {\n                DG.DomEvent.preventDefault(e.originalEvent);\n                this._eventHandlers[eventClass].call(this, target);\n                return;\n            }\n        }\n    },\n\n    _clearEventHandlers: function() {\n        this._eventHandlers = {};\n    },\n\n    _getDirectionsUrl: function(name) {\n        var project = this._map.projectDetector.getProject();\n        if (!project) {\n            return '';\n        }\n\n        return DG.Util.template(DG.config.ppnotLink, {\n            'domain': project.domain,\n            'projectCode': project.code,\n            'center': this._map.getCenter().lng + ',' + this._map.getCenter().lat,\n            'zoom': this._map.getZoom(),\n            'name': encodeURIComponent(name),\n            'rsType': project.transport ? 'bus' : 'car',\n            'point': this._popup._latlng.lng + ',' + this._popup._latlng.lat\n        });\n    },\n\n    _getDrilldown: function(object) {\n        var admDivs = [],\n            result;\n\n        if (object.adm_div) {\n            admDivs = object.adm_div\n                .reduce(function(admDivs, admDiv) {\n                    if (admDiv.name) {\n                        admDivs.push(admDiv.name);\n                    }\n\n                    return admDivs;\n                }, [])\n                .reverse();\n        }\n\n        if (admDivs.length && object.address && object.address.postcode) {\n            admDivs.push(object.address.postcode);\n        }\n\n        result = admDivs.join(', ');\n\n        return result;\n    }\n\n});\n\n\nDG.Geoclicker.Handler.HandlerExample = DG.Geoclicker.Handler.Default.extend({\n\n    handle: function(results, type) { // (Object, String) -> Promise\n        return Promise.resolve({\n            tmpl: type + ':<br/>' + results[type].id\n        });\n    }\n});\n\nDG.Geoclicker.Handler.ApiError = DG.Geoclicker.Handler.Default.extend({\n    handle: function() { // () -> Promise\n        var header = this._view.render({\n            tmpl: 'popupHeader',\n            data: {\n                title: this.t('apiErrorTitle')\n            }\n        });\n\n        return Promise.resolve({\n            header: header,\n            tmpl: this.t('apiErrorBody')\n        });\n    }\n});\n\nDG.Geoclicker.Handler.CityArea = DG.Geoclicker.Handler.Default.extend({\n\n    _polylineStyleDefault : {\n        fillColor: '#ff9387',\n        color: '#ff9387',\n        noClip: true,\n        opacity: 1\n    },\n\n    _polylineStyles : {\n        11 : {\n            fillOpacity: 0.18,\n            weight: 1\n        },\n        12 : {\n            fillOpacity: 0.12,\n            weight: 1\n        },\n        13 : {\n            fillOpacity: 0.08,\n            weight: 2\n        },\n        18 : {\n            fillOpacity: 0,\n            weight: 3\n        }\n    },\n\n    handle: function(results, type) { // (Object, String) -> Promise\n        if (!results[type]) {\n            return false;\n        }\n\n        if (!this._stylesInited) {\n            this._initStyles();\n        }\n\n        // remove previous geometry see https://github.com/2gis/mapsapi/issues/213\n        if (this._geometry) {\n            this._map.removeLayer(this._geometry);\n        }\n\n        this._popup = this._view.getPopup();\n\n        this._geometryZoomStyle = this._getPolyStyleNum();\n        this._geometry = DG.Wkt.geoJsonLayer(results[type].geometry.selection, {\n            style: this._polylineStyles[this._geometryZoomStyle],\n            interactive: false\n        }).addTo(this._map);\n\n        this._map\n            .on('zoomend', this._updateGeometry, this)\n            .once('popupclose', this._clearPopup, this);\n\n        return Promise.resolve(this._fillCityAreaObject(results, type));\n    },\n\n    _fillCityAreaObject: function(results, type) {\n        var data = {\n            name: this.t('noname'),\n            drilldown: '',\n            purpose: this.t(type),\n            type: type.split('.').join('_')\n        };\n\n        data.drilldown = this._getDrilldown(results[type]);\n\n        if (results[type].name) {\n            data.name = results[type].name;\n        }\n\n        return {\n            tmpl: 'cityarea',\n            data: data,\n            header: this._view.render({\n                tmpl: 'popupHeader',\n                data: {'title': data.name}\n            })\n        };\n    },\n\n    _initStyles : function() {\n        this._stylesInited = true;\n\n        Object.keys(this._polylineStyles).forEach(function(zoom) {\n            DG.extend(this._polylineStyles[zoom], this._polylineStyleDefault);\n        }, this);\n    },\n\n    _getPolyStyleNum: function() {\n        var mapZoom = this._map.getZoom();\n\n        return Object.keys(this._polylineStyles).filter(function(zoom) {\n            return mapZoom <= zoom;\n        })[0] || false;\n    },\n\n    _updateGeometry: function() {\n        var newStyle = this._getPolyStyleNum();\n\n        if (newStyle && newStyle !== this._geometryZoomStyle) {\n            this._geometryZoomStyle = newStyle;\n            this._geometry.setStyle(this._polylineStyles[newStyle]);\n        }\n    },\n\n    _clearPopup: function() {\n        this._map\n            .removeLayer(this._geometry)\n            .off('zoomend', this._updateGeometry, this);\n    }\n\n});\n\n/*global FirmCard */\nDG.Geoclicker.Handler.House = DG.Geoclicker.Handler.Default.extend({\n\n    _firmsOnPage: 20,\n    _scrollThrottleInterval: 400,\n    _scrollHeightReserve: 60,\n\n    options: {\n        'showBooklet': true,\n        'showPhotos': true,\n        'showRouteSearch': true\n    },\n\n    handle: function(results) { // (Object) -> Promise\n        if (!results.building) {\n            return false;\n        }\n\n        // initialization setup\n        this.firmCard = null;\n        this._page = 1;\n        this._houseObject = null;\n        this._firmList = null;\n        this._firmListObject = null;\n        this._firmCardObject = null;\n        this._onScroll = false;\n        this._isFirmlistOpen = false;\n\n        this._id = results.building.id;\n        this._totalPages = 1;\n        this._api = this._controller.getCatalogApi();\n        this._popup = this._view.getPopup();\n        this._initedPopupClose = false;\n        this._directionsUrl = this._getDirectionsUrl(results.building.name);\n        this._firmListLoader = this._view.initLoader(true);\n\n        this._houseObject = this._fillHouseObject(results.building);\n\n        return Promise.resolve(this._houseObject);\n    },\n\n    _isRouteSearchAllowed: function() { //() -> Boolean\n        var project = this._controller.getMap().projectDetector.getProject();\n        return project.transport || project.roads;\n    },\n\n    _firmCardSetup: function() { //() -> Object\n        var project = this._controller.getMap().projectDetector.getProject();\n        return {\n            render: this._view.renderTemplate,\n            lang: this._map.getLang(),\n            domain: project ? project.domain : 'ru',\n            ajax: DG.bind(this._api.getFirmInfo, this._api),\n            timezoneOffset: project ? project.timeOffset : 0,\n            map: this._map,\n            popup: this._popup,\n            isMobile: DG.Browser.mobile,\n            showEntrance: DG.Entrance,\n            gotoUrl: this._directionsUrl,\n            onFirmReady: DG.bind(this._onFirmReady, this),\n            onToggle: DG.bind(this._popup.resize, this._popup),\n            showBooklet: this.options.showBooklet,\n            showPhotos: this.options.showPhotos,\n            showRouteSearch: this.options.showRouteSearch && this._isRouteSearchAllowed(),\n            t: DG.bind(this.t, this)\n        };\n    },\n\n    // init single firm card in case of poi\n    _fillFirmCardObject: function(firmId) {\n        var options = this._firmCardSetup();\n\n        this.firmCard = new FirmCard(firmId, options);\n        this._initPopupClose();\n        return this.firmCard.getContainer();\n    },\n\n    _firmListSetup: function() {\n        var options = this._firmCardSetup();\n\n        DG.extend(options, {\n            backBtn: DG.bind(this._showHousePopup, this),\n            onFirmClick: DG.bind(this._onFirmListClick, this),\n            onShowLess: DG.bind(this._showHousePopup, this),\n            pasteLoader: DG.bind(this._pasteLoader, this)\n        });\n\n        return {\n            firmCard: options,\n            firmlistItemTmpl: 'firmlistItem',\n            onListReady: DG.bind(this._renderFirmList, this)\n        };\n    },\n\n    _initShortFirmList: function(firms) { //(Object) -> DOMElement\n        var options = this._firmListSetup();\n\n        this._shortFirmList = new FirmCard.List(firms, options);\n\n        return this._shortFirmList.renderList();\n    },\n\n    _initFirmList: function(res) { //(Object) -> Promise\n        if (!res) { return false; }\n\n        var results = res.result.items,\n            options = this._firmListSetup();\n\n        options.firmCard.backBtn = DG.bind(this._showListPopup, this);\n\n        if (this._shortFirmList) {\n            this._shortFirmList._toggleEventHandlers(true);\n        }\n\n        this._firmList = new FirmCard.List(results, options);\n\n        this._firmListObject = this._fillFirmListObject(this._firmList.renderList());\n        this._clearAndRenderPopup(this._firmListObject);\n    },\n\n    _fillFirmListObject: function(firmList) { //(DOMElement) -> Object\n        var self = this;\n\n        return {\n            tmpl: firmList,\n            header: this._header,\n            footer: this._view.render({\n                tmpl: 'popupFooterBtns',\n                data: {\n                    btns: [\n                        {\n                            name: 'back',\n                            label: this.t('back_button'),\n                            icon: true\n                        }\n                    ]\n                }\n            }),\n            afterRender: function() {\n                self._initPopupClose();\n\n                if (self._totalPages > 1 && self._firmListLoader) {\n                    // \"this\" here is self._firmListObject\n                    this.tmpl.parentNode.appendChild(self._firmListLoader);\n                }\n            }\n        };\n    },\n\n    _onFirmReady: function(firmContentObject) {\n        var self = this;\n        firmContentObject.afterRender = function() {\n            var headerTitle = self._popup._popupStructure.header.firstChild;\n            if (!DG.Browser.ielt9) {\n                if (headerTitle.offsetHeight > 72) { //TODO: magic number\n                    DG.DomUtil.addClass(headerTitle, 'dg-popup__header-teaser');\n                    if (!DG.Browser.webkit) {\n                        DG.Geoclicker.clampHelper(headerTitle, 3);\n                    }\n                }\n            }\n        };\n        this._clearAndRenderPopup(firmContentObject);\n    },\n\n    _showHousePopup: function() {\n        this._popup.off('scroll', this._onScroll);\n        this._clearAndRenderPopup(this._houseObject);\n        if (this._shortFirmList) {\n            this._shortFirmList._toggleEventHandlers();\n        }\n    },\n\n    _onFirmListClick: function() {\n        this._popup.off('scroll', this._onScroll);\n    },\n\n    _pasteLoader: function() {\n        var loaderWrapper  = DG.DomUtil.create('div', 'dg-map-geoclicker__preloader-wrapper'),\n            loader = this._view.initLoader();\n\n        loaderWrapper.insertBefore(loader, loaderWrapper.firstChild);\n        loaderWrapper.style.height = this._popup._contentNode.offsetHeight - 1 + 'px'; // MAGIC\n        loaderWrapper.style.width = this._popup._contentNode.offsetWidth + 'px';\n        this._clearAndRenderPopup({tmpl: loaderWrapper});\n    },\n\n    _initPopupClose: function() {\n        if (this._initedPopupClose) { return; }\n\n        this._controller.getMap().once('popupclose', DG.bind(this._onPopupClose, this));\n        this._initedPopupClose = true;\n    },\n\n    _showListPopup: function() {\n        var firmList = this._firmListObject;\n\n        this._pasteLoader();\n\n        if (!firmList) {\n            firmList = this._api.firmsInHouse(this._id).then(DG.bind(this._initFirmList, this));\n        } else {\n            this._clearAndRenderPopup(firmList);\n            this._firmList._toggleEventHandlers();\n        }\n\n        if (!this._onScroll) {\n            this._onScroll = DG.Util.throttle(this._handlePopupScroll, this._scrollThrottleInterval, this);\n        }\n\n        this._popup.on('scroll', this._onScroll);\n    },\n\n    _renderFirmList: function() {\n        if (!this._isFirmlistOpen) {\n            this._popup.resize();\n            this._isFirmlistOpen = true;\n        }\n    },\n\n    _onPopupClose: function() {\n        this._initedPopupClose = false;\n        if (this._firmList) {\n            this._firmList.clearList();\n            this._firmList = null;\n            this._popup.off('scroll', this._onScroll);\n        }\n        this._firmId = null;\n        if (this.firmCard) {\n            this.firmCard._toggleEventHandlers(true);\n            this.firmCard = null;\n        }\n        this._firmListLoader = null;\n        this._page = 1;\n        this._clearEventHandlers();\n    },\n\n    _initShowMore: function() {\n        var link = this._popup.findElement('.dg-popup__button_name_all');\n\n        if (link) {\n            this._addEventHandler('dg-popup__button_name_all', DG.bind(this._showListPopup, this));\n        }\n    },\n\n    _clearAndRenderPopup: function(popupObject) {\n        this._clearEventHandlers();\n        this._popup.clear('header', 'footer');\n        this._view.renderPopup(popupObject);\n    },\n\n    _appendFirmList: function(res) { // (Object)\n        this._firmList.addFirms(res.result.items);\n        this._popup._updateScrollPosition();\n    },\n\n    _handlePopupScroll: function(e) {\n        var scroller = e.originalEvent.target || e.target._scroller;\n\n        DG.DomEvent.stop(e);\n\n        if (this._totalPages <= 1) { return; }\n        if (scroller && scroller.scrollHeight <= scroller.scrollTop + scroller.offsetHeight + this._scrollHeightReserve) {\n            this._handlePaging();\n        }\n    },\n\n    _handlePaging: function() {\n        this._page++;\n\n        if (this._totalPages && this._page <= this._totalPages) {\n            this._api.firmsInHouse(this._id, {page: this._page}).then(DG.bind(this._appendFirmList, this));\n        }\n\n        if (this._page === this._totalPages) {\n            var loader = this._firmListLoader;\n\n            if (loader && loader.parentNode) {\n                loader.parentNode.removeChild(loader);\n            }\n\n            this._popup.off('scroll', this._onScroll);\n        }\n    }\n});\n\nDG.Geoclicker.Handler.House.include({\n    _getAddressString: function(house) {\n        if (!house.address || !house.address.components) {\n            return '';\n        }\n\n        return house.address.components\n            .filter(function(component) {\n                return component.type === 'street_number';\n            })\n            .map(function(component) {\n                return component.street + ', ' + component.number;\n            })\n            .join(' / ');\n    },\n\n    _fillBody: function(house) { // // (Object) -> (DOMElement)\n        var data = {},\n            wrapper = DG.DomUtil.create('div', 'dg-building-callout__body'),\n            filials = house.links && house.links.branches;\n\n        var drilldown = this._getDrilldown(house);\n\n        if (house.building_name) {\n            data.address = {\n                header: this._getAddressString(house),\n                drilldown: drilldown\n            };\n        } else if (drilldown) {\n            data.address = {\n                drilldown: drilldown\n            };\n        }\n\n        data.purpose = house.purpose_name +\n            (house.floors ? ', ' + this.t('n_floors', house.floors.ground_count) : '');\n\n        if (filials && filials.count > 0) {\n            this._totalPages = Math.ceil(house.links.branches.count / this._firmsOnPage);\n        }\n\n        if (house.links && house.links.attractions && house.links.attractions.length) {\n            data.attractions = house.links.attractions.reduce(function(attractions, attraction) {\n                if (attraction.name) {\n                    attractions.push(attraction.name);\n                }\n\n                return attractions;\n            }, []);\n        }\n\n        wrapper.innerHTML = this._view.render({\n            tmpl: 'house',\n            data: data\n        });\n\n        if (filials && filials.items) {\n            wrapper.appendChild(this._initShortFirmList(filials.items));\n        }\n\n        return wrapper;\n    },\n\n    _fillHeader: function(house) { // (Object) -> (HTMLString)\n        var header = {};\n\n        if (house.building_name) {\n            header.title = house.building_name;\n        } else if (house.address && house.address.components) {\n            header.title = this._getAddressString(house);\n        } else {\n            header.title = house.purpose_name;\n        }\n\n        this._header = this._view.render({\n            tmpl: 'popupHeader',\n            data: header\n        });\n\n        return this._header;\n    },\n\n    _fillFooter: function(house) { // (Object) -> (HTMLString)\n        var btns = [];\n        var houseFilials = house.links && house.links.branches;\n        var filialsItemsCount = houseFilials &&\n        houseFilials.items &&\n        houseFilials.items.length || 0;\n\n        // Decide if we need to display 'more organisations' button\n        if (\n            houseFilials &&\n            houseFilials.count > filialsItemsCount\n        ) {\n            btns.push(this._getShowAllData(houseFilials.count));\n        }\n\n        if (this._isRouteSearchAllowed()) {\n            btns.push({\n                name: 'goto',\n                label: this.t('go_to'),\n                icon: true,\n                href: this._directionsUrl\n            });\n        }\n\n        return this._view.render({\n            tmpl: 'popupFooterBtns',\n            data: {'btns': btns}\n        });\n    },\n\n    _getShowAllData: function(filialsCount) {\n        return {\n            name: 'all',\n            label: this.t('show_organization_in_building', filialsCount)\n        };\n    },\n\n    _fillHouseObject: function(house) { // (Object) -> (Object)\n        var self = this;\n\n        return {\n            header: this._fillHeader(house),\n            tmpl: this._fillBody(house),\n            footer: this._fillFooter(house),\n            afterRender: function() {\n                self._initShowMore();\n                self._initPopupClose();\n            }\n        };\n    }\n});\n\nDG.Geoclicker.Handler.Poi = DG.Geoclicker.Handler.House.extend({\n\n    handle: function(results) { // (Object) -> Promise\n        if (!results.poi) {\n            return false;\n        }\n\n        // initialization setup\n        this.firmCard = null;\n        this._page = 1;\n        this._houseObject = null;\n        this._firmList = null;\n        this._firmListObject = null;\n        this._firmCardObject = null;\n        this._onScroll = false;\n        this._isFirmlistOpen = false;\n\n        this._id = results.poi.reference.id;\n        this._totalPages = 1;\n        this._api = this._controller.getCatalogApi();\n        this._popup = this._view.getPopup();\n        this._initedPopupClose = false;\n        this._directionsUrl = this._getDirectionsUrl(results.poi.reference.name);\n        this._firmListLoader = this._view.initLoader(true);\n\n        // If the POI refers to a building (e.g. galleries in Santiago),\n        // show a building callout\n        if (results.poi.reference.type === 'building') {\n            var self = this;\n\n            return self._api.geoGet(results.poi.reference.id)\n                .then(function(result) {\n                    self._houseObject = self._fillHouseObject(result.result.items[0]);\n                    return Promise.resolve(self._houseObject);\n                });\n        }\n\n        // Otherwise, show a firm callout\n        if (results.poi.reference.type === 'branch') {\n            this._fillFirmCardObject(results.poi.reference.id);\n            return true;\n        }\n\n        return false;\n    }\n\n});\n\nDG.Geoclicker.Handler.Sight = DG.Geoclicker.Handler.Default.extend({\n\n    handle: function(results) { // (Object, String) -> Promise\n        if (!results.attraction) {\n            return false;\n        }\n\n        this._popup = this._view.getPopup();\n        this._initedPopupClose = false;\n\n        return Promise.resolve(this._fillSightObject(results));\n    },\n\n    _fillSightObject: function(results) { // (Object) -> Object\n        var attraction = results.attraction,\n            data = {},\n            self = this,\n            footer = {\n                btns: [\n                    {\n                        name: 'goto',\n                        label: this.t('go_to'),\n                        icon: true\n                    }\n                ]\n            };\n\n        if (attraction.name) {\n            data.buildingName = attraction.name;\n            data.purpose = attraction.subtype_name;\n        } else {\n            data.buildingName = attraction.subtype_name;\n        }\n\n        data.description = attraction.description;\n\n        data.drillDown = this._getDrilldown(attraction);\n\n        if (this._checkDescFieldHeight(data.description)) {\n            data.showMoreText = this.t('show_more_about_sight');\n        }\n\n        footer.btns[0].href = this._getDirectionsUrl(data.buildingName);\n\n        return {\n            tmpl: 'sight',\n            data: data,\n            header: this._view.render({\n                tmpl: 'popupHeader',\n                data: {'title': data.buildingName}\n            }),\n            footer: this._view.render({\n                tmpl: 'popupFooterBtns',\n                data: footer\n            }),\n            afterRender: function() {\n                if (self._needShowMore) {\n                    self._initShowMore();\n                }\n                self._initPopupClose();\n            }\n        };\n    },\n\n    _initPopupClose: function() {\n        if (this._initedPopupClose) {\n            return;\n        }\n\n        this._controller.getMap().once('popupclose', DG.bind(this._clearPopup, this));\n        this._initedPopupClose = true;\n    },\n\n    _clearPopup: function() {\n        this._initedPopupClose = false;\n        this._clearEventHandlers();\n    },\n\n    _showMoreText: function() {\n        this._desc.style.maxHeight = '100%';\n        this._link.parentNode.removeChild(this._link);\n        this._popup.resize();\n    },\n\n    _initShowMore: function() {\n        this._link = this._popup.findElement('.dg-map-geoclicker__show-more-sights-link');\n        this._desc = this._popup.findElement('.dg-map-geoclicker__sight-description');\n\n        if (this._link && this._desc) {\n            this._addEventHandler('dg-map-geoclicker__show-more-sights-link', DG.bind(this._showMoreText, this));\n        }\n    },\n\n    _checkDescFieldHeight: function(desc) {\n        var el = DG.DomUtil.create('div', ''),\n            height;\n\n        el.style.visibility = 'hidden';\n        el.innerHTML = desc;\n\n        this._popup._contentNode.appendChild(el);\n        height = el.offsetHeight;\n        this._popup._contentNode.removeChild(el);\n        this._needShowMore = (height > 40);\n\n        return this._needShowMore;\n    }\n});\n\nDG.Geoclicker.View = DG.Class.extend({\n\n    initialize: function(map, options) { // (Object, Object)\n        this._map = map;\n        this._popup = DG.popup({\n            maxHeight: 300,\n            minHeight: 50,\n            maxWidth: 385,\n            minWidth: 310,\n            sprawling: true,\n            closeOnClick: true\n        });\n\n        if (options) {\n            DG.Util.setOptions(this, options);\n        }\n    },\n\n    initLoader: function(isSmall) {\n        var loader = document.createElement('div');\n        loader.innerHTML = DG.dust('DGGeoclicker/loader', {\n            small: isSmall,\n            anim: this._detectCssAnimation()\n        });\n\n        return loader.firstChild;\n    },\n\n    showPopup: function(latlng, content) { // (Object)\n        this._popup\n            .setContent(content)\n            .setLatLng(latlng)\n            .openOn(this._map);\n    },\n\n    render: function(options) { // (Object) -> String\n        var html,\n            data = {};\n\n        options = options || {};\n        options.tmpl = options.tmpl || '';\n\n        if (options.data) {\n            html = this.renderTemplate(options.tmpl, options.data);\n        } else {\n            html = options.tmpl;\n        }\n\n        if (options.beforeRender) {\n            options.beforeRender();\n        }\n\n        if (options.popup) {\n            if (options.header) {\n                data.header = options.header;\n            }\n            if (options.footer) {\n                data.footer = options.footer;\n            }\n            data.body = html;\n            this._popup.setContent(data);\n        }\n        if (options.afterRender) {\n            options.afterRender();\n        }\n\n        return html;\n    },\n\n    renderTemplate: function(name, data) {\n        return DG.dust('DGGeoclicker/' + name, data);\n    },\n\n    renderPopup: function(options) { // (Object) -> String\n        options.popup = true;\n        return this.render(options);\n    },\n\n    getPopup: function() { // () -> Object\n        return this._popup;\n    },\n\n    _detectCssAnimation: function() {\n        var animation = false,\n            domPrefixes = 'Webkit Moz O ms Khtml'.split(' '),\n            elm = document.createElement('div');\n\n        if (elm.style.animationName) { animation = true; }\n\n        if (animation === false) {\n            for (var i = 0; i < domPrefixes.length; i++) {\n                if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n                    animation = true;\n                    break;\n                }\n            }\n        }\n        return animation;\n    }\n});\n\nDG.Geoclicker.Controller = DG.Class.extend({\n\n    options: {\n        // if handler worked successfully, it should return rendering object that will be processed in View , otherwise it should return false\n        // default handler always should return rendering object\n        'handlersSequence': {\n            'poi': DG.Geoclicker.Handler.Poi,\n            'attraction': DG.Geoclicker.Handler.Sight,\n            'building': DG.Geoclicker.Handler.House,\n            'street': DG.Geoclicker.Handler.CityArea,\n            'adm_div.place': DG.Geoclicker.Handler.CityArea,\n            'adm_div.district': DG.Geoclicker.Handler.CityArea,\n            'adm_div.division': DG.Geoclicker.Handler.CityArea,\n            'adm_div.settlement': DG.Geoclicker.Handler.CityArea,\n            'adm_div.city': DG.Geoclicker.Handler.CityArea,\n\n            'default': DG.Geoclicker.Handler.Default,\n\n            'apiError': DG.Geoclicker.Handler.ApiError\n\n            // station_platform\n            // project\n            // station\n            // crossbroad\n            // metro\n        }\n    },\n\n    initialize: function(map, options) { // (Object, Object)\n        this._options = options;\n        this._handlers = {};\n        this._catalogApi = new DG.Geoclicker.Provider.CatalogApi(map);\n        this._map = map;\n        this._view = new DG.Geoclicker.View(map);\n\n        this._renderHandlerResult = DG.bind(this._renderHandlerResult, this);\n        this._lastHandleClickArguments = null;\n    },\n\n    handlePopupClose: function(popup) { // (Object)\n        if (popup === this._view.getPopup()) {\n            this._lastHandleClickArguments = null;\n            this._catalogApi.cancelLastRequest();\n        }\n    },\n\n    handleClick: function(latlng, zoom, meta) { // (Object, Number, Object)\n        var self = this,\n            args = Array.prototype.slice.call(arguments, 0);\n\n\n        // Monitor geoclicker user usage statistics\n        // TODO: remove after successful research\n        if (typeof ga !== undefined) {\n            // eslint-disable-next-line no-undef\n            ga(DG.config.gaName + '.send', 'event', 'Geoclicker', 'Use');\n        }\n\n        function beforeRequest() {\n            var loader = self._view.initLoader();\n            self._view._popup.clear();\n            self._view.showPopup(latlng, loader);\n            self._lastHandleClickArguments = args;\n        }\n\n        if (meta && meta.linked && meta.linked.type != 'sight' && meta.linked.type != 'attraction') {\n            if (meta.linked.type != 'branch' && meta.linked.type != 'building') {\n                return;\n            }\n\n            beforeRequest();\n            self.handleResponse({\n                poi: {\n                    reference: meta.linked\n                }\n            });\n        } else {\n            this._catalogApi.getLocations({\n                latlng: latlng,\n                zoom: zoom,\n                beforeRequest: beforeRequest\n            }).then(function(result) {\n                self.handleResponse(result);\n            }, function(error) {\n                self.handleResponse(error);\n            });\n        }\n    },\n\n    handleResponse: function(result) { // (Object)\n        var type;\n\n        if (!result) {\n            this._runHandler('default');\n            return;\n        }\n\n        if (result === 'no type') {\n            return;\n        }\n\n        if (result === 'aborted') {\n            this._runHandler('apiError');\n            return;\n        }\n\n        type = this.findHandler(result);\n\n        while (type) {\n            if (this._runHandler(type, result)) {\n                return;\n            }\n            delete result[type];\n\n            type = this.findHandler(result);\n        }\n        this._runHandler('default');\n    },\n\n    findHandler: function(result) { // (Object) -> String|Null\n        for (var i in this.options.handlersSequence) {\n            if (result[i]) {\n                return i;\n            }\n        }\n\n        return null;\n    },\n\n    getCatalogApi: function() { // () -> Object\n        return this._catalogApi;\n    },\n\n    getMap: function() {\n        return this._map;\n    },\n\n    reinvokeHandler: function() {\n        if (this._lastHandleClickArguments) {\n            this.handleClick.apply(this, this._lastHandleClickArguments);\n        }\n    },\n\n    _runHandler: function(type, data) { // (String, Object) -> Boolean\n        data = data || {};\n        this._initHandlerOnce(type);\n        this._handlers[type].addClickEvent();\n\n        var handlerResult = this._handlers[type].handle(data, type);\n\n        return handlerResult && handlerResult.then ?\n            handlerResult.then(this._renderHandlerResult) :\n            handlerResult;\n    },\n\n    _renderHandlerResult: function(result) {\n        this._view.renderPopup(result);\n    },\n\n    _initHandlerOnce: function(type) { // (String)\n        if (!this._handlers[type]) {\n            this._handlers[type] = new this.options.handlersSequence[type](this, this._view, this._map, this._options);\n        }\n    }\n});\n\nDG.Geoclicker.Handler.Default.Dictionary.it = DG.extend({\n    apiErrorTitle: 'Oh oh, c\\'è&nbsp;un&nbsp;errore',\n    apiErrorBody: 'I nostri server si rifiutano di rispondere. Stiamo facendo del nostro meglio per convincerli a&nbsp;comportarsi bene. Ritorna tra qualche minuto.',\n    we_have_not : 'Non disponiamo ancora di informazioni su questo posto',\n    noname : 'Nome non indicato',\n    'adm_div.place' : 'Luogo',\n    'adm_div.division' : 'Zona',\n    'adm_div.settlement' : 'Comune',\n    street : 'Via',\n    'adm_div.district' : 'Municipalità',\n    'adm_div.city' : 'Сittà',\n    go_to : 'Come arrivare',\n    show_organization_in_building : ['{n} azienda in tutto', '{n} aziende in tutto'],\n    show_more_about_sight : 'Maggiori informazioni',\n    back_button: 'Indietro',\n    n_floors : ['{n} piano', '{n} piani']\n}, DG.Dictionary.it);\n\nDG.Geoclicker.Handler.Default.Dictionary.ru = DG.extend({\n    apiErrorTitle: 'Ошибочка вышла',\n    apiErrorBody: 'Наши серверы отказываются отвечать. Мы уже прикладываем все силы, чтобы вразумить их. Возвращайтесь к&nbsp;нам через&nbsp;несколько минут.',\n    we_have_not : 'Это место мы ещё не успели изучить',\n    noname: 'Без названия',\n    'adm_div.place': 'Место',\n    'adm_div.division': 'Округ',\n    'adm_div.settlement': 'Населенный пункт',\n    street: 'Улица',\n    'adm_div.district': 'Район',\n    'adm_div.city': 'Город',\n    go_to: 'Проехать сюда',\n    show_organization_in_building: ['Всего {n} организация', 'Всего {n} организации', 'Всего {n} организаций'],\n    show_more_about_sight: 'Подробнее',\n    back_button: 'Назад',\n    n_floors: ['{n} этаж', '{n} этажа', '{n} этажей']\n}, DG.Dictionary.ru);\n\nDG.Geoclicker.Handler.Default.Dictionary.en = DG.extend({\n    apiErrorTitle: 'Oops! Error detected.',\n    apiErrorBody: 'Our servers are not responding. We are doing our best to straighten them out. Please return to us in a few minutes.',\n    we_have_not: 'We haven\\'t collected info about this place yet',\n    noname : 'No name',\n    'adm_div.place' : 'Place',\n    'adm_div.division' : 'Area',\n    'adm_div.settlement' : 'Village',\n    street : 'Street',\n    'adm_div.district' : 'District',\n    'adm_div.city' : 'City',\n    go_to : 'Directions to here',\n    show_organization_in_building : ['{n} organization total', '{n} organizations total'],\n    back_button : 'Back',\n    show_more_about_sight : 'More information',\n    n_floors : ['{n} floor', '{n} floors']\n}, DG.Dictionary.en);\n\nDG.Geoclicker.Handler.Default.Dictionary.cs = DG.extend({\n    apiErrorTitle: 'Chybička se&nbsp;vloudila',\n    apiErrorBody: 'Naše servery odmítají reagovat. Již nyní vynakládáme veškeré úsilí, abychom je přivedli k rozumu. Zkuste akci opakovat za několik minut.',\n    we_have_not : 'O tomto místě zatím nemáme informace',\n    noname : 'Bez názvu',\n    'adm_div.place' : 'Místo',\n    'adm_div.division' : 'Správní obvod',\n    'adm_div.settlement' : 'Obec',\n    street : 'Ulice',\n    'adm_div.district' : 'Městská část',\n    'adm_div.city' : 'Město',\n    go_to : 'Cesta sem',\n    show_organization_in_building : ['Celkem {n} organizace', 'Celkem {n} organizace', 'Celkem {n} organizací'],\n    back_button : 'Zpět',\n    show_more_about_sight : 'Více',\n    n_floors : ['{n} patro', '{n} patra', '{n} pater']\n}, DG.Dictionary.cs);\n\nDG.Geoclicker.Handler.Default.Dictionary.es = DG.extend({\n    apiErrorTitle: 'Vaya, ha ocurrido un error',\n    apiErrorBody: 'Nuestros servidores se niegan a responder. Ya nos estamos esforzando por hacerlos entrar en razón. Vuelva con nosotros pasados unos minutos.',\n    we_have_not : 'Todavía no hemos recopilado la información sobre este lugar',\n    noname : 'Sin nombre',\n    'adm_div.place' : 'Lugar',\n    'adm_div.division' : 'Comuna',\n    'adm_div.settlement' : 'Población',\n    street : 'Calle',\n    'adm_div.district' : 'Comuna',\n    'adm_div.city' : 'Ciudad',\n    go_to : 'Ir para allá',\n    show_organization_in_building : ['Total {n} organización', 'Total {n} organizaciones', 'Total {n} organizaciones'],\n    show_more_about_sight : 'Read more',\n    back_button: 'Atrás',\n    n_floors : ['{n} piso', '{n} pisos']\n}, DG.Dictionary.es);\n\nvar FirmCard = function (firm, options) {\n    this._setOptions(options);\n    this._firmContentObject = {};\n    this._schedule = new FirmCard.Schedule({\n        localLang: this.options.lang,\n        dict: this.dict\n    });\n\n    this.render(firm);\n};\n\nFirmCard.prototype = {\n\n    render: function (firmId) {\n        if (!firmId) { return; }\n\n        if (firmId !== this._firmId) {\n            this._firmContentObject = {};\n            this._renderCardById(firmId);\n        } else {\n            this._toggleEventHandlers();\n        }\n\n        return this._firmContentObject;\n    },\n\n    getSchedule: function () {\n        return this._schedule;\n    },\n\n    getContainer: function () {\n        return this._container;\n    },\n\n    _renderCardById: function (firmId) {\n        var self = this;\n\n        this.options.ajax(firmId).then(function (res) {\n            if (!res) { return false; }\n            var data = res.result.items;\n            if (data !== 'undefined') {\n                self._firmData = data[0];\n\n                // Support for old WebAPI format.\n                // TODO: remove this call after WebAPI release\n                self._convertWebsite();\n\n                self._firmId = firmId;\n                self._renderFirmCard();\n                self._toggleEventHandlers();\n            }\n        }, function (error) {\n            self._renderError();\n        });\n    },\n\n    _createFirmContainer: function () {\n        var firm = document.createElement('div');\n        firm.setAttribute('id', 'dg-map-firm-full-' + this._firmId);\n        firm.setAttribute('class', 'dg-map-firm-full');\n\n        return firm;\n    },\n\n    _getPaymentTypes: function (data) {\n        var result = [],\n            groupName = 'general_payment_type';\n\n        if (!data.attribute_groups) {\n            return result;\n        }\n\n        data.attribute_groups.forEach(function (group) {\n            if (group.name) {\n                return;\n            }\n\n            group.attributes.forEach(function (attr) {\n                if (attr.tag.substring(0, groupName.length) === groupName) {\n                    result.push(attr.name);\n                }\n            });\n        });\n\n        return result;\n    },\n\n    _groupRubrics: function (data) {\n        var result = {\n            primary: [],\n            additional: []\n        };\n\n        if (!data.rubrics || !data.rubrics.length) {\n            return result;\n        }\n\n        data.rubrics.forEach(function (rubric) {\n            result[rubric.kind].push(rubric);\n        });\n\n        return result;\n    },\n\n    // Support for old WebAPI format.\n    // TODO: remove this function after WebAPI release\n    _convertWebsite: function () {\n        if (!this._firmData.contact_groups) {\n            return;\n        }\n\n        this._firmData.contact_groups.forEach(function (group) {\n            if (!group.contacts) {\n                return;\n            }\n\n            group.contacts.forEach(function (contact) {\n                if (contact.type != 'website') {\n                    return;\n                }\n\n                if (!contact.url) {\n                    contact.url = contact.value;\n                }\n            });\n        });\n    },\n\n    _renderFirmCard: function () {\n        var firmCardBody, schedule, forecast, links, btns, paymentTypes, rubrics,\n            data = this._firmData,\n            container = this._container = this._createFirmContainer();\n\n        schedule = this._schedule.transform(data.schedule, {\n            zoneOffset: this.options.timezoneOffset,\n            apiLang: this.options.lang,\n            localLang: this.options.lang\n        });\n\n        forecast = this._schedule.forecast(schedule);\n\n        paymentTypes = this._getPaymentTypes(data);\n        rubrics = this._groupRubrics(data);\n\n        firmCardBody = this._buildFirmCardBody(\n            this._getConfigFirmCardBody(data, schedule, forecast, paymentTypes, rubrics)\n        );\n\n        links = this._fillHeaderLinks();\n        btns = this._fillFooterButtons();\n\n        //fill object for view render\n        this._firmContentObject.header = this.options.render('firmCardHeader', {'firmName': data.name, 'links': links});\n        container.innerHTML = firmCardBody;\n        this._firmContentObject.tmpl = container;\n        if (btns.length) {\n            this._footerContainer = document.createElement('div');\n\n            this._footerContainer.innerHTML = this.options.render('popupFooterBtns', {'btns': btns});\n            this._firmContentObject.footer = this._footerContainer;\n        }\n\n        if (this.options.onFirmReady) {\n            this.options.onFirmReady(this._firmContentObject);\n        }\n    },\n\n    _renderError: function() {\n        this._firmContentObject.header = this.options.render('popupHeader', {\n            title: this.options.t('apiErrorTitle')\n        });\n\n        this._firmContentObject.tmpl = this.options.t('apiErrorBody');\n\n        if (this.options.onFirmReady) {\n            this.options.onFirmReady(this._firmContentObject);\n        }\n    },\n\n    _getConfigFirmCardBody: function (data, schedule, forecast, attributes, rubrics) {\n        return [\n            {\n                tmpl: 'firmCardAddr',\n                data: {\n                    address: data.address_name,\n                    comment: data.address_comment\n                }\n            },\n            {\n                tmpl: 'firmCardContacts',\n                data: {\n                    groups: data.contact_groups\n                }\n            },\n            {\n                tmpl: 'firmCardSchedule',\n                data: {\n                    schedule: schedule,\n                    forecast: forecast\n                }\n            },\n            {\n                tmpl: 'frimCardPayments',\n                data: {\n                    payments: attributes\n                }\n            },\n            {\n                tmpl: 'firmCardRubric',\n                data: {\n                    rubrics: rubrics\n                }\n            }\n        ];\n    },\n\n    _buildFirmCardBody: function (parts) {\n        var self = this;\n        return parts.reduce(function (body, item) {\n            var html = self.options.render(item.tmpl, item.data);\n            return body + html;\n        }, '');\n    },\n\n    _fillFooterButtons: function () {\n        var btns = [];\n\n        if (this.options.backBtn) {\n            btns.push({ name: 'firm-card-back',\n                        label: this.dict.t(this.options.lang, 'btnBack'),\n                        icon: true\n            });\n        }\n\n        if (this.options.showRouteSearch) {\n            btns.push({ name: 'goto',\n                        label: this.dict.t(this.options.lang, 'btnFindWay'),\n                        icon: true,\n                        href: this.options.gotoUrl\n            });\n        }\n\n        if (\n            this._firmData.links &&\n                this._firmData.links.entrances &&\n                this.options.showEntrance\n        ) {\n            btns.push({ name: 'show-entrance',\n                        label: this.dict.t(this.options.lang, 'btnEntrance'),\n                        icon: true\n            });\n        }\n\n        return btns;\n    },\n\n    _fillHeaderLinks: function () {\n        var links = [],\n            reviewData = this._firmData.reviews,\n            booklet,\n            link;\n\n        if (this._firmData.external_content) {\n            this._firmData.external_content.forEach(function (el) {\n                if (el && el.type == 'booklet') {\n                    booklet = el;\n                }\n            });\n        }\n\n        if (reviewData && reviewData.is_reviewable) {\n            links.push({\n                name: 'flamp_stars',\n                width: reviewData.rating * 20\n            });\n            links.push({\n                name: 'flamp_reviews',\n                label: this.dict.t(this.options.lang, 'linkReviews', reviewData.review_count ? reviewData.review_count : 0),\n                href: FirmCard.DataHelper.getFlampUrl(this._firmId)\n            });\n        }\n\n        // Retrieve photo data from external content block\n        var photos;\n        var externalContent = this._firmData.external_content;\n\n        for (var i = 0; i < externalContent.length; i++) {\n            if (\n                externalContent[i].type == 'photo_album' &&\n                externalContent[i].subtype == 'common'\n            ) {\n                photos = externalContent[i];\n                break;\n            }\n        }\n\n        if (!this.options.isMobile && photos && photos.count && this.options.showPhotos) {\n            link = L.Util.template(DG.config.photosLink, {\n                'id': this._firmId,\n                'domain': this.options.domain\n            });\n\n            links.push({name: 'photos',\n                href: link,\n                label: this.dict.t(this.options.lang, 'linkPhoto', photos.count)\n            });\n        }\n\n        if (!this.options.isMobile && booklet && booklet.url && this.options.showBooklet) {\n            links.push({\n                name: 'booklet',\n                href:  booklet.url,\n                label: this.dict.t(this.options.lang, 'linkBooklet')\n            });\n        }\n\n\n        return links;\n    },\n\n    _events: {\n        'dg-popup__button_name_firm-card-back': function() {\n            this.options.backBtn();\n            this._toggleEventHandlers(true);\n        },\n        'dg-popup__button_name_show-entrance': function() {\n            var ent = new this.options.showEntrance({'vectors': this._firmData.links.entrances[0].geometry.vectors});\n            ent.addTo(this.options.map);\n            ent.fitBounds();\n            this._toggleEventHandlers(true);\n        },\n        'dg-schedule__today': function() {\n            this._onToggleSchedule();\n        }\n    },\n\n    _toggleEventHandlers: function (flag) {\n        this.options.popup[flag ? 'off' : 'on']('click', this._onClick, this);\n        this.options.map[flag ? 'off' : 'on']('popupclose', this._onClose, this);\n    },\n\n    _onClick: function (e) {\n        var target = e.originalEvent.target;\n\n        for (var eventClass in this._events) {\n            if (this._events.hasOwnProperty(eventClass) && target.className.indexOf(eventClass) > -1) {\n                DG.DomEvent.preventDefault(e.originalEvent);\n                this._events[eventClass].call(this, target);\n                return;\n            }\n        }\n    },\n\n    _onClose: function (e) {\n        this._toggleEventHandlers(true);\n    },\n\n    _onToggleSchedule: function () {\n        var schedule = this._container.querySelector('.dg-schedule__table'),\n            forecast = this._container.querySelector('.dg-schedule__now'),\n            target = this._container.querySelector('.dg-schedule__today'),\n            showClass = ' dg-schedule__today_shown_true';\n\n        if (!schedule) { return; }\n\n        if (schedule.style.display === 'block') {\n            schedule.style.display = 'none';\n            forecast.style.display = 'block';\n            target.className = target.className.replace(showClass, '');\n        } else {\n            forecast.style.display = 'none';\n            schedule.style.display = 'block';\n            target.className += showClass;\n        }\n\n        if (this.options.onToggle) {\n            this.options.onToggle();\n        }\n    },\n\n    _setOptions: function (options) {\n        var option,\n            options = options || {};\n\n        this.options = options;\n        options.lang = options.lang || 'ru';\n\n        for (option in options) {\n            if (options.hasOwnProperty(option)) {\n                this.options[option] = options[option];\n            }\n        }\n    },\n\n    _hasTouch: function () {\n        return (('ontouchstart' in window) ||\n                (navigator.maxTouchPoints > 0) ||\n                (navigator.msMaxTouchPoints > 0));\n    }\n};\n\nFirmCard.DataHelper = {\n\tpayMethods : [\n\t\t'americanexpress',\n\t\t'cash',\n\t\t'dinersclub',\n\t\t'goldcrown',\n\t\t'internet',\n\t\t'mastercard',\n\t\t'noncash',\n\t\t'visa'\n\t],\n\n\t_msgs : {},\n\n\tgetFlampUrl : function (id) {\n\t    return DG.config.flampUrl.concat(id, '?', DG.config.flampGoogleAnalytics);\n\t},\n\n\tmsg : function (msg) {\n\t\tif (this._msgs.hasOwnProperty(msg)) {\n\t\t\treturn this._msgs[msg];\n\t\t}\n\t\tconsole && console.log(\"Cant't find translation for '\" + msg + \"'.\");\n\t\treturn msg.toString().replace('_', ' ');\n\t},\n\n\tgetProjectTime: function (timezoneOffset, time) {\n        var now, utc;\n\n        if (time) {\n            now = new Date(time);\n        } else {\n            now = new Date();\n        }\n\n        if (timezoneOffset) {\n            utc = now.getTime() + (now.getTimezoneOffset() * 60000);\n            return new Date(utc + (60000 * timezoneOffset));\n        } else {\n            return now;\n        }\n    }\n};\n\n/* global\n    FirmCard: false\n*/\n(function () {\n    FirmCard.List = function (firms, options) {\n        this._firms = {}; // {'firmID': firmDomObj}\n        this._setOptions(options);\n\n        this._container = options && options.container || document.createElement('ul');\n        this._container.setAttribute('class', 'dg-building-callout__list');\n\n        this._eventHandlersInited = false;\n        this._firmCard = this._createFirm();\n        this.renderList(firms);\n    };\n\n    FirmCard.List.prototype = {\n\n        renderList: function (firms) {\n            if (firms) {\n                this._toggleEventHandlers();\n                this.addFirms(firms);\n            }\n            if (this.options.onListReady) {\n                this.options.onListReady(this._container);\n            }\n\n            return this._container;\n        },\n\n        _processFirms: function (firms, action) {\n            if (!firms) { return; }\n            var method = '_' + action + 'Firm';\n            if (this._isArray(firms)) {\n                for (var i = 0, l = firms.length; i < l; i++) {\n                    this[method](firms[i]);\n                }\n            } else {\n                this[method](firms);\n            }\n\n        },\n\n        addFirms: function(firms) {\n            this._processFirms(firms, 'add');\n        },\n\n        removeFirms: function(firms) {\n            this._processFirms(firms, 'remove');\n        },\n\n        setLang: function (newLang) {\n            this.options.firmCard.lang = newLang;\n        },\n\n        getLang: function () {\n            return this.options.firmCard.lang;\n        },\n\n        getContainer: function () {\n            return this._container;\n        },\n\n        clearList : function () {\n            this._firms = {};\n            this._toggleEventHandlers(true);\n            this._clearContainer();\n        },\n\n        _removeFirm: function (id) {\n            if (!this._firms[id]) { return false; }\n            this._container.removeChild(this._firms[id]);\n            delete this._firms[id];\n        },\n\n        _addFirm: function (firmData) {\n            var tmpl = this.options.firmlistItemTmpl,\n                domFirm, firm, content;\n\n            firm = {\n                name: firmData.name,\n                id: firmData.id.split('_').slice(0, 1)\n            };\n\n            if (!(firm.id in this._firms)) {\n\n                domFirm = this._createListItem();\n\n                content = tmpl ? this.options.firmCard.render(tmpl, {'firm': firm}) : firm.name;\n\n                domFirm.insertAdjacentHTML('beforeend', content);\n\n                this._firms[firm.id] = domFirm;\n                this._container.appendChild(domFirm);\n            }\n        },\n\n        _createListItem: function () {\n            var item = document.createElement('li');\n            item.setAttribute('class', 'dg-building-callout__list-item');\n\n            return item;\n        },\n\n        _isArray: function (obj) {\n            return {}.toString.call(obj) === '[object Array]';\n        },\n\n        _createFirm: function (firmData) {\n            return new FirmCard(firmData, this.options.firmCard);\n        },\n\n        _isEmptyObj: function (obj) {\n            for (var prop in obj) {\n                if (obj.hasOwnProperty(prop)) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        _events: {\n            'dg-popup__link': function(target) {\n                var s = this._firmCard.render(target.id);\n\n                this.options.firmCard[this._isEmptyObj(s) ? 'pasteLoader' : 'onFirmReady'](s);\n\n                this.options.firmCard.onFirmClick && this.options.firmCard.onFirmClick();\n\n                this._toggleEventHandlers(true);\n            },\n            'dg-building-callout__list-item': function(target) {\n                target = target.children[0];\n\n                this._events['dg-popup__link'].call(this, target);\n            },\n            'dg-popup__button_name_back': function() {\n                this.options.firmCard.onShowLess();\n\n                this._toggleEventHandlers(true);\n            }\n        },\n\n        _toggleEventHandlers : function (flag) {\n            this.options.firmCard.popup[flag ? 'off' : 'on']('click', this._onClick, this);\n        },\n\n        _onClick: function (e) {\n            var target = e.originalEvent.target;\n\n            for (var eventClass in this._events) {\n                if (this._events.hasOwnProperty(eventClass) && target.className.indexOf(eventClass) > -1) {\n                    DG.DomEvent.preventDefault(e.originalEvent);\n                    this._events[eventClass].call(this, target);\n                    return;\n                }\n            }\n        },\n\n        _clearContainer: function () {\n            var container = this._container;\n\n            while (container.hasChildNodes()) {\n                container.removeChild(container.firstChild);\n            }\n        },\n\n        _setOptions: function (options) {\n            options || (options = {});\n            this.options = options;\n            this.options.firmCard || (this.options.firmCard = {});\n\n            if (!options.firmCard.lang) {\n                this.options.firmCard.lang = 'ru';\n            }\n\n            for (var option in options) {\n                if (options.hasOwnProperty(option)) {\n                    this.options[option] = options[option];\n                }\n            }\n        }\n    };\n})();\n\n/*global\n    FirmCard:false\n*/\nFirmCard.Schedule = function (options) {\n    options = options || {};\n\n    this.localLang = options.localLang || 'ru';\n    this.dict = options.dict;\n    return this;\n};\n\nFirmCard.Schedule.prototype = {\n\n    setLang: function (lang) {\n        this.localLang = lang || 'ru';\n        return this;\n    },\n\n    transform: function (model, params) {\n        if (!model) {\n            return;\n        }\n        params = params || {};\n\n        function bind(fn, obj) { // (Function, Object) -> Function\n            var args = arguments.length > 2 ? Array.prototype.slice.call(arguments, 2) : null;\n            return function () {\n                return fn.apply(obj, args || arguments);\n            };\n        }\n\n        var todayKey, // Mon, Tue ...\n            today, // Объект модели - текущий день недели\n            from, // Самое раннее время открытия за день\n            to, // Самое позднее время закрытия за день\n            zoneOffset = params.zoneOffset || 0,\n            schedule = {}, // Объект-расписание, формируемый под шаблон\n            now = params.now || FirmCard.DataHelper.getProjectTime(zoneOffset).getTime(), // Current timestamp in milliseconds\n            weekKeys = [], // Ключи дней недели, определяют порядок дней и первый день недели. 0 - первый день недели в регионе (не обязательно Mon)\n            weekKeysLocal = [],\n            weekFullKeysLocal = [],\n            weekKeysShort =  [ 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun' ],\n            weekKeysFull = ['monday','tuesday','wednesday','thursday','friday','saturday','sunday'],\n            localLang = params.localLang || this.localLang,\n            localWorkingDays = params.localWorkingDays || [0, 1, 1, 1, 1, 1, 0],\n            firstdayOffset = params.firstdayOffset || 1,\n            minHoursToDisplayClosure = params.minHoursToDisplayClosure || 4,\n            t = bind(this.dict.t, this.dict);\n\n\n        function capitaliseFirstLetter(string) {\n            return string.charAt(0).toUpperCase() + string.slice(1);\n        }\n\n        function getHours(str) {\n            return str.substr(0, 2);\n        }\n\n        function getMinutes(str) {\n            return str.substr(3, 2);\n        }\n\n        // Конвертация временной точки формата апи в формат отображения (25:00 -> 01:00)\n        function formatTime(str) {\n            var hours = +getHours(str) % 24 + '';\n\n            if (hours.length === 1) {\n                hours = '0' + hours;\n            }\n\n            return hours + ':' + getMinutes(str);\n        }\n\n        // Конвертация int числа в номер дня недели (диапазон 0-6)\n        // отрицательные чила: -1 вернёт 6, -2 -> 5 и т.д\n        // положительные: 7 -> 0, 8 -> 1\n        function dayNum(n) {\n            return (n + 70) % 7;\n        }\n\n\n        /* jshint ignore:start */\n        // Возвращает последний элемент массива\n        // Взято из Underscore.js http://underscorejs.org/#last\n        function getArrayLast(arr, n) {\n            if ( arr == null ) return void 0;\n            if (   n == null ) return arr[ arr.length - 1 ];\n            return slice.call( arr, Math.max(arr.length - n , 0) );\n        }\n\n\n        // Выполняет глубокое сравнение объектов\n        // Взято из Underscore.js http://underscorejs.org/#isEqual\n        // Упрощено для тех трёх сравнений, которые выполняются в Shedule.js\n        function isEqual(obj1, obj2) {\n            if ( obj1 === obj2 ) return true;\n            if ( ! ( obj1 instanceof Object ) || ! ( obj2 instanceof Object ) ) return false;\n            if ( obj1.constructor !== obj2.constructor ) return false;\n            for ( var prop in obj1 ) {\n                if ( ! obj1.hasOwnProperty( prop ) ) continue;\n                if ( ! obj2.hasOwnProperty( prop ) ) return false;\n                if ( obj1[ prop ] === obj2[ prop ] ) continue;\n                if ( typeof( obj1[ prop ] ) !== \"object\" ) return false;\n                if ( ! isEqual( obj1[ prop ],  obj2[ prop ] ) ) return false;\n            }\n            for ( prop in obj2 ) {\n            if ( obj2.hasOwnProperty( prop ) && ! obj1.hasOwnProperty( prop ) ) return false;\n            }\n\n            return true;\n        }\n\n        // Generate an integer Array containing an arithmetic progression. A port of\n        // the native Python `range()` function. See\n        // [the Python documentation](http://docs.python.org/library/functions.html#range).\n        function range(start, stop, step) {\n        if (arguments.length <= 1) {\n            stop = start || 0;\n            start = 0;\n        }\n        step = arguments[2] || 1;\n\n        var length = Math.max(Math.ceil((stop - start) / step), 0);\n        var idx = 0;\n        var range = new Array(length);\n        while(idx < length) {\n            range[idx++] = start;\n            start += step;\n        }\n\n        return range;\n        }\n\n\n        //Заполняет свойства объекта значениями по умолчанию\n        //Взято из Underscore.js http://underscorejs.org/#defaults\n        function fillDefaults(obj) {\n         var args = Array.prototype.slice.call(arguments, 1);\n         args.forEach(function(source) {\n            if (source) {\n                for (var prop in source) {\n                    if (obj[prop] === void 0) obj[prop] = source[prop];\n                }\n            }\n        });\n        return obj;\n        }\n\n        //Сортирует значения согласно с итератором\n        //Взято с Underscore.js http://underscorejs.org/#sortBy\n        function sortBy(obj, iterator){\n            return pluck(obj.map( function(value, index, list) {\n                return {\n                        value: value,\n                        index: index,\n                        criteria: iterator.call(this, value, index, list)\n                        };\n                }).sort(function(left, right) {\n                        var a = left.criteria;\n                        var b = right.criteria;\n                        if (a !== b) {\n                        if (a > b || a === void 0) return 1;\n                        if (a < b || b === void 0) return -1;\n                        }\n                return left.index - right.index;\n                }), 'value');\n        }\n\n        /* jshint ignore:end */\n\n        function pluck(arr, key){\n            var i, rv = [];\n            for (i = 0; i < arr.length; ++i) {\n            rv[i] = arr[i][key];\n            }\n            return rv;\n        }\n\n\n        // Преобразовать расписание на день в упорядоченный массив временных отсечек (string)\n        // Сейчас полагается, что API уже выдаёт сортированный массив\n        function getSortedTimePoints(day) {\n            var points = [],\n                from, to,\n                deltaHours, deltaMinutes;\n\n            if (!day || !day.working_hours) {\n                return [];\n            }\n\n            for (var i = 0 ; i < day.working_hours.length ; i++) {\n                from = day.working_hours[i].from;\n                to = day.working_hours[i].to;\n\n                deltaHours = getHours(to) - getHours(from);\n                deltaMinutes = getMinutes(to) - getMinutes(from);\n                if (deltaHours < 0 || (deltaHours === 0 && deltaMinutes <= 0)) { // Если \"до\" меньше или равно \"от\" - значит указывает на завтра\n                    to = (+getHours(to) + 24) + ':' + getMinutes(to); // (01:00 -> 25:00)\n                }\n\n                points[i * 2] = {\n                    time: from,\n                    type: 'open'\n                };\n                points[i * 2 + 1] = {\n                    time: to,\n                    type: day.working_hours.length - 1 === i ? 'close' : 'lunch'\n                };\n            }\n\n            return points;\n        }\n\n        // Возвращает массив timestamp всех точек, всех дней недели, от сегодняшнего и в будущее\n        // Например, сегодня среда, отсечки будут взяты для дат со среды (сегодня) по следующий вторник включительно\n        function getTimeStamps(model) {\n            var timestamps = [],\n                out = [],\n                timePoints,\n                num = weekKeys.indexOf(todayKey); // Номер сегодняшнего дня недели (для данного региона)\n\n\n            // Цикл по дням недели начиная с сегодняшнего\n            var j; // Номер текущего дня в массиве weekKeys\n            for (var i = 0 ; i < 7 ; i++) {\n                j = dayNum(num + i);\n                timePoints = getSortedTimePoints(model[weekKeys[j]]);\n                // Цикл по точкам времени с конвертацией в timestamp\n                timePoints.forEach(\n                    /* jshint -W083 */\n                    function (point) {\n                    // now - обязательно! иначе будет браться текущий timestamp что чревато несовпадениями при медленном быстродействии\n                    // Вычислить таймстемп для данного дня недели, часа и минуты, в будущем, но ближайший к now\n                    var tsp = new Date(now);\n                    tsp.setDate(tsp.getDate()+i);\n                    tsp.setHours(getHours(point.time));\n                    tsp.setMinutes(getMinutes(point.time));\n                    var ts = tsp.getTime();\n\n\n\n                    timestamps.push({\n                        ts: ts,\n                        type: point.type\n                    });\n\n                    if (timestamps[timestamps.length - 1] && timestamps[timestamps.length - 2]) {\n                        // Парно удаляем совпадающие точки (они не имеют смысла - это сегодня 24:00 и завтра 00:00)\n                        if (timestamps[timestamps.length - 1].ts === timestamps[timestamps.length - 2].ts) {\n                            timestamps.pop();\n                            timestamps.pop();\n                        }\n                    }\n\n                    if (timestamps[timestamps.length - 1] && timestamps[timestamps.length - 2]) {\n                        // Парно переносим точки в будущее, если они обе в прошлом (первая точка ([0]) должна быть всегда открытием!)\n                        if (timestamps[timestamps.length - 1].ts <= now && timestamps[timestamps.length - 2].ts <= now) {\n                            timestamps[timestamps.length - 1].ts += (7 * 24 * 60 * 60 * 1000);\n                            timestamps[timestamps.length - 2].ts += (7 * 24 * 60 * 60 * 1000);\n                        }\n                    }\n                }\n                /* jshint +W083 */\n                );\n            }\n\n            // Сортируем на возрастание, ведь возможно были переносы в будущее\n            timestamps = sortBy(timestamps, function (timestamp) { return timestamp.ts; });\n\n            // Удаляем попарно совпадающие точки времени\n            i = 0;\n            while (i < timestamps.length) {\n                if (timestamps[i + 1] && timestamps[i].ts === timestamps[i + 1].ts) {\n                    i++;\n                } else {\n                    out.push(timestamps[i].ts);\n                }\n                i++;\n            }\n\n            // Проверка на ежедневно-круглосуточность\n            if (out.length === 2 && (out[1] - out[0]) === (7 * 24 * 60 * 60 * 1000)) {\n                return [];\n            }\n\n            return timestamps;\n        }\n\n        function whenOpenInverse(h, d, num) {\n            if (d === 1 && h > minHoursToDisplayClosure ) {\n                return t(localLang, 'tommorow');\n            } else if (d > 1) {\n                /* jshint -W015 */\n                switch (num) {\n                    case 0: return t(localLang, 'nextSun');\n                    case 1: return t(localLang, 'nextMon');\n                    case 2: return t(localLang, 'nextTue');\n                    case 3: return t(localLang, 'nextWed');\n                    case 4: return t(localLang, 'nextThu');\n                    case 5: return t(localLang, 'nextFri');\n                    case 6: return t(localLang, 'nextSat');\n                }\n                /* jshint +W015 */\n            }\n\n            return;\n        }\n\n\n        //Возвращает интервал в целых днях, с поправкой на смену дня в полночь, между\n        // @param timestampEnd и @param dateStart\n        function dayInterval(timestampEnd, dateStart) {\n\n            var oneDay = 1000 * 60 * 60 * 24,\n                dateEnd = new Date(timestampEnd.ts);\n\n            var diff;\n\n            diff = Math.round((dateEnd - dateStart) / oneDay);\n\n            if( timestampEnd.type==='open' && dateEnd.getHours() < 1 )\n                { diff ++; }\n\n            return diff;\n        }\n\n\n        // Поместить данные в объект для шаблона о сегодняшнем дне\n        function setTodayString(today) {\n\n            var timePoints,\n                periods = [],\n                timestamps;\n\n            schedule.now = {};\n\n            // Timestamps всех отсечек\n            timestamps = getTimeStamps(model);\n\n            if (!timestamps.length) {\n                schedule.always = true; // Работает ежедневно круглосуточно\n                schedule.now.open = true;\n            }\n\n\n            for (var i = 0 ; i < timestamps.length ; i++) {\n                // Попали между точками i-1 и i // Мы находимся заведомо в будущем относительно 1\n                if (now >= (timestamps[i - 1] && timestamps[i - 1].ts || 0) && now < timestamps[i].ts) {\n                    var h = Math.floor((timestamps[i].ts - now) / (1000 * 60 * 60)), // Количество часов до следующего timestamp\n                        m = Math.floor((timestamps[i].ts - now) / (1000 * 60) - h * 60), // Количество минут (без часов) до следующего timestamp\n                        dayNow = new Date(now),\n\n                        // открыто если следующая итерация не открытие\n                        nowIsOpen = timestamps[i].type !== 'open';\n\n                        //var d = dayOfYear(dayTs) - dayOfYear(dayNow);\n                        //var d = dayInterval(dayTs, dayNow, nowIsOpen);\n                        var d = dayInterval(timestamps[i], dayNow);\n\n\n\n                    // округляем минуты до кратных 5\n                    m = Math.floor(m / 10) * 10 ? Math.floor(m / 10) * 10 : 5;\n\n                    schedule.now.open = nowIsOpen;\n                    schedule.now.lunch = !!(timestamps[i - 1] && timestamps[i - 1].type === 'lunch' || getArrayLast(timestamps).type === 'lunch');\n\n                    schedule.will = {\n                        willType: timestamps[i].type,\n                        d: d,\n                        h: h,\n                        m: m\n                    };\n\n                    // Когда закроется или откроется\n                    var willWhen = new Date(timestamps[i].ts);\n                    schedule.will.when = whenOpenInverse(h, d, willWhen.getDay());\n\n\n                    var willTill = new Date(timestamps[i].ts),\n                        strHours = willTill.getHours(),\n                        strMinutes = willTill.getMinutes();\n\n                    if (strHours < 10) { strHours = '0' + strHours; }\n                    if (strMinutes < 10) { strMinutes = '0' + strMinutes; }\n\n                    schedule.will.till = strHours+':'+strMinutes;\n                }\n            }\n\n            if (!today) {\n                return; // На сегодня расписания нет - сейчас закрыто\n            }\n\n            timePoints = pluck(getSortedTimePoints(today), 'time');\n\n            // Цикл по периодам работы за день\n            for (i = 2 ; i < timePoints.length ; i = i + 2) {\n                periods.push({ from: timePoints[i - 1], to: timePoints[i] });\n            }\n\n            from = formatTime(timePoints[0]);\n            to = formatTime(timePoints[timePoints.length - 1]);\n\n            if (from === to) { // Круглосуточно\n                schedule.today = {\n                    alltime: true,\n                    alltimeStr: t(localLang, 'worksAroundTheClock'),\n                    from: '00:00',\n                    to: '24:00'\n                };\n            } else { // От from до to\n                schedule.today = {\n                    from: from,\n                    to: to\n                };\n            }\n\n            if (periods.length > 0) { // Перерывы на обед\n                schedule.lunch = periods;\n                schedule.lunchStr = t(localLang, 'lunch');\n            }\n        }\n\n        // Формирование объекта-таблицы-расписания для шаблона\n        function makeTable() {\n            var column = [],\n                hasLunch = false;\n\n            for (var j = 0 ; j < 7 ; j++) {\n                var dayKey = weekKeys[j],\n                    lunchMaxLength = 0;\n\n                column[j] = {};\n\n                if (model[dayKey]) {\n                    var day = model[dayKey],\n                        timePoints = pluck(getSortedTimePoints(day), 'time'),\n                        lunch = []; // Отрезки времени (отсортированные моменты) на обеды\n\n                    // Цикл по периодам работы за день\n                    for (var i = 2 ; i < timePoints.length ; i = i + 2) {\n                        hasLunch = true;\n                        lunch.push({ from: timePoints[i - 1], to: timePoints[i] });\n                    }\n                    lunchMaxLength = Math.max(timePoints.length / 2, lunchMaxLength);\n\n                    column[j] = {\n                        from: formatTime(timePoints[0]),\n                        to: formatTime(timePoints[timePoints.length - 1]),\n                        lunch: lunch\n                    };\n                }\n\n                if (dayKey === todayKey) { // Сегодняшний день надо подсветить\n                    column[j].active = true;\n                }\n\n                column[j].key = weekKeysLocal[j];\n            }\n\n            // Дополнение пустыми объектами массивов lunch\n            column.forEach( function (col) {\n                if (col.lunch) {\n                    fillDefaults(col.lunch, range(1, lunchMaxLength));\n                }\n            });\n\n            return {\n                table: column,\n                hasLunch: hasLunch\n            };\n        }\n\n        // Сгенерировать строку для всех дней model, совпадающих с day\n        function makeSimpleString(day, model) {\n            var points,\n                out = {\n                    dayList: [],\n                    lunch: []\n                },\n                lunchesTime = [];\n\n            if (day && day.working_hours && day.working_hours.length) {\n                points = pluck(getSortedTimePoints(day), 'time');\n                points.forEach( function (point, key) {\n                    if (key === 0) {\n                        out.from = formatTime(point);\n                    } else if (key === points.length - 1) {\n                        out.to = formatTime(point);\n                    } else {\n                        lunchesTime.push(formatTime(point));\n                    }\n                });\n                for (var i = 0; i < lunchesTime.length; i += 2) {\n                    out.lunch.push({\n                        from: lunchesTime[i],\n                        to: lunchesTime[i + 1],\n                        lunchStr: capitaliseFirstLetter(t(localLang, 'lunch'))\n                    });\n                }\n\n                if (out.from == '00:00' && out.to == '00:00') {\n                    out.to = '24:00';\n                }\n\n                if (day.round_the_clock) {\n                    out.alltime = true;\n                    out.alltimeStr = t(localLang, 'worksAroundTheClock');\n                }\n            } else { // Выходной\n                out.holiday = true;\n            }\n\n            // Формируем список дней на локальном языке\n            var groupWorkingDays = [0, 0, 0, 0, 0, 0, 0]; // Флаги работы фирмы в дни текущей группы\n            var flow = 0;\n\n            weekKeys.forEach( function (dayKey, numKey) { // 'Mon', 0\n                if (isEqual(model[dayKey], day) || (!model[dayKey] && day === null)) {\n                    out.dayList.push(weekFullKeysLocal[numKey]);\n                    groupWorkingDays[dayNum(numKey + firstdayOffset)] = 1;\n                    flow++;\n                } else {\n                    if (flow > 2) { // Более 2 дней подряд\n                        var lastDay = out.dayList.pop();\n\n                        for (var i = 1 ; i < flow - 1 ; i++) {\n                            out.dayList.pop();\n                        }\n\n                        out.dayList[out.dayList.length - 1] += ' — ' + lastDay;\n                    }\n\n                    flow = 0;\n                }\n            });\n\n            // Список дней в данной группе идентичен списку будних дней, значит можно заменить словом \"Будни\"\n            out.budni = isEqual(localWorkingDays, groupWorkingDays);\n            // Список рабочих дней - все дни недели, значит нужно выводить фразу \"Ежедневно\"\n            out.everyday = ( Math.min.apply(Math, groupWorkingDays) === 1 );\n\n            if ( out.holiday ) { out.holidayStr = t(localLang, 'restDay', out.dayList.length).slice(2); }\n\n            // Делаем из массива строку и поднимаем первый символ\n            out.dayList = out.dayList.join(', ');\n            out.dayList = out.dayList.charAt(0).toUpperCase() + out.dayList.slice(1);\n\n\n            return out;\n        }\n\n        // Возвращает массив simple строк на основе массива дней days\n        function makeAdvancedString(days, model) {\n            var out = [];\n\n            for (var i = days.length - 1 ; i >= 0 ; i--) {\n                out.push(makeSimpleString(days[i], model));\n            }\n\n            return out;\n        }\n\n        // Заполняем названия дней недели, 1 - понедельник. В заполненных массивах понедельник это 0\n\n        for (var i = 0 ; i < 7 ; i++) {\n            weekKeys[i] = weekKeysShort[i];\n            weekKeysLocal[i] = this.dict.t(localLang, weekKeysShort[i].toLowerCase());\n            weekFullKeysLocal[i] = this.dict.t(localLang, weekKeysFull[i]);\n        }\n\n        // Вычисляем сегодняшний день недели (ссылку на объект дня в модели)\n        todayKey = weekKeysShort[dayNum(new Date(now).getDay() - firstdayOffset)];\n        today = model[todayKey]; // Объект расписания - текущий день недели\n        setTodayString(today); // Сделать объект для шаблона - строка, которая описывает время работы сегодня\n\n        // Находим количество разных расписаний и сохраняем их в массив\n        var apiDifferentDays = [], // Массив различающихся дней из модели\n            apiScheduleDaysCount = 0, // Количество описанных дней в расписании модели\n            apiDifferentDaysCount = 0, // Количество разных дней в расписании модели\n            differentWorkingHoursCount = []; // Количество рабочих часов в разных днях\n\n        Object.keys(model).forEach( function(day) {\n            if (model[day] && model[day].working_hours) { // Проверяем что это день, а не комментарий или что-то ещё\n                apiScheduleDaysCount++;\n                if (!isEqual(model[day], getArrayLast(apiDifferentDays))) {\n                    apiDifferentDays.push(model[day]);\n                }\n            }\n        });\n\n        apiDifferentDaysCount = apiDifferentDays.length;\n        // Если не все дни описаны в модели, значит есть ещё один тип дней - выходной (отсутствущий в модели)\n        if (apiScheduleDaysCount < 7) {\n            apiDifferentDaysCount++;\n        }\n\n        // Если разных более 2, то упростить не получится - делаем таблицу\n        if (apiDifferentDaysCount > 2) {\n            schedule.week = makeTable(model);\n        } else { // Иначе, составляем комментарий из двух строк\n\n            // Случай, когда все одинаковые\n            if (apiDifferentDaysCount === 1) {\n                schedule.week = {\n                    evently: [makeSimpleString(model[weekKeys[0]], model)]\n                };\n            } else { // Остаётся случай, когда есть два типа дней\n                // Определяем день с наибольшим количеством рабочих часов из числа разных дней\n                for (i = 0 ; i < apiDifferentDaysCount ; i++) {\n                    differentWorkingHoursCount[i] = 0;\n\n                    if (apiDifferentDays[i]) {\n                        var points = pluck(getSortedTimePoints(apiDifferentDays[i]), 'time');\n\n                        for (var j = 0 ; j < points.length ; j = j + 2) {\n                            var hours = (getHours(points[j + 1]) + getMinutes(points[j + 1]) / 60) - (getHours(points[j]) + getMinutes(points[j]) / 60);\n                            differentWorkingHoursCount[i] += hours;\n                        }\n                    } else { // Выходной\n                        apiDifferentDays[i] = null;\n                    }\n                }\n\n                var apiSortedDifferentDays = sortBy(apiDifferentDays, function (day, key) {\n                    return differentWorkingHoursCount[key];\n                });\n\n                schedule.week = {\n                    evently: makeAdvancedString(apiSortedDifferentDays, model)\n                };\n            }\n        }\n\n        schedule.comment = model.comment;\n        if (schedule.week && schedule.week.evently && schedule.week.evently.length === 1) {\n            schedule.everyday = schedule.week.evently[0].everyday;\n        }\n        return schedule;\n    },\n\n    forecast: function (schedule, params) {\n        var interval = '',\n        open,\n        today = {},\n        nowText,\n        maxHours = params && params.maxHours || 1;\n\n        if (!schedule) {\n            return {};\n        }\n\n        if (schedule.always) { // Круглосуточно ежедневно - более ничего выводить не нужно\n            return {\n                today: {\n                    text: this.dict.t(this.localLang, 'aroundTheClock')\n                },\n                open: true\n            };\n        }\n\n        // Формируем строку - через сколько произойдёт следующая инверсия открытости\n        if (schedule.will && schedule.will.h < maxHours) {\n            if (schedule.will.h) {\n                interval += this.dict.t(this.localLang, 'nHours', schedule.will.h) + ' ';\n            }\n\n            if (schedule.will.m) {\n                interval += this.dict.t(this.localLang, 'nMins', schedule.will.m);\n            }\n        }\n\n        // Данные на сегодня\n        if (schedule.today) {\n            today.text = this.dict.t(this.localLang, 'today');\n            if (schedule.everyday) {\n                today.text = this.dict.t(this.localLang, 'everyday');\n            }\n            today.from = schedule.today.from;\n            today.to = schedule.today.to;\n            today.lunch = schedule.lunch;\n            if (today.lunch) {\n                today.lunchStr = this.dict.t(this.localLang, 'lunch');\n            }\n        } else {\n            today.text = this.dict.t(this.localLang, 'todayIsRestDay');\n        }\n\n        // Текущий статус и прогноз\n        if (schedule.always) { // Если круглосуточно, ничего кроме \"Круглосуточно\" выводить не нужно\n            today.text = this.dict.t(this.localLang, 'aroundTheClock');\n            open = true;\n        } else if (schedule.now) {\n            open = schedule.now.open;\n            if (open) { // открыто\n                if (schedule.will && schedule.will.willType === 'lunch') {\n                    // далее - закрытие на обед\n                    if (schedule.will && schedule.will.h < maxHours) {\n                        // менее maxHours до закрытия  на обед\n                        nowText = this.dict.t(this.localLang, '_in') + ' ' + this.dict.t(this.localLang, 'nMins', interval) + this.dict.t(this.localLang, 'isClosingOnDinner');\n                    } else {\n                        // больше maxHours до закрытия  на обед\n                        nowText = this.dict.t(this.localLang, 'isOpen');\n                    }\n\n                } else {\n                    // далее просто закрытие\n                    if (schedule.will.h < maxHours) {\n                        // менее maxHours до закрытия просто\n                        nowText = this.dict.t(this.localLang, 'closeIn') + this.dict.t(this.localLang, 'nMins', interval);\n                    } else {\n                        // больше maxHours до закрытия просто\n                        nowText = this.dict.t(this.localLang, 'isOpen');\n                    }\n                }\n            } else { // закрыто\n                if (schedule.will && schedule.will.when) {\n                    // откроется не сегодня\n                    nowText = this.dict.t(this.localLang, 'open') + schedule.will.when;\n                } else {\n                    // откроется сегодня\n                    if (schedule.now && schedule.now.lunch) {\n                        // сейчас обед\n                        if (schedule.will.h < maxHours) {\n                            // менее maxHours до открытия с обеда\n                            nowText = this.dict.t(this.localLang, 'Lunch') + this.dict.t(this.localLang, 'openIn') + this.dict.t(this.localLang, 'nMins', interval);\n                        } else {\n                            // больше maxHours до открытия с обеда\n                            nowText = this.dict.t(this.localLang, 'Lunch') + this.dict.t(this.localLang, 'openAt') + schedule.will.till;\n                        }\n                    } else {\n                        // просто закрыто\n                        if (schedule.will && schedule.will.h < maxHours) {\n                            // менее maxHours до открытия просто\n                            nowText = this.dict.t(this.localLang, 'openIn') + this.dict.t(this.localLang, 'nMins', interval);\n                        } else {\n                            // больше maxHours до открытия просто\n                            nowText = this.dict.t(this.localLang, 'openAt') + schedule.will.till;\n                        }\n                    }\n                }\n            }\n        }\n\n        return {\n            today: today,\n            now: nowText,\n            open: open,\n            week: schedule.week,\n            comment: schedule.comment,\n            everyday: schedule.everyday\n        };\n    }\n};\n\n/*global\n    FirmCard:false\n*/\n// FirmCard.dictionary = {};\n\nFirmCard.prototype.dict = {\n\n    t: function (lang, msg, argument) { // (String, Number) -> String\n        var result,\n            msgIsset = false,\n            dictionaryMsg,\n            exp;\n\n        if (typeof this[lang] === 'undefined') {\n            if (lang === 'ar') {\n                lang = 'en';\n            } else {\n                lang = 'ru';\n            }\n        }\n        dictionaryMsg = this[lang][msg];\n        msgIsset = typeof dictionaryMsg !== 'undefined';\n        if (!msgIsset) {\n            return msg;\n        }\n        result = msgIsset ? dictionaryMsg : msg;\n\n        if (argument !== undefined) {\n            argument = parseInt(argument, 10);\n            argument = isNaN(argument) ? 0 : argument;\n            exp = this[lang].pluralRules(argument);\n            result = argument + ' ' + dictionaryMsg[exp];\n        }\n        return result;\n    },\n\n    ru: {\n        pluralRules: function (n) { // (Number)\n            if (n % 10 === 1 && n % 100 !== 11) { // 1, 21\n                return 0;\n            }\n            if ((n % 10 >= 2 && n % 10 <= 4 && (n % 10) % 1 === 0) && (n % 100 < 12 || n % 100 > 14)) { // 2, 3\n                return 1;\n            }\n\n            if ((n % 10 === 0) || (n % 10 >= 5 && n % 10 <= 9 && (n % 10) % 1 === 0) || (n % 100 >= 11 && (n % 100) <= 14 && (n % 100) % 1 === 0)) { // 13, 17\n                return 2;\n            }\n        },\n\n        btnBack: 'Назад',\n        btnFindWay: 'Проехать сюда',\n        btnEntrance: 'Найти вход',\n        linkReviews: ['отзыв', 'отзыва', 'отзывов'],\n        linkPhoto: ['фото', 'фото', 'фото'],\n        linkBooklet: 'Буклет',\n        tommorow: 'завтра',\n        afterTommorow: 'послезавтра',\n        afterWeek: 'через неделю',\n        nextSun: 'в воскресенье',\n        nextMon: 'в понедельник',\n        nextTue: 'во вторник',\n        nextWed: 'в среду',\n        nextThu: 'в четверг',\n        nextFri: 'в пятницу',\n        nextSat: 'в субботу',\n        willOpen: 'откроется',\n        willClose: 'закроется',\n        isOpen: 'Открыто',\n        openTill: 'Открыто до ',\n        closeIn: 'Закроется через ',\n        openAt: 'Откроется в ',\n        openIn: 'Откроется через ',\n        open: 'Откроется ',\n        nHours: ['час', 'часа', 'часов'],\n        nMins: ['минуту', 'минуты', 'минут'],\n        lunch: 'обед',\n        Lunch: 'Обед. ',\n        workingDays: 'Рабочие дни',\n        weekdays: 'Будние дни',\n        restDay: ['выходной', 'выходные','выходные'],\n        reviewsOnFlamp: 'Отзывы на Флампе',\n        writeReviewOnFlamp: 'Написать отзыв на Флампе',\n        payment: 'оплата',\n        everyday: 'Ежедневно c',\n        worksAroundTheClock: 'Работает круглосуточно',\n        aroundTheClock: 'Круглосуточно',\n        knowMore: 'узнать больше',\n        toClose: 'до закрытия',\n        monday: 'понедельник',\n        tuesday: 'вторник',\n        wednesday: 'среда',\n        thursday: 'четверг',\n        friday: 'пятница',\n        saturday: 'суббота',\n        sunday: 'воскресенье',\n        mon: 'пон',\n        tue: 'втр',\n        wed: 'срд',\n        thu: 'чтв',\n        fri: 'птн',\n        sat: 'сбт',\n        sun: 'вск',\n        toLunch: 'до обеда',\n        today: 'Сегодня',\n        lessThenHour: 'менее часа',\n        youCouldLate: 'вы можете не успеть',\n        workingTime: 'рабочее время',\n        showAllOrgInRubric: 'Показать все организации рубрики',\n        todayIsRestDay: 'Сегодня выходной',\n        internet: 'Оплата через Интернет',\n        noncash: 'Безналичный расчет',\n        goldcrown: 'Золотая Корона',\n        dinersclub: 'Diners Club',\n        mastercard: 'Mastercard',\n        maestrocard: 'MaestroCard',\n        visa: 'Visa',\n        cash: 'Наличный расчет',\n        americanexpress: 'American Express',\n        hour : 'час',\n        less: 'менее',\n        _in : 'Через',\n        isClosingOnDinner : ' закрывается на обед'\n    },\n\n    it: {\n        pluralRules: function (n) { // (Number)\n            if (n === 1) { // 1\n                return 0;\n            } else {\n                return 1; //0, 2, 3, 4 ..\n            }\n        },\n\n        btnBack: 'Indietro',\n        btnFindWay: 'Come arrivare ',\n        btnEntrance: 'Trova l\\'ingresso',\n        linkReviews: ['recensione', 'recensioni'],\n        linkPhoto: ['fotografia', 'fotografie'],\n        linkBooklet: 'Sull\\'azienda',\n        tommorow: 'domani',\n        afterTommorow: 'dopodomani',\n        afterWeek: 'tra una settimana',\n        nextSun: 'la domenica',\n        nextMon: 'il lunedi',\n        nextTue: 'il martedì',\n        nextWed: 'il mercoledì',\n        nextThu: 'il giovedi',\n        nextFri: 'il venerdì',\n        nextSat: 'il sabato',\n        willOpen: 'apre',\n        willClose: 'ciuso',\n        isOpen: 'Aperto',\n        openTill: 'Aperto fino alle ',\n        closeIn: 'Chiude tra ',\n        openAt: 'Apre alle ',\n        openIn: 'Apre tra ',\n        open: 'Apre ',\n        nHours: ['ora', 'ore'],\n        nMins: ['minuto', 'minuti'],\n        lunch: 'pausa pranzo',\n        Lunch: 'Pausa pranzo. ',\n        workingDays: 'Giorni feriali',\n        weekdays: 'Giorni feriali',\n        restDay: ['chiusura','chiusura'],\n        reviewsOnFlamp: 'Recensioni su Flamp',\n        writeReviewOnFlamp: 'Scrivi una recensione su Flamp',\n        payment: 'pagamento',\n        everyday: 'Ogni giorno dalole',\n        worksAroundTheClock: 'Operativo 24 ore su 24',\n        aroundTheClock: '24 ore su 24',\n        knowMore: 'ulteriori informazioni',\n        toClose: 'fino alla chiusura',\n        monday: 'lunedi',\n        tuesday: 'martedì',\n        wednesday: 'mercoledì',\n        thursday: 'giovedi',\n        friday: 'venerdì',\n        saturday: 'sabato',\n        sunday: 'domenica',\n        mon: 'lun',\n        tue: 'mar',\n        wed: 'mer',\n        thu: 'gio',\n        fri: 'ven',\n        sat: 'sab',\n        sun: 'dom',\n        toLunch: 'fino alla pausa pranzo',\n        today: 'Oggi',\n        lessThenHour: 'meno di un\\'ora',\n        youCouldLate: 'affrettarsi, chiusura imminente',\n        workingTime: 'orario di lavoro',\n        showAllOrgInRubric: 'Visualizza tutte le aziende della categoria',\n        todayIsRestDay: 'oggi chiuso',\n        internet: 'Pagamento on-line',\n        noncash: 'Pagamento non in contanti',\n        goldcrown: 'Zolotaja Korona',\n        dinersclub: 'Diners Club',\n        mastercard: 'MasterCard',\n        maestrocard: 'MaestroCard',\n        visa: 'Visa',\n        cash: 'Pagamento in contanti',\n        americanexpress: 'American Express',\n        hour : 'un\\'ora',\n        less: 'meno di',\n        _in : 'Tra',\n        isClosingOnDinner : 'chiude per pausa pranzo'\n    },\n\n    en: {\n        pluralRules: function (n) { // (Number)\n            if (n === 1) { // 1\n                return 0;\n            } else {\n                return 1; //0, 2, 3, 4 ..\n            }\n        },\n\n        btnBack: 'Back',\n        btnFindWay: 'Get here',\n        btnEntrance: 'Find entrance',\n        linkReviews: ['review', 'reviews'],\n        linkPhoto: ['photo', 'photos'],\n        linkBooklet: 'About company',\n        tommorow: 'tomorrow',\n        afterTommorow: 'the day after tomorrow',\n        afterWeek: 'in a week',\n        nextSun: 'on Sunday',\n        nextMon: 'on Monday',\n        nextTue: 'on Tuesday',\n        nextWed: 'on Wednesday',\n        nextThu: 'on Thursday',\n        nextFri: 'on Friday',\n        nextSat: 'on Saturday',\n        willOpen: 'opens ',\n        willClose: 'closes',\n        isOpen: 'Open',\n        openTill: 'Open till ',\n        closeIn: 'Closes in ',\n        openAt: 'Opens at ',\n        openIn: 'Opens in ',\n        open: 'Opens ',\n        nHours: ['hour', 'hours'],\n        nMins: ['minute', 'minutes'],\n        lunch: 'lunch break',\n        Lunch: 'Lunch break. ',\n        workingDays: 'Working days',\n        weekdays: 'Weekdays',\n        restDay: ['day off','days off'],\n        reviewsOnFlamp: 'Reviews on Flamp',\n        writeReviewOnFlamp: 'Write a review on Flamp',\n        payment: 'payment',\n        everyday: 'Daily from',\n        worksAroundTheClock: 'Open 24 hours',\n        aroundTheClock: '24h',\n        knowMore: 'see also',\n        toClose: 'until closing',\n        monday: 'Monday',\n        tuesday: 'Tuesday',\n        wednesday: 'Wednesday',\n        thursday: 'Thursday',\n        friday: 'Friday',\n        saturday: 'Saturday',\n        sunday: 'Sunday',\n        mon: 'Mon',\n        tue: 'Tue',\n        wed: 'Wed',\n        thu: 'Thu',\n        fri: 'Fri',\n        sat: 'Sat',\n        sun: 'Sun',\n        toLunch: 'until lunch',\n        today: 'Today',\n        lessThenHour: 'less then one hour',\n        youCouldLate: 'you might be late',\n        workingTime: 'working hours',\n        showAllOrgInRubric: 'Show all organizations in the category',\n        todayIsRestDay: 'closed today',\n        internet: 'Online',\n        noncash: ' No-cash',\n        goldcrown: 'Golden Crown',\n        dinersclub: 'Diners Club',\n        mastercard: 'Mastercard',\n        maestrocard: 'MaestroCard',\n        visa: 'Visa',\n        cash: 'Cash',\n        americanexpress: 'American Express',\n        hour : 'hour',\n        less: 'less',\n        _in : 'In',\n        isClosingOnDinner : 'will be closing for lunch'\n    },\n\n    cs: {\n        pluralRules: function (n) { // (Number)\n            return (n === 1) ? 0 : (n >= 2 && n <= 4) ? 1 : 2;\n        },\n\n        btnBack: 'Zpět',\n        btnFindWay: 'Jet sem',\n        btnEntrance: 'Hledat vstup',\n        linkReviews: ['recenze', 'recenze', 'recenzí'],\n        linkPhoto: ['fotografie', 'fotografie', 'fotografií'],\n        linkBooklet: 'Leták',\n        tommorow: 'zítra',\n        afterTommorow: 'pozítří',\n        afterWeek: 'za týden',\n        nextSun: 'v neděli',\n        nextMon: 'v pondělí',\n        nextTue: 'v úterý',\n        nextWed: 've středu',\n        nextThu: 've čtvrtek',\n        nextFri: 'v pátek',\n        nextSat: 'v sobotu',\n        willOpen: 'otevře se',\n        willClose: 'zavře se',\n        isOpen: 'Otevřeno',\n        openTill: 'Otevřeno do ',\n        closeIn: 'Zavře se za ',\n        openAt: 'Otevře se v ',\n        openIn: 'Otevře se za ',\n        open: 'Otevře se ',\n        nHours: [ 'hodinu' , 'hodiny' , 'hodin' ],\n        nMins: [ 'minutu' , 'minuty' , 'minut' ],\n        lunch: 'polední přestávka',\n        Lunch: 'Polední přestávka. ',\n        workingDays: 'Všední dny',\n        weekdays: 'Všední dny',\n        restDay: ['zavřeno', 'zavřeno'],\n        reviewsOnFlamp: 'Recenze na Flampu',\n        writeReviewOnFlamp: 'Napsat recenzi na Flampu',\n        payment: 'platba',\n        everyday: 'Denně od ',\n        worksAroundTheClock: 'Pracuje nonstop',\n        aroundTheClock: 'Nonstop',\n        knowMore: 'dozvědět se více',\n        toClose: 'do uzavření',\n        monday: 'pondělí',\n        tuesday: 'úterý',\n        wednesday: 'středa',\n        thursday: 'čtvrtek',\n        friday: 'pátek',\n        saturday: 'sobota',\n        sunday: 'neděle',\n        mon: 'po',\n        tue: 'út',\n        wed: 'st',\n        thu: 'čt',\n        fri: 'pá',\n        sat: 'so',\n        sun: 'ne',\n        toLunch: 'do polední přestávky',\n        today: 'Dnes',\n        lessThenHour: 'méně než hodinu',\n        youCouldLate: 'nemusíte to stihnout',\n        workingTime: 'pracovní doba',\n        showAllOrgInRubric: 'Zobrazit všechny organizace v rubrice',\n        todayIsRestDay: 'Dnes je zavřeno',\n        internet: 'Platba prostřednictvím Internetu',\n        noncash: 'Bezhotovostní platba',\n        goldcrown: 'Zolotaja Korona',\n        dinersclub: 'Diners Club',\n        mastercard: 'Mastercard',\n        maestrocard: 'MaestroCard',\n        visa: 'Visa',\n        cash: 'Platba hotově',\n        americanexpress: 'American Express',\n        hour : 'hodinu',\n        less: 'méně',\n        _in : 'Za',\n        isClosingOnDinner : 'začíná polední přestávka'\n    },\n\n    es: {\n        pluralRules: function (n) { // (Number)\n          return (n === 1) ? 0 : (n >= 2 && n <= 4) ? 1 : 2;\n        },\n\n        btnBack: 'Atrás',\n        btnFindWay: 'Ir para allá',\n        btnEntrance: 'Buscar acceso',\n        linkReviews: ['comentario', 'comentarios', 'comentarios'],\n        linkPhoto: ['foto', 'fotos', 'fotos'],\n        linkBooklet: 'Folleto',\n        tommorow: 'mañana',\n        afterTommorow: 'pasado mañana',\n        afterWeek: 'en una semana más',\n        nextSun: 'el domingo',\n        nextMon: 'el lunes',\n        nextTue: 'el martes',\n        nextWed: 'el miércoles',\n        nextThu: 'el jueves',\n        nextFri: 'el viernes',\n        nextSat: 'el sábado',\n        willOpen: 'se abrirá',\n        willClose: 'se cerrará',\n        isOpen: 'Abierto',\n        openTill: 'Abierto hasta ',\n        closeIn: 'Se cerrará dentro de ',\n        openAt: 'Se abrirá el ',\n        openIn: 'Se abrirá dentro de ',\n        open: 'Se abrirá ',\n        nHours: ['hora', 'horas', 'horas'],\n        nMins: ['minuto', 'minutos', 'minutos'],\n        lunch: 'hora de colación',\n        Lunch: 'Hora de colación. ',\n        workingDays: 'Días laborables',\n        weekdays: 'Días laborables',\n        restDay: ['cerrado','cerrado'],\n        reviewsOnFlamp: 'Comentarios en Flamp',\n        writeReviewOnFlamp: 'Escribir un comentario en Flamp',\n        payment: 'pago',\n        everyday: 'Cada día desde',\n        worksAroundTheClock: 'Abierto las 24 horas',\n        aroundTheClock: '24 horas',\n        knowMore: 'para saber más',\n        toClose: 'hasta el cierre',\n        monday: 'lunes',\n        tuesday: 'martes',\n        wednesday: 'miércoles',\n        thursday: 'jueves',\n        friday: 'viernes',\n        saturday: 'sábado',\n        sunday: 'domingo',\n        mon: 'lun',\n        tue: 'mar',\n        wed: 'mié',\n        thu: 'jue',\n        fri: 'vie',\n        sat: 'sáb',\n        sun: 'dom',\n        toLunch: 'antes de la hora de colación',\n        today: 'Hoy',\n        lessThenHour: 'menos de una hora',\n        youCouldLate: 'puede ser que no alcanzas a llegar',\n        workingTime: 'horario de trabajo',\n        showAllOrgInRubric: 'Mostrar todas las empresas de la categoría',\n        todayIsRestDay: 'Hoy cerrado',\n        internet: 'Pago por Internet',\n        noncash: 'Pago sin efectivo',\n        goldcrown: 'Zolotaya Korona',\n        dinersclub: 'Diners Club',\n        mastercard: 'Mastercard',\n        maestrocard: 'MaestroCard',\n        visa: 'Visa',\n        cash: 'Pago en efectivo',\n        americanexpress: 'American Express',\n        hour : 'hora',\n        less: 'menos de',\n        _in : 'Dentro de',\n        isClosingOnDinner : 'se cierra por hora de colación'\n    }\n};\n\nDG.Traffic = DG.TileLayer.extend({\n    options: {\n        period: 0,\n        disableLabel: false,\n        updateWhenIdle: false // display new traffic tiles on move for mobile\n    },\n\n    statics: {\n        Dictionary: {}\n    },\n\n    initialize: function(options) {\n        this._tileUrl = DG.config.protocol + (DG.Browser.retina ? DG.config.retinaTrafficTileServer : DG.config.trafficTileServer);\n        this._metaUrl = DG.config.protocol + (DG.Browser.retina ? DG.config.retinaTrafficMetaServer : DG.config.trafficMetaServer);\n        this._timeUrl = DG.config.protocol + DG.config.trafficTimestampServer;\n        this._updateInterval = DG.config.trafficLayerUpdateInterval;\n\n        this._layersOptions = {\n            errorTileUrl: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n            subdomains: '012345679',\n            maxNativeZoom: 18,\n            detectRetina: DG.config.detectRetina,\n            minZoom: DG.config.trafficLayerMinZoom\n        };\n\n        options = DG.setOptions(this, DG.extend(options || {}, this._layersOptions));\n        this._metaLayer = DG.Meta.layer(null, {\n            detectRetina: options.detectRetina,\n            maxNativeZoom: options.maxNativeZoom,\n            dataFilter: DG.bind(this._processData, this),\n            minZoom: options.minZoom\n        });\n        this._isDg = true;\n        this._isOnRequest = false; // timestampString request flag\n        this._onTimer = DG.bind(this._onTimer, this);\n        DG.TileLayer.prototype.initialize.call(this, this._tileUrl, options);\n    },\n\n    // #setTime(day [0-6], time[0-23]) ????\n\n    onAdd: function(map) {\n        this._initContainer();\n        this._levels = {};\n        this._tiles = {};\n\n        if (this.options.period) {\n            this.options.timestampString = '';\n            this._onAddSetParams(map);\n        } else {\n            var self = this;\n            this._isOnRequest = true;\n            this._getTimestampString()\n                .then(\n                    function(response) {\n                        self.options.timestampString = '?' + response;\n                    },\n                    function() {\n                        self.options.timestampString = '?' + (new Date()).getTime();\n                    })\n                .then(\n                    function() {\n                        self._isOnRequest = false;\n                        if (self._map) { // if traffic layer has not been removed from map before server response and timestampString variable is assigned\n                            self._onAddSetParams(map);\n                        }\n                    }\n                );\n        }\n    },\n\n    onRemove: function(map) {\n        if (!this._isOnRequest) {\n            clearInterval(this._updateTimer);\n\n            map\n                .removeLayer(this._metaLayer)\n                .off('projectchange projectleave', this._onMapProjectChange, this);\n\n            if (!this.options.disableLabel) {\n                this._metaLayer.off(this._layerEventsListeners, this);\n                this._map.removeLayer(this._labelHelper);\n                this._labelHelper = null;\n                this._map.off('langchange', this._updateLang, this);\n            }\n\n            DG.TileLayer.prototype.onRemove.call(this, map);\n        } else {\n            L.DomUtil.remove(this._container);\n            map._removeZoomLimit(this);\n            this._container = null;\n        }\n    },\n\n    update: function() {\n        var self = this;\n        this._getTimestampString().then(\n            function(response) {\n                self.options.timestampString = '?' + response;\n            },\n            function() {\n                self.options.timestampString = '?' + (new Date()).getTime();\n            }).then(\n            function() {\n                self.fire('update', {timestamp: self.options.timestampString});\n                self._layerEventsListeners.mouseout.call(self);\n                self._metaLayer.getOrigin().setURL(self._prepareMetaURL(), self);\n                self.redraw();\n            }\n        );\n    },\n\n    getSubdomain: function() {\n        return this._layersOptions.subdomains[\n            Math.floor(Math.random() * this._layersOptions.subdomains.length)\n        ];\n    },\n\n    _updateLang: function() {\n        var lang = this._map.getLang();\n        if (lang === 'ar') {\n            this._labelHelper.options.textDirection = 'rtl';\n        } else {\n            this._labelHelper.options.textDirection = 'auto';\n        }\n    },\n\n    _getTimestampString: function() {\n        return DG.ajax(\n            DG.Util.template(\n                this._timeUrl,\n                DG.extend({\n                    s : this.getSubdomain(),\n                    projectCode: this._map.projectDetector.getProject().code\n                }, this.options || {})),\n            {type: 'get'}\n        );\n    },\n\n    _onTimer: function() {\n        if (this.options.period === 0) {\n            this.update();\n        }\n    },\n\n    _processData: function(trafficData, coord) {\n        var tileOriginPoint = coord.scaleBy(this.getTileSize());\n        var polygonLngLatToPoints = DG.bind(this._polygonLngLatToPoints, this, tileOriginPoint);\n        var hints = {};\n\n        if (!DG.Util.isArray(trafficData)) {    // TODO remove\n            return [];\n        }\n\n        trafficData[1].forEach(function(item) {\n            this[item.graph_id] = item.speed_text;\n        }, hints);\n\n        return trafficData[0]\n            .map(function(item) {\n                return {\n                    id: item.graph_id,\n                    speed: hints[item.graph_id],\n                    geometry: DG.Wkt.toGeoJSON(item.geometry[0].object[0])\n                };\n            })\n            .filter(function(item) {\n                return item.geometry.type == 'Polygon' ||\n                    item.geometry.type == 'MultiPolygon';\n            })\n            .map(function(item) {\n                var geoJson = item.geometry;\n\n                if (geoJson.type == 'Polygon') {\n                    geoJson.coordinates = polygonLngLatToPoints(geoJson.coordinates);\n                } else if (geoJson.type == 'MultiPolygon') {\n                    geoJson.coordinates = geoJson.coordinates.map(polygonLngLatToPoints);\n                }\n\n                return item;\n            });\n    },\n\n    _polygonLngLatToPoints: function(originPoint, polygon) {\n        var map = this._map;\n\n        return polygon.map(function(contour) {\n            return contour.map(function(lngLat) {\n                return map\n                    .project([lngLat[1], lngLat[0]]).round()\n                    .subtract(originPoint);\n            });\n        });\n    },\n\n    _prepareMetaURL: function() {\n        return DG.Util.template(this._metaUrl, DG.extend({\n            x: '{x}',\n            y: '{y}',\n            z: '{z}',\n            s: '{s}'\n        }, this.options));\n    },\n\n    _updateLayerProject: function() {\n        var project = this._map.projectDetector.getProject();\n        DG.setOptions(this, project && project.traffic ? {\n            projectCode: project.code,\n            bounds: project.latLngBounds,\n            minZoom: Math.max(project.minZoom, this._layersOptions.minZoom),\n            maxZoom: project.maxZoom\n        } : {\n            maxZoom: project ? project.maxZoom : DG.config.projectLeaveMaxZoom,\n            minZoom: 0\n        });\n        this._metaLayer.getOrigin().setURL(this._prepareMetaURL());\n    },\n\n    _onMapProjectChange: function() {\n        this._updateLayerProject();\n        this.redraw();\n    },\n\n    _layerEventsListeners: {\n        mouseover: function(e) { // (Object)\n            this._setCursor('pointer');\n            if (this._labelHelper && e.meta.speed) {\n                this._labelHelper\n                    .setPosition(e.latlng)\n                    .setContent(e.meta.speed + ' ' + this.t('speed_unit_km_h'))\n                    .addTo(this._map);\n            }\n        },\n        mouseout: function() {\n            this._setCursor('');\n            if (this._labelHelper) {\n                this._map.removeLayer(this._labelHelper);\n            }\n        },\n        mousemove: function(e) {\n            if (this._labelHelper) {\n                this._labelHelper.setPosition(e.latlng);\n            }\n        }\n    },\n\n    _setCursor: function(cursor) { // (String)\n        this._map.getContainer().style.cursor = cursor;\n    },\n\n    _onAddSetParams: function(map) {\n        this._updateLayerProject();\n\n        map\n            .addLayer(this._metaLayer)\n            .on('projectchange projectleave', this._onMapProjectChange, this);\n\n        if (!this.options.disableLabel) {\n            this._metaLayer.on(this._layerEventsListeners, this);\n            this._labelHelper = DG.label();\n            this._map.on('langchange', this._updateLang, this);\n        }\n\n        if (this._updateInterval) {\n            this._updateTimer = setInterval(this._onTimer, this._updateInterval);\n        }\n\n        this._resetView();\n        this._update();\n    },\n\n    _update: function(center) {\n        if (!this._isOnRequest) {\n            DG.TileLayer.prototype._update.call(this, center);\n        }\n    }\n\n});\n\nDG.Traffic.include(DG.Locale);\n\nDG.traffic = function(options) { // (Object)\n    return new DG.Traffic(options);\n};\n\nDG.Traffic.Dictionary.ru = {\n    speed_unit_km_h: 'км/ч'\n};\n\nDG.Traffic.Dictionary.it = {\n    speed_unit_km_h: 'km/h'\n};\n\nDG.Traffic.Dictionary.cs = {\n    speed_unit_km_h: 'km/h'\n};\n\nDG.Traffic.Dictionary.es = {\n    speed_unit_km_h: 'km/h'\n};\n\nDG.Traffic.Dictionary.en = {\n    speed_unit_km_h: 'km/h'\n};\n\nDG.Traffic.Dictionary.ar = {\n    speed_unit_km_h: 'كم/ساعة'\n};\n\nDG.Control.Traffic = DG.RoundControl.extend({\n    options: {\n        position: 'topright',\n        iconClass: 'traffic'\n    },\n\n    statics: {\n        Dictionary: {}\n    },\n\n    initialize: function(options) {\n        this._trafficClass = 'dg-traffic-control';\n        this._controlHideClass = 'dg-control-round_is-hidden_true';\n\n        DG.setOptions(this, options);\n        DG.extend(this, {\n            _active: false,\n            _trafficLayer: null\n        }).on(this._controlEvents, this);\n    },\n\n    _controlEvents: {\n        add: function() {\n            this._trafficLayer = DG.traffic();\n            this._map.on('zoomend projectchange projectleave', this._updateControlVisibility, this);\n        },\n        click: function() {\n            this._active = !this._active;\n\n            if (this._active) {\n                this.setState('active');\n                this._showTraffic();\n            } else {\n                this.setState('');\n                this._hideTraffic();\n            }\n        },\n        remove: function() {\n            this.off(this._controlEvents, this);\n            this._map.off('zoomend projectchange projectleave', this._updateControlVisibility, this);\n            if (this._active) {\n                this._map.removeLayer(this._trafficLayer);\n                this._active = false;\n            }\n            this._trafficLayer = null;\n        }\n    },\n\n    _showTraffic: function() { // ()\n        this._updateTrafficScore();\n        this._map.addLayer(this._trafficLayer);\n    },\n\n    _hideTraffic: function() { // ()\n        this._handleDom('remove');\n        this._map.removeLayer(this._trafficLayer);\n    },\n\n    _handleDom: function(method, score) {\n        var a = this._link;\n\n        a.innerHTML = isNaN(score) ? '' : score;\n        DG.DomUtil[method + 'Class'](a, this._trafficClass);\n        DG.DomUtil[method + 'Class'](a, this._trafficClass + '_color_' + this._scoreRate);\n    },\n\n    _getTrafficColor: function(score) { // (Number) -> String\n        var result = 'green';\n\n        if (score > 7) {\n            result = 'red';\n        } else if (score > 4) {\n            result = 'yellow';\n        }\n\n        return result;\n    },\n\n    _updateControlVisibility: function() {\n        var project = this._map.projectDetector.getProject(),\n            projectHasTraffic = project && project.traffic,\n            method = ((this._map.getZoom() < DG.config.trafficLayerMinZoom) ||\n            (!projectHasTraffic)) ? 'addClass' : 'removeClass';\n\n        DG.DomUtil[method](this._container, this._controlHideClass);\n        if (this._active && projectHasTraffic) {\n            this._updateTrafficScore();\n        }\n    },\n\n    _updateTrafficScore: function() {\n        var self = this;\n\n        this._getTrafficScore().then(function(score) {\n            score = parseInt(score, 10); // sometimes webapi returns something like '5,+'\n\n            self._scoreRate = self._getTrafficColor(score);\n            self._handleDom('add', score);\n        });\n    },\n\n    _getTrafficScore: function() { // () -> Promise\n        var url = DG.Util.template(\n            DG.config.protocol + DG.config.trafficScoreServer,\n            {\n                s: this._trafficLayer.getSubdomain(),\n                projectCode: this._map.projectDetector.getProject().code\n            }\n        );\n\n        return DG.ajax(url, {type: 'get'});\n    },\n\n    _renderTranslation: function() { // ()\n        this._link.title = this.t('button_title');\n    }\n});\n\nDG.control.traffic = function(options) {\n    return new DG.Control.Traffic(options);\n};\n\nDG.Map.mergeOptions({\n    trafficControl: false\n});\n\nDG.Map.addInitHook(function() {\n    if (this.options.trafficControl) {\n        this.trafficControl = DG.control.traffic(this.options.trafficControl);\n        this.addControl(this.trafficControl);\n    }\n});\n\nDG.Control.Traffic.Dictionary.ru = {\n    button_title: 'Пробки'\n};\n\nDG.Control.Traffic.Dictionary.it = {\n    button_title: 'Colonna'\n};\n\nDG.Control.Traffic.Dictionary.cs = {\n    button_title: 'Zácpy'\n};\n\nDG.Control.Traffic.Dictionary.es = {\n    button_title: 'Taco'\n};\n\nDG.Control.Traffic.Dictionary.en = {\n    button_title: 'Traffic'\n};\n\nDG.Control.Traffic.Dictionary.ar = {\n    button_title: 'حركة السير'\n};\n\nDG.Ruler = DG.Layer.extend({\n\n    options: {\n        editable: true\n    },\n\n    includes: [DG.Locale],\n\n    statics: {\n        Dictionary: {}\n    },\n\n    initialize: function(latlngs, options) { // (Array, Object)\n        DG.Util.setOptions(this, options);\n\n        this._layers = {\n            back : null,\n            middle : null,\n            front : null,\n            mouse : null\n        };\n        this._points = [];\n\n        this._layersContainer = DG.featureGroup();\n        Object.keys(this._layers).forEach(function(name) {\n            this._layersContainer.addLayer(this._layers[name] = DG.featureGroup());\n        }, this);\n\n        this._reset();\n\n        if (DG.Browser.mobile) {\n            delete this._lineMouseEvents.mouseover;\n            delete this._lineMouseEvents.mouseout;\n            delete this._lineMouseEvents.mousemove;\n        } else {\n            delete this._lineMouseEvents.click;\n        }\n\n        if (latlngs && latlngs.length) {\n            this.setLatLngs(latlngs);\n        }\n    },\n\n    onAdd: function(map) { // (Map)\n        this._map = map.on('langchange', this._updateDistance, this);\n\n        //  Pane for ruler Markers\n        if (!this._map.getPane('rulerMarkerPane')) {\n            this._map.createPane('rulerMarkerPane');\n        }\n\n        //  Main ruler pane (svg objects and runner)\n        if (!this._map.getPane('rulerPane')) {\n            this._map.createPane('rulerPane');\n        }\n\n        this._layersContainer.addTo(this._map);\n\n        if (this._points.length) {\n            this._layers.mouse.fire('layeradd');\n            this._updateDistance();\n        }\n\n        this._layers.mouse.on(this._lineMouseEvents, this);\n    },\n\n    onRemove: function(map) { // (Map)\n        map\n            .off('langchange', this._updateDistance, this)\n            .removeLayer(this._layersContainer);\n\n        this._layers.mouse.off(this._lineMouseEvents, this);\n        this._reset();\n    },\n\n    getTotalDistance: function() { // () -> Number\n        return this._calcDistance();\n    },\n\n    spliceLatLngs: function(index) { // (Number, Number, args ...) -> Array\n        var oldLength = this._points.length,\n            mutationStart = index >= 0 ? Math.min(index, oldLength) : oldLength - index,\n            removed = Array.prototype.splice.apply(this._points, arguments).map(function(point) {\n                this._layers.mouse.removeLayer(point);\n                return point.off().getLatLng();\n            }, this),\n            length = this._points.length;\n\n        if (length) {\n            for (var i = mutationStart; i < length; i++) {\n                if (!(this._points[i] instanceof DG.Ruler.LayeredMarker)) {\n                    this._points[i] = this._createPoint(this._points[i], this.options.iconStyles.large)\n                        .on(this._pointEvents, this)\n                        .once('add', this._addCloseHandler, this)\n                        .addTo(this._layers.mouse, this._layers);\n                }\n                if (i && !this._points[i - 1]._legs) {\n                    this._addLegs(this._points[i - 1]);\n                }\n                this._points[i].setPointStyle(this.options.iconStyles[i && i < length - 1 ? 'small' : 'large']);\n                this._points[i]._pos = i;\n            }\n            this._removeLegs(this._points[length - 1]);\n            if (oldLength > 0 && oldLength < length) {\n                this._points[oldLength - 1].collapse();\n            }\n            if (this._points[mutationStart]) {\n                this._updateLegs(this._points[mutationStart]);\n            }\n            if (mutationStart > 1) {\n                this._points[mutationStart - 1].setPointStyle(this.options.iconStyles.small);\n            }\n            this._updateDistance();\n            this._normalizeRulerPoints();\n        }\n        if (DG.Browser.touch && this._lineMarkerHelper) {\n            this._lineMarkerHelper.collapse();\n        }\n        this._fireChangeEvent();\n        return removed;\n    },\n\n    addLatLng: function(latlng) { // (LatLng) -> Ruler\n        var lastPoint = this._points[this._points.length - 1] || null;\n        latlng = DG.latLng(latlng);\n\n        if (lastPoint) {\n            latlng = this._normalizeLatLng(latlng, lastPoint.getLatLng());\n        }\n\n        this.spliceLatLngs(this._points.length, 0, latlng);\n        return this;\n    },\n\n    getLatLngs: function() { // () -> Array\n        return this._points.map(function(point) {\n            return point.getLatLng();\n        });\n    },\n\n    setLatLngs: function(latlngs) { // (Array) -> Ruler\n        var args = latlngs.slice();\n        args.unshift(0, this._points.length);\n        this.spliceLatLngs.apply(this, args);\n        return this;\n    },\n\n    _reset: function() { // ()\n        DG.extend(this, {\n            _lineMarkerHelper: null,\n            _morphingNow: false\n        });\n    },\n\n    _lineMouseEvents: {\n        click: function(event) {\n            var target = event.layer;\n            if (target instanceof DG.Marker && target._pos !== this._points.length - 1) {\n                if (this._lineMarkerHelper) {\n                    this._lineMarkerHelper.collapse();\n                }\n                target.setText(this._getFormatedDistance(target));\n                this._lineMarkerHelper = target;\n            } else if (target instanceof DG.Path && this.options.editable) {\n                var latlng = event.latlng,\n                    insertPos = target._point._pos + 1;\n                this.spliceLatLngs(insertPos, 0, latlng);\n            }\n        },\n        mouseover: function(event) { // (MouseEvent)\n            var target = event.layer;\n\n            target._hovered = true;\n            if (this._morphingNow) {\n                return;\n            }\n            if (target instanceof DG.Marker && target._pos !== this._points.length - 1) {\n                target.setText(this._getFormatedDistance(target));\n            } else if (target instanceof DG.Path && !this._lineMarkerHelper) {\n                var point = target._point;\n\n                this._lineMarkerHelper = this._addRunningLabel(\n                    this._nearestPoint(point._legs.middle, event.latlng),\n                    point\n                );\n            }\n        },\n        mouseout: function(event) { // (MouseEvent)\n            var target = event.layer,\n                originalEv = event.originalEvent;\n\n            target._hovered = false;\n            if (this._morphingNow || target._pos === this._points.length - 1) {\n                return;\n            }\n            if (target instanceof DG.Marker) {\n                // collapse only when we move out from label container (if browser support relatedTarget)\n                if (!originalEv.relatedTarget ||\n                    (originalEv.relatedTarget !== target.querySelector('container') &&\n                    originalEv.relatedTarget.parentNode !== target.querySelector('container'))) {\n                    target.collapse();\n                }\n            } else {\n                this._removeRunningLabel();\n            }\n        },\n        mousemove: function(event) { // (MouseEvent)\n            if (this._morphingNow || !this._lineMarkerHelper) {\n                return;\n            }\n\n            var point = event.layer._point,\n                latlng = this._nearestPoint(point._legs.middle, event.latlng);\n\n            this._lineMarkerHelper\n                .setLatLng(latlng)\n                .setText(this._getFormatedDistance(point, point.getLatLng().distanceTo(latlng)));\n        },\n        layeradd: function() { // ()\n            Object.keys(this._layers).forEach(function(name) {\n                this._layers[name].bringToFront();\n            }, this);\n        }\n    },\n\n    _fireChangeEvent: function() {\n        this.fire('changed', {latlngs : this.getLatLngs()});\n    },\n\n    _addRunningLabel: function(latlng, previousPoint) { // (LatLng, Ruler.LayeredMarker)\n        var point = this._createPoint(latlng).addTo(this._layers.mouse, this._layers);\n        var pane = this._map.getPane('rulerPane');\n        pane.insertBefore(point._icon, pane.lastElementChild);\n        return point.setText(this._getFormatedDistance(previousPoint, previousPoint.getLatLng().distanceTo(latlng)));\n    },\n\n    _removeRunningLabel: function() { // ()\n        if (this._lineMarkerHelper) {\n            this._layers.mouse.removeLayer(this._lineMarkerHelper);\n            this._lineMarkerHelper = null;\n        }\n    },\n\n    _insertPointInLine: function(event) { // (MouseEvent)\n        var latlng = this._lineMarkerHelper.getLatLng(),\n            insertPos = event.target._point._pos + 1,\n            point;\n\n        if (L.Browser.ie) {\n            var path = event.originalEvent.target || event.originalEvent.srcElement,\n                parent = path.parentNode;\n            parent.appendChild(path); // IE click event leaking problem solution: we reappend mousedown event target element\n        }\n\n        L.DomEvent.stopPropagation(event.originalEvent);\n\n        this.spliceLatLngs(insertPos, 0, latlng);\n        point = this._points[insertPos];\n        point.setText(this._getFormatedDistance(point));\n\n        setTimeout(function() {\n            if (document.createEvent) {\n                var e = document.createEvent('MouseEvents');\n                e.initMouseEvent('mouseup', false, false, document.defaultView, 1, 0, 0, 0, 0, false, false, false, false, 1, point._icon);\n                document.dispatchEvent(e);\n\n                e = document.createEvent('MouseEvents');\n                e.initMouseEvent('mousedown', false, false, document.defaultView, 1, 0, 0, 0, 0, false, false, false, false, 1, point._icon);\n                point._icon.dispatchEvent(e);\n            } else {\n                point._icon.fireEvent('onMouseUp', DG.extend(document.createEventObject(), {\n                    button: 1,\n                    bubbles: false,\n                    cancelable: false\n                }));\n                point._icon.fireEvent('onMouseDown', DG.extend(document.createEventObject(), {\n                    button: 1,\n                    bubbles: false,\n                    cancelable: false\n                }));\n            }\n        }, 0);\n\n        this._removeRunningLabel();\n\n        this._updateLegs(point);\n    },\n\n    // Find the point on given polyline which is closest to given latlng\n    _nearestPoint: function(polyline, latlng) { // (Polyline, LatLng) -> LatLng\n        var self = this;\n\n        // Convert everything to pixel coordinates\n        var point = this._project(latlng);\n        var linePoints = polyline.getLatLngs().map(function(latlng) {\n            return self._project(latlng);\n        });\n\n        // First look for closest polyline segment\n        var minDistance;\n        var closestSegmentIndex;\n        for (var i = 0; i < linePoints.length - 1; i++) {\n            var distance = DG.LineUtil.pointToSegmentDistance(\n                point,\n                linePoints[i],\n                linePoints[i + 1]\n            );\n\n            if (minDistance === undefined || distance < minDistance) {\n                minDistance = distance;\n                closestSegmentIndex = i;\n            }\n        }\n\n        // Then look for closest point on that segment\n        var closestPoint = DG.LineUtil.closestPointOnSegment(\n            point,\n            linePoints[closestSegmentIndex],\n            linePoints[closestSegmentIndex + 1]\n        );\n\n        // Convert back to LatLng\n        return this._unproject(closestPoint);\n    },\n\n    _addCloseHandler: function(event) { // (Event)\n        event.target\n            .on('click', this._deletePoint, this)\n            .querySelector('remove-link').style.display = 'inline-block';\n    },\n\n    _createPoint: function(latlng, style) { // (LatLng, Object) -> Ruler.LayeredMarker\n        var pointStyle = style ? style : this.options.iconStyles.large,\n            layers = {};\n        Object.keys(pointStyle).forEach(function(layer) {\n            layers[layer] = DG.circleMarker(latlng, pointStyle[layer]);\n        });\n\n        return DG.Ruler.layeredMarker(latlng, {\n            layers : layers,\n            draggable : this.options.editable,\n            textDirection: this._map.getLang() !== 'ar' ? 'auto' : 'rtl'\n        });\n    },\n\n    // Moves curr LatLng to correct world if necessary so that ruler section\n    // between curr and base can be plotted correctly. Returns a new LatLng\n    // object.\n    _normalizeLatLng: function(curr, base) { // (LatLng, LatLng) -> LatLng\n        var diff = (curr.lng < base.lng) ? 360 : -360;\n\n        var newLng = curr.lng;\n        while (Math.abs(newLng - base.lng) > 180) {\n            newLng += diff;\n        }\n\n        return DG.latLng(curr.lat, newLng);\n    },\n\n    // Rearranges ruler points between worlds based on point param so that all\n    // ruler sections can be plotted correctly.\n    _normalizeRulerPoints: function(point) { // (Ruler.LayeredMarker)\n        point = point || this._points[0];\n\n        var self = this;\n        var position = point._pos;\n        var changedPoints = [];\n        var i, currPoint, prevPoint, latlng, normalized;\n\n        // Check points to the right\n        for (i = position + 1; i < this._points.length; i++) {\n            currPoint = this._points[i];\n            prevPoint = this._points[i - 1];\n\n            latlng = currPoint.getLatLng();\n            normalized = this._normalizeLatLng(latlng, prevPoint.getLatLng());\n\n            if (!normalized.equals(latlng)) {\n                currPoint.setLatLng(normalized);\n                changedPoints.push(i);\n            }\n        }\n\n        // Check points to the left\n        for (i = position - 1; i >= 0; i--) {\n            currPoint = this._points[i];\n            prevPoint = this._points[i + 1];\n\n            latlng = currPoint.getLatLng();\n            normalized = this._normalizeLatLng(latlng, prevPoint.getLatLng());\n\n            if (!normalized.equals(latlng)) {\n                currPoint.setLatLng(normalized);\n                changedPoints.push(i);\n            }\n        }\n\n        // Update legs of all points that changed position\n        changedPoints.sort().reduce(function(previous, current) {\n            var skipPrevious = previous && previous === current - 1;\n\n            self._updateLegs(self._points[current], skipPrevious);\n\n            return current;\n        }, null);\n    },\n\n    _pointEvents: {\n        drag: function(event) { // (Event)\n            var point = event.target;\n\n            this._normalizeRulerPoints(point);\n\n            if (!DG.Browser.touch && point !== this._points[this._points.length - 1]) {\n                point.setText(this._getFormatedDistance(point));\n            }\n\n            this._updateLegs(point);\n            this._updateDistance();\n        },\n        dragend: function(event) { // (Event)\n            var point = event.target;\n            this._morphingNow = false;\n            if (!point._hovered && point !== this._points[this._points.length - 1]) {\n                point.collapse();\n            }\n            this._fireChangeEvent();\n        },\n        dragstart: function() { // ()\n            if (DG.Browser.touch && this._lineMarkerHelper) {\n                this._lineMarkerHelper.collapse();\n            }\n            this._morphingNow = true;\n        }\n    },\n\n    _deletePoint: function(event) { // (MouseEvent)\n        var originalEvent = event.originalEvent,\n            target = originalEvent.target  || originalEvent.srcElement;\n\n        if (target.className !== 'dg-ruler__label-remove-link' &&\n            target.className !== 'dg-ruler__remove-link-overlay') {\n            return;\n        }\n        DG.DomEvent.stop(event.originalEvent);\n        this.spliceLatLngs(event.target._pos, 1);\n    },\n\n    _degToRad: function(deg) {\n        return (Math.PI / 180) * deg;\n    },\n\n    _radToDeg: function(rad) {\n        return (180 / Math.PI) * rad;\n    },\n\n    // Map-independent project method\n    _project: function(latlng) {\n        if (this._map) {\n            return this._map.project(latlng);\n        }\n\n        return DG.CRS.EPSG3857.latLngToPoint(latlng, 1);\n    },\n\n    // Map-independent unproject method\n    _unproject: function(point) {\n        if (this._map) {\n            return this._map.unproject(point);\n        }\n\n        return DG.CRS.EPSG3857.pointToLatLng(point, 1);\n    },\n\n    // Calculates the size of angle point1-point-point2\n    _calcAngle: function(point, point1, point2) { // (LatLng, LatLng, LatLng) -> Number\n        point1 = this._normalizeLatLng(point1, point);\n        point2 = this._normalizeLatLng(point2, point);\n\n        point = this._project(point);\n        point1 = this._project(point1);\n        point2 = this._project(point2);\n\n        var x1 = point1.x - point.x;\n        var x2 = point2.x - point.x;\n        var y1 = point1.y - point.y;\n        var y2 = point2.y - point.y;\n\n        var dotProduct = x1 * x2 + y1 * y2;\n        var mag1 = Math.sqrt(x1 * x1 + y1 * y1);\n        var mag2 = Math.sqrt(x2 * x2 + y2 * y2);\n\n        return Math.acos(dotProduct / (mag1 * mag2));\n    },\n\n    // Calculates the midpoint on the great circle between two LatLngs\n    _calcMidPoint: function(latlng1, latlng2) { // (LatLng, LatLng) -> LatLng\n        var lon1 = this._degToRad(latlng1.lng);\n        var lat1 = this._degToRad(latlng1.lat);\n\n        var lon2 = this._degToRad(latlng2.lng);\n        var lat2 = this._degToRad(latlng2.lat);\n\n        // Based on formulae from\n        // http://williams.best.vwh.net/avform.htm#Intermediate\n        var d = Math.acos(Math.sin(lat1) * Math.sin(lat2) +\n            Math.cos(lat1) * Math.cos(lat2) * Math.cos(lon1 - lon2));\n\n        // Split the arc in half\n        var f = 0.5;\n\n        var A = Math.sin((1 - f) * d) / Math.sin(d);\n        var B = Math.sin(f * d) / Math.sin(d);\n\n        var x = A * Math.cos(lat1) * Math.cos(lon1) +\n            B * Math.cos(lat2) * Math.cos(lon2);\n\n        var y = A * Math.cos(lat1) * Math.sin(lon1) +\n            B * Math.cos(lat2) * Math.sin(lon2);\n\n        var z = A * Math.sin(lat1) + B * Math.sin(lat2);\n\n        var lat = Math.atan2(z, Math.sqrt(x * x + y * y));\n        var lon = Math.atan2(y, x);\n\n        return DG.latLng(this._radToDeg(lat), this._radToDeg(lon));\n    },\n\n    // Adaptive sampling algorithm based on\n    // http://ariel.chronotext.org/dd/defigueiredo93adaptive.pdf\n    _adaptiveSample: function(left, right, depth, middle) { // (LatLng, LatLng, Number[, LatLng]) -> LatLng[]\n        if (depth > 9) {\n            // Max recursion depth reached\n            return [];\n        }\n\n        middle = middle || this._calcMidPoint(left, right);\n\n        var leftMiddle = this._calcMidPoint(left, middle);\n        var rightMiddle = this._calcMidPoint(middle, right);\n\n        var angle1 = this._calcAngle(leftMiddle, middle, left);\n        var angle2 = this._calcAngle(middle, left, right);\n        var angle3 = this._calcAngle(rightMiddle, middle, right);\n\n        // left --- leftMiddle --- middle --- rightMiddle --- right\n        //            angle1       angle2       angle3\n\n        var minAngle = 3.1;\n        if (angle1 > minAngle && angle2 > minAngle && angle3 > minAngle) {\n            // This section is straight enough, no intermediate points needed.\n            return [];\n        } else {\n            // Angles are too small. Recursively sample halves of this section.\n            var result = [];\n            result = result.concat(this._adaptiveSample(left, middle, depth + 1, leftMiddle));\n            result.push(middle);\n            result = result.concat(this._adaptiveSample(middle, right, depth + 1, rightMiddle));\n\n            return result;\n        }\n    },\n\n    // Calculates the great circle arc between two LatLngs.\n    _calcGreatCircle: function(latlng1, latlng2) { // (LatLng, LatLng) -> LatLng[]\n        latlng2 = this._normalizeLatLng(latlng2, latlng1);\n\n        // Special case: points are close to each other (within 1 degree)\n        if (latlng1.equals(latlng2, 1)) {\n            return [latlng1, latlng2];\n        }\n\n        // Special case: the great circle crosses a pole\n        if (Math.abs(latlng2.lng - latlng1.lng) == 180) {\n            // North or south pole?\n            var latitude = (latlng1.lat + latlng2.lat > 0) ? 90 : -90;\n\n            return [\n                latlng1,\n                DG.latLng(latitude, latlng1.lng),\n                DG.latLng(latitude, latlng2.lng),\n                latlng2\n            ];\n        }\n\n        var result = [];\n\n        result.push(latlng1);\n        result = result.concat(this._adaptiveSample(latlng1, latlng2, 0));\n        result.push(latlng2);\n\n        // Make sure the arc doesn't jump between worlds\n        for (var i = 1; i < result.length; i++) {\n            result[i] = this._normalizeLatLng(result[i], result[i - 1]);\n        }\n\n        return result;\n    },\n\n    _addLegs: function(point) {\n        var pathStyles = this.options.pathStyles;\n\n        var greatCirclePoints = this._calcGreatCircle(\n            point.getLatLng(),\n            this._points[point._pos + 1].getLatLng()\n        );\n\n        point._legs = {};\n        Object.keys(pathStyles).forEach(function(layer) {\n            point._legs[layer] = DG.polyline(greatCirclePoints, pathStyles[layer]).addTo(this._layers[layer]);\n        }, this);\n\n        point._legs.mouse._point = point.once('remove', this._clearRemovingPointLegs, this);\n\n        if (this.options.editable && !DG.Browser.mobile) {\n            point._legs.mouse.on('mousedown', this._insertPointInLine, this);\n        }\n\n        if (this._map) {\n            this._layers.mouse.addLayer(point._legs.mouse);\n        }\n    },\n\n    _clearRemovingPointLegs: function(event) { // (Event)\n        this._removeLegs(event.target);\n    },\n\n    _removeLegs: function(point) { // (Ruler.LayeredMarker)\n        if (point._legs) {\n            Object.keys(point._legs).forEach(function(layer) {\n                this._layers[layer].removeLayer(point._legs[layer]);\n            }, this);\n            point._legs = null;\n        }\n    },\n\n    _updateLegs: function(point, skipPrevious) { // (Ruler.LayeredMarker, Boolean)\n        var latlng = point.getLatLng(),\n            previousPoint = this._points[point._pos - 1],\n            nextPoint = this._points[point._pos + 1],\n            self = this,\n            newPoints;\n\n        if (previousPoint && !skipPrevious) {\n            newPoints = self._calcGreatCircle(previousPoint.getLatLng(), latlng);\n\n            Object.keys(previousPoint._legs).forEach(function(layer) {\n                previousPoint._legs[layer].setLatLngs(newPoints);\n            });\n        }\n\n        if (nextPoint) {\n            newPoints = self._calcGreatCircle(latlng, nextPoint.getLatLng());\n\n            Object.keys(point._legs).forEach(function(layer) {\n                point._legs[layer].setLatLngs(newPoints);\n            });\n        }\n    },\n\n    _calcDistance: function(finishPoint, tail) { // (Ruler.LayeredMarker, Number) -> Number\n        var distance = tail ? tail : 0,\n            calcTo = finishPoint ? finishPoint._pos : this._points.length - 1;\n\n        for (var i = 0; i < calcTo; i++) {\n            distance += this._points[i].getLatLng().distanceTo(this._points[i + 1].getLatLng());\n        }\n\n        return distance;\n    },\n\n    _getFormatedDistance: function() { // () -> String\n        var distance = this._calcDistance.apply(this, arguments),\n            units = 'm';\n\n        if (distance > 1000) {\n            distance /= 1000;\n            units = 'km';\n            if (distance > 1000) {\n                distance = distance.toFixed();\n                distance = distance.slice(0, -3) + ' ' + distance.slice(-3);\n            } else {\n                distance = distance.toFixed(2).split('.').join(this.t('delimiter'));\n            }\n        } else {\n            distance = Math.round(distance);\n        }\n\n        return [distance || 0, ' ', this.t(units)].join('');\n    },\n\n    _updateDistance: function() { // ()\n        if (this._map && this._points.length) {\n            this._points[this._points.length - 1].setText(this._getFormatedDistance());\n        }\n    }\n});\n\nDG.ruler = function(latlngs, options) { // (Array, Object)\n    return new DG.Ruler(latlngs, options);\n};\n\nDG.Ruler.LayeredMarker = DG.Marker.extend({\n    options: {\n        draggable: false,\n        keyboard: false,\n        riseOnHover: true,\n        pane: 'rulerMarkerPane',\n        textDirection: 'auto', // 'auto' | 'ltr' | 'rtl'\n        iconHTML: [\n            '<img class=\"dg-ruler__label-spacer\" src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\" width=\"26\" height=\"26\" />',\n            '<div class=\"dg-ruler__label-container\">',\n            '    <div class=\"dg-ruler__point\"></div>',\n            '    <span class=\"dg-ruler__label-distance\">0 км</span>',\n            '    <span class=\"dg-ruler__label-remove-link\"></span>',\n            '    <div class=\"dg-ruler__remove-link-overlay\"></div>',\n            '</div>'\n        ].join('\\n')\n    },\n\n    statics: {\n        domClass : 'dg-ruler__label'\n    },\n\n    addTo : function(map, layers) {\n        Object.keys(this._layers).forEach(function(name) {\n            layers[name].addLayer(this._layers[name]);\n        }, this);\n\n        this._viewport = layers;\n        return DG.Marker.prototype.addTo.call(this.on('move', this._onMove), map);\n    },\n\n    onRemove : function(map) {\n        Object.keys(this._layers).forEach(function(name) {\n            this._viewport[name].removeLayer(this._layers[name]);\n        }, this);\n        this.off('move', this._onMove);\n        this._viewport = null;\n        this._style = null;\n        return DG.Marker.prototype.onRemove.call(this, map);\n    },\n\n    setText : function(text) {\n        if (this._iconCollapsed) {\n            this.expand();\n        }\n        this._iconNodes.label.innerHTML = text;\n        this._iconNodes.label.setAttribute('dir', this.options.textDirection);\n        return this;\n    },\n\n    setPointStyle : function(style) {\n        if (this._style !== style) {\n            Object.keys(this._style = style).forEach(function(name) {\n                this._layers[name].setStyle(style[name]);\n            }, this);\n        }\n        return this;\n    },\n\n    expand : function() {\n        this._iconCollapsed = false;\n        this._iconNodes.container.style.display = 'block';\n        this._iconNodes.spacer.style.display = 'none';\n        return this;\n    },\n\n    collapse : function() {\n        this._iconCollapsed = true;\n        this._iconNodes.container.style.display = 'none';\n        this._iconNodes.spacer.style.display = 'block';\n        return this;\n    },\n\n    querySelector : function(selector) {\n        return this._icon.querySelector('.' + DG.Ruler.LayeredMarker.domClass + '-' + selector);\n    },\n\n    _onMove : function(event) {\n        var latlng = event.latlng;\n        Object.keys(this._layers).forEach(function(name) {\n            this._layers[name].setLatLng(latlng);\n        }, this);\n    },\n\n    _initIcon : function() {\n        DG.Marker.prototype._initIcon.call(this);\n        this._iconCollapsed = true;\n        this._icon.style.width = '';\n        this._iconNodes = {\n            label : this.querySelector('distance'),\n            spacer : this.querySelector('spacer'),\n            container : this.querySelector('container')\n        };\n    },\n\n    // don't change icon zIndex\n    _setPos: function(pos) {\n        L.DomUtil.setPosition(this._icon, pos);\n\n        if (this._shadow) {\n            L.DomUtil.setPosition(this._shadow, pos);\n        }\n    },\n\n    _afterInit : function() {\n        this._layers = this.options.layers || null;\n        this.options.icon = DG.divIcon({\n            className: DG.Ruler.LayeredMarker.domClass,\n            iconSize: [26, 26],\n            iconAnchor: [13, 13],\n            html: this.options.iconHTML\n        });\n    }\n\n});\n\nDG.Ruler.LayeredMarker.addInitHook('_afterInit');\n\nDG.Ruler.layeredMarker = function(latlng, options) {\n    return new DG.Ruler.LayeredMarker(latlng, options);\n};\n\nvar rulerRenderer = DG.svg({pane: 'rulerPane'});\nvar hoverRenderer = DG.svg({pane: 'rulerPane'});\n\nDG.Ruler.mergeOptions({\n    pathStyles: {\n        back: {\n            color: '#fff',\n            opacity: 1,\n            weight: 12,\n            pointerEvents: 'none',\n            noClip: true,\n            renderer: rulerRenderer,\n            smoothFactor: 0\n        },\n        middle: {\n            color: '#0da5d5',\n            opacity: 1,\n            weight: 4,\n            pointerEvents: 'none',\n            noClip: true,\n            renderer: rulerRenderer,\n            smoothFactor: 0\n        },\n        mouse: {\n            color: '#fff',\n            opacity: DG.Browser.vml ? 0.1 : 0,\n            weight: DG.Browser.touch ? 40 : 20,\n            pointerEvents: 'painted',\n            noClip: true,\n            renderer: hoverRenderer,\n            smoothFactor: 0\n        }\n    },\n    iconStyles: {\n        large: {\n            back: {\n                color: '#fff',\n                opacity: 1,\n                fillColor: '#fff',\n                fillOpacity: 1,\n                weight: 1,\n                radius: 13,\n                renderer: rulerRenderer\n            },\n            middle: {\n                color: '#0da5d5',\n                opacity: 1,\n                fillColor: '#0da5d5',\n                fillOpacity: 1,\n                weight: 1,\n                radius: 9,\n                renderer: rulerRenderer\n            },\n            front: {\n                color: '#fff',\n                opacity: 1,\n                fillColor: '#0da5d5',\n                fillOpacity: 1,\n                weight: 4,\n                radius: 5,\n                renderer: rulerRenderer\n            }\n        },\n        small: {\n            back: {\n                color: '#fff',\n                opacity: 1,\n                fillColor: '#fff',\n                fillOpacity: 1,\n                weight: 1,\n                radius: 9,\n                renderer: rulerRenderer\n            },\n            middle: {\n                color: '#0da5d5',\n                opacity: 1,\n                fillColor: '#0da5d5',\n                fillOpacity: 1,\n                weight: 1,\n                radius: 5,\n                renderer: rulerRenderer\n            },\n            front: {\n                color: '#fff',\n                opacity: 1,\n                fillColor: '#0da5d5',\n                fillOpacity: 1,\n                weight: 4,\n                radius: 2,\n                renderer: rulerRenderer\n            }\n        }\n    }\n});\n\nDG.Ruler.Dictionary.ru = {\n    km : 'км',\n    m : 'м',\n    delimiter : ','\n};\n\nDG.Ruler.Dictionary.it = {\n    km : 'km',\n    m : 'm',\n    delimiter : ','\n};\n\nDG.Ruler.Dictionary.cs = {\n    km: 'km',\n    m: 'm',\n    delimiter: ','\n};\n\nDG.Ruler.Dictionary.es = {\n    km : 'km',\n    m : 'm',\n    delimiter : ','\n};\n\nDG.Ruler.Dictionary.en = {\n    km : 'km',\n    m : 'm',\n    delimiter : '.'\n};\n\nDG.Ruler.Dictionary.ar = {\n    km : 'كم',\n    m : 'م',\n    delimiter : '.'\n};\n\nDG.Control.Ruler = DG.RoundControl.extend({\n\n    options: {\n        position: 'topright',\n        iconClass: 'ruler'\n    },\n\n    statics: {\n        Dictionary: {}\n    },\n\n    initialize: function(options) {\n        DG.setOptions(this, options);\n        DG.extend(this, {\n            _active: false,\n            _drawingHelper: null,\n            _geoclickerNeedRestore: false\n        }).on(this._controlEvents, this);\n    },\n\n    _controlEvents: {\n        add: function() {\n            this._drawingHelper = DG.ruler([]);\n        },\n        click: function() {\n            this._active = !this._active;\n\n            if (this._active) {\n                this.setState('active');\n                this._startDrawing();\n            } else {\n                this.setState('');\n                this._finishDrawing();\n            }\n        },\n        remove: function() {\n            this.off(this._controlEvents, this);\n            if (this._active) {\n                this._map.removeLayer(this._drawingHelper);\n                this._active = false;\n            }\n            this._drawingHelper = null;\n        }\n    },\n\n    _startDrawing: function() { // ()\n        this._map\n            .addLayer(this._drawingHelper)\n            .on('click', this._handleMapClick, this);\n\n        this._map.fire('rulerstart');\n    },\n\n    _finishDrawing: function() { // ()\n        this._map\n            .off('click', this._handleMapClick, this)\n            .removeLayer(this._drawingHelper);\n\n        this._drawingHelper.setLatLngs([]);\n\n        this._map.fire('rulerend');\n    },\n\n    _handleMapClick: function(event) { // (MouseEvents)\n        this._drawingHelper.addLatLng(event.latlng);\n    },\n\n    _renderTranslation: function() { // ()\n        this._link.title = this.t('button_title');\n    }\n});\n\nDG.control.ruler = function(options) {\n    return new DG.Control.Ruler(options);\n};\n\nDG.Map.mergeOptions({\n    rulerControl: false\n});\n\nDG.Map.addInitHook(function() {\n    if (this.options.rulerControl) {\n        this.rulerControl = DG.control.ruler(this.options.rulerControl);\n        this.addControl(this.rulerControl);\n    }\n});\n\nDG.Control.Ruler.Dictionary.ru = {\n    button_title: 'Линейка'\n};\n\nDG.Control.Ruler.Dictionary.it = {\n    button_title : 'Righello'\n};\n\nDG.Control.Ruler.Dictionary.cs = {\n    button_title: 'Pravítko'\n};\n\nDG.Control.Ruler.Dictionary.es = {\n    button_title : 'Regla'\n};\n\nDG.Control.Ruler.Dictionary.en = {\n    button_title : 'Ruler'\n};\n\nDG.Control.Ruler.Dictionary.ar = {\n    button_title: 'مسطرة'\n};\n\n(function(dust){dust.register(\"DGAttribution\\/copyright\",body_0);function body_0(chk,ctx){return chk.w(\"<div class=\\\"dg-attribution__copyright\\\"><ul class=\\\"dg-attribution__links\\\"><li class=\\\"dg-attribution__link-item\\\">\").x(ctx.get([\"osm\"], false),ctx,{\"else\":body_1,\"block\":body_2},{}).w(\"</li><li class=\\\"dg-attribution__link-item\\\"><a href=\\\"\").f(ctx.get([\"copyright_license\"], false),ctx,\"h\").w(\"\\\" target=\\\"_blank\\\" class=\\\"dg-attribution__link\\\">\").f(ctx.get([\"license_agreement\"], false),ctx,\"h\").w(\"</a></li></ul>\").x(ctx.get([\"logotype\"], false),ctx,{\"else\":body_3,\"block\":body_7},{}).w(\"</div>\");}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<a href=\\\"\").f(ctx.get([\"copyright_apilink\"], false),ctx,\"h\").w(\"\\\" target=\\\"_blank\\\" class=\\\"dg-attribution__link\\\" dir=\\\"\").f(ctx.get([\"dir\"], false),ctx,\"h\").w(\"\\\">\").f(ctx.get([\"work_on\"], false),ctx,\"h\").w(\"</a>\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"© <a href=\\\"http://www.openstreetmap.org/copyright\\\" target=\\\"_blank\\\" class=\\\"dg-attribution__link\\\">OpenStreetMap contributors</a>, <a href=\\\"\").f(ctx.get([\"copyright_apilink\"], false),ctx,\"h\").w(\"\\\" target=\\\"_blank\\\" class=\\\"dg-attribution__link\\\" dir=\\\"\").f(ctx.get([\"dir\"], false),ctx,\"h\").w(\"\\\">\").f(ctx.get([\"work_on_with_osm\"], false),ctx,\"h\").w(\"</a>\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.s(ctx.get([\"btn\"], false),ctx,{\"block\":body_4},{});}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w(\"<div class=\\\"dg-attribution__button-wrapper\\\"><a class=\\\"dg-attribution__open2gis-button_name_\").f(ctx.get([\"name\"], false),ctx,\"h\").w(\" dg-attribution__open2gis-button dg-attribution__open2gis-icon-button\\\"\").x(ctx.get([\"open2gis_link\"], false),ctx,{\"else\":body_5,\"block\":body_6},{}).w(\">\").f(ctx.get([\"label\"], false),ctx,\"h\").w(\"</a></div>\");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w(\"href=\\\"javascript:void(0)\\\"\");}body_5.__dustBody=!0;function body_6(chk,ctx){return chk.w(\"href=\").f(ctx.get([\"open2gis_link\"], false),ctx,\"h\").w(\" target=\\\"_blank\\\" name=\").f(ctx.get([\"open2gis_name\"], false),ctx,\"h\");}body_6.__dustBody=!0;function body_7(chk,ctx){return chk.w(\"<a href=\\\"\").f(ctx.get([\"copyright_logo\"], false),ctx,\"h\").w(\"\\\" target=\\\"_blank\\\" class=\\\"dg-attribution__logo-url\\\"></a>\");}body_7.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/cityarea\",body_0);function body_0(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__purpose dg-map-geoclicker__purpose_type_\").f(ctx.get([\"type\"], false),ctx,\"h\").w(\"\\\">\").f(ctx.get([\"purpose\"], false),ctx,\"h\").w(\"</div>\").s(ctx.get([\"drilldown\"], false),ctx,{\"block\":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__drilldown\\\">\").f(ctx.get([\"drilldown\"], false),ctx,\"h\").w(\"</div>\");}body_1.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/firmCardAddr\",body_0);function body_0(chk,ctx){return chk.w(\"<address class=\\\"dg-firm-card__address dg-firm-card__icon\\\">\").f(ctx.get([\"address\"], false),ctx,\"h\").s(ctx.get([\"comment\"], false),ctx,{\"block\":body_1},{}).w(\"</address>\");}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<span class=\\\"dg-firm-card__comment\\\">&mdash; \").f(ctx.getPath(true, []),ctx,\"h\").w(\"</span>\");}body_1.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/firmCardContacts\",body_0);function body_0(chk,ctx){return chk.s(ctx.get([\"groups\"], false),ctx,{\"block\":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.s(ctx.get([\"contacts\"], false),ctx,{\"block\":body_2},{});}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.h(\"select\",ctx,{\"block\":body_3},{\"key\":ctx.get([\"type\"], false),\"type\":\"string\"},\"h\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.h(\"eq\",ctx,{\"block\":body_4},{\"value\":\"phone\",\"type\":\"string\"},\"h\").h(\"eq\",ctx,{\"block\":body_6},{\"value\":\"fax\",\"type\":\"string\"},\"h\").h(\"eq\",ctx,{\"block\":body_8},{\"value\":\"website\",\"type\":\"string\"},\"h\").h(\"eq\",ctx,{\"block\":body_9},{\"value\":\"email\",\"type\":\"string\"},\"h\");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w(\"<div class=\\\"dg-firm-card__phone dg-firm-card__icon\\\"><span class=\\\"dg-firm-card__phone-num\\\">\").f(ctx.get([\"text\"], false),ctx,\"h\").s(ctx.get([\"comment\"], false),ctx,{\"block\":body_5},{}).w(\"</span></div>\");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w(\"<span class=\\\"dg-firm-card__comment\\\" title=\\\"\").f(ctx.getPath(true, []),ctx,\"h\").w(\"\\\">&mdash;&nbsp;&nbsp;\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</span>\");}body_5.__dustBody=!0;function body_6(chk,ctx){return chk.w(\"<div class=\\\"dg-firm-card__phone dg-firm-card__icon\\\"><span class=\\\"dg-firm-card__phone-num\\\">\").f(ctx.get([\"text\"], false),ctx,\"h\").s(ctx.get([\"comment\"], false),ctx,{\"block\":body_7},{}).w(\"</span></div>\");}body_6.__dustBody=!0;function body_7(chk,ctx){return chk.w(\"<span class=\\\"dg-firm-card__comment\\\" title=\\\"\").f(ctx.getPath(true, []),ctx,\"h\").w(\"\\\">&mdash;&nbsp;&nbsp;\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</span>\");}body_7.__dustBody=!0;function body_8(chk,ctx){return chk.w(\"<div class=\\\"dg-firm-card__link dg-firm-card__site dg-firm-card__icon\\\"><a href=\\\"\").f(ctx.get([\"url\"], false),ctx,\"h\").w(\"\\\" target=\\\"_blank\\\" class=\\\"dg-link_scheme_dark dg-firm-card__sitelink\\\">\").f(ctx.get([\"text\"], false),ctx,\"h\").w(\"</a></div>\");}body_8.__dustBody=!0;function body_9(chk,ctx){return chk.w(\"<div class=\\\"dg-firm-card__link dg-firm-card__email dg-firm-card__icon\\\"><a href=\\\"mailto:\").f(ctx.get([\"value\"], false),ctx,\"h\").w(\"\\\">\").f(ctx.get([\"value\"], false),ctx,\"h\").w(\"</a></div>\");}body_9.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/firmCardHeader\",body_0);function body_0(chk,ctx){return chk.w(\"<div class=\\\"dg-popup__header-title dg-popup__header-title_for_firmcard\\\" title=\\\"\").f(ctx.get([\"firmName\"], false),ctx,\"h\").w(\"\\\">\").f(ctx.get([\"firmName\"], false),ctx,\"h\").w(\"</div>\").x(ctx.get([\"links\"], false),ctx,{\"block\":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<div class=\\\"dg-popup__header-links\\\">\").s(ctx.get([\"links\"], false),ctx,{\"block\":body_2},{}).w(\"</div>\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.h(\"eq\",ctx,{\"else\":body_3,\"block\":body_6},{\"key\":body_7,\"value\":\"flamp_stars\",\"type\":\"string\"},\"h\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w(\"<a class=\\\"dg-popup__header-link dg-popup__link dg-popup__link_type_\").f(ctx.get([\"name\"], false),ctx,\"h\").w(\"\\\"\").x(ctx.get([\"href\"], false),ctx,{\"else\":body_4,\"block\":body_5},{}).w(\">\").f(ctx.get([\"label\"], false),ctx,\"h\").w(\"</a>\");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w(\"href=\\\"javascript:void(0)\\\"\");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w(\"href=\").f(ctx.get([\"href\"], false),ctx,\"h\").w(\" target=\\\"_blank\\\"\");}body_5.__dustBody=!0;function body_6(chk,ctx){return chk.w(\"<div class=\\\"dg-popup__rating\\\"><div class=\\\"dg-popup__rating-stars\\\" style=\\\"width: \").f(ctx.get([\"width\"], false),ctx,\"h\").w(\"%\\\"></div></div>\");}body_6.__dustBody=!0;function body_7(chk,ctx){return chk.f(ctx.get([\"name\"], false),ctx,\"h\");}body_7.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/firmCardRubric\",body_0);function body_0(chk,ctx){return chk.s(ctx.get([\"rubrics\"], false),ctx,{\"block\":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<section class=\\\"dg-firm-card__rubrics\\\">\").x(ctx.get([\"primary\"], false),ctx,{\"block\":body_2},{}).x(ctx.get([\"additional\"], false),ctx,{\"block\":body_4},{}).w(\"</section>\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"<ul class=\\\"dg-firm-card__rubrics-list dg-firm-card__rubrics-list_type_primary\\\">\").s(ctx.get([\"primary\"], false),ctx,{\"block\":body_3},{}).w(\"</ul>\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w(\"<li class=\\\"dg-firm-card__rubrics-list-item\\\">\").f(ctx.get([\"name\"], false),ctx,\"h\").w(\"</li>\");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w(\"<ul class=\\\"dg-firm-card__rubrics-list dg-firm-card__rubrics-list_type_additional\\\">\").s(ctx.get([\"additional\"], false),ctx,{\"block\":body_5},{}).w(\"</ul>\");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w(\"<li class=\\\"dg-firm-card__rubrics-list-item\\\">\").f(ctx.get([\"name\"], false),ctx,\"h\").w(\"</li>\");}body_5.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/firmCardSchedule\",body_0);function body_0(chk,ctx){return chk.w(\"<div class=\\\"dg-firm-card__schedule dg-schedule dg-schedule_open_\").x(ctx.getPath(false, [\"forecast\",\"open\"]),ctx,{\"else\":body_1,\"block\":body_2},{}).w(\" dg-schedule_works-everyday_\").x(ctx.getPath(false, [\"schedule\",\"everyday\"]),ctx,{\"else\":body_3,\"block\":body_4},{}).w(\"\\\">\").x(ctx.get([\"schedule\"], false),ctx,{\"block\":body_5},{}).w(\"</div>\");}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"false\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"true\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w(\"false\");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w(\"true\");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.x(ctx.getPath(false, [\"forecast\",\"today\"]),ctx,{\"block\":body_6},{}).s(ctx.getPath(false, [\"forecast\",\"now\"]),ctx,{\"block\":body_10},{}).nx(ctx.getPath(false, [\"schedule\",\"everyday\"]),ctx,{\"block\":body_12},{});}body_5.__dustBody=!0;function body_6(chk,ctx){return chk.w(\"<div class=\\\"dg-schedule__today\\\"><div class=\\\"dg-schedule__today-inner\\\">\").f(ctx.getPath(false, [\"forecast\",\"today\",\"text\"]),ctx,\"h\").w(\"&nbsp;\").x(ctx.getPath(false, [\"forecast\",\"today\",\"from\"]),ctx,{\"block\":body_7},{}).x(ctx.getPath(false, [\"schedule\",\"lunch\"]),ctx,{\"block\":body_8},{}).w(\"</div></div>\");}body_6.__dustBody=!0;function body_7(chk,ctx){return chk.f(ctx.getPath(false, [\"forecast\",\"today\",\"from\"]),ctx,\"h\").w(\"&ndash;\").f(ctx.getPath(false, [\"forecast\",\"today\",\"to\"]),ctx,\"h\");}body_7.__dustBody=!0;function body_8(chk,ctx){return chk.w(\",&nbsp;\").f(ctx.getPath(false, [\"forecast\",\"today\",\"lunchStr\"]),ctx,\"h\").w(\"&nbsp;\").s(ctx.getPath(false, [\"schedule\",\"lunch\"]),ctx,{\"block\":body_9},{});}body_8.__dustBody=!0;function body_9(chk,ctx){return chk.f(ctx.get([\"from\"], false),ctx,\"h\").w(\"&ndash;\").f(ctx.get([\"to\"], false),ctx,\"h\");}body_9.__dustBody=!0;function body_10(chk,ctx){return chk.w(\"<div class=\\\"dg-schedule__now\\\"><span class=\\\"dg-schedule__now-text\\\">\").f(ctx.getPath(true, []),ctx,\"h\").s(ctx.getPath(false, [\"schedule\",\"comment\"]),ctx,{\"block\":body_11},{}).w(\"</span></div>\");}body_10.__dustBody=!0;function body_11(chk,ctx){return chk.w(\", \").f(ctx.getPath(true, []),ctx,\"h\");}body_11.__dustBody=!0;function body_12(chk,ctx){return chk.x(ctx.getPath(false, [\"schedule\",\"week\"]),ctx,{\"block\":body_13},{});}body_12.__dustBody=!0;function body_13(chk,ctx){return chk.x(ctx.getPath(false, [\"schedule\",\"week\",\"evently\"]),ctx,{\"block\":body_14},{}).x(ctx.getPath(false, [\"schedule\",\"week\",\"table\"]),ctx,{\"block\":body_22},{});}body_13.__dustBody=!0;function body_14(chk,ctx){return chk.w(\"<div class=\\\"dg-schedule__table\\\">\").s(ctx.getPath(false, [\"schedule\",\"week\",\"evently\"]),ctx,{\"block\":body_15},{}).w(\"</div>\");}body_14.__dustBody=!0;function body_15(chk,ctx){return chk.w(\"<div class=\\\"dg-schedule__string\\\">\").x(ctx.get([\"alltime\"], false),ctx,{\"block\":body_16},{}).x(ctx.get([\"everyday\"], false),ctx,{\"else\":body_17,\"block\":body_18},{}).x(ctx.get([\"holiday\"], false),ctx,{\"else\":body_19,\"block\":body_21},{}).w(\"</div>\");}body_15.__dustBody=!0;function body_16(chk,ctx){return chk.f(ctx.get([\"alltimeStr\"], false),ctx,\"h\");}body_16.__dustBody=!0;function body_17(chk,ctx){return chk.f(ctx.get([\"dayList\"], false),ctx,\"h\");}body_17.__dustBody=!0;function body_18(chk,ctx){return chk.f(ctx.getPath(false, [\"forecast\",\"today\",\"text\"]),ctx,\"h\");}body_18.__dustBody=!0;function body_19(chk,ctx){return chk.w(\"<span class=\\\"schedule__string-time\\\">&nbsp;\").f(ctx.get([\"from\"], false),ctx,\"h\").w(\"&ndash;\").f(ctx.get([\"to\"], false),ctx,\"h\").w(\"</span>\").s(ctx.get([\"lunch\"], false),ctx,{\"block\":body_20},{});}body_19.__dustBody=!0;function body_20(chk,ctx){return chk.w(\"<p>\").f(ctx.get([\"lunchStr\"], false),ctx,\"h\").w(\"&mdash;<span class=\\\"schedule__string-time\\\">\").f(ctx.get([\"from\"], false),ctx,\"h\").w(\"&ndash;\").f(ctx.get([\"to\"], false),ctx,\"h\").w(\"</span></p>\");}body_20.__dustBody=!0;function body_21(chk,ctx){return chk.w(\"&nbsp;&mdash;<span class=\\\"schedule__string-time\\\">&nbsp;\").f(ctx.get([\"holidayStr\"], false),ctx,\"h\").w(\"</span>\");}body_21.__dustBody=!0;function body_22(chk,ctx){return chk.w(\"<div><div class=\\\"dg-schedule__table\\\"><div class=\\\"dg-schedule__tc dg-schedule__tc_pre\\\"><div class=\\\"dg-schedule__day-name\\\">&nbsp;</div><div class=\\\"dg-schedule__table-clock dg-schedule__td\\\"></div>\").x(ctx.getPath(false, [\"schedule\",\"week\",\"hasLunch\"]),ctx,{\"block\":body_23},{}).w(\"</div>\").s(ctx.getPath(false, [\"schedule\",\"week\",\"table\"]),ctx,{\"block\":body_24},{}).w(\"</div>  </div>\");}body_22.__dustBody=!0;function body_23(chk,ctx){return chk.w(\"<div class=\\\"dg-schedule__table-lunch dg-schedule__td\\\"></div>\");}body_23.__dustBody=!0;function body_24(chk,ctx){return chk.h(\"if\",ctx,{\"block\":body_25},{\"cond\":body_26},\"h\").w(\"<div class=\\\"dg-schedule__tc\").x(ctx.get([\"active\"], false),ctx,{\"block\":body_27},{}).w(\"\\\"><div class=\\\"dg-schedule__day-name\\\">\").f(ctx.get([\"key\"], false),ctx,\"h\").w(\"</div><div class=\\\"dg-schedule__td\\\">\").x(ctx.get([\"from\"], false),ctx,{\"else\":body_28,\"block\":body_29},{}).w(\"</div>\").s(ctx.get([\"lunch\"], false),ctx,{\"block\":body_30},{}).w(\"</div> \").h(\"if\",ctx,{\"block\":body_33},{\"cond\":body_34},\"h\");}body_24.__dustBody=!0;function body_25(chk,ctx){return chk.w(\"<span class=\\\"dg-schedule__table-cell-group\\\">\");}body_25.__dustBody=!0;function body_26(chk,ctx){return chk.w(\"(\").f(ctx.get([\"$idx\"], false),ctx,\"h\").w(\" == \").f(ctx.get([\"$len\"], false),ctx,\"h\").w(\" - 2)\");}body_26.__dustBody=!0;function body_27(chk,ctx){return chk.w(\" dg-schedule__tc_active_true\");}body_27.__dustBody=!0;function body_28(chk,ctx){return chk.w(\"&ndash;\");}body_28.__dustBody=!0;function body_29(chk,ctx){return chk.f(ctx.get([\"from\"], false),ctx,\"h\").w(\" \").f(ctx.get([\"to\"], false),ctx,\"h\");}body_29.__dustBody=!0;function body_30(chk,ctx){return chk.w(\"<div class=\\\"dg-schedule__td\\\">\").x(ctx.get([\"from\"], false),ctx,{\"else\":body_31,\"block\":body_32},{}).w(\"</div>\");}body_30.__dustBody=!0;function body_31(chk,ctx){return chk.w(\"&ndash;\");}body_31.__dustBody=!0;function body_32(chk,ctx){return chk.f(ctx.get([\"from\"], false),ctx,\"h\").w(\" \").f(ctx.get([\"to\"], false),ctx,\"h\");}body_32.__dustBody=!0;function body_33(chk,ctx){return chk.w(\"</span>\");}body_33.__dustBody=!0;function body_34(chk,ctx){return chk.w(\"(\").f(ctx.get([\"$idx\"], false),ctx,\"h\").w(\" == \").f(ctx.get([\"$len\"], false),ctx,\"h\").w(\")\");}body_34.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/firmlistItem\",body_0);function body_0(chk,ctx){return chk.w(\"<a id=\\\"\").f(ctx.getPath(false, [\"firm\",\"id\"]),ctx,\"h\").w(\"\\\" class=\\\"dg-popup__link\\\" href=\\\"#\\\">\").f(ctx.getPath(false, [\"firm\",\"name\"]),ctx,\"h\").w(\"</a>\");}body_0.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/frimCardPayments\",body_0);function body_0(chk,ctx){return chk.x(ctx.get([\"payments\"], false),ctx,{\"block\":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<section class=\\\"dg-firm-card__aa\\\"><ul class=\\\"dg-firm-card__aa-list\\\">\").s(ctx.get([\"payments\"], false),ctx,{\"block\":body_2},{}).w(\"</ul></section>\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"<li class=\\\"dg-firm-card__aa-list-item\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</li>\");}body_2.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/house\",body_0);function body_0(chk,ctx){return chk.s(ctx.get([\"address\"], false),ctx,{\"block\":body_1},{}).s(ctx.get([\"purpose\"], false),ctx,{\"block\":body_4},{}).s(ctx.get([\"attractions\"], false),ctx,{\"block\":body_5},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<address class=\\\"dg-map-geoclicker__address\\\">\").s(ctx.getPath(false, [\"address\",\"header\"]),ctx,{\"block\":body_2},{}).s(ctx.getPath(false, [\"address\",\"drilldown\"]),ctx,{\"block\":body_3},{}).w(\"</address>\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__address-header\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__address-drilldown\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__purpose\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__purpose dg-map-geoclicker__purpose_type_sight\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_5.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/loader\",body_0);function body_0(chk,ctx){return chk.w(\"<div class=\\\"dg-preloader dg-preloader_scheme_regular dg-preloader_animation_\").x(ctx.get([\"anim\"], false),ctx,{\"else\":body_1,\"block\":body_2},{}).x(ctx.get([\"small\"], false),ctx,{\"block\":body_3},{}).w(\"\\\"></div>\");}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"false\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"true\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w(\" dg-preloader_size_small\");}body_3.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/popupFooter\",body_0);function body_0(chk,ctx){return chk.w(\"<div class=\\\"dg-popup__footer-title\\\"><a class=\\\"dg-popup__show-less-house-link\\\" href=\\\"javascript:void(0)\\\">\").f(ctx.get([\"hideFirmsText\"], false),ctx,\"h\").w(\"</a></div>\");}body_0.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/popupFooterBtns\",body_0);function body_0(chk,ctx){return chk.x(ctx.get([\"btns\"], false),ctx,{\"block\":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<footer class=\\\"dg-popup__footer-buttons\\\">\").s(ctx.get([\"btns\"], false),ctx,{\"block\":body_2},{}).w(\"</footer>\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"<div class=\\\"dg-popup__footer-button-wrapper\\\"><a class=\\\"dg-popup__button_name_\").f(ctx.get([\"name\"], false),ctx,\"h\").w(\" dg-popup__footer-button\").x(ctx.get([\"icon\"], false),ctx,{\"block\":body_3},{}).w(\"\\\"\").x(ctx.get([\"href\"], false),ctx,{\"else\":body_4,\"block\":body_5},{}).w(\">\").f(ctx.get([\"label\"], false),ctx,\"h\").w(\"</a></div>\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w(\" dg-popup__footer-icon-button\");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w(\"href=\\\"javascript:void(0)\\\"\");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w(\"href=\").f(ctx.get([\"href\"], false),ctx,\"h\").w(\" target=\\\"_blank\\\"\");}body_5.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/popupHeader\",body_0);function body_0(chk,ctx){return chk.s(ctx.get([\"title\"], false),ctx,{\"block\":body_1},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<div class=\\\"dg-popup__header-title\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_1.__dustBody=!0;return body_0}(dust));\n(function(dust){dust.register(\"DGGeoclicker\\/sight\",body_0);function body_0(chk,ctx){return chk.s(ctx.get([\"purpose\"], false),ctx,{\"block\":body_1},{}).s(ctx.get([\"address\"], false),ctx,{\"block\":body_2},{}).s(ctx.get([\"description\"], false),ctx,{\"block\":body_5},{});}body_0.__dustBody=!0;function body_1(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__purpose dg-map-geoclicker__purpose_type_sight\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_1.__dustBody=!0;function body_2(chk,ctx){return chk.w(\"<address class=\\\"dg-map-geoclicker__address\\\">\").s(ctx.getPath(false, [\"address\",\"header\"]),ctx,{\"block\":body_3},{}).s(ctx.getPath(false, [\"address\",\"drilldown\"]),ctx,{\"block\":body_4},{}).w(\"</address>\");}body_2.__dustBody=!0;function body_3(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__address-header\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_3.__dustBody=!0;function body_4(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__address-drilldown\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\");}body_4.__dustBody=!0;function body_5(chk,ctx){return chk.w(\"<div class=\\\"dg-map-geoclicker__sight-description\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</div>\").s(ctx.get([\"showMoreText\"], false),ctx,{\"block\":body_6},{});}body_5.__dustBody=!0;function body_6(chk,ctx){return chk.w(\"<a class=\\\"dg-map-geoclicker__show-more-sights-link\\\" href=\\\"javascript:void(0)\\\">\").f(ctx.getPath(true, []),ctx,\"h\").w(\"</a>\");}body_6.__dustBody=!0;return body_0}(dust));DG.fallbackProjectsList = JSON.parse('[{\"bounds\":\"POLYGON((90.653667 53.934494,90.676663 53.94803,90.883635 53.988613,91.021617 54.002132,91.136601 54.042661,91.251585 54.110123,91.458557 54.137078,91.527548 54.123603,91.619535 54.069659,91.619535 54.015646,91.642532 53.97509,91.849504 53.934494,91.826507 53.866747,91.826507 53.635583,91.80351 53.485328,91.941491 53.444257,91.964488 53.361995,91.872501 53.307066,91.826507 53.265822,91.80351 53.196994,91.665529 53.155645,91.619535 53.100449,91.642532 52.920575,91.665529 52.906708,91.688526 52.865079,91.665529 52.851193,91.596538 52.753872,91.458557 52.712096,91.274582 52.712096,91.274582 52.726026,91.205591 52.7817,90.99862 52.934438,90.768651 53.072825,90.676663 53.169432,90.676663 53.210769,90.768651 53.279574,90.837642 53.320805,91.090607 53.457952,91.136601 53.540028,91.06761 53.608304,91.06761 53.662845,90.883635 53.744525,90.676663 53.839617,90.653667 53.934494))\",\"code\":\"abakan\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"69\",\"name\":\"Абакан\",\"time_zone\":{\"name\":\"Asia/Krasnoyarsk\",\"offset\":420},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((49.788226 44.903867,49.788226 45.017774,49.880214 45.163892,49.972201 45.196313,50.133179 45.212516,50.363148 45.212516,50.547123 45.147675,50.708101 45.098997,50.869079 45.131454,51.099048 45.309637,51.168039 45.390445,51.283023 45.503383,51.765957 45.616094,52.156904 45.551715,52.294885 45.567817,52.455863 45.616094,52.547851 45.74463,52.869807 46.000816,52.984791 46.04872,52.984791 46.064678,53.053782 46.080632,53.168766 46.032756,53.191763 46.016789,53.674698 46.016789,53.95066 46.160333,53.996654 46.239918,54.249619 46.255822,54.341607 46.255822,54.548579 46.303504,54.68656 46.319388,54.847538 46.367015,55.05451 46.367015,55.077507 46.382882,55.284479 46.367015,55.468454 46.493817,55.537444 46.477983,55.629432 46.4146,55.767413 46.4146,55.836403 46.398743,55.8594 46.287614,55.836403 46.27172,55.997382 46.22401,56.020378 46.208098,56.089369 46.192181,56.15836 46.144402,56.22735 46.128466,56.296341 46.144402,56.457319 46.128466,56.52631 46.080632,56.549306 46.000816,56.5953 45.920885,56.641294 45.66433,56.664291 45.648256,56.733281 45.180105,56.319338 45.082761,55.997382 45.001515,55.997382 41.3126,55.905394 41.3126,55.79041 41.260759,55.767413 41.278044,55.652428 41.260759,55.445457 41.24347,55.330472 41.364399,55.261482 41.416158,55.100504 41.605586,55.05451 41.691506,54.939525 41.811602,54.916529 41.845874,54.939525 41.897247,54.709557 42.068194,54.456591 42.221653,54.341607 42.272723,54.272616 42.340753,54.157632 42.357749,53.996654 42.323752,53.927663 42.323752,53.58271 42.272723,53.490723 42.238681,53.444729 42.238681,53.191763 42.153495,53.076779 42.136444,53.053782 42.119388,52.984791 42.085263,52.685832 41.897247,52.501857 41.76016,52.340879 41.708677,52.248892 41.708677,52.225895 41.76016,52.225895 41.99987,52.202898 42.119388,52.225895 42.20462,52.294885 42.289737,52.40987 42.476591,52.386873 42.5444,52.317882 42.595208,52.202898 42.629058,51.903938 42.662889,51.74296 42.7136,51.719963 42.764271,51.67397 42.798028,51.604979 42.899189,51.535989 42.949708,51.421004 42.966538,51.260026 42.983364,51.122045 43.033813,51.099048 43.050621,51.053054 43.117804,51.076051 43.452614,50.984064 43.519355,50.93807 43.602677,50.892076 43.635974,50.823086 43.768976,50.708101 43.934814,50.547123 44.116703,50.478132 44.13321,50.317154 44.149714,50.179173 44.199195,50.087186 44.281572,50.018195 44.380272,50.018195 44.544403,49.903211 44.757084,49.788226 44.903867))\",\"code\":\"aktau\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true},\"id\":\"196\",\"name\":\"Актау\",\"time_zone\":{\"name\":\"Asia/Aqtau\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((56.871263 50.308299,56.871263 50.367011,56.89426 50.410998,57.078235 50.557325,57.193219 50.586536,57.285206 50.571932,57.308203 50.528096,57.377194 50.513474,57.538172 50.528096,57.584166 50.498848,57.745144 50.484218,57.768141 50.440299,57.745144 50.367011,57.768141 50.322984,57.745144 50.278916,57.69915 50.249514,57.676153 50.190657,57.607163 50.190657,57.492178 50.146466,57.446184 50.116983,57.3312 50.131727,57.170222 50.116983,57.055238 50.131727,56.940253 50.175931,56.940253 50.264217,56.871263 50.308299))\",\"code\":\"aktobe\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true},\"id\":\"167\",\"name\":\"Актобе\",\"time_zone\":{\"name\":\"Asia/Aqtobe\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((73.727969 45.196313,73.727969 45.244908,73.773963 45.293462,74.003932 45.293462,74.003932 45.325808,73.980935 45.374293,73.911944 45.74463,73.980935 45.856857,74.026929 45.88888,74.049926 46.000816,74.16491 46.144402,74.739832 46.525471,75.015794 46.557107,75.33775 46.683467,75.521725 46.715011,75.590716 46.699241,75.797688 46.715011,75.820685 46.730776,76.07365 46.730776,76.211631 46.636117,76.372609 46.651905,76.4416 46.620324,76.533588 46.620324,76.533588 46.636117,76.602578 46.667688,76.625575 46.667688,76.763556 46.604527,76.855544 46.588725,76.901538 46.557107,76.924534 46.572919,76.924534 46.620324,77.039519 46.636117,77.108509 46.572919,77.131506 46.525471,77.200497 46.525471,77.292484 46.557107,77.315481 46.604527,77.453462 46.604527,77.54545 46.636117,77.54545 46.715011,77.522453 46.730776,77.522453 46.79379,77.476459 47.15469,77.614441 47.217206,77.798416 47.185957,77.890403 47.185957,78.005387 47.264045,78.074378 47.248437,78.120372 47.217206,78.189362 47.217206,78.258353 47.295248,78.327344 47.310843,78.465325 47.232824,78.603306 47.185957,78.672297 47.139049,78.741287 47.139049,78.833275 47.045108,79.040247 47.060777,79.270215 47.07644,79.707156 46.919596,79.868134 46.888172,80.098103 46.903887,80.1211 46.888172,80.19009 46.872453,80.213087 46.79379,80.305074 46.778043,80.374065 46.730776,80.420059 46.730776,80.443056 46.715011,80.650028 46.636117,80.856999 46.572919,81.155959 46.557107,81.247946 46.493817,81.385927 46.541292,81.477915 46.557107,81.546906 46.493817,81.523909 46.398743,81.569902 46.319388,81.684887 46.239918,81.753877 46.160333,81.868862 46.112526,81.960849 45.904885,81.983846 45.88888,82.052837 45.824815,82.121827 45.712524,82.144824 45.696464,82.236812 45.600006,82.282805 45.600006,82.305802 45.551715,82.39779 45.503383,82.420787 45.503383,82.420787 45.487263,82.535771 45.438875,82.558768 45.422736,82.604762 45.358136,82.604762 45.212516,82.489777 45.163892,82.420787 45.163892,82.420787 45.180105,82.305802 45.196313,82.282805 45.212516,82.075834 45.196313,82.052837 45.228714,81.937852 45.212516,81.822868 45.293462,81.776874 45.358136,81.66189 45.341974,81.500912 45.261097,81.431921 45.244908,81.408924 45.261097,81.132962 45.196313,81.109965 45.180105,81.017977 45.147675,80.902993 45.131454,80.879996 45.115228,80.765012 45.131454,80.650028 45.115228,80.627031 45.098997,80.489049 45.098997,80.397062 45.034027,80.282078 45.034027,80.213087 45.017774,80.144096 45.034027,79.937125 44.920153,80.006115 44.838676,80.029112 44.822367,80.167093 44.838676,80.236084 44.740751,80.351068 44.708073,80.420059 44.626296,80.397062 44.495212,80.374065 44.478806,80.420059 44.31449,80.420059 44.149714,80.466053 44.083674,80.466053 44.01756,80.535043 43.901683,80.535043 43.835366,80.696021 43.619328,80.742015 43.552697,80.765012 43.435917,80.742015 43.352364,80.719018 43.33564,80.788009 43.318911,80.811006 43.168143,80.811006 43.134588,80.742015 43.117804,80.719018 43.134588,80.627031 43.134588,80.55804 43.084221,80.420059 43.033813,80.443056 42.983364,80.581037 42.932873,80.604034 42.916033,80.581037 42.865487,80.535043 42.865487,80.397062 42.8149,80.282078 42.8149,80.259081 42.696701,80.19009 42.645975,80.213087 42.561341,80.236084 42.5444,80.259081 42.5444,80.236084 42.425686,80.305074 42.272723,80.305074 42.221653,80.236084 42.20462,80.167093 42.20462,80.1211 42.306747,80.006115 42.357749,79.937125 42.442659,79.799143 42.442659,79.707156 42.476591,79.546178 42.459627,79.45419 42.49355,79.431193 42.5444,79.408197 42.5444,79.339206 42.595208,79.178228 42.679797,79.178228 42.747385,79.155231 42.798028,79.132234 42.781152,78.902265 42.781152,78.810278 42.8149,78.695293 42.8149,78.511319 42.882341,78.465325 42.882341,78.304347 42.865487,78.005387 42.865487,77.660434 42.916033,77.591444 42.916033,77.568447 42.932873,77.246491 42.916033,77.131506 42.966538,77.016522 42.966538,76.993525 42.983364,76.763556 42.949708,76.740559 42.916033,76.533588 42.916033,76.418603 42.865487,76.349613 42.865487,76.280622 42.916033,76.211631 42.916033,76.188635 42.932873,76.027656 42.916033,76.00466 42.932873,75.912672 42.949708,75.797688 42.932873,75.774691 42.949708,75.613713 43.000185,75.63671 43.017001,75.613713 43.067423,75.544722 43.084221,75.360747 43.151368,75.291757 43.285439,75.291757 43.352364,75.406741 43.435917,75.406741 43.485993,75.383744 43.536028,75.176772 43.519355,75.038791 43.602677,74.992797 43.635974,75.107782 43.719135,75.26876 43.818776,75.26876 43.934814,75.314753 43.967926,75.314753 44.13321,75.199769 44.23216,74.946803 44.347391,74.739832 44.363834,74.509863 44.478806,74.509863 44.708073,74.325888 44.854981,74.2339 44.871281,74.141913 44.920153,74.095919 45.082761,74.072922 45.131454,74.003932 45.131454,73.750966 45.115228,73.727969 45.196313))\",\"code\":\"almaty\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":true,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"67\",\"name\":\"Алматы\",\"time_zone\":{\"name\":\"Asia/Almaty\",\"offset\":360},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((52.225895 54.831748,52.225895 54.937574,52.271888 54.977188,52.363876 54.977188,52.432867 54.911144,52.455863 54.897922,52.47886 54.844991,52.455863 54.805248,52.386873 54.8185,52.294885 54.805248,52.225895 54.831748))\",\"code\":\"almetevsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"108\",\"name\":\"Альметьевск\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((177.442943 64.716762,177.461329 64.743255,177.481352 64.744937,177.485114 64.745096,177.488763 64.745211,177.500119 64.745173,177.512638 64.744646,177.535186 64.742506,177.536934 64.742206,177.538532 64.741822,177.540029 64.74131,177.541327 64.740756,177.542392 64.74013,177.543357 64.739504,177.544313 64.738704,177.547776 64.734702,177.548689 64.733484,177.548927 64.732752,177.549031 64.731972,177.548972 64.731137,177.548689 64.730314,177.536236 64.715542,177.49007 64.709362,177.484061 64.708906,177.475419 64.71159,177.442943 64.716762))\",\"code\":\"anadyr\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"155\",\"name\":\"Анадырь\",\"time_zone\":{\"name\":\"Asia/Anadyr\",\"offset\":720},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((40.819447 44.806053,40.819447 44.871281,40.888437 44.887576,40.888437 45.001515,40.86544 45.050277,40.888437 45.066521,40.888437 45.196313,40.934431 45.244908,41.026418 45.244908,41.049415 45.228714,41.279384 45.228714,41.348375 45.212516,41.348375 45.115228,41.325378 45.115228,41.302381 45.034027,41.348375 44.920153,41.302381 44.871281,41.325378 44.854981,41.325378 44.740751,41.279384 44.691727,41.210393 44.691727,41.118406 44.675376,41.072412 44.708073,40.934431 44.757084,40.819447 44.806053))\",\"code\":\"armawir\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"106\",\"name\":\"Армавир\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((39.462631 64.308265,39.462631 64.821843,39.531622 64.831625,40.612475 64.821843,40.819447 64.821843,41.210393 64.812058,41.302381 64.812058,41.325378 64.78268,41.302381 64.655007,41.302381 64.566264,41.279384 64.338158,41.279384 64.298293,41.210393 64.288318,41.049415 64.288318,40.198531 64.298293,39.531622 64.298293,39.462631 64.308265))\",\"code\":\"arkhangelsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"49\",\"name\":\"Архангельск\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((47.62652 46.335269,47.62652 46.683467,47.718508 46.778043,47.787499 46.778043,47.810495 46.762292,47.879486 46.746536,47.902483 46.730776,47.948477 46.730776,47.948477 46.715011,48.132452 46.715011,48.316427 46.683467,48.36242 46.636117,48.408414 46.477983,48.36242 46.287614,48.36242 46.22401,48.408414 46.192181,48.408414 46.144402,48.36242 46.112526,48.36242 46.064678,48.270433 46.04872,48.247436 46.064678,48.201442 46.04872,47.971473 46.016789,47.833492 46.064678,47.764502 46.04872,47.695511 46.064678,47.62652 46.335269))\",\"code\":\"astrakhan\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"8\",\"name\":\"Астрахань\",\"time_zone\":{\"name\":\"Europe/Astrakhan\",\"offset\":240},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((51.788954 47.07644,51.788954 47.123404,51.811951 47.201584,51.880942 47.185957,51.972929 47.185957,52.064917 47.15469,52.064917 47.107754,52.04192 47.060777,51.972929 47.060777,51.880942 47.013758,51.788954 47.07644))\",\"code\":\"atyrau\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true},\"id\":\"168\",\"name\":\"Атырау\",\"time_zone\":{\"name\":\"Asia/Atyrau\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((49.512264 40.705231,49.535261 40.705231,49.581254 40.670355,49.742233 40.618007,49.857217 40.600548,50.041192 40.635461,50.20217 40.600548,50.340151 40.495702,50.409142 40.373174,50.432139 40.232868,50.386145 40.197746,50.041192 40.250422,49.719236 40.232868,49.696239 40.21531,49.604251 40.197746,49.535261 40.21531,49.535261 40.267972,49.558258 40.285517,49.535261 40.443217,49.512264 40.705231))\",\"code\":\"baku\",\"country_code\":\"az\",\"domain\":\"az\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":true,\"parking_layer\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true},\"id\":\"209\",\"name\":\"Баку\",\"time_zone\":{\"name\":\"Asia/Baku\",\"offset\":240},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((47.718508 51.967438,47.718508 52.052369,47.810495 52.052369,47.879486 52.024077,47.879486 51.981605,47.741505 51.953267,47.718508 51.967438))\",\"code\":\"balakovo\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"121\",\"name\":\"Балаково\",\"time_zone\":{\"name\":\"Europe/Saratov\",\"offset\":240},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((83.386655 53.334539,83.409652 53.334539,83.386655 53.375717,83.409652 53.444257,83.478643 53.485328,83.662618 53.485328,83.708611 53.457952,83.777602 53.457952,83.915583 53.49901,84.053565 53.471642,84.076561 53.485328,84.237539 53.485328,84.237539 53.457952,84.214543 53.416854,84.191546 53.403146,84.076561 53.307066,84.053565 53.210769,84.007571 53.141852,83.800599 53.100449,83.754605 53.128056,83.547633 53.141852,83.524636 53.155645,83.432649 53.169432,83.386655 53.334539))\",\"code\":\"barnaul\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"4\",\"name\":\"Барнаул\",\"time_zone\":{\"name\":\"Asia/Barnaul\",\"offset\":420},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((36.358053 50.630318,36.358053 50.67406,36.496035 50.703199,36.611019 50.688632,36.749 50.717761,36.932975 50.688632,36.932975 50.659484,36.886982 50.615729,36.840988 50.615729,36.726003 50.528096,36.68001 50.498848,36.565025 50.484218,36.427044 50.498848,36.427044 50.528096,36.450041 50.542712,36.38105 50.615729,36.358053 50.630318))\",\"code\":\"belgorod\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"46\",\"name\":\"Белгород\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((84.467508 51.981605,84.513502 52.009924,84.536499 52.052369,84.513502 52.066509,84.490505 52.1089,84.559496 52.1089,84.559496 52.16536,84.513502 52.221748,84.513502 52.263992,84.559496 52.292132,84.605489 52.362405,84.605489 52.530604,84.651483 52.530604,84.67448 52.572554,84.743471 52.586528,84.789464 52.614463,85.019433 52.64238,85.019433 52.656332,85.134417 52.67028,85.157414 52.628424,85.226405 52.628424,85.272399 52.656332,85.341389 52.656332,85.41038 52.628424,85.456374 52.530604,85.548361 52.460599,85.870317 52.446585,85.962305 52.348359,86.238267 52.179463,86.238267 52.038225,86.21527 52.024077,86.100286 52.080644,85.939308 52.094774,85.916311 52.123022,85.77833 52.1089,85.709339 52.094774,85.686342 52.052369,85.594355 51.981605,85.571358 51.967438,85.548361 51.910728,85.41038 51.882346,85.157414 51.868148,85.134417 51.882346,84.973439 51.868148,84.927446 51.839739,84.858455 51.853946,84.766468 51.896539,84.651483 51.882346,84.605489 51.896539,84.559496 51.924912,84.490505 51.939092,84.467508 51.981605))\",\"code\":\"biysk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"20\",\"name\":\"Бийск\",\"time_zone\":{\"name\":\"Asia/Barnaul\",\"offset\":420},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((132.806932 48.725902,132.829928 48.862248,132.875922 48.892497,133.105891 48.756233,133.082894 48.710729,133.013903 48.710729,132.806932 48.725902))\",\"code\":\"birobidzhan\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"157\",\"name\":\"Биробиджан\",\"time_zone\":{\"name\":\"Asia/Vladivostok\",\"offset\":600},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((74.394879 42.865487,74.417875 42.882341,74.417875 43.033813,74.440872 43.084221,74.60185 43.084221,74.716835 43.000185,74.854816 43.000185,74.9698 42.949708,75.130778 42.899189,75.130778 42.882341,75.360747 42.848629,75.452735 42.848629,75.475732 42.831767,75.7057 42.8149,75.774691 42.831767,75.797688 42.932873,75.912672 42.949708,76.00466 42.932873,76.027656 42.916033,76.188635 42.932873,76.211631 42.916033,76.280622 42.916033,76.349613 42.865487,76.418603 42.865487,76.533588 42.916033,76.740559 42.916033,76.763556 42.949708,76.993525 42.983364,77.016522 42.966538,77.131506 42.966538,77.246491 42.916033,77.568447 42.932873,77.591444 42.916033,77.660434 42.916033,78.005387 42.865487,78.304347 42.865487,78.465325 42.882341,78.488322 42.7136,78.511319 42.696701,78.534315 42.5444,78.557312 42.5444,78.557312 42.527455,78.6493 42.323752,78.6493 42.272723,78.626303 42.255704,77.775419 41.965681,77.752422 41.948579,77.522453 41.914363,77.085513 41.914363,76.602578 41.965681,76.464597 41.99987,76.211631 42.085263,76.027656 42.221653,75.981663 42.306747,75.981663 42.391727,75.935669 42.391727,75.912672 42.37474,75.820685 42.357749,75.751694 42.408709,75.63671 42.425686,75.429738 42.442659,75.406741 42.425686,75.015794 42.425686,74.992797 42.442659,74.923807 42.425686,74.716835 42.408709,74.486866 42.408709,74.417875 42.425686,74.417875 42.7136,74.394879 42.865487))\",\"code\":\"bishkek\",\"country_code\":\"kg\",\"domain\":\"kg\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true},\"id\":\"112\",\"name\":\"Бишкек\",\"time_zone\":{\"name\":\"Asia/Bishkek\",\"offset\":360},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((127.264686 50.469583,127.310679 50.542712,127.333676 50.557325,127.333676 50.615729,127.310679 50.615729,127.310679 50.630318,127.333676 50.644903,127.356673 50.688632,127.37967 50.703199,127.448661 50.790506,127.494654 50.819572,127.471657 50.892159,127.517651 50.935657,127.517651 51.008062,127.563645 51.036993,127.563645 51.123677,127.678629 51.166958,127.770617 51.181376,127.839607 51.166958,127.931595 51.19579,127.931595 51.310935,128.000586 51.382755,128.023582 51.44013,128.092573 51.46879,128.253551 51.483114,128.345539 51.526057,128.391532 51.497433,128.391532 51.44013,128.460523 51.397106,128.48352 51.296558,128.506517 51.296558,128.529514 51.19579,128.575507 51.152536,128.575507 51.065906,128.621501 50.99359,128.667495 50.964632,128.667495 50.848621,128.529514 50.819572,128.414529 50.775966,128.299545 50.67406,128.18456 50.67406,128.138567 50.630318,128.138567 50.615729,128.11557 50.615729,128.11557 50.601134,128.069576 50.601134,128.000586 50.586536,128.000586 50.542712,128.069576 50.484218,128.000586 50.425651,127.885601 50.29361,127.770617 50.264217,127.770617 50.234807,127.678629 50.205378,127.586642 50.205378,127.540648 50.234807,127.333676 50.278916,127.310679 50.35234,127.333676 50.425651,127.264686 50.469583))\",\"code\":\"blagoveshensk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"52\",\"name\":\"Благовещенск\",\"time_zone\":{\"name\":\"Asia/Yakutsk\",\"offset\":540},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((101.071249 55.967759,101.071249 56.224312,101.094246 56.491856,101.163237 56.50455,101.50819 56.491856,101.830146 56.491856,102.037118 56.479159,102.060115 56.44104,102.037118 56.249873,102.037118 56.134713,102.014121 55.967759,101.991124 55.929128,101.600177 55.942009,101.163237 55.942009,101.071249 55.967759))\",\"code\":\"bratsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"51\",\"name\":\"Братск\",\"time_zone\":{\"name\":\"Asia/Irkutsk\",\"offset\":480},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((34.10436 53.155645,34.10436 53.293322,34.127357 53.307066,34.150354 53.403146,34.173351 53.444257,34.242341 53.444257,34.357326 53.485328,34.47231 53.471642,34.564298 53.375717,34.610291 53.252065,34.610291 53.183216,34.403319 53.141852,34.334329 53.169432,34.265338 53.155645,34.242341 53.141852,34.173351 53.128056,34.10436 53.155645))\",\"code\":\"bryansk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true},\"id\":\"62\",\"name\":\"Брянск\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((31.068773 58.481344,31.114767 58.50538,31.137764 58.637286,31.206754 58.685128,31.344736 58.709025,31.505714 58.697079,31.505714 58.673174,31.528711 58.61334,31.620698 58.565399,31.620698 58.517392,31.597701 58.517392,31.551707 58.493364,31.436723 58.457292,31.367732 58.421182,31.275745 58.421182,31.252748 58.457292,31.09177 58.445259,31.068773 58.481344))\",\"code\":\"v_novgorod\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"77\",\"name\":\"Великий Новгород\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((131.381126 43.469306,131.404122 43.485993,131.565101 43.536028,131.634091 43.569362,131.703082 43.652615,131.841063 43.652615,131.910054 43.669252,131.979044 43.652615,132.048035 43.602677,132.346994 43.502676,132.369991 43.452614,132.369991 43.40251,132.255007 43.084221,132.117025 42.916033,131.956047 42.831767,131.818066 42.798028,131.680085 42.781152,131.565101 42.831767,131.588097 43.000185,131.473113 43.151368,131.404122 43.385799,131.381126 43.469306))\",\"code\":\"vladivostok\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"25\",\"name\":\"Владивосток\",\"time_zone\":{\"name\":\"Asia/Vladivostok\",\"offset\":600},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((44.54494 42.747385,44.567937 42.882341,44.61393 42.983364,44.590933 43.067423,44.61393 43.117804,44.682921 43.117804,44.705918 43.067423,44.751911 43.017001,44.728915 42.932873,44.728915 42.848629,44.705918 42.848629,44.682921 42.730495,44.567937 42.730495,44.54494 42.747385))\",\"code\":\"vladikavkaz\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"114\",\"name\":\"Владикавказ\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((40.152537 56.070585,40.175534 56.211525,40.175534 56.326455,40.198531 56.44104,40.267522 56.466457,40.704462 56.466457,40.727459 56.428326,40.704462 56.390156,40.681465 56.198733,40.704462 56.109074,40.658468 56.083419,40.635472 56.019206,40.474493 56.019206,40.175534 56.032057,40.152537 56.070585))\",\"code\":\"vladimir\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"59\",\"name\":\"Владимир\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((43.87803 48.604394,43.947021 48.710729,43.924024 48.725902,43.901027 48.771392,43.924024 48.81684,44.062005 48.862248,44.085002 48.922727,44.199987 48.907614,44.291974 48.922727,44.314971 48.968039,44.360965 48.968039,44.567937 48.95294,44.590933 48.968039,44.61393 48.95294,44.682921 48.95294,44.866896 48.922727,44.935886 48.877375,45.050871 48.831981,45.073868 48.786546,45.004877 48.74107,44.98188 48.695552,45.027874 48.573971,44.98188 48.467348,45.027874 48.421583,45.027874 48.39105,44.958883 48.284042,44.728915 48.284042,44.61393 48.268736,44.590933 48.253426,44.360965 48.32993,44.24598 48.253426,44.17699 48.253426,44.062005 48.299342,43.970018 48.360499,43.993015 48.467348,43.970018 48.497834,43.901027 48.54353,43.87803 48.604394))\",\"code\":\"volgograd\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"33\",\"name\":\"Волгоград\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((42.015284 47.668251,42.038281 47.683735,42.107271 47.683735,42.130268 47.668251,42.176262 47.62177,42.383234 47.62177,42.383234 47.575249,42.314243 47.559732,42.314243 47.513155,42.291246 47.466537,42.130268 47.482081,42.061278 47.513155,42.015284 47.668251))\",\"code\":\"volgodonsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"122\",\"name\":\"Волгодонск\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((37.668875 59.218851,37.78386 59.218851,37.78386 59.277644,37.875847 59.336337,38.036825 59.336337,38.059822 59.348063,38.2208 59.336337,38.335784 59.301133,38.427772 59.312872,38.58875 59.301133,38.611747 59.289391,38.841716 59.289391,39.048687 59.301133,39.232662 59.324606,39.301653 59.336337,39.370644 59.324606,39.462631 59.359785,39.531622 59.348063,39.554619 59.336337,39.6926 59.348063,39.784587 59.394928,39.945565 59.394928,39.991559 59.371503,40.083547 59.359785,40.12954 59.383218,40.244525 59.383218,40.221528 59.277644,40.198531 59.24238,40.313515 59.183526,40.290518 59.12457,40.244525 59.100959,40.221528 59.065512,40.152537 59.030028,40.037553 59.018192,39.945565 59.065512,39.669603 59.04186,39.209666 59.065512,38.818719 59.065512,38.795722 59.077332,38.58875 59.112766,38.358781 59.100959,38.266794 59.077332,37.875847 59.006352,37.714869 59.030028,37.691872 59.065512,37.668875 59.218851))\",\"code\":\"vologda\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"78\",\"name\":\"Вологда\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((38.9567 51.497433,39.002694 51.654644,38.9567 51.711677,39.025691 51.811313,39.025691 51.868148,39.048687 51.910728,39.163672 51.910728,39.255659 51.939092,39.39364 51.910728,39.508625 51.910728,39.531622 51.896539,39.669603 51.882346,39.669603 51.839739,39.623609 51.782868,39.600612 51.56896,39.577615 51.56896,39.600612 51.483114,39.531622 51.46879,39.278656 51.483114,39.094681 51.483114,39.048687 51.454462,38.979697 51.454462,38.9567 51.497433))\",\"code\":\"voronezh\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"31\",\"name\":\"Воронеж\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((45.34983 43.084221,45.34983 43.134588,45.418821 43.134588,45.579799 43.285439,45.579799 43.318911,45.487811 43.385799,45.579799 43.419216,45.71778 43.419216,45.740777 43.40251,45.855761 43.369084,45.970746 43.369084,45.993743 43.385799,46.039736 43.452614,46.338696 43.435917,46.338696 43.40251,46.407686 43.302177,46.407686 43.201679,46.200714 43.117804,46.177718 43.067423,46.062733 43.084221,45.901755 43.000185,45.671786 42.966538,45.648789 42.983364,45.579799 43.000185,45.533805 42.966538,45.464815 42.949708,45.395824 42.983364,45.395824 43.050621,45.34983 43.084221))\",\"code\":\"grozny\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"115\",\"name\":\"Грозный\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((49.09832 54.177476,49.09832 54.204386,49.121317 54.204386,49.144314 54.217835,49.144314 54.285012,49.259298 54.311852,49.259298 54.338675,49.328289 54.35208,49.604251 54.311852,49.627248 54.271585,49.742233 54.204386,49.765229 54.204386,49.811223 54.177476,49.903211 54.164014,49.903211 54.123603,49.83422 54.083152,49.581254 54.09664,49.489267 54.150548,49.328289 54.150548,49.09832 54.177476))\",\"code\":\"dimitrovgrad\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"124\",\"name\":\"Димитровград\",\"time_zone\":{\"name\":\"Europe/Ulyanovsk\",\"offset\":240},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((34.725276 48.482593,34.771269 48.513071,34.748272 48.649994,34.84026 48.680371,34.909251 48.665185,35.024235 48.680371,35.162216 48.649994,35.20821 48.680371,35.369188 48.680371,35.369188 48.604394,35.323194 48.573971,35.323194 48.558753,35.277201 48.528303,35.300197 48.421583,35.185213 48.345217,35.070229 48.345217,35.001238 48.314638,34.909251 48.375777,34.84026 48.360499,34.748272 48.360499,34.748272 48.406319,34.725276 48.482593))\",\"code\":\"dnepropetrovsk\",\"country_code\":\"ua\",\"domain\":\"ua\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"has_net_booklet\":true,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"105\",\"name\":\"Днепр\",\"time_zone\":{\"name\":\"Europe/Kiev\",\"offset\":120},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((59.699878 56.820507,59.722875 56.883381,59.722875 56.996288,59.860856 57.021332,59.883853 57.033848,59.998837 57.046359,60.113822 57.008812,60.2748 56.996288,60.389784 57.058866,60.64275 57.046359,60.665746 57.033848,60.757734 57.058866,60.895715 57.021332,60.941709 57.021332,60.987703 56.921055,60.941709 56.845669,60.941709 56.782732,60.987703 56.757527,60.987703 56.707067,60.918712 56.694442,60.941709 56.605944,60.780731 56.593285,60.527765 56.593285,60.320793 56.605944,60.205809 56.593285,60.090825 56.605944,59.998837 56.580621,59.929847 56.593285,59.814862 56.593285,59.745872 56.6186,59.745872 56.681812,59.699878 56.820507))\",\"code\":\"ekaterinburg\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":true,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"9\",\"name\":\"Екатеринбург\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((38.427772 52.628424,38.450769 52.67028,38.519759 52.656332,38.58875 52.656332,38.611747 52.614463,38.58875 52.572554,38.519759 52.572554,38.427772 52.628424))\",\"code\":\"elets\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"126\",\"name\":\"Елец\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((40.79645 57.046359,40.842443 57.096363,40.934431 57.096363,41.141403 57.083868,41.210393 57.07137,41.210393 56.996288,41.187396 56.98376,41.187396 56.933604,41.210393 56.933604,41.210393 56.908501,41.095409 56.870815,40.911434 56.870815,40.819447 56.895943,40.819447 56.933604,40.79645 57.046359))\",\"code\":\"ivanovo\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"65\",\"name\":\"Иваново\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((52.915801 56.845669,52.938798 56.858244,52.938798 57.021332,52.984791 57.046359,52.984791 57.058866,53.076779 57.058866,53.467726 57.046359,53.58271 56.996288,53.766685 56.946149,53.789682 56.795328,53.766685 56.782732,53.766685 56.681812,53.789682 56.669178,53.812679 56.580621,54.088641 56.50455,54.088641 56.491856,54.203626 56.479159,54.226622 56.466457,54.433594 56.402883,54.479588 56.402883,54.594572 56.326455,54.732554 56.313702,54.732554 56.288183,54.68656 56.249873,54.548579 56.224312,54.479588 56.160334,54.387601 56.147525,54.387601 56.083419,54.341607 56.032057,54.226622 56.032057,54.157632 56.070585,54.088641 56.083419,53.973657 56.160334,53.789682 56.275417,53.398735 56.428326,53.237757 56.466457,53.099776 56.529924,53.030785 56.580621,53.007788 56.65654,52.984791 56.65654,52.984791 56.669178,52.938798 56.681812,52.938798 56.782732,52.915801 56.845669))\",\"code\":\"izhevsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true},\"id\":\"41\",\"name\":\"Ижевск\",\"time_zone\":{\"name\":\"Europe/Samara\",\"offset\":240},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((103.554911 52.767788,103.554911 52.809511,103.623902 52.823409,103.715889 52.823409,103.738886 52.7817,103.761883 52.712096,103.830874 52.684223,103.899864 52.67028,103.945858 52.64238,104.198824 52.64238,104.290811 52.739951,104.451789 52.823409,104.543777 52.865079,104.842736 52.948297,105.118699 52.962151,105.302674 53.003687,105.532642 53.114255,105.601633 53.114255,105.877595 52.948297,105.946586 52.920575,105.969583 52.920575,105.969583 52.906708,106.038573 52.892836,106.06157 52.878959,106.291539 52.837304,106.42952 52.865079,107.027439 53.307066,107.119426 53.334539,107.119426 53.34827,107.188417 53.361995,107.280404 53.416854,107.349395 53.416854,107.418386 53.471642,107.556367 53.649216,107.579364 53.662845,107.671351 53.662845,107.786336 53.581007,108.016304 53.403146,108.085295 53.361995,108.085295 53.320805,108.016304 53.238304,107.418386 52.934438,107.004442 52.712096,106.521508 52.502615,106.176555 52.362405,105.99258 52.179463,105.969583 52.16536,105.969583 52.137139,105.946586 52.137139,105.831602 51.995766,105.670624 51.882346,105.417658 51.782868,105.25668 51.740167,105.118699 51.711677,105.095702 51.697426,104.796742 51.654644,104.635764 51.640375,104.589771 51.611822,104.635764 51.46879,104.612767 51.425793,104.52078 51.44013,104.244817 51.46879,104.129833 51.483114,103.899864 51.554663,103.876868 51.56896,103.715889 51.583252,103.600905 51.597539,103.600905 51.654644,103.623902 51.668909,103.646899 51.740167,103.646899 51.882346,103.623902 52.348359,103.600905 52.474609,103.623902 52.488614,103.623902 52.64238,103.554911 52.767788))\",\"code\":\"irkutsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"11\",\"name\":\"Иркутск\",\"time_zone\":{\"name\":\"Asia/Irkutsk\",\"offset\":480},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((69.427554 56.070585,69.427554 56.096249,69.450551 56.134713,69.542539 56.147525,69.565536 56.109074,69.542539 56.070585,69.427554 56.070585))\",\"code\":\"ishim\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"public_transport\":true,\"road_network\":false},\"id\":\"205\",\"name\":\"Ишим\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((47.580527 56.529924,47.580527 56.719689,47.603524 56.757527,47.971473 56.757527,48.086458 56.744919,48.155448 56.732306,48.132452 56.542605,48.109455 56.50455,47.902483 56.517239,47.649517 56.517239,47.580527 56.529924))\",\"code\":\"yoshkarola\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"70\",\"name\":\"Йошкар-Ола\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((42.567209 44.034095,42.590206 44.050626,42.613202 44.13321,42.567209 44.248635,42.567209 44.265106,42.613202 44.265106,42.751184 44.298034,42.820174 44.298034,42.935159 44.281572,42.958156 44.298034,43.188124 44.298034,43.303109 44.31449,43.349102 44.281572,43.487084 44.248635,43.556074 44.199195,43.533077 44.182706,43.533077 44.083674,43.51008 44.034095,43.533077 43.984475,43.602068 43.934814,43.602068 43.835366,43.51008 43.851952,43.326105 43.818776,43.119134 43.768976,42.981152 43.80218,42.728187 43.80218,42.70519 43.818776,42.682193 43.80218,42.659196 43.80218,42.636199 43.885111,42.613202 43.901683,42.590206 43.951372,42.567209 44.034095))\",\"code\":\"minvody\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"89\",\"name\":\"КавМинВоды\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((48.224439 55.890459,48.224439 55.929128,48.247436 55.942009,48.270433 55.980627,48.569392 55.967759,48.615386 55.993491,48.822358 55.993491,48.891348 56.019206,48.960339 56.006351,49.09832 56.006351,49.213305 55.993491,49.305292 56.019206,49.374283 56.006351,49.535261 56.006351,49.581254 55.954886,49.581254 55.916243,49.604251 55.877561,49.558258 55.825925,49.581254 55.761284,49.558258 55.748342,49.535261 55.592713,49.512264 55.553709,49.443273 55.553709,49.397279 55.579716,48.799361 55.579716,48.500402 55.566715,48.454408 55.540699,48.385417 55.540699,48.316427 55.553709,48.316427 55.696535,48.270433 55.722447,48.29343 55.825925,48.224439 55.890459))\",\"code\":\"kazan\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":true,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"21\",\"name\":\"Казань\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((19.524344 54.71236,19.547341 54.765465,19.570337 54.77873,19.570337 54.85823,19.547341 54.871465,19.593334 54.990384,19.685322 55.095794,19.754312 55.135251,19.961284 55.17467,20.21425 55.17467,20.375228 55.1878,20.421222 55.214049,20.559203 55.331954,20.65119 55.384244,20.720181 55.384244,20.720181 55.371178,21.01914 55.279595,21.134125 55.266495,21.134125 54.897922,21.203115 54.831748,21.157122 54.752195,21.134125 54.738921,21.157122 54.619259,21.180118 54.579294,21.157122 54.552628,20.835165 54.552628,20.789172 54.525945,20.674187 54.525945,20.490212 54.499245,20.375228 54.512597,20.352231 54.525945,20.168256 54.512597,20.145259 54.525945,19.984281 54.539289,19.823303 54.59262,19.547341 54.71236,19.524344 54.71236))\",\"code\":\"kaliningrad\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"40\",\"name\":\"Калининград\",\"time_zone\":{\"name\":\"Europe/Kaliningrad\",\"offset\":120},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((35.898116 54.725643,35.94411 54.765465,36.105088 54.765465,36.151082 54.791991,36.220072 54.844991,36.197075 54.911144,36.243069 54.950783,36.38105 54.977188,36.38105 55.003575,36.473038 55.069467,36.519032 55.095794,36.542028 55.148395,36.657013 55.161535,36.68001 55.095794,36.634016 55.056298,36.611019 54.990384,36.611019 54.924361,36.542028 54.911144,36.542028 54.897922,36.473038 54.831748,36.496035 54.791991,36.473038 54.699073,36.473038 54.36548,36.427044 54.325266,36.243069 54.325266,36.220072 54.311852,35.990104 54.325266,35.921113 54.338675,35.921113 54.392268,35.898116 54.725643))\",\"code\":\"kaluga\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"61\",\"name\":\"Калуга\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((61.539628 56.428326,61.585621 56.466457,61.723602 56.491856,61.723602 56.529924,61.746599 56.567953,61.930574 56.567953,62.18354 56.580621,62.252531 56.567953,62.252531 56.313702,62.229534 56.275417,61.746599 56.275417,61.700606 56.313702,61.608618 56.313702,61.608618 56.326455,61.562624 56.364688,61.539628 56.428326))\",\"code\":\"k_uralskiy\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"109\",\"name\":\"Каменск-Уральский\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((45.303836 50.057963,45.303836 50.102235,45.372827 50.146466,45.487811 50.131727,45.464815 50.057963,45.441818 50.057963,45.418821 50.013649,45.326833 50.013649,45.303836 50.057963))\",\"code\":\"kamyshin\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"127\",\"name\":\"Камышин\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((72.670113 49.969295,72.670113 49.998869,72.831091 50.072725,72.831091 50.131727,72.900082 50.190657,73.015066 50.190657,73.314026 50.146466,73.383016 50.102235,73.406013 50.028425,73.406013 49.821152,73.383016 49.687435,73.222038 49.64278,73.015066 49.65767,72.923079 49.672555,72.877085 49.702311,72.785098 49.776621,72.762101 49.850817,72.670113 49.969295))\",\"code\":\"karaganda\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"84\",\"name\":\"Караганда\",\"time_zone\":{\"name\":\"Asia/Almaty\",\"offset\":360},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((85.893314 55.462549,85.985302 55.527685,86.14628 55.540699,86.169277 55.527685,86.330255 55.527685,86.330255 55.25339,86.307258 55.214049,85.985302 55.214049,85.916311 55.227167,85.916311 55.345033,85.893314 55.462549))\",\"code\":\"kemerovo\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"5\",\"name\":\"Кемерово\",\"time_zone\":{\"name\":\"Asia/Novokuznetsk\",\"offset\":420},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((30.171895 50.542712,30.194892 50.615729,30.35587 50.615729,30.35587 50.630318,30.516848 50.644903,30.585839 50.630318,30.999782 50.630318,31.022779 50.615729,31.045776 50.615729,31.045776 50.528096,30.999782 50.381678,31.022779 50.308299,30.976786 50.205378,30.953789 50.190657,30.792811 50.205378,30.654829 50.175931,30.631833 50.190657,30.401864 50.205378,30.401864 50.175931,30.35587 50.146466,30.332873 50.161201,30.217889 50.190657,30.217889 50.278916,30.240886 50.29361,30.217889 50.454943,30.171895 50.542712))\",\"code\":\"kiev\",\"country_code\":\"ua\",\"domain\":\"ua\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"107\",\"name\":\"Киев\",\"time_zone\":{\"name\":\"Europe/Kiev\",\"offset\":120},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((31.988648 35.065604,32.011645 35.122053,32.011645 35.159663,32.080635 35.272392,32.218617 35.328697,32.333601 35.328697,32.471582 35.384964,32.586567 35.40371,32.609563 35.422453,32.655557 35.422453,32.678554 35.516099,32.747545 35.572234,32.885526 35.62833,32.977513 35.62833,33.276473 35.572234,33.552435 35.572234,33.690416 35.62833,33.874391 35.665706,34.081363 35.759068,34.495307 35.908221,34.564298 35.926845,34.702279 35.926845,34.725276 35.908221,34.84026 35.852321,34.886254 35.703064,34.84026 35.590937,34.771269 35.478654,34.702279 35.459924,34.610291 35.384964,34.518304 35.328697,34.357326 35.253615,34.265338 35.159663,34.288335 35.14086,34.357326 35.009116,34.357326 34.914882,34.288335 34.801659,34.265338 34.782774,34.10436 34.726091,34.012373 34.744989,33.897388 34.726091,33.828398 34.707188,33.805401 34.650453,33.460448 34.517921,33.276473 34.480016,33.207482 34.385178,33.115495 34.347212,32.908523 34.347212,32.701551 34.423126,32.63256 34.423126,32.402592 34.498971,32.26461 34.555809,32.218617 34.59368,32.19562 34.59368,32.172623 34.650453,32.057639 34.820541,32.011645 34.971435,32.011645 35.046779,31.988648 35.065604))\",\"code\":\"cyprus\",\"country_code\":\"cy\",\"domain\":\"com.cy\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"gdpr\":true,\"has_net_booklet\":true,\"metro\":false,\"public_transport\":true,\"road_network\":true},\"id\":\"173\",\"name\":\"Кипр\",\"time_zone\":{\"name\":\"Europe/Nicosia\",\"offset\":120},\"type\":\"region\",\"zoom_level\":{\"max\":19,\"min\":9}},{\"bounds\":\"POLYGON((49.02933 58.385035,49.052326 58.445259,49.052326 58.5294,49.02933 58.756769,49.052326 58.792534,49.903211 58.792534,49.949204 58.732905,49.949204 58.601361,49.926208 58.589378,49.949204 58.445259,49.926208 58.409137,49.328289 58.409137,49.144314 58.385035,49.02933 58.385035))\",\"code\":\"kirov\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"58\",\"name\":\"Киров\",\"time_zone\":{\"name\":\"Europe/Kirov\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((41.256387 56.339204,41.279384 56.402883,41.371371 56.402883,41.371371 56.364688,41.394368 56.351948,41.371371 56.300945,41.325378 56.300945,41.256387 56.339204))\",\"code\":\"kovrov\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"129\",\"name\":\"Ковров\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((74.371882 62.337097,74.394879 62.36911,74.555857 62.36911,74.60185 62.390433,74.716835 62.390433,74.762829 62.411741,74.854816 62.411741,74.831819 62.315736,74.785825 62.251561,74.716835 62.251561,74.60185 62.219423,74.53286 62.165783,74.463869 62.176518,74.417875 62.230139,74.417875 62.305049,74.371882 62.337097))\",\"code\":\"kogalym\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"207\",\"name\":\"Когалым\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((67.955755 53.334539,68.369698 53.430558,68.484683 53.416854,68.50768 53.403146,68.990614 53.320805,69.151592 53.334539,69.197586 53.389434,69.335567 53.389434,69.358564 53.375717,69.519542 53.361995,69.611529 53.375717,69.772507 53.307066,69.864495 53.210769,70.025473 53.155645,70.209448 53.155645,70.232445 53.169432,70.393423 53.155645,70.646389 53.003687,70.646389 52.989846,70.85336 52.878959,70.85336 52.823409,70.830364 52.7817,70.715379 52.600498,70.692382 52.558575,70.646389 52.530604,70.508407 52.502615,70.48541 52.488614,70.278439 52.474609,70.255442 52.488614,70.163454 52.614463,69.565536 52.823409,69.404558 52.892836,69.358564 52.920575,69.266576 52.920575,69.220583 52.892836,69.128595 52.892836,69.013611 52.906708,68.691654 52.851193,68.668658 52.851193,68.13973 52.823409,67.978751 53.059007,68.001748 53.169432,67.955755 53.334539))\",\"code\":\"kokshetau\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"201\",\"name\":\"Кокшетау\",\"time_zone\":{\"name\":\"Asia/Almaty\",\"offset\":360},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((136.670406 50.234807,136.693403 50.308299,136.762393 50.381678,136.739397 50.484218,136.739397 50.630318,136.877378 50.717761,137.038356 50.717761,137.061353 50.703199,137.222331 50.717761,137.291322 50.659484,137.314318 50.615729,137.291322 50.542712,137.268325 50.528096,137.268325 50.39634,137.245328 50.29361,137.15334 50.190657,137.061353 50.161201,136.946368 50.175931,136.946368 50.190657,136.78539 50.190657,136.670406 50.234807))\",\"code\":\"komsomolsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"94\",\"name\":\"Комсомольск-на-Амуре\",\"time_zone\":{\"name\":\"Asia/Vladivostok\",\"offset\":600},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((63.471365 53.169432,63.494362 53.265822,63.609346 53.307066,63.72433 53.293322,63.793321 53.279574,63.770324 53.196994,63.586349 53.08664,63.494362 53.08664,63.494362 53.155645,63.471365 53.169432))\",\"code\":\"kostanay\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"203\",\"name\":\"Костанай\",\"time_zone\":{\"name\":\"Asia/Qostanay\",\"offset\":360},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((40.681465 57.777108,40.704462 57.8873,40.750456 57.936166,40.888437 57.936166,40.911434 57.923956,41.026418 57.936166,41.1644 57.911742,41.141403 57.826124,41.141403 57.777108,41.210393 57.764844,41.23339 57.752576,41.256387 57.691171,41.256387 57.641971,41.279384 57.641971,41.486356 57.555712,41.60134 57.543373,41.60134 57.493973,41.53235 57.45688,41.509353 57.469249,41.417365 57.469249,41.210393 57.481613,41.141403 57.481613,41.141403 57.50633,41.095409 57.531029,41.095409 57.629661,40.980425 57.666579,40.911434 57.678877,40.773453 57.678877,40.704462 57.70346,40.704462 57.764844,40.681465 57.777108))\",\"code\":\"kostroma\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"34\",\"name\":\"Кострома\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((38.565753 44.968984,38.58875 45.115228,38.657741 45.180105,38.680737 45.196313,38.657741 45.277282,38.703734 45.325808,38.841716 45.325808,38.864712 45.309637,39.094681 45.277282,39.163672 45.309637,39.232662 45.261097,39.32465 45.261097,39.39364 45.309637,39.462631 45.309637,39.623609 45.390445,39.646606 45.438875,39.899572 45.438875,40.014556 45.455009,40.06055 45.390445,40.06055 45.293462,40.12954 45.244908,40.106544 45.228714,40.106544 45.180105,40.083547 45.098997,39.968562 45.082761,39.784587 45.131454,39.669603 45.147675,39.508625 45.050277,39.485628 45.001515,39.600612 44.920153,39.623609 44.871281,39.554619 44.806053,39.600612 44.740751,39.554619 44.691727,39.485628 44.64266,39.462631 44.593552,39.370644 44.560791,39.370644 44.511614,39.416637 44.511614,39.416637 44.462395,39.301653 44.44598,39.301653 44.42956,39.232662 44.44598,39.094681 44.44598,39.025691 44.396706,38.9567 44.413135,38.9567 44.478806,38.818719 44.511614,38.795722 44.495212,38.680737 44.495212,38.657741 44.511614,38.634744 44.65902,38.657741 44.773411,38.634744 44.887576,38.565753 44.968984))\",\"code\":\"krasnodar\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"23\",\"name\":\"Краснодар\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((90.170732 56.339204,90.26272 56.351948,90.469692 56.364688,90.584676 56.402883,90.722657 56.415607,90.975623 56.377424,90.975623 56.364688,91.090607 56.351948,91.159598 56.313702,91.297579 56.288183,91.343573 56.313702,91.711523 56.300945,92.010482 56.313702,92.033479 56.326455,92.263448 56.326455,92.378432 56.313702,92.999347 56.300945,93.160326 56.288183,93.3443 56.313702,93.390294 56.364688,93.64326 56.390156,93.758244 56.402883,93.804238 56.377424,93.758244 56.351948,93.735247 56.313702,93.666257 56.249873,93.64326 56.185938,93.666257 56.121896,93.666257 56.006351,93.689254 55.83884,93.64326 55.800081,93.413291 55.800081,93.413291 55.77422,93.436288 55.709493,92.838369 55.292691,92.309441 55.108951,91.43556 54.897922,90.952626 54.805248,90.929629 54.8185,90.929629 54.85823,90.860638 54.85823,90.768651 54.911144,90.561679 54.911144,90.515685 54.937574,90.538682 54.950783,90.584676 54.963988,90.791648 55.043123,90.952626 55.135251,91.021617 55.135251,91.136601 55.227167,91.251585 55.25339,91.458557 55.358108,91.849504 55.605706,91.872501 55.618695,91.872501 55.670605,91.849504 55.709493,91.665529 55.851751,91.665529 55.864658,91.711523 55.890459,91.711523 55.993491,91.389566 56.083419,91.274582 56.121896,91.159598 56.134713,90.791648 56.134713,90.676663 56.121896,90.216726 56.173138,90.193729 56.185938,90.193729 56.249873,90.170732 56.339204))\",\"code\":\"krasnoyarsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"7\",\"name\":\"Красноярск\",\"time_zone\":{\"name\":\"Asia/Krasnoyarsk\",\"offset\":420},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((32.172623 45.422736,32.241614 45.535609,32.356598 45.648256,32.402592 45.648256,32.609563 45.74463,32.655557 45.776718,32.724548 45.808787,33.184485 45.920885,33.529438 46.016789,33.575432 46.04872,33.621426 46.144402,33.621426 46.208098,33.828398 46.208098,33.989376 46.128466,34.10436 46.112526,34.196348 46.064678,34.265338 46.04872,34.334329 46.064678,34.403319 46.016789,34.426316 45.968857,34.495307 45.952871,34.564298 45.968857,34.610291 46.000816,34.794266 45.872871,34.794266 45.824815,34.932247 45.760676,35.162216 45.776718,35.185213 45.792755,35.300197 45.792755,35.300197 45.760676,35.323194 45.760676,35.323194 45.728579,35.438179 45.648256,35.507169 45.551715,35.57616 45.535609,35.64515 45.616094,35.783132 45.66433,35.898116 45.66433,35.990104 45.632177,36.289063 45.680399,36.519032 45.66433,36.542028 45.648256,36.634016 45.648256,36.657013 45.632177,36.68001 45.422736,36.634016 45.325808,36.588022 45.293462,36.588022 45.244908,36.542028 45.212516,36.542028 45.131454,36.588022 44.968984,36.611019 44.920153,36.542028 44.871281,36.450041 44.838676,36.38105 44.838676,36.289063 44.806053,36.059094 44.806053,36.036097 44.789734,35.806129 44.773411,35.64515 44.822367,35.57616 44.773411,35.392185 44.708073,35.369188 44.65902,35.323194 44.64266,35.323194 44.626296,35.162216 44.577174,35.047232 44.560791,35.024235 44.577174,34.863257 44.593552,34.794266 44.577174,34.679282 44.528011,34.564298 44.363834,34.495307 44.347391,34.449313 44.31449,34.334329 44.265106,34.288335 44.23216,34.196348 44.199195,34.081363 44.199195,34.081363 44.182706,33.966379 44.166212,33.851395 44.182706,33.828398 44.166212,33.73641 44.166212,33.552435 44.21568,33.414454 44.265106,33.36846 44.298034,33.276473 44.31449,33.138492 44.44598,33.069501 44.528011,33.069501 44.609926,33.138492 44.724414,33.230479 44.789734,33.230479 44.871281,33.253476 44.920153,33.00051 45.001515,32.816535 45.131454,32.724548 45.098997,32.586567 45.098997,32.310604 45.163892,32.241614 45.228714,32.19562 45.325808,32.172623 45.422736))\",\"code\":\"crimea\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"174\",\"name\":\"Крым\",\"time_zone\":{\"name\":\"Europe/Simferopol\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((55.675425 52.67028,55.675425 52.684223,55.744416 52.726026,55.744416 52.767788,55.79041 52.878959,55.8594 52.892836,55.951388 52.892836,55.951388 52.851193,55.928391 52.837304,55.8594 52.739951,55.79041 52.726026,55.744416 52.67028,55.675425 52.67028))\",\"code\":\"kumertau\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"210\",\"name\":\"Кумертау\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((65.035152 55.475585,65.058149 55.488617,65.242124 55.527685,65.472093 55.527685,65.56408 55.501644,65.633071 55.423416,65.587077 55.384244,65.610074 55.318871,65.56408 55.24028,65.357108 55.24028,65.242124 55.279595,65.058149 55.358108,65.035152 55.475585))\",\"code\":\"kurgan\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"10\",\"name\":\"Курган\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((35.852122 51.554663,35.852122 51.597539,35.875119 51.611822,35.898116 51.797093,35.990104 51.853946,36.105088 51.839739,36.335057 51.853946,36.427044 51.825528,36.450041 51.697426,36.427044 51.697426,36.427044 51.611822,36.358053 51.56896,35.967107 51.554663,35.852122 51.554663))\",\"code\":\"kursk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"73\",\"name\":\"Курск\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((94.287172 51.626101,94.287172 51.68317,94.356163 51.768639,94.425153 51.768639,94.517141 51.711677,94.724113 51.711677,94.724113 51.654644,94.609128 51.640375,94.609128 51.626101,94.517141 51.611822,94.471147 51.583252,94.402157 51.56896,94.287172 51.626101))\",\"code\":\"kyzyl\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"130\",\"name\":\"Кызыл\",\"time_zone\":{\"name\":\"Asia/Krasnoyarsk\",\"offset\":420},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((85.732336 54.445791,85.755333 54.459161,85.755333 54.738921,85.801327 54.765465,86.422242 54.77873,86.491233 54.765465,86.491233 54.204386,86.468236 54.190933,86.353252 54.177476,85.824324 54.177476,85.755333 54.217835,85.755333 54.35208,85.732336 54.445791))\",\"code\":\"lenkuz\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"86\",\"name\":\"Ленинск-Кузнецкий\",\"time_zone\":{\"name\":\"Asia/Novokuznetsk\",\"offset\":420},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((39.370644 52.684223,39.462631 52.739951,39.600612 52.739951,39.853578 52.712096,39.876575 52.698162,39.830581 52.586528,39.853578 52.530604,39.830581 52.488614,39.646606 52.488614,39.531622 52.474609,39.485628 52.502615,39.39364 52.502615,39.370644 52.684223))\",\"code\":\"lipetsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"56\",\"name\":\"Липецк\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((150.491526 59.465104,150.491526 59.511807,150.514522 59.511807,150.60651 59.546792,150.60651 59.663146,150.675501 59.709576,150.790485 59.732766,150.905469 59.732766,151.043451 59.709576,151.020454 59.628282,151.043451 59.570095,150.97446 59.465104,150.928466 59.430034,150.767488 59.418336,150.629507 59.441728,150.60651 59.453418,150.491526 59.465104))\",\"code\":\"magadan\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"158\",\"name\":\"Магадан\",\"time_zone\":{\"name\":\"Asia/Magadan\",\"offset\":660},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((58.481044 53.320805,58.481044 53.361995,58.527037 53.403146,58.550034 53.907408,58.573031 53.920953,59.262937 53.920953,59.423915 53.907408,59.492906 53.893859,59.492906 53.81247,59.469909 53.252065,59.423915 53.224539,59.400918 53.238304,58.596028 53.238304,58.527037 53.252065,58.527037 53.293322,58.481044 53.320805))\",\"code\":\"magnitogorsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"26\",\"name\":\"Магнитогорск\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((39.922569 44.626296,39.922569 44.724414,39.968562 44.724414,39.991559 44.740751,40.06055 44.757084,40.12954 44.740751,40.12954 44.675376,40.175534 44.64266,40.175534 44.577174,40.106544 44.560791,40.037553 44.577174,39.922569 44.626296))\",\"code\":\"maikop\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"131\",\"name\":\"Майкоп\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((46.660652 42.865487,46.660652 42.916033,46.729642 42.932873,46.775636 43.067423,46.798633 43.067423,46.775636 43.151368,46.867624 43.184913,46.959611 43.184913,47.097592 43.134588,47.097592 43.117804,47.212577 43.117804,47.304564 43.184913,47.419549 43.201679,47.442545 43.184913,47.672514 43.184913,47.902483 42.730495,48.017467 42.561341,48.017467 42.5444,48.040464 42.5444,48.155448 42.37474,48.408414 42.016958,48.408414 41.965681,48.339423 41.948579,48.247436 41.948579,48.247436 42.016958,48.178445 42.102328,48.109455 42.102328,47.92548 42.272723,47.856489 42.37474,47.833492 42.425686,47.764502 42.5444,47.741505 42.5444,47.672514 42.595208,47.672514 42.645975,47.488539 42.7136,47.327561 42.7136,47.25857 42.696701,47.281567 42.645975,47.350558 42.629058,47.350558 42.578277,47.212577 42.578277,47.097592 42.629058,47.097592 42.645975,47.005605 42.696701,46.867624 42.781152,46.775636 42.848629,46.660652 42.865487))\",\"code\":\"makhachkala\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"113\",\"name\":\"Махачкала\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((36.749 27.120702,36.749 27.284329,36.955972 27.406891,37.001966 27.447715,37.070956 27.427305,37.300925 27.427305,37.300925 27.386473,37.438906 27.386473,37.4849 27.427305,37.553891 27.427305,37.645878 27.508922,37.737866 27.508922,37.78386 27.427305,37.898844 27.427305,37.921841 27.366052,37.898844 27.222997,37.898844 27.161631,37.990831 27.120702,37.990831 26.997825,38.059822 26.936336,38.105816 26.83378,38.266794 26.83378,38.289791 26.813257,38.404775 26.792731,38.657741 26.854298,38.772725 26.83378,39.025691 26.83378,39.347647 26.792731,39.462631 26.854298,39.485628 26.854298,39.485628 26.772201,39.554619 26.751668,39.623609 26.751668,39.738594 26.607829,39.784587 26.566699,39.784587 26.546128,39.876575 26.422627,39.899572 26.34022,39.876575 26.278376,39.968562 26.154588,39.945565 26.051332,39.968562 25.865241,39.945565 25.844546,39.968562 25.69958,39.968562 25.42989,40.06055 25.367568,40.198531 25.326002,40.359509 25.305213,40.4285 25.305213,40.474493 25.409119,40.543484 25.42989,40.612475 25.409119,40.727459 25.409119,40.842443 25.575183,41.072412 25.575183,41.1644 25.49218,41.279384 25.49218,41.302381 25.47142,41.394368 25.47142,41.440362 25.346786,41.509353 25.346786,41.647334 25.284421,41.716324 25.159595,41.785315 25.159595,41.992287 24.972115,42.130268 24.8261,42.130268 24.679912,42.084274 24.512631,42.015284 24.428906,41.992287 24.114445,41.992287 23.967432,41.96929 23.946416,41.900299 23.967432,41.762318 23.967432,41.739321 23.904374,41.762318 23.841286,41.762318 23.736071,41.739321 23.630771,41.509353 23.525386,41.463359 23.525386,41.348375 23.462114,41.279384 23.398812,41.302381 23.33548,41.463359 23.272118,41.463359 23.208725,41.371371 23.166447,41.302381 23.145302,41.210393 23.08185,41.210393 23.060692,41.049415 22.912497,41.003421 22.912497,40.842443 22.764139,40.773453 22.742931,40.681465 22.594389,40.612475 22.573156,40.589478 22.594389,40.4285 22.615619,40.359509 22.551919,40.221528 22.488189,40.152537 22.488189,40.06055 22.530679,40.083547 22.67929,40.06055 22.742931,39.899572 22.806543,39.899572 22.912497,39.922569 22.912497,39.945565 22.933677,39.945565 23.124155,39.876575 23.145302,39.669603 23.124155,39.669603 23.103004,39.485628 23.060692,39.416637 23.187588,39.255659 23.166447,39.163672 23.187588,39.140675 23.25099,38.9567 23.377705,38.9567 23.441017,38.657741 23.419916,38.2208 23.208725,38.151809 23.229859,37.85285 23.504298,37.760863 23.6097,37.714869 23.693961,37.4849 23.988444,37.346919 24.093454,37.231935 24.156418,37.162944 24.156418,37.070956 24.198378,37.139947 24.303215,37.438906 24.575388,37.4849 24.638113,37.4849 24.679912,37.737866 24.659015,37.829853 24.659015,37.829853 24.721698,37.85285 24.78435,38.059822 24.78435,38.059822 24.867836,37.944838 24.888699,37.921841 24.951267,37.875847 24.99296,37.85285 25.097133,37.85285 25.201218,37.78386 25.263626,37.78386 25.409119,37.737866 25.450657,37.737866 25.575183,37.85285 25.637398,37.85285 25.69958,37.737866 25.76173,37.622881 25.782439,37.553891 25.844546,37.553891 25.947984,37.507897 26.051332,37.461903 26.092645,37.346919 26.216498,37.369916 26.319609,37.231935 26.319609,37.208938 26.381431,37.231935 26.44322,37.11695 26.566699,37.139947 26.751668,37.024963 26.813257,37.001966 26.83378,36.932975 26.854298,36.955972 26.997825,36.955972 27.05928,36.794994 27.05928,36.749 27.120702))\",\"code\":\"medina\",\"country_code\":\"sa\",\"domain\":\"sa\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"public_transport\":false,\"road_network\":true},\"id\":\"219\",\"name\":\"Медина\",\"time_zone\":{\"name\":\"Asia/Riyadh\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((38.2208 23.166447,38.2208 23.208725,38.657741 23.419916,38.9567 23.441017,38.9567 23.377705,39.140675 23.25099,39.163672 23.187588,39.255659 23.166447,39.416637 23.187588,39.485628 23.060692,39.669603 23.103004,39.669603 23.124155,39.876575 23.145302,39.945565 23.124155,39.945565 22.933677,39.922569 22.912497,39.899572 22.912497,39.899572 22.806543,40.06055 22.742931,40.083547 22.67929,40.06055 22.530679,40.152537 22.488189,40.221528 22.488189,40.359509 22.551919,40.4285 22.615619,40.589478 22.594389,40.612475 22.573156,40.681465 22.594389,40.773453 22.742931,40.842443 22.764139,41.003421 22.912497,41.049415 22.912497,41.210393 23.060692,41.210393 23.08185,41.302381 23.145302,41.371371 23.166447,41.463359 23.208725,41.463359 23.272118,41.302381 23.33548,41.279384 23.398812,41.348375 23.462114,41.463359 23.525386,41.509353 23.525386,41.739321 23.630771,41.762318 23.736071,41.762318 23.841286,41.739321 23.904374,41.762318 23.967432,41.900299 23.967432,41.96929 23.946416,41.96929 23.79921,42.107271 23.672901,42.153265 23.504298,42.176262 23.483208,42.199259 23.419916,42.222256 23.272118,42.360237 22.9972,42.452224 22.933677,42.475221 22.912497,42.912162 22.912497,42.935159 22.891312,43.004149 22.870125,42.981152 22.721721,42.981152 22.615619,43.096137 22.509436,43.280112 22.551919,43.44109 22.530679,43.487084 22.488189,43.464087 22.42443,43.464087 22.190396,43.51008 22.019945,43.51008 21.934642,43.487084 21.870631,43.418093 21.785239,43.44109 21.721161,43.44109 21.59292,43.395096 21.464565,43.395096 21.357516,43.44109 21.314675,43.51008 21.207517,43.533077 21.186076,43.648062 21.014436,43.648062 20.971495,43.556074 20.928542,43.418093 20.842598,43.165127 20.864089,43.119134 20.821105,42.958156 20.821105,42.843171 20.713591,42.682193 20.649047,42.314243 20.347476,42.222256 20.347476,42.130268 20.412148,42.084274 20.584474,42.038281 20.606001,42.015284 20.670565,41.900299 20.670565,41.785315 20.606001,41.693328 20.606001,41.486356 20.584474,41.394368 20.756606,41.279384 20.756606,41.23339 20.670565,41.256387 20.476793,41.23339 20.4337,41.210393 20.412148,41.210393 20.369037,41.1644 20.325913,41.141403 20.261205,41.026418 20.239629,40.888437 20.174885,40.819447 20.088518,40.819447 20.023711,40.934431 20.002103,40.957428 19.93726,40.957428 19.742573,40.980425 19.720927,40.957428 19.61265,40.957428 19.569319,41.118406 19.482621,41.141403 19.417568,41.210393 19.374185,41.348375 19.374185,41.371371 19.439255,41.394368 19.569319,41.417365 19.590986,41.417365 19.655969,41.463359 19.699277,41.509353 19.785858,41.693328 19.785858,41.739321 19.82913,41.739321 19.807495,41.808312 19.807495,41.877303 19.764217,41.831309 19.525976,41.900299 19.417568,41.900299 19.374185,41.831309 19.222252,41.60134 19.222252,41.53235 19.157094,41.463359 19.157094,41.440362 19.178816,41.394368 19.157094,41.394368 19.004961,41.371371 18.983216,41.394368 18.852688,41.440362 18.787386,41.693328 18.787386,41.762318 18.678493,41.785315 18.56953,41.808312 18.56953,41.808312 18.482309,41.785315 18.329566,41.739321 18.242224,41.670331 18.220381,41.578343 18.089269,40.750456 17.695347,40.704462 17.739159,40.543484 18.023676,40.543484 18.067408,40.520487 18.067408,40.451497 18.351395,40.4285 18.416865,40.313515 18.56953,40.06055 18.765613,39.991559 18.830924,39.922569 18.939718,39.876575 19.178816,39.784587 19.439255,39.715597 19.590986,39.32465 20.088518,39.094681 20.541411,39.071684 20.606001,38.9567 20.821105,38.933703 20.821105,38.818719 21.014436,38.795722 21.035902,38.611747 21.614301,38.542756 21.721161,38.496763 21.849288,38.519759 22.083888,38.611747 22.360642,38.58875 22.381908,38.473766 22.530679,38.404775 22.636846,38.381778 22.700507,38.381778 22.806543,38.358781 22.912497,38.358781 22.954855,38.2208 23.166447))\",\"code\":\"mekka\",\"country_code\":\"sa\",\"domain\":\"sa\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"public_transport\":false,\"road_network\":true},\"id\":\"218\",\"name\":\"Мекка\",\"time_zone\":{\"name\":\"Asia/Riyadh\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((58.665019 54.552628,58.734009 54.765465,58.711012 54.805248,58.688015 54.8185,58.688015 54.924361,58.665019 54.963988,58.688015 54.963988,58.825997 55.043123,58.87199 55.043123,58.87199 55.069467,58.894987 55.069467,58.917984 55.108951,58.986975 55.148395,59.055965 55.214049,59.078962 55.227167,59.101959 55.279595,59.331928 55.266495,59.377922 55.331954,59.377922 55.384244,59.492906 55.423416,59.676881 55.553709,59.791865 55.553709,59.929847 55.670605,59.97584 55.670605,60.205809 55.540699,60.412781 55.501644,60.550762 55.371178,60.550762 55.318871,60.458775 55.24028,60.481771 55.17467,60.481771 55.029945,60.458775 54.911144,60.320793 54.85823,60.228806 54.805248,59.998837 54.884696,59.952843 54.884696,59.791865 54.871465,59.653884 54.897922,59.5389 54.844991,59.515903 54.77873,59.469909 54.738921,59.308931 54.672486,59.262937 54.605942,59.032969 54.512597,58.87199 54.445791,58.803 54.432417,58.780003 54.445791,58.734009 54.485888,58.711012 54.525945,58.665019 54.552628))\",\"code\":\"miass\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"87\",\"name\":\"Миасс и Златоуст\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((27.251292 53.988613,27.251292 54.029156,27.320283 54.015646,27.34328 54.002132,27.596246 54.002132,27.688233 54.056163,27.757224 54.069659,27.78022 54.056163,27.895205 54.029156,27.987192 54.029156,27.987192 53.988613,28.010189 53.94803,28.07918 53.907408,28.07918 53.853184,28.056183 53.853184,27.872208 53.826046,27.849211 53.81247,27.71123 53.771716,27.642239 53.730922,27.550252 53.730922,27.389274 53.690089,27.320283 53.703705,27.297286 53.744525,27.366277 53.839617,27.366277 53.880305,27.34328 53.893859,27.297286 53.961562,27.251292 53.988613))\",\"code\":\"minsk\",\"country_code\":\"by\",\"domain\":\"by\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":true,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"217\",\"name\":\"Минск\",\"time_zone\":{\"name\":\"Europe/Minsk\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((36.726003 55.135251,36.794994 55.200927,36.955972 55.25339,36.978969 55.292691,36.955972 55.331954,36.863985 55.384244,36.794994 55.397306,36.817991 55.514667,36.794994 55.527685,36.771997 55.566715,36.794994 55.605706,36.794994 55.761284,36.771997 55.77422,36.794994 55.851751,36.771997 55.890459,36.794994 55.954886,36.749 56.070585,36.771997 56.134713,36.840988 56.185938,36.863985 56.198733,36.932975 56.198733,37.04796 56.262647,37.11695 56.249873,37.162944 56.198733,37.622881 56.224312,37.645878 56.237095,37.898844 56.224312,37.944838 56.237095,38.197803 56.237095,38.197803 56.224312,38.450769 56.237095,38.473766 56.249873,38.58875 56.249873,38.634744 56.224312,38.841716 56.224312,38.933703 56.313702,39.002694 56.313702,39.048687 56.249873,39.163672 56.185938,39.163672 56.134713,39.117678 56.109074,39.140675 55.980627,39.117678 55.967759,39.140675 55.851751,39.117678 55.83884,39.048687 55.761284,39.048687 55.683572,39.071684 55.670605,39.163672 55.644659,39.163672 55.579716,39.117678 55.553709,39.117678 55.475585,39.163672 55.436465,39.140675 55.397306,39.163672 55.331954,39.094681 55.266495,39.117678 55.095794,39.094681 55.095794,39.071684 55.029945,39.002694 55.016762,39.002694 54.977188,38.9567 54.977188,38.818719 55.029945,38.680737 55.029945,38.657741 54.990384,38.611747 54.990384,38.519759 55.043123,38.450769 55.043123,38.404775 55.016762,38.335784 55.003575,38.289791 55.029945,38.082819 55.016762,37.990831 55.043123,37.829853 55.029945,37.737866 55.003575,37.622881 55.016762,37.553891 54.990384,37.438906 54.977188,37.438906 54.963988,37.323922 54.963988,37.208938 55.003575,37.162944 55.003575,37.139947 55.016762,36.955972 55.082633,36.886982 55.069467,36.749 55.069467,36.726003 55.135251))\",\"code\":\"moscow\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":true,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"32\",\"name\":\"Москва\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((28.424133 68.529187,28.424133 68.562831,28.44713 68.571235,28.51612 68.613204,28.539117 68.646724,28.585111 68.663465,28.654102 68.721959,28.677098 68.721959,28.746089 68.81357,28.769086 68.863381,28.677098 68.87996,28.470127 68.87996,28.424133 68.904805,28.424133 68.921353,28.654102 68.979173,28.769086 69.02038,28.861073 69.045067,28.930064 69.05329,28.999055 69.05329,29.068045 69.028612,29.091042 69.05329,29.229023 69.118962,29.229023 69.151725,29.275017 69.184438,29.275017 69.225261,29.298014 69.233416,29.275017 69.241568,29.25202 69.266007,29.275017 69.306676,29.344008 69.314801,29.367005 69.322923,29.435995 69.331042,29.573976 69.331042,29.688961 69.37969,29.734955 69.395881,29.849939 69.428228,29.964923 69.420146,29.98792 69.412061,30.056911 69.452457,30.102904 69.484719,30.102904 69.516932,30.171895 69.557131,30.125901 69.613282,30.125901 69.637302,30.056911 69.645302,30.079908 69.669286,30.148898 69.677274,30.286879 69.6533,30.470854 69.581214,30.562842 69.549097,30.861801 69.54106,30.930792 69.581214,30.930792 69.629298,30.884798 69.701222,30.861801 69.709198,30.861801 69.73311,30.792811 69.788798,30.930792 69.876012,30.953789 69.907637,30.999782 69.923431,31.068773 69.978618,31.183757 70.017949,31.229751 70.025806,31.551707 70.112039,31.666692 70.135495,31.82767 70.158924,32.080635 70.158924,32.19562 70.151118,32.448585 70.112039,32.471582 70.104214,32.908523 69.994359,33.023507 69.970743,33.115495 69.970743,33.345463 69.931324,33.506441 69.89183,33.552435 69.876012,33.713413 69.76495,33.73641 69.709198,33.713413 69.68526,33.782404 69.629298,33.874391 69.60527,34.035369 69.597254,34.173351 69.597254,34.380323 69.581214,34.403319 69.573189,34.518304 69.557131,34.771269 69.500831,34.932247 69.460527,35.323194 69.460527,35.57616 69.436307,35.599157 69.428228,35.691144 69.428228,35.990104 69.403973,36.197075 69.371589,36.220072 69.363486,36.38105 69.314801,36.565025 69.282284,36.588022 69.274147,36.886982 69.200776,36.978969 69.168087,37.093953 69.143539,37.369916 69.045067,37.438906 69.028612,37.507897 69.02038,37.806856 68.962668,37.898844 68.929622,38.105816 68.863381,38.243797 68.81357,38.358781 68.730303,38.404775 68.713612,38.473766 68.663465,38.58875 68.621589,38.634744 68.596426,38.9567 68.546015,39.186669 68.48706,39.186669 68.478625,39.76159 68.385634,40.888437 68.546015,41.187396 68.588032,41.210393 68.588032,41.210393 68.596426,41.302381 68.596426,41.371371 68.520768,41.394368 68.461746,41.417365 68.453302,41.647334 68.15576,41.670331 68.130075,41.716324 68.070033,42.452224 67.069893,42.498218 66.989121,42.314243 66.862941,42.199259 66.826769,42.153265 66.808663,41.555346 66.608616,41.210393 66.480466,41.210393 66.471287,40.727459 66.296246,40.566481 66.231448,40.221528 66.110666,39.715597 65.90495,39.439634 65.867368,39.278656 65.839146,39.232662 65.839146,39.232662 65.829732,39.163672 65.829732,39.140675 65.820314,38.910706 65.79204,38.634744 65.744847,38.381778 65.707031,38.312788 65.697568,37.875847 65.707031,37.85285 65.71649,37.139947 65.744847,37.070956 65.754293,36.771997 65.763735,36.082091 65.79204,36.0131 65.79204,35.921113 65.829732,35.875119 65.829732,35.806129 65.857964,35.369188 65.998663,35.323194 66.008016,35.323194 66.017365,35.162216 66.064058,35.116222 66.082712,35.047232 66.092033,35.047232 66.101352,34.84026 66.157189,34.633288 66.222177,34.610291 66.231448,33.989376 66.40694,33.644423 66.489641,33.621426 66.498813,33.506441 66.507982,33.230479 66.553775,33.138492 66.553775,32.93152 66.581211,32.63256 66.581211,32.56357 66.572069,32.540573 66.507982,32.517576 66.480466,32.448585 66.480466,32.356598 66.462105,32.356598 66.351654,32.287607 66.342428,32.126629 66.351654,31.965651 66.351654,31.850667 66.360877,31.804673 66.397734,31.804673 66.462105,31.758679 66.498813,31.689689 66.498813,31.620698 66.507982,31.597701 66.562924,31.574704 66.645109,31.505714 66.654224,30.976786 66.663335,30.447858 66.654224,29.91893 66.663335,29.321011 66.663335,29.25202 66.690649,29.160033 66.76334,29.114039 66.772412,29.068045 66.844861,29.045048 66.853903,28.999055 66.935124,29.022052 66.944131,29.045048 67.007094,29.068045 67.016075,29.275017 67.13253,29.298014 67.16825,29.344008 67.186091,29.412998 67.230633,29.435995 67.239532,29.435995 67.248427,29.458992 67.248427,29.481989 67.292855,29.61997 67.354915,29.642967 67.381463,29.688961 67.399146,29.803945 67.478555,29.91893 67.531347,29.941926 67.57525,29.941926 67.601554,29.98792 67.636579,29.98792 67.671552,29.61997 67.810928,29.481989 67.932203,29.458992 67.958109,29.435995 67.958109,29.435995 67.983985,29.390001 68.00122,29.321011 68.061442,29.206027 68.087204,29.022052 68.121507,28.999055 68.130075,28.953061 68.130075,28.930064 68.13864,28.861073 68.147202,28.677098 68.181416,28.631105 68.198504,28.470127 68.436404,28.424133 68.529187))\",\"code\":\"murmansk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"96\",\"name\":\"Мурманская область\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((41.946293 55.540699,41.992287 55.618695,42.061278 55.618695,42.084274 55.527685,41.992287 55.514667,41.946293 55.540699))\",\"code\":\"murom\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"132\",\"name\":\"Муром\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((51.650973 55.566715,51.650973 55.618695,51.696967 55.644659,51.719963 55.709493,51.650973 55.825925,51.67397 55.851751,51.788954 55.851751,51.834948 55.877561,51.972929 55.877561,51.995926 55.864658,52.11091 55.851751,52.179901 55.877561,52.294885 55.864658,52.340879 55.877561,52.363876 55.864658,52.547851 55.864658,52.616841 55.83884,52.616841 55.618695,52.524854 55.553709,52.386873 55.540699,52.363876 55.553709,52.202898 55.553709,52.133907 55.540699,52.11091 55.553709,52.087913 55.540699,51.926935 55.540699,51.834948 55.566715,51.719963 55.553709,51.650973 55.566715))\",\"code\":\"nabchelny\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"29\",\"name\":\"Набережные Челны\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((44.705918 43.235197,44.705918 43.268696,44.797905 43.268696,44.820902 43.151368,44.774908 43.151368,44.705918 43.235197))\",\"code\":\"nazran\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"154\",\"name\":\"Назрань\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((43.487084 43.435917,43.51008 43.519355,43.717052 43.536028,43.717052 43.502676,43.648062 43.40251,43.533077 43.40251,43.487084 43.435917))\",\"code\":\"nalchik\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"134\",\"name\":\"Нальчик\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((52.915801 67.619073,52.915801 67.662814,52.984791 67.671552,53.007788 67.680288,53.122773 67.697748,53.191763 67.68902,53.168766 67.627827,53.053782 67.601554,52.915801 67.619073))\",\"code\":\"naryanmar\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"159\",\"name\":\"Нарьян-Мар\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((132.760938 42.679797,132.760938 42.882341,132.829928 42.899189,133.220875 42.916033,133.243872 42.899189,133.243872 42.7136,133.220875 42.662889,132.783935 42.662889,132.760938 42.679797))\",\"code\":\"nahodka\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"82\",\"name\":\"Находка\",\"time_zone\":{\"name\":\"Asia/Vladivostok\",\"offset\":600},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((41.877303 44.708073,41.923296 44.708073,42.038281 44.626296,41.96929 44.577174,41.900299 44.593552,41.877303 44.708073))\",\"code\":\"nevinnomyssk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"135\",\"name\":\"Невинномысск\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((75.912672 60.89433,75.935669 60.950212,75.935669 61.183847,76.00466 61.19493,76.257625 61.183847,77.016522 61.183847,77.016522 60.860754,76.832547 60.81593,76.671569 60.81593,76.602578 60.87195,76.533588 60.87195,76.510591 60.860754,75.935669 60.860754,75.912672 60.89433))\",\"code\":\"nizhnevartovsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"12\",\"name\":\"Нижневартовск\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((43.234118 56.453751,43.303109 56.466457,43.349102 56.491856,43.533077 56.491856,43.556074 56.453751,43.648062 56.453751,43.671059 56.491856,43.80904 56.567953,43.901027 56.567953,43.947021 56.517239,44.016012 56.517239,44.107999 56.491856,44.222983 56.491856,44.291974 56.479159,44.291974 56.428326,44.268977 56.339204,44.314971 56.185938,44.291974 56.173138,44.268977 56.121896,44.337968 56.109074,44.337968 56.070585,44.268977 56.057747,44.17699 56.057747,44.107999 56.032057,44.107999 55.967759,44.062005 55.890459,44.062005 55.735397,44.016012 55.631679,44.016012 55.540699,43.993015 55.475585,44.016012 55.436465,43.993015 55.371178,43.901027 55.305783,43.832037 55.305783,43.694055 55.371178,43.717052 55.475585,43.671059 55.527685,43.694055 55.527685,43.694055 55.566715,43.579071 55.579716,43.579071 55.605706,43.533077 55.631679,43.533077 55.696535,43.602068 55.748342,43.464087 55.825925,43.418093 56.006351,43.303109 56.032057,43.257115 56.185938,43.280112 56.224312,43.326105 56.262647,43.257115 56.300945,43.257115 56.364688,43.234118 56.453751))\",\"code\":\"n_novgorod\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":true,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"19\",\"name\":\"Нижний Новгород\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((58.642022 58.009341,58.848994 57.997155,58.87199 57.997155,58.940981 57.984966,59.055965 57.972772,59.469909 57.911742,59.745872 57.911742,59.768868 57.948372,59.768868 58.009341,59.791865 58.094522,60.113822 58.082366,60.182812 58.070205,60.251803 58.082366,60.320793 58.070205,60.34379 58.033699,60.435778 58.033699,60.527765 58.082366,60.596756 58.082366,60.619753 58.045872,60.527765 57.948372,60.458775 57.911742,60.389784 57.8873,60.320793 57.8873,60.251803 57.801625,60.228806 57.70346,60.159815 57.678877,60.021834 57.691171,59.699878 57.617347,59.584893 57.580379,59.400918 57.531029,59.308931 57.518682,59.308931 57.50633,59.262937 57.50633,59.23994 57.493973,59.078962 57.469249,59.078962 57.419749,59.009972 57.419749,58.986975 57.45688,58.963978 57.469249,58.87199 57.493973,58.87199 57.50633,58.803 57.50633,58.757006 57.543373,58.803 57.617347,58.780003 57.641971,58.711012 57.654277,58.711012 57.666579,58.848994 57.740303,58.848994 57.838368,58.757006 57.850607,58.688015 57.911742,58.665019 57.923956,58.642022 58.009341))\",\"code\":\"ntagil\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"45\",\"name\":\"Нижний Тагил\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((86.468236 53.97509,86.491233 53.988613,86.491233 54.069659,86.652211 54.110123,86.652211 54.123603,87.388111 54.123603,87.457101 54.110123,87.457101 53.49901,86.58322 53.49901,86.51423 53.512687,86.51423 53.920953,86.468236 53.97509))\",\"code\":\"novokuznetsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"6\",\"name\":\"Новокузнецк\",\"time_zone\":{\"name\":\"Asia/Novokuznetsk\",\"offset\":420},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((36.840988 44.887576,36.840988 44.903867,36.932975 45.098997,36.955972 45.115228,36.955972 45.212516,37.070956 45.244908,37.185941 45.244908,37.346919 45.228714,37.41591 45.196313,37.4849 45.212516,37.645878 45.212516,37.944838 45.228714,38.128813 45.196313,38.2208 45.196313,38.58875 45.228714,38.657741 45.180105,38.58875 45.115228,38.565753 44.968984,38.634744 44.887576,38.657741 44.773411,38.634744 44.65902,38.657741 44.511614,38.680737 44.495212,38.680737 44.44598,38.634744 44.380272,38.611747 44.330943,38.496763 44.149714,38.335784 44.166212,38.266794 44.182706,38.013828 44.265106,37.944838 44.347391,37.85285 44.396706,37.737866 44.44598,37.714869 44.462395,37.553891 44.462395,37.254931 44.560791,37.139947 44.64266,37.024963 44.822367,36.932975 44.871281,36.840988 44.887576))\",\"code\":\"novorossiysk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"74\",\"name\":\"Новороссийск\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((80.948987 54.378876,81.040974 54.445791,81.201952 54.459161,81.270943 54.432417,81.339934 54.445791,81.546906 54.525945,81.523909 54.605942,81.592899 54.619259,81.707884 54.632572,81.684887 54.672486,81.615896 54.738921,81.592899 54.752195,81.523909 54.8185,81.569902 54.871465,81.477915 54.937574,81.408924 54.937574,81.362931 54.963988,81.431921 55.029945,81.454918 55.043123,81.431921 55.108951,81.454918 55.122103,81.454918 55.279595,81.408924 55.279595,81.385927 55.318871,81.431921 55.345033,81.546906 55.397306,81.868862 55.449509,82.075834 55.501644,82.121827 55.501644,82.121827 55.540699,82.02984 55.644659,81.937852 55.77422,81.822868 55.903353,81.730881 56.032057,81.592899 56.198733,81.569902 56.237095,81.592899 56.249873,81.868862 56.300945,82.144824 56.326455,82.282805 56.351948,82.351796 56.351948,82.420787 56.390156,82.489777 56.402883,82.742743 56.415607,82.811733 56.428326,82.811733 56.517239,82.880724 56.529924,83.041702 56.529924,83.110693 56.542605,83.271671 56.453751,83.271671 56.415607,83.156687 56.351948,83.13369 56.262647,83.087696 56.237095,83.087696 56.224312,83.20268 56.211525,83.179683 56.147525,83.156687 56.134713,83.156687 56.109074,83.248674 56.109074,83.271671 56.096249,83.248674 56.032057,83.317665 55.980627,83.386655 55.916243,83.386655 55.864658,83.294668 55.813005,83.225677 55.748342,83.248674 55.709493,83.409652 55.709493,83.524636 55.696535,83.593627 55.670605,83.593627 55.605706,83.754605 55.540699,83.846593 55.540699,83.961577 55.553709,83.961577 55.501644,84.007571 55.488617,84.030568 55.423416,84.076561 55.397306,84.145552 55.410363,84.145552 55.449509,84.260536 55.449509,84.421514 55.462549,84.490505 55.488617,84.651483 55.475585,84.697477 55.449509,84.697477 55.423416,84.651483 55.423416,84.651483 55.384244,84.720474 55.371178,84.812461 55.371178,84.904449 55.345033,84.904449 55.279595,84.881452 55.279595,84.858455 55.214049,84.927446 55.161535,84.927446 55.095794,84.858455 55.003575,84.881452 54.963988,84.996436 54.937574,84.996436 54.897922,85.065427 54.85823,85.065427 54.8185,84.950442 54.765465,84.927446 54.752195,84.927446 54.71236,84.996436 54.672486,84.996436 54.632572,84.950442 54.605942,84.973439 54.552628,84.996436 54.539289,85.088424 54.459161,85.111421 54.445791,85.111421 54.432417,84.858455 54.338675,84.743471 54.325266,84.582493 54.231279,84.582493 54.190933,84.536499 54.150548,84.352524 54.164014,84.191546 54.177476,83.961577 54.110123,83.800599 54.123603,83.800599 54.110123,83.57063 54.110123,83.478643 54.069659,83.478643 54.002132,83.432649 53.94803,83.340661 53.94803,83.317665 54.056163,83.156687 54.056163,83.087696 53.97509,83.041702 53.97509,82.995708 54.015646,82.76574 54.015646,82.627758 54.204386,82.650755 54.271585,82.673752 54.271585,82.673752 54.325266,82.558768 54.419038,82.420787 54.419038,82.121827 54.271585,82.121827 54.231279,82.075834 54.204386,82.075834 54.177476,82.006843 54.164014,81.799871 54.069659,81.730881 53.988613,81.66189 53.988613,81.592899 53.920953,81.546906 53.934494,81.592899 54.015646,81.408924 54.056163,81.385927 54.069659,81.29394 54.069659,81.247946 54.09664,81.132962 54.123603,81.086968 54.204386,81.063971 54.204386,81.063971 54.217835,81.017977 54.258154,80.994981 54.271585,80.971984 54.338675,80.948987 54.378876))\",\"code\":\"novosibirsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":true,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"1\",\"name\":\"Новосибирск\",\"time_zone\":{\"name\":\"Asia/Novosibirsk\",\"offset\":420},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((40.014556 47.342019,40.014556 47.404314,40.037553 47.482081,40.083547 47.544211,40.106544 47.559732,40.175534 47.544211,40.152537 47.435435,40.198531 47.435435,40.267522 47.419877,40.152537 47.326433,40.083547 47.326433,40.014556 47.342019))\",\"code\":\"novocherkassk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"137\",\"name\":\"Новочеркасск\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((39.784587 47.776545,39.807584 47.791997,39.853578 47.884613,39.922569 47.884613,39.945565 47.869189,39.991559 47.822887,40.014556 47.71469,39.968562 47.71469,39.807584 47.730161,39.784587 47.776545))\",\"code\":\"novoshakhtinsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"138\",\"name\":\"Новошахтинск\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((31.801357 30.112815,31.885295 30.093472,31.902893 29.959327,31.897466 29.790826,31.846008 29.863458,31.78999 29.893691,31.688733 29.8991,31.683771 29.967064,31.660645 29.988141,31.569682 29.995727,31.606082 30.04554,31.718134 30.044748,31.801357 30.112815))\",\"code\":\"new_cairo\",\"country_code\":\"eg\",\"domain\":\"eg\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"public_transport\":false,\"road_network\":true},\"id\":\"239\",\"name\":\"Новый Каир_\",\"time_zone\":{\"name\":\"Africa/Cairo\",\"offset\":120},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((76.372609 66.092033,76.533588 66.157189,76.533588 66.175774,76.625575 66.175774,76.970528 66.185062,77.039519 66.166483,77.085513 66.082712,77.200497 66.045391,77.269487 66.036052,77.522453 66.036052,77.54545 66.045391,77.683431 66.092033,77.752422 66.092033,77.798416 66.073387,77.867406 66.082712,78.097375 66.129286,78.212359 66.13859,78.327344 66.092033,78.327344 66.073387,78.442328 65.998663,78.488322 65.979948,78.488322 65.970585,78.327344 65.867368,78.304347 65.857964,78.28135 65.829732,78.258353 65.829732,78.258353 65.810893,78.235356 65.801468,78.212359 65.773173,78.143369 65.735398,78.051381 65.725946,78.028384 65.697568,77.959394 65.688102,77.890403 65.659683,77.798416 65.659683,77.775419 65.650203,77.660434 65.640719,77.568447 65.678633,77.453462 65.707031,77.223494 65.801468,77.154503 65.801468,76.947531 65.79204,76.740559 65.820314,76.717563 65.829732,76.694566 65.829732,76.602578 65.886166,76.602578 65.89556,76.533588 65.90495,76.533588 65.914337,76.464597 65.92372,76.4416 65.9331,76.4416 65.961219,76.418603 66.02671,76.372609 66.092033))\",\"code\":\"n_urengoy\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"139\",\"name\":\"Новый Уренгой\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((85.985302 69.395881,85.985302 69.549097,86.054292 69.557131,86.58322 69.565161,87.043158 69.565161,88.307986 69.557131,88.537954 69.557131,88.560951 69.533021,88.537954 69.508883,88.537954 69.266007,88.514958 69.241568,88.307986 69.241568,87.963033 69.249717,86.031295 69.249717,86.008299 69.274147,85.985302 69.395881))\",\"code\":\"norilsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"76\",\"name\":\"Норильск\",\"time_zone\":{\"name\":\"Asia/Krasnoyarsk\",\"offset\":420},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((74.302891 63.662768,74.302891 63.845822,74.325888 63.876216,76.188635 63.876216,76.257625 63.866088,76.257625 63.662768,76.234628 63.303421,76.280622 63.28275,76.487594 63.272409,76.533588 63.272409,76.832547 63.262064,77.085513 63.251716,77.108509 63.241364,77.1775 63.096044,77.062516 62.970904,77.039519 62.970904,77.016522 62.981353,76.855544 62.991798,76.717563 63.023111,76.648572 63.033541,76.533588 63.002239,76.487594 62.981353,76.464597 62.981353,76.418603 62.960451,76.326616 62.960451,76.257625 63.023111,74.394879 63.023111,74.325888 63.033541,74.325888 63.303421,74.302891 63.662768))\",\"code\":\"noyabrsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"103\",\"name\":\"Ноябрьск\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((71.129323 51.123677,71.129323 51.253399,71.336295 51.310935,71.382288 51.310935,71.635254 51.325308,71.681248 51.354041,71.750238 51.354041,71.750238 51.339677,71.842226 51.224603,71.865223 51.152536,71.88822 51.008062,71.796232 50.950147,71.612257 50.921162,71.382288 50.935657,71.267304 50.950147,71.15232 51.02253,71.129323 51.123677))\",\"code\":\"nur_sultan\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"68\",\"name\":\"Нур-Султан\",\"time_zone\":{\"name\":\"Asia/Almaty\",\"offset\":360},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((65.150136 62.00429,65.150136 62.047438,65.334111 62.1443,65.403102 62.176518,65.495089 62.294359,65.748055 62.294359,65.817046 62.283666,65.794049 62.262267,65.771052 62.18725,65.886036 62.112047,65.886036 62.090526,65.863039 62.07976,65.886036 62.00429,65.863039 61.971888,65.656067 61.971888,65.56408 61.993493,65.219127 61.993493,65.150136 62.00429))\",\"code\":\"nyagan\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"202\",\"name\":\"Нягань\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((51.444001 24.366077,51.444001 24.428906,51.581982 24.554472,51.581982 24.679912,52.018923 24.78435,52.271888 24.84697,52.340879 24.909558,52.317882 24.972115,52.340879 25.03464,52.432867 25.03464,52.455863 25.013802,52.639838 25.180408,52.84681 25.450657,52.869807 25.47142,52.938798 25.49218,52.984791 25.49218,54.111638 25.47142,54.203626 25.47142,55.1235 25.575183,55.284479 25.595925,55.376466 25.741017,55.42246 25.782439,55.514447 25.823847,55.767413 25.968661,55.813407 26.03067,55.8594 26.154588,55.951388 26.154588,55.974385 26.133944,56.089369 26.07199,56.181357 26.07199,56.204353 25.968661,56.204353 25.90662,56.15836 25.823847,56.181357 25.803145,56.181357 25.7203,56.15836 25.69958,56.250347 25.637398,56.457319 25.7203,56.549306 25.7203,56.5953 25.658129,56.618297 25.512936,56.618297 25.013802,56.52631 24.972115,56.365331 24.951267,56.342335 24.888699,56.22735 24.8261,56.204353 24.742585,56.089369 24.721698,56.020378 24.742585,56.020378 24.805227,55.974385 24.84697,55.997382 24.909558,56.020378 24.930414,55.974385 24.972115,55.882397 24.951267,55.836403 24.888699,55.8594 24.679912,55.79041 24.533553,55.8594 24.407967,55.8594 24.345126,55.813407 24.261291,55.836403 24.219352,55.905394 24.240323,55.974385 24.219352,56.020378 24.093454,55.997382 24.030458,55.836403 24.009453,55.721419 24.030458,55.537444 23.946416,55.583438 23.651837,55.560441 23.546469,55.537444 23.525386,55.468454 23.441017,55.445457 23.377705,55.399463 23.33548,55.307475 23.166447,55.284479 23.145302,55.238485 23.018367,55.238485 22.806543,55.261482 22.806543,55.238485 22.700507,55.215488 22.700507,55.1235 22.636846,54.916529 22.65807,54.893532 22.67929,54.341607 22.721721,54.272616 22.742931,53.835676 22.806543,53.674698 22.806543,53.14577 22.870125,52.984791 22.891312,52.869807 22.891312,52.84681 22.912497,52.662835 22.912497,52.662835 22.933677,52.570848 22.933677,52.340879 23.229859,52.156904 23.441017,52.018923 23.630771,51.765957 23.925397,51.67397 24.009453,51.581982 24.156418,51.581982 24.261291,51.535989 24.345126,51.444001 24.366077))\",\"code\":\"dubai\",\"country_code\":\"ae\",\"domain\":\"ae\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":true,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"99\",\"name\":\"ОАЭ\",\"time_zone\":{\"name\":\"Asia/Dubai\",\"offset\":240},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((30.493851 46.572919,30.516848 46.651905,30.562842 46.667688,30.585839 46.651905,30.838804 46.651905,30.907795 46.620324,30.907795 46.525471,30.838804 46.446301,30.815808 46.367015,30.700823 46.255822,30.631833 46.255822,30.516848 46.335269,30.493851 46.572919))\",\"code\":\"odessa\",\"country_code\":\"ua\",\"domain\":\"ua\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"14\",\"name\":\"Одесса\",\"time_zone\":{\"name\":\"Europe/Kiev\",\"offset\":120},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((51.995926 18.939718,51.995926 18.983216,52.018923 19.004961,52.432867 19.13537,52.915801 19.309088,52.984791 19.33079,53.95066 19.655969,54.571576 19.850762,54.870535 19.958877,55.008516 20.002103,55.238485 20.692079,55.49145 21.485965,55.675425 21.998624,55.215488 22.700507,55.215488 23.039531,55.284479 23.187588,55.307475 23.208725,55.468454 23.483208,55.537444 23.546469,55.560441 23.651837,55.514447 23.967432,55.583438 23.988444,55.629432 24.030458,55.767413 24.05146,55.79041 24.030458,55.997382 24.05146,55.997382 24.093454,55.951388 24.219352,55.79041 24.219352,55.813407 24.324173,55.836403 24.324173,55.836403 24.407967,55.79041 24.491705,55.767413 24.554472,55.79041 24.575388,55.836403 24.679912,55.813407 24.888699,55.8594 24.972115,56.020378 24.99296,56.043375 24.930414,55.997382 24.84697,56.043375 24.8261,56.043375 24.763469,56.112366 24.742585,56.181357 24.763469,56.22735 24.867836,56.319338 24.888699,56.342335 24.972115,56.52631 24.99296,56.5953 25.03464,56.5953 25.533689,56.572303 25.637398,56.549306 25.69958,56.457319 25.69958,56.296341 25.637398,56.296341 25.616663,56.181357 25.637398,56.15836 25.69958,56.15836 25.76173,56.181357 26.03067,56.043375 26.07199,55.997382 26.113297,55.905394 26.133944,55.882397 26.154588,55.905394 26.257754,55.928391 26.278376,56.020378 26.422627,56.273344 26.607829,56.549306 26.73113,56.687288 26.669496,56.733281 26.628388,56.779275 26.546128,56.779275 26.422627,56.802272 26.154588,57.285206 24.909558,57.423188 24.533553,57.584166 24.428906,58.274072 24.05146,58.665019 23.862319,58.87199 23.736071,58.87199 23.715017,58.940981 23.693961,58.963978 23.6097,58.986975 23.588627,59.101959 23.462114,59.17095 23.356594,59.193947 23.33548,59.216944 23.272118,59.23994 23.25099,59.262937 23.187588,59.377922 23.124155,59.469909 22.933677,59.492906 22.912497,59.515903 22.912497,59.630887 22.785342,59.837859 22.764139,59.97584 22.700507,60.067828 22.530679,60.067828 22.232977,60.044831 22.211688,60.021834 22.105196,59.929847 21.998624,59.883853 21.934642,59.883853 21.849288,59.860856 21.827941,59.768868 21.721161,59.699878 21.614301,59.676881 21.528757,59.653884 21.507363,59.584893 21.400345,59.5389 21.271821,59.23994 21.121734,59.078962 20.95002,59.101959 20.799608,59.124956 20.778109,59.216944 20.519875,59.193947 20.369037,59.032969 20.218051,58.917984 20.066918,58.87199 20.045316,58.87199 20.023711,58.757006 19.958877,58.688015 19.93726,58.550034 19.93726,58.527037 19.958877,58.251075 20.110114,58.0671 20.110114,58.044103 19.91564,58.021106 19.894017,58.021106 19.720927,57.952116 19.61265,57.998109 19.374185,57.998109 19.309088,58.090097 19.004961,58.0671 18.896209,57.952116 18.787386,57.745144 18.722059,57.469181 18.722059,57.239213 18.678493,57.216216 18.656706,57.147225 18.656706,56.940253 18.56953,56.871263 18.460497,56.871263 18.416865,56.802272 18.176688,56.779275 18.154838,56.779275 18.089269,56.710285 17.936181,56.5953 17.870531,56.641294 17.54192,56.618297 17.410307,56.503313 17.300558,56.319338 17.25664,56.250347 17.2786,55.905394 17.25664,55.698422 17.25664,55.49145 17.212711,55.468454 17.102844,55.42246 17.058879,55.376466 16.992912,55.353469 16.970918,55.169494 16.816887,55.077507 16.772855,54.939525 16.750835,54.801544 16.706788,54.617569 16.750835,54.594572 16.772855,54.525582 16.816887,54.433594 16.794872,54.433594 16.816887,54.226622 16.794872,54.111638 16.728813,54.019651 16.684761,53.881669 16.662731,53.812679 16.596626,53.605707 16.530498,53.490723 16.530498,53.237757 16.464348,53.168766 16.464348,53.053782 16.684761,53.007788 16.816887,52.984791 16.838899,52.984791 16.882916,52.961795 16.90492,52.938798 16.970918,52.869807 17.124823,52.754823 17.2786,52.754823 17.366415,52.731826 17.388363,52.685832 17.519991,52.616841 17.673436,52.432867 18.023676,52.156904 18.634916,52.087913 18.743837,51.995926 18.939718))\",\"code\":\"oman\",\"country_code\":\"om\",\"domain\":\"om\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"public_transport\":false,\"road_network\":true},\"id\":\"237\",\"name\":\"Оман\",\"time_zone\":{\"name\":\"Asia/Muscat\",\"offset\":240},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((72.854088 55.17467,72.854088 55.371178,72.877085 55.410363,73.176044 55.410363,73.291029 55.423416,73.314026 55.410363,73.635982 55.410363,73.704972 55.423416,73.750966 55.397306,73.773963 54.831748,73.750966 54.791991,73.176044 54.791991,73.153048 54.77873,73.015066 54.791991,72.900082 54.77873,72.877085 54.8185,72.854088 55.17467))\",\"code\":\"omsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"2\",\"name\":\"Омск\",\"time_zone\":{\"name\":\"Asia/Omsk\",\"offset\":360},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((54.824541 51.282176,54.824541 51.339677,54.893532 51.425793,54.916529 51.497433,54.916529 51.711677,54.847538 51.725925,54.870535 51.853946,54.985519 51.939092,55.077507 51.953267,55.1235 51.924912,55.330472 51.924912,55.42246 51.896539,55.514447 51.839739,55.514447 51.782868,55.606435 51.725925,55.583438 51.668909,55.537444 51.668909,55.49145 51.611822,55.514447 51.526057,55.49145 51.511747,55.42246 51.425793,55.238485 51.310935,55.1235 51.138109,55.031513 51.109241,54.916529 51.123677,54.824541 51.282176))\",\"code\":\"orenburg\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"48\",\"name\":\"Оренбург\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((58.343062 51.152536,58.412053 51.19579,58.389056 51.239003,58.343062 51.26779,58.343062 51.325308,58.734009 51.325308,58.87199 51.253399,58.87199 51.239003,58.940981 51.239003,59.009972 51.224603,59.009972 51.152536,59.078962 51.094801,59.055965 51.02253,58.986975 51.008062,58.87199 51.02253,58.87199 51.036993,58.803 51.036993,58.642022 51.02253,58.550034 51.080355,58.366059 51.080355,58.343062 51.152536))\",\"code\":\"orsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"142\",\"name\":\"Орск\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((35.852122 52.865079,35.852122 52.920575,35.875119 53.072825,35.967107 53.100449,36.266066 53.08664,36.31206 53.072825,36.31206 53.003687,36.335057 52.962151,36.31206 52.920575,36.174079 52.837304,36.0131 52.851193,35.94411 52.837304,35.852122 52.865079))\",\"code\":\"orel\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"71\",\"name\":\"Орёл\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((72.69311 40.478212,72.69311 40.565618,72.785098 40.635461,72.877085 40.635461,72.900082 40.495702,72.854088 40.390692,72.739104 40.408205,72.69311 40.478212))\",\"code\":\"osh\",\"country_code\":\"kg\",\"domain\":\"kg\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"171\",\"name\":\"Ош\",\"time_zone\":{\"name\":\"Asia/Bishkek\",\"offset\":360},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((76.625575 52.16536,76.648572 52.249915,76.671569 52.404515,76.717563 52.446585,76.993525 52.474609,77.223494 52.446585,77.223494 52.179463,77.246491 52.052369,77.223494 52.009924,76.993525 51.995766,76.832547 52.009924,76.763556 52.024077,76.671569 52.16536,76.625575 52.16536))\",\"code\":\"pavlodar\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true},\"id\":\"111\",\"name\":\"Павлодар\",\"time_zone\":{\"name\":\"Asia/Qyzylorda\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((11.360454 45.115228,11.360454 45.309637,11.383451 45.680399,11.406448 45.728579,11.774398 45.728579,12.119351 45.712524,12.464304 45.712524,12.602285 45.680399,12.579289 45.082761,12.510298 45.066521,12.487301 45.082761,12.027364 45.082761,11.774398 45.098997,11.429445 45.098997,11.360454 45.115228))\",\"code\":\"padova\",\"country_code\":\"it\",\"domain\":\"it\",\"flags\":{\"2gis_reviews\":false,\"flamp\":false,\"gdpr\":true,\"metro\":false,\"public_transport\":true,\"road_network\":false},\"id\":\"66\",\"name\":\"Падуя\",\"time_zone\":{\"name\":\"Europe/Rome\",\"offset\":60},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((44.774908 53.072825,44.774908 53.252065,44.797905 53.265822,44.843899 53.334539,44.958883 53.361995,45.027874 53.375717,45.073868 53.34827,45.28084 53.34827,45.34983 53.334539,45.34983 53.238304,45.395824 53.155645,45.372827 53.059007,45.303836 53.017524,45.142858 53.031356,45.096865 53.059007,44.935886 53.045183,44.843899 53.059007,44.774908 53.072825))\",\"code\":\"penza\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"42\",\"name\":\"Пенза\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((55.537444 57.923956,55.583438 57.948372,55.606435 57.997155,55.537444 57.997155,55.560441 58.058041,55.560441 58.094522,55.652428 58.143106,55.675425 58.191624,55.744416 58.227969,55.813407 58.276371,55.905394 58.276371,56.043375 58.348851,56.112366 58.360916,56.15836 58.409137,56.089369 58.445259,56.089369 58.601361,56.204353 58.709025,56.22735 58.720967,56.296341 58.852061,56.296341 58.911485,56.250347 58.958951,56.250347 58.994508,56.181357 59.04186,56.204353 59.12457,56.22735 59.12457,56.204353 59.218851,56.388328 59.312872,56.457319 59.324606,56.457319 59.383218,56.342335 59.394928,56.342335 59.406634,56.411325 59.453418,56.52631 59.581741,56.5953 59.593382,56.664291 59.581741,56.687288 59.570095,56.779275 59.558445,56.848266 59.616653,56.940253 59.605019,56.986247 59.558445,57.147225 59.511807,57.285206 59.453418,57.285206 59.406634,57.239213 59.383218,57.170222 59.254139,57.170222 59.218851,57.101231 59.20708,57.101231 59.171743,57.055238 59.148164,57.032241 59.100959,56.986247 59.100959,56.917256 59.018192,56.96325 58.804448,56.917256 58.709025,56.848266 58.541404,56.848266 58.481344,56.917256 58.421182,56.89426 58.360916,56.89426 58.300548,56.848266 58.276371,56.848266 58.191624,56.802272 58.094522,56.825269 57.984966,56.756278 57.972772,56.756278 57.936166,56.802272 57.911742,56.802272 57.826124,56.733281 57.789369,56.618297 57.777108,56.457319 57.752576,56.457319 57.666579,56.273344 57.678877,56.250347 57.666579,56.043375 57.666579,55.974385 57.678877,55.974385 57.752576,55.882397 57.777108,55.721419 57.764844,55.698422 57.801625,55.629432 57.813876,55.560441 57.838368,55.583438 57.875073,55.537444 57.923956))\",\"code\":\"perm\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"16\",\"name\":\"Пермь\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((34.10436 61.711431,34.10436 61.928632,34.127357 61.96108,34.380323 61.96108,34.633288 61.950267,34.702279 61.939452,34.702279 61.711431,34.656285 61.689626,34.127357 61.70053,34.10436 61.711431))\",\"code\":\"petrozavodsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"80\",\"name\":\"Петрозаводск\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((68.967617 54.791991,68.967617 54.844991,68.990614 54.911144,69.082601 54.977188,69.220583 54.977188,69.335567 54.963988,69.335567 54.911144,69.289573 54.8185,69.151592 54.738921,69.082601 54.752195,68.967617 54.791991))\",\"code\":\"petropavlovsk\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"170\",\"name\":\"Петропавловск\",\"time_zone\":{\"name\":\"Asia/Almaty\",\"offset\":360},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((158.034499 53.183216,158.149484 53.279574,158.195477 53.361995,158.448443 53.375717,158.793396 53.361995,158.954374 53.320805,158.954374 53.307066,159.023365 53.265822,159.27633 52.948297,159.27633 52.934438,159.092355 52.823409,159.023365 52.739951,158.954374 52.712096,158.885384 52.726026,158.655415 52.767788,158.218474 52.865079,158.10349 52.920575,158.10349 53.003687,158.080493 53.128056,158.057496 53.141852,158.034499 53.183216))\",\"code\":\"p_kamchatskiy\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"95\",\"name\":\"Петропавловск-Камчатский\",\"time_zone\":{\"name\":\"Asia/Kamchatka\",\"offset\":720},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((34.012373 59.546792,34.035369 59.581741,34.10436 59.581741,34.242341 59.523473,34.242341 59.488463,34.173351 59.476786,34.012373 59.546792))\",\"code\":\"pikalevo\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"213\",\"name\":\"Пикалево\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((14.212066 49.954501,14.212066 50.131727,14.235063 50.175931,14.649007 50.175931,14.717998 50.161201,14.717998 49.984084,14.695001 49.939703,14.235063 49.939703,14.212066 49.954501))\",\"code\":\"praha\",\"country_code\":\"cz\",\"domain\":\"cz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"gdpr\":true,\"metro\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"92\",\"name\":\"Прага\",\"time_zone\":{\"name\":\"Europe/Prague\",\"offset\":60},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((27.550252 57.826124,27.596246 57.850607,27.895205 57.850607,27.941199 57.875073,28.14817 57.911742,28.332145 57.8873,28.424133 57.8873,28.493124 57.862842,28.493124 57.764844,28.424133 57.728026,28.171167 57.715745,28.125174 57.740303,28.056183 57.752576,27.941199 57.715745,27.872208 57.70346,27.757224 57.752576,27.71123 57.777108,27.619242 57.789369,27.550252 57.826124))\",\"code\":\"pskov\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"90\",\"name\":\"Псков\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((83.93858 51.094801,83.961577 51.138109,84.076561 51.152536,84.099558 51.094801,84.145552 51.123677,84.168549 51.19579,84.191546 51.210199,84.214543 51.26779,84.329527 51.282176,84.398518 51.26779,84.536499 51.339677,84.628486 51.339677,84.697477 51.411452,84.766468 51.425793,84.835458 51.425793,84.904449 51.44013,84.973439 51.511747,85.134417 51.511747,85.157414 51.497433,85.272399 51.511747,85.272399 51.540363,85.433377 51.56896,85.479371 51.626101,85.479371 51.68317,85.594355 51.711677,85.617352 51.754405,85.617352 51.797093,85.548361 51.839739,85.594355 51.882346,85.594355 51.910728,85.548361 51.910728,85.571358 51.967438,85.594355 51.981605,85.686342 52.052369,85.709339 52.094774,85.77833 52.1089,85.916311 52.123022,85.939308 52.094774,86.100286 52.080644,86.21527 52.024077,86.238267 52.038225,86.399245 52.038225,86.445239 52.080644,86.445239 52.123022,86.629214 52.1089,86.790192 52.16536,86.767195 52.207657,86.744198 52.221748,86.767195 52.235833,86.767195 52.278064,86.698205 52.320254,86.652211 52.376446,86.675208 52.474609,86.652211 52.488614,86.652211 52.516612,86.767195 52.516612,86.790192 52.558575,86.813189 52.628424,86.905177 52.628424,86.905177 52.64238,87.020161 52.656332,87.135145 52.614463,87.181139 52.586528,87.31912 52.586528,87.388111 52.516612,87.411108 52.502615,87.61808 52.460599,87.641076 52.432566,87.779058 52.488614,87.848048 52.502615,87.894042 52.530604,88.032023 52.516612,88.193001 52.418543,88.284989 52.418543,88.307986 52.432566,88.307986 52.446585,88.42297 52.446585,88.445967 52.404515,88.445967 52.334309,88.399973 52.306195,88.376976 52.207657,88.376976 52.16536,88.353979 52.1089,88.307986 52.1089,88.215998 52.052369,88.147008 52.080644,88.078017 52.038225,88.078017 51.995766,88.009026 51.953267,87.963033 51.882346,87.940036 51.868148,87.894042 51.811313,87.986029 51.754405,88.078017 51.754405,88.101014 51.711677,88.009026 51.640375,87.986029 51.56896,87.940036 51.56896,87.940036 51.483114,88.009026 51.46879,88.078017 51.46879,88.101014 51.454462,88.170004 51.354041,88.284989 51.354041,88.307986 51.339677,88.42297 51.296558,88.537954 51.310935,88.698933 51.411452,88.675936 51.526057,88.767923 51.554663,88.813917 51.554663,88.836914 51.497433,88.997892 51.397106,88.974895 51.210199,89.043886 51.152536,89.043886 51.065906,89.204864 50.964632,89.273854 50.906663,89.388839 50.834099,89.641804 50.615729,89.641804 50.586536,89.802782 50.542712,89.825779 50.542712,89.848776 50.469583,89.825779 50.425651,89.710795 50.39634,89.687798 50.381678,89.618807 50.381678,89.572814 50.440299,89.503823 50.440299,89.480826 50.35234,89.411836 50.337664,89.365842 50.264217,89.342845 50.249514,89.342845 50.190657,89.503823 50.205378,89.52682 50.161201,89.52682 50.116983,89.572814 50.087482,89.52682 50.043196,89.59581 49.984084,89.641804 49.910093,89.664801 49.910093,89.641804 49.865643,89.687798 49.791469,89.733792 49.761768,89.733792 49.717182,89.618807 49.672555,89.503823 49.65767,89.388839 49.583177,89.296851 49.583177,89.227861 49.627886,89.204864 49.612988,89.250857 49.553349,89.135873 49.478697,88.974895 49.448804,88.905904 49.493636,88.882907 49.448804,88.813917 49.433851,88.79092 49.448804,88.698933 49.448804,88.606945 49.478697,88.445967 49.463753,88.42297 49.478697,88.353979 49.463753,88.238995 49.463753,88.170004 49.388964,88.193001 49.284068,88.032023 49.209006,87.963033 49.163914,87.802055 49.163914,87.802055 49.148874,87.733064 49.163914,87.664073 49.133829,87.526092 49.11878,87.503095 49.073606,87.434105 49.058539,87.273126 49.103727,87.296123 49.11878,87.296123 49.239044,87.181139 49.254057,87.066155 49.254057,86.95117 49.314061,86.95117 49.403931,86.836186 49.448804,86.836186 49.538427,86.744198 49.568265,86.675208 49.568265,86.606217 49.583177,86.629214 49.627886,86.698205 49.687435,86.767195 49.687435,86.767195 49.791469,86.698205 49.806313,86.629214 49.806313,86.606217 49.761768,86.537227 49.717182,86.51423 49.672555,86.399245 49.598085,86.330255 49.598085,86.261264 49.583177,86.261264 49.538427,86.21527 49.478697,86.14628 49.523501,86.077289 49.523501,86.054292 49.508571,85.962305 49.493636,85.916311 49.568265,85.824324 49.553349,85.801327 49.568265,85.663345 49.568265,85.617352 49.598085,85.502367 49.598085,85.433377 49.612988,85.272399 49.598085,85.203408 49.64278,85.203408 49.732048,85.157414 49.761768,85.111421 49.835987,85.04243 49.880464,84.973439 49.954501,85.019433 49.984084,85.04243 50.028425,84.950442 50.102235,84.835458 50.102235,84.835458 50.131727,84.766468 50.146466,84.697477 50.190657,84.490505 50.220095,84.490505 50.234807,84.352524 50.220095,84.260536 50.264217,84.237539 50.513474,84.191546 50.542712,84.122555 50.615729,84.099558 50.615729,84.099558 50.644903,84.168549 50.659484,84.260536 50.67406,84.283533 50.688632,84.490505 50.688632,84.536499 50.775966,84.559496 50.790506,84.559496 50.834099,84.444511 50.877651,84.467508 50.964632,84.352524 50.979114,84.329527 50.99359,84.214543 50.99359,83.984574 51.065906,83.93858 51.094801))\",\"code\":\"gornoaltaysk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"27\",\"name\":\"Республика Алтай\",\"time_zone\":{\"name\":\"Asia/Barnaul\",\"offset\":420},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((39.347647 47.045108,39.347647 47.295248,39.485628 47.326433,39.531622 47.357599,39.600612 47.373176,39.669603 47.419877,39.784587 47.435435,39.853578 47.450988,39.853578 47.513155,39.968562 47.513155,40.037553 47.482081,40.014556 47.404314,39.922569 47.342019,39.922569 47.248437,39.968562 47.217206,39.968562 47.170326,39.922569 47.139049,39.922569 47.092099,39.876575 47.060777,39.76159 47.045108,39.738594 47.060777,39.347647 47.045108))\",\"code\":\"rostov\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"24\",\"name\":\"Ростов-на-Дону\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((81.155959 51.511747,81.178956 51.554663,81.247946 51.56896,81.29394 51.554663,81.316937 51.511747,81.29394 51.46879,81.178956 51.46879,81.155959 51.511747))\",\"code\":\"rubtsovsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"143\",\"name\":\"Рубцовск\",\"time_zone\":{\"name\":\"Asia/Barnaul\",\"offset\":420},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((38.680737 58.082366,38.680737 58.118823,38.795722 58.106675,38.9567 58.106675,38.979697 58.021522,38.933703 57.997155,38.864712 57.997155,38.680737 58.082366))\",\"code\":\"rybinsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"144\",\"name\":\"Рыбинск\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((39.347647 54.765465,39.347647 54.77873,39.416637 54.85823,39.485628 54.897922,39.738594 54.884696,40.014556 54.884696,40.083547 54.871465,40.083547 54.525945,40.06055 54.485888,39.462631 54.485888,39.39364 54.499245,39.39364 54.71236,39.370644 54.752195,39.347647 54.765465))\",\"code\":\"ryazan\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"44\",\"name\":\"Рязань\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((66.460958 66.507982,66.506952 66.617744,66.598939 66.635991,66.66793 66.635991,66.759917 66.617744,66.713924 66.581211,66.73692 66.562924,66.782914 66.544623,66.805911 66.462105,66.644933 66.452919,66.575942 66.480466,66.483955 66.489641,66.483955 66.498813,66.460958 66.507982))\",\"code\":\"salekhard\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"160\",\"name\":\"Салехард\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((49.673242 53.416854,49.719236 53.471642,49.742233 53.540028,49.765229 53.553692,49.788226 53.608304,49.811223 53.703705,49.903211 53.703705,50.018195 53.744525,50.110183 53.744525,50.317154 53.785305,50.386145 53.771716,50.501129 53.717316,50.547123 53.649216,50.593117 53.52636,50.616114 53.403146,50.685104 53.34827,50.754095 53.34827,50.800089 53.293322,50.777092 53.252065,50.708101 53.196994,50.639111 53.183216,50.547123 53.141852,50.547123 53.100449,50.524126 53.059007,50.432139 53.003687,49.972201 53.003687,49.880214 53.031356,49.811223 53.031356,49.788226 53.045183,49.811223 53.141852,49.788226 53.155645,49.788226 53.293322,49.742233 53.320805,49.673242 53.416854))\",\"code\":\"samara\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":true,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"18\",\"name\":\"Самара\",\"time_zone\":{\"name\":\"Europe/Samara\",\"offset\":240},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((29.367005 59.963788,29.435995 59.998303,29.435995 60.032782,29.412998 60.032782,29.390001 60.204638,29.412998 60.238902,29.435995 60.250316,29.711958 60.295929,29.872936 60.307322,29.872936 60.295929,30.079908 60.284532,30.217889 60.307322,30.424861 60.295929,30.585839 60.318712,30.792811 60.307322,30.976786 60.318712,30.976786 60.295929,31.045776 60.216064,31.09177 60.204638,31.160761 60.055748,31.160761 60.021293,31.137764 59.894649,31.183757 59.894649,31.229751 59.871571,31.183757 59.836924,31.114767 59.836924,31.09177 59.732766,31.045776 59.697974,31.068773 59.546792,30.999782 59.488463,30.930792 59.488463,30.815808 59.476786,30.792811 59.488463,30.677826 59.500137,30.631833 59.476786,30.539845 59.476786,30.424861 59.488463,30.332873 59.465104,30.171895 59.476786,30.125901 59.488463,30.056911 59.476786,29.941926 59.488463,29.826942 59.476786,29.527983 59.488463,29.458992 59.511807,29.458992 59.639908,29.435995 59.651529,29.435995 59.744355,29.458992 59.75594,29.458992 59.802241,29.435995 59.802241,29.435995 59.813806,29.390001 59.825367,29.412998 59.871571,29.435995 59.883112,29.435995 59.917711,29.412998 59.929237,29.367005 59.963788))\",\"code\":\"spb\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":true,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"38\",\"name\":\"Санкт-Петербург\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((-70.85336 -33.64176,-70.85336 -33.354102,-70.830364 -33.296456,-70.554401 -33.296456,-70.48541 -33.315676,-70.48541 -33.603461,-70.508407 -33.660903,-70.78437 -33.660903,-70.85336 -33.64176))\",\"code\":\"santiago\",\"country_code\":\"cl\",\"domain\":\"cl\",\"flags\":{\"2gis_reviews\":false,\"flamp\":false,\"gdpr\":true,\"metro\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"101\",\"name\":\"Сантьяго\",\"time_zone\":{\"name\":\"America/Santiago\",\"offset\":-180},\"type\":\"region\",\"zoom_level\":{\"max\":19,\"min\":9}},{\"bounds\":\"POLYGON((44.843899 54.298434,44.958883 54.311852,45.119861 54.298434,45.441818 54.298434,45.510808 54.285012,45.510808 54.069659,45.648789 54.042661,45.694783 54.015646,45.786771 54.015646,45.809768 53.988613,45.786771 53.961562,45.71778 53.94803,45.533805 53.988613,45.050871 53.988613,44.935886 53.97509,44.866896 53.988613,44.866896 54.231279,44.843899 54.298434))\",\"code\":\"saransk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"85\",\"name\":\"Саранск\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((45.303836 51.497433,45.326833 51.540363,45.487811 51.526057,45.556802 51.540363,45.556802 51.597539,45.533805 51.611822,45.510808 51.697426,45.579799 51.711677,45.671786 51.768639,45.740777 51.768639,45.809768 51.725925,46.016739 51.725925,46.131724 51.825528,46.200714 51.839739,46.361692 51.825528,46.430683 51.811313,46.407686 51.725925,46.522671 51.697426,46.568664 51.668909,46.522671 51.640375,46.499674 51.583252,46.407686 51.554663,46.361692 51.425793,46.361692 51.354041,46.338696 51.282176,46.223711 51.19579,46.108727 51.210199,45.947749 51.224603,45.648789 51.19579,45.556802 51.224603,45.487811 51.210199,45.372827 51.224603,45.34983 51.354041,45.372827 51.425793,45.326833 51.454462,45.303836 51.497433))\",\"code\":\"saratov\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"43\",\"name\":\"Саратов\",\"time_zone\":{\"name\":\"Europe/Saratov\",\"offset\":240},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((80.075106 50.513474,80.144096 50.513474,80.213087 50.498848,80.466053 50.425651,80.512046 50.425651,80.512046 50.381678,80.466053 50.337664,80.328071 50.29361,80.19009 50.29361,80.098103 50.39634,80.1211 50.440299,80.098103 50.454943,80.075106 50.513474))\",\"code\":\"semey\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"169\",\"name\":\"Семей\",\"time_zone\":{\"name\":\"Asia/Almaty\",\"offset\":360},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((37.944838 56.237095,37.944838 56.275417,37.967834 56.288183,38.036825 56.364688,38.105816 56.402883,38.128813 56.390156,38.197803 56.377424,38.266794 56.339204,38.335784 56.326455,38.358781 56.313702,38.427772 56.300945,38.450769 56.288183,38.473766 56.249873,38.450769 56.237095,38.197803 56.224312,38.197803 56.237095,37.944838 56.237095))\",\"code\":\"s_posad\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"146\",\"name\":\"Сергиев Посад\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((37.300925 54.897922,37.323922 54.963988,37.438906 54.963988,37.438906 54.977188,37.553891 54.990384,37.530894 54.924361,37.530894 54.871465,37.369916 54.871465,37.300925 54.897922))\",\"code\":\"serpuhov\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"147\",\"name\":\"Серпухов\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((28.033186 59.053688,28.033186 59.136369,28.102177 59.148164,28.217161 59.136369,28.240158 59.112766,28.194164 59.065512,28.033186 59.053688))\",\"code\":\"slantsy\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"215\",\"name\":\"Сланцы\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((31.758679 54.738921,31.758679 54.805248,31.804673 54.884696,31.988648 54.884696,32.057639 54.897922,32.172623 54.937574,32.241614 54.897922,32.26461 54.831748,32.26461 54.752195,32.172623 54.699073,32.057639 54.685782,31.804673 54.685782,31.758679 54.738921))\",\"code\":\"smolensk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"63\",\"name\":\"Смоленск\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((38.496763 44.13321,38.496763 44.149714,38.611747 44.330943,38.634744 44.380272,38.680737 44.44598,38.680737 44.495212,38.795722 44.495212,38.818719 44.511614,38.9567 44.478806,38.9567 44.413135,39.025691 44.396706,39.094681 44.44598,39.232662 44.44598,39.301653 44.42956,39.347647 44.396706,39.439634 44.380272,39.508625 44.298034,39.577615 44.281572,39.738594 44.298034,39.853578 44.347391,40.290518 44.330943,40.313515 44.31449,40.382506 44.298034,40.382506 44.199195,40.405503 44.182706,40.4285 44.067152,40.474493 43.967926,40.405503 43.918251,40.382506 43.735753,40.451497 43.719135,40.451497 43.669252,40.612475 43.586022,40.658468 43.552697,40.658468 43.536028,40.566481 43.502676,40.49749 43.502676,40.451497 43.536028,40.290518 43.552697,40.290518 43.569362,40.12954 43.552697,40.037553 43.419216,40.014556 43.33564,39.991559 43.318911,39.899572 43.21844,39.830581 43.21844,39.6926 43.268696,39.623609 43.352364,39.508625 43.419216,39.485628 43.435917,39.232662 43.652615,39.163672 43.735753,39.094681 43.752367,39.025691 43.835366,38.9567 43.851952,38.726731 44.01756,38.657741 44.050626,38.565753 44.116703,38.496763 44.13321))\",\"code\":\"sochi\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"30\",\"name\":\"Сочи\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((41.670331 44.952712,41.693328 45.066521,41.670331 45.066521,41.670331 45.180105,41.716324 45.244908,41.808312 45.261097,41.877303 45.228714,41.992287 45.244908,41.992287 45.261097,42.153265 45.277282,42.222256 45.244908,42.33724 45.180105,42.360237 45.098997,42.291246 44.985252,42.130268 44.936435,42.084274 44.903867,41.693328 44.903867,41.670331 44.952712))\",\"code\":\"stavropol\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"57\",\"name\":\"Ставрополь\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((37.714869 51.3684,37.85285 51.425793,37.944838 51.425793,38.013828 51.382755,38.013828 51.354041,38.036825 51.339677,38.059822 51.210199,38.036825 51.19579,37.990831 51.109241,37.898844 51.109241,37.829853 51.19579,37.737866 51.253399,37.737866 51.325308,37.714869 51.3684))\",\"code\":\"staroskol\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"60\",\"name\":\"Старый Оскол\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((55.721419 53.444257,55.721419 53.49901,55.79041 53.553692,55.813407 53.567352,55.813407 53.676469,55.951388 53.758122,55.974385 53.744525,56.066372 53.744525,56.135363 53.717316,56.15836 53.581007,56.135363 53.567352,56.135363 53.34827,56.112366 53.307066,55.905394 53.307066,55.836403 53.334539,55.767413 53.416854,55.721419 53.444257))\",\"code\":\"sterlitamak\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"54\",\"name\":\"Стерлитамак\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((72.394151 61.19493,72.394151 61.39375,73.612985 61.404759,73.79696 61.415764,73.773963 61.360701,73.79696 61.261343,73.79696 61.028282,73.773963 60.994847,73.383016 60.994847,72.946076 60.983694,72.417148 60.983694,72.417148 61.005996,72.394151 61.19493))\",\"code\":\"surgut\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"39\",\"name\":\"Сургут\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((50.156176 61.591314,50.20217 61.65689,50.271161 61.70053,50.294157 61.711431,50.294157 61.787626,50.386145 61.798496,50.409142 61.809361,50.478132 61.971888,50.524126 62.00429,50.616114 62.00429,50.708101 61.96108,50.800089 61.96108,50.961067 61.950267,51.030057 61.939452,51.053054 61.89615,51.283023 61.874476,51.30602 61.831082,51.329017 61.820223,51.444001 61.809361,51.444001 61.754994,51.37501 61.678718,51.30602 61.689626,51.237029 61.667806,51.237029 61.624119,51.191035 61.580371,51.122045 61.591314,51.053054 61.580371,51.00706 61.525599,50.93807 61.525599,50.754095 61.547519,50.593117 61.514633,50.432139 61.514633,50.317154 61.569424,50.225167 61.569424,50.156176 61.591314))\",\"code\":\"syktyvkar\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"72\",\"name\":\"Сыктывкар\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((32.471582 60.136003,32.471582 60.170339,32.540573 60.170339,32.609563 60.158898,32.609563 60.12455,32.540573 60.12455,32.471582 60.136003))\",\"code\":\"syasstroy\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"214\",\"name\":\"Сясьстрой\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((38.795722 47.217206,38.818719 47.279649,38.9567 47.279649,38.979697 47.201584,38.9567 47.185957,38.864712 47.185957,38.795722 47.217206))\",\"code\":\"taganrog\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"116\",\"name\":\"Таганрог\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((41.256387 52.586528,41.256387 52.726026,41.279384 52.795608,41.302381 52.837304,41.417365 52.837304,41.509353 52.878959,41.555346 52.823409,41.624337 52.823409,41.647334 52.7817,41.624337 52.767788,41.60134 52.698162,41.624337 52.600498,41.578343 52.558575,41.325378 52.572554,41.256387 52.586528))\",\"code\":\"tambov\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"81\",\"name\":\"Тамбов\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((71.244307 42.781152,71.244307 42.949708,71.313298 42.966538,71.451279 42.966538,71.474276 42.916033,71.497273 42.899189,71.474276 42.8149,71.359292 42.8149,71.313298 42.781152,71.244307 42.781152))\",\"code\":\"taraz\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"221\",\"name\":\"Тараз\",\"time_zone\":{\"name\":\"Asia/Almaty\",\"offset\":360},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((69.151592 41.3126,69.197586 41.364399,69.335567 41.467875,69.404558 41.467875,69.427554 41.485105,69.519542 41.485105,69.542539 41.39891,69.519542 41.347138,69.31257 41.174266,69.243579 41.174266,69.174589 41.191574,69.151592 41.3126))\",\"code\":\"tashkent\",\"country_code\":\"uz\",\"domain\":\"uz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":true,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"208\",\"name\":\"Ташкент\",\"time_zone\":{\"name\":\"Asia/Tashkent\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((35.530166 56.870815,35.530166 56.908501,35.553163 56.971227,35.691144 57.008812,35.737138 57.008812,35.806129 57.046359,35.898116 57.046359,36.31206 56.971227,36.358053 56.895943,36.335057 56.807919,36.335057 56.732306,36.266066 56.681812,36.082091 56.681812,35.829125 56.669178,35.622154 56.681812,35.553163 56.707067,35.57616 56.845669,35.530166 56.870815))\",\"code\":\"tver\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"47\",\"name\":\"Тверь\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((68.024745 58.070205,68.024745 58.324707,68.093736 58.336781,68.254714 58.348851,68.254714 58.336781,68.553673 58.336781,68.622664 58.324707,68.622664 58.058041,68.57667 58.058041,68.323705 58.045872,68.300708 58.058041,68.093736 58.058041,68.024745 58.070205))\",\"code\":\"tobolsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"97\",\"name\":\"Тобольск\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((48.109455 53.183216,48.155448 53.238304,48.224439 53.252065,48.270433 53.307066,48.36242 53.307066,48.477405 53.293322,48.546395 53.320805,48.615386 53.320805,48.776364 53.389434,48.868351 53.416854,48.868351 53.471642,48.983336 53.540028,48.937342 53.635583,48.983336 53.690089,48.983336 53.703705,49.006333 53.853184,49.02933 53.866747,49.190308 53.866747,49.236301 53.839617,49.305292 53.839617,49.328289 53.81247,49.443273 53.771716,49.558258 53.785305,49.650245 53.744525,49.811223 53.703705,49.788226 53.608304,49.765229 53.553692,49.742233 53.540028,49.719236 53.471642,49.673242 53.416854,49.742233 53.320805,49.788226 53.293322,49.788226 53.155645,49.811223 53.141852,49.788226 53.045183,49.627248 53.031356,49.604251 53.045183,49.46627 53.045183,49.397279 53.017524,49.351286 52.989846,49.190308 53.003687,49.190308 52.948297,49.006333 52.892836,48.960339 52.892836,48.937342 52.934438,48.822358 52.948297,48.753367 52.962151,48.73037 52.976001,48.523398 52.989846,48.523398 52.948297,48.408414 52.962151,48.339423 52.989846,48.339423 53.059007,48.29343 53.059007,48.178445 53.072825,48.178445 53.141852,48.109455 53.183216))\",\"code\":\"togliatti\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"22\",\"name\":\"Тольятти\",\"time_zone\":{\"name\":\"Europe/Samara\",\"offset\":240},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((84.697477 56.517239,84.697477 56.542605,84.766468 56.555281,84.766468 56.605944,84.881452 56.643897,84.973439 56.643897,84.996436 56.681812,85.065427 56.681812,85.088424 56.643897,85.203408 56.605944,85.318392 56.555281,85.387383 56.466457,85.387383 56.402883,85.249402 56.351948,84.950442 56.326455,84.858455 56.326455,84.812461 56.351948,84.697477 56.517239))\",\"code\":\"tomsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"3\",\"name\":\"Томск\",\"time_zone\":{\"name\":\"Asia/Tomsk\",\"offset\":420},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((37.392913 54.217835,37.392913 54.258154,37.438906 54.311852,37.622881 54.325266,37.645878 54.311852,37.898844 54.311852,38.013828 54.35208,38.151809 54.35208,38.2208 54.36548,38.289791 54.35208,38.312788 54.338675,38.473766 54.204386,38.519759 54.177476,38.519759 54.137078,38.58875 54.123603,38.58875 54.002132,38.611747 53.988613,38.519759 53.893859,38.427772 53.826046,38.335784 53.826046,38.197803 53.866747,38.197803 53.893859,38.105816 53.893859,38.036825 53.920953,37.967834 53.907408,37.576888 53.907408,37.461903 53.893859,37.41591 53.97509,37.41591 54.204386,37.392913 54.217835))\",\"code\":\"tula\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"36\",\"name\":\"Тула\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((68.13973 43.235197,68.13973 43.302177,68.185723 43.352364,68.277711 43.352364,68.346701 43.385799,68.369698 43.435917,68.415692 43.435917,68.50768 43.369084,68.57667 43.352364,68.57667 43.302177,68.50768 43.285439,68.277711 43.21844,68.13973 43.235197))\",\"code\":\"turkestan\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"232\",\"name\":\"Туркестан\",\"time_zone\":{\"name\":\"Asia/Almaty\",\"offset\":360},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((65.035152 57.208625,65.035152 57.258411,65.081146 57.308129,65.150136 57.320548,65.19613 57.295705,65.288118 57.295705,65.357108 57.320548,65.449096 57.295705,65.518086 57.308129,65.56408 57.295705,65.725058 57.308129,65.840042 57.258411,66.322977 57.245971,66.414964 57.245971,66.66793 57.233526,66.690927 57.196169,66.66793 57.058866,66.713924 57.046359,66.713924 56.996288,66.66793 56.946149,66.644933 56.83309,66.621936 56.44104,66.598939 56.402883,65.794049 56.415607,65.633071 56.415607,65.426099 56.428326,65.334111 56.402883,65.265121 56.415607,65.19613 56.453751,65.219127 56.491856,65.219127 56.580621,65.242124 56.845669,65.242124 56.95869,65.219127 56.996288,65.173133 57.183708,65.127139 57.183708,65.035152 57.208625))\",\"code\":\"tyumen\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"13\",\"name\":\"Тюмень\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((100.634309 51.711677,100.680302 51.768639,100.910271 51.768639,101.14024 51.797093,101.163237 51.782868,101.232227 51.768639,101.393205 51.797093,101.50819 51.797093,101.669168 51.839739,101.922133 51.853946,101.968127 51.882346,102.152102 51.939092,102.175099 51.953267,102.405068 51.981605,102.566046 51.924912,102.635036 51.882346,102.796015 51.896539,102.819011 51.939092,102.819011 51.967438,102.910999 51.910728,103.071977 51.896539,103.094974 51.853946,103.209958 51.825528,103.232955 51.811313,103.531914 51.725925,103.646899 51.740167,103.623902 51.668909,103.600905 51.654644,103.600905 51.597539,103.715889 51.583252,103.876868 51.56896,103.899864 51.554663,104.129833 51.483114,104.244817 51.46879,104.52078 51.44013,104.612767 51.425793,104.635764 51.46879,104.589771 51.611822,104.635764 51.640375,104.796742 51.654644,105.095702 51.697426,105.118699 51.711677,105.25668 51.740167,105.417658 51.782868,105.670624 51.882346,105.831602 51.995766,105.946586 52.137139,105.969583 52.137139,105.969583 52.16536,105.99258 52.179463,106.176555 52.362405,106.521508 52.502615,107.004442 52.712096,107.418386 52.934438,108.016304 53.238304,108.085295 53.320805,108.085295 53.361995,108.154286 53.457952,108.292267 53.676469,108.384254 53.758122,108.453245 53.853184,108.545232 53.920953,108.568229 53.94803,108.683214 54.042661,108.844192 54.190933,108.844192 54.204386,108.867189 54.204386,108.890185 54.231279,108.959176 54.271585,108.982173 54.258154,109.212142 54.217835,109.235139 54.204386,109.281132 54.204386,109.304129 54.190933,109.534098 54.150548,109.580092 54.110123,109.603088 54.069659,109.626085 54.056163,109.902048 54.015646,110.10902 53.94803,110.201007 53.934494,110.224004 53.893859,110.155013 53.853184,110.063026 53.839617,109.994035 53.771716,109.833057 53.676469,109.787063 53.608304,109.718073 53.581007,109.695076 53.567352,109.672079 53.457952,109.580092 53.403146,109.580092 53.334539,109.235139 52.906708,109.189145 52.865079,109.07416 52.851193,108.913182 52.7817,108.913182 52.753872,108.890185 52.753872,108.821195 52.656332,108.752204 52.614463,108.729207 52.544592,108.706211 52.502615,108.614223 52.502615,108.453245 52.390483,108.453245 52.362405,108.430248 52.348359,108.361257 52.263992,108.338261 52.249915,108.315264 52.193563,108.246273 52.179463,108.200279 52.137139,108.177282 52.052369,108.154286 52.038225,108.131289 51.939092,108.177282 51.896539,108.154286 51.853946,108.085295 51.811313,108.039301 51.711677,108.016304 51.668909,107.993308 51.654644,107.947314 51.583252,107.832329 51.56896,107.809333 51.583252,107.809333 51.597539,107.694348 51.611822,107.602361 51.56896,107.556367 51.540363,107.556367 51.497433,107.464379 51.454462,107.349395 51.454462,107.234411 51.3684,107.234411 51.282176,107.188417 51.166958,107.119426 51.080355,107.09643 50.950147,107.119426 50.863138,107.09643 50.819572,107.142423 50.761422,107.142423 50.615729,107.119426 50.586536,106.981445 50.586536,106.958448 50.542712,106.935451 50.469583,106.912455 50.454943,106.889458 50.410998,106.958448 50.337664,106.981445 50.322984,107.004442 50.234807,106.935451 50.220095,106.774473 50.29361,106.705483 50.308299,106.590498 50.322984,106.268542 50.29361,106.176555 50.322984,106.084567 50.322984,106.015577 50.39634,105.99258 50.410998,106.084567 50.819572,106.199552 50.892159,106.199552 51.094801,106.038573 51.138109,105.969583 51.152536,105.969583 51.166958,105.946586 51.166958,105.877595 51.181376,105.348667 51.325308,105.026711 51.26779,104.95772 51.239003,104.934724 51.19579,104.842736 51.166958,104.819739 51.109241,104.704755 51.065906,104.635764 51.065906,104.543777 51.008062,103.232955 51.02253,103.163965 51.036993,103.163965 51.094801,103.140968 51.138109,102.933996 51.138109,102.796015 51.109241,102.773018 51.065906,102.589043 51.065906,102.589043 51.109241,102.497055 51.123677,102.106108 51.138109,102.129105 51.210199,102.106108 51.224603,102.083112 51.26779,102.129105 51.310935,102.106108 51.354041,101.899137 51.397106,101.784152 51.411452,101.738159 51.44013,101.623174 51.425793,101.554184 51.46879,101.50819 51.483114,101.439199 51.44013,101.347212 51.44013,101.232227 51.511747,101.117243 51.511747,101.094246 51.554663,101.025256 51.554663,100.956265 51.597539,100.887274 51.597539,100.795287 51.654644,100.657306 51.697426,100.634309 51.711677))\",\"code\":\"ulanude\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"37\",\"name\":\"Улан-Удэ\",\"time_zone\":{\"name\":\"Asia/Irkutsk\",\"offset\":480},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((47.99447 54.378876,48.063461 54.472527,48.270433 54.459161,48.385417 54.472527,48.845355 54.472527,48.914345 54.405655,49.006333 54.35208,49.167311 54.338675,49.259298 54.338675,49.259298 54.311852,49.144314 54.285012,49.144314 54.217835,49.121317 54.204386,48.960339 54.204386,48.937342 54.177476,48.822358 54.164014,48.799361 54.150548,48.592389 54.110123,48.569392 54.069659,48.270433 54.09664,48.247436 54.110123,48.086458 54.110123,48.017467 54.204386,48.017467 54.231279,48.040464 54.325266,48.017467 54.338675,47.99447 54.378876))\",\"code\":\"ulyanovsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true},\"id\":\"55\",\"name\":\"Ульяновск\",\"time_zone\":{\"name\":\"Europe/Ulyanovsk\",\"offset\":240},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((50.984064 50.322984,50.984064 50.454943,51.053054 50.528096,51.053054 50.630318,51.099048 50.775966,51.076051 50.877651,51.122045 50.99359,51.191035 51.065906,51.191035 51.109241,51.260026 51.152536,51.260026 51.282176,51.329017 51.296558,51.535989 51.282176,51.74296 51.3684,51.880942 51.397106,51.995926 51.44013,52.133907 51.46879,52.40987 51.46879,52.501857 51.511747,52.593845 51.46879,52.662835 51.46879,52.731826 51.483114,52.800816 51.425793,52.869807 51.339677,52.984791 51.282176,52.984791 51.26779,53.122773 51.19579,53.122773 51.123677,52.984791 51.094801,52.823813 51.051452,52.570848 51.008062,52.11091 50.935657,51.972929 50.848621,51.972929 50.732319,51.995926 50.688632,51.903938 50.615729,51.880942 50.615729,51.857945 50.571932,51.788954 50.469583,51.398007 50.205378,51.283023 50.175931,51.122045 50.175931,50.984064 50.322984))\",\"code\":\"uralsk\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true},\"id\":\"162\",\"name\":\"Уральск\",\"time_zone\":{\"name\":\"Asia/Oral\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((131.726079 43.768976,131.749076 43.818776,131.749076 43.918251,131.772072 43.967926,132.071032 43.967926,132.140022 43.951372,132.140022 43.768976,132.117025 43.719135,131.93305 43.719135,131.818066 43.702512,131.726079 43.768976))\",\"code\":\"ussuriysk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"83\",\"name\":\"Уссурийск\",\"time_zone\":{\"name\":\"Asia/Vladivostok\",\"offset\":600},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((82.420787 49.865643,82.420787 49.939703,82.443784 49.939703,82.443784 50.013649,82.46678 50.057963,82.719746 50.057963,82.83473 50.072725,82.949715 50.028425,83.064699 49.954501,83.018705 49.850817,82.949715 49.74691,82.719746 49.776621,82.627758 49.806313,82.581765 49.835987,82.512774 49.835987,82.420787 49.865643))\",\"code\":\"ustkam\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"91\",\"name\":\"Усть-Каменогорск\",\"time_zone\":{\"name\":\"Asia/Almaty\",\"offset\":360},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((53.375738 54.472527,53.398735 54.565963,53.513719 54.659186,53.513719 54.672486,53.628704 54.685782,53.651701 54.659186,53.766685 54.645881,53.835676 54.605942,53.927663 54.605942,54.019651 54.632572,54.088641 54.605942,54.157632 54.619259,54.272616 54.619259,54.364604 54.672486,54.617569 54.672486,54.709557 54.725643,54.778547 54.725643,54.847538 54.738921,55.008516 54.805248,55.1235 54.8185,55.169494 54.791991,55.307475 54.791991,55.468454 54.831748,55.514447 54.831748,55.514447 54.871465,55.560441 54.871465,55.652428 54.897922,55.698422 55.003575,55.721419 55.016762,55.698422 55.095794,55.836403 55.122103,55.951388 55.108951,56.066372 55.069467,56.15836 54.950783,56.22735 54.963988,56.319338 54.963988,56.388328 54.897922,56.503313 54.85823,56.503313 54.791991,56.388328 54.672486,56.388328 54.632572,56.342335 54.605942,56.388328 54.565963,56.319338 54.445791,56.204353 54.445791,56.043375 54.419038,55.997382 54.445791,55.836403 54.472527,55.652428 54.525945,55.560441 54.525945,55.537444 54.512597,55.330472 54.485888,55.307475 54.472527,55.192491 54.472527,54.939525 54.459161,54.824541 54.472527,54.778547 54.445791,54.68656 54.445791,54.594572 54.472527,54.387601 54.499245,54.341607 54.485888,54.272616 54.445791,54.203626 54.445791,54.088641 54.459161,53.95066 54.378876,53.766685 54.378876,53.444729 54.432417,53.421732 54.432417,53.375738 54.472527))\",\"code\":\"ufa\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"17\",\"name\":\"Уфа\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((53.191763 63.468254,53.191763 63.499055,53.260754 63.550317,53.513719 63.621928,53.697694 63.69336,53.812679 63.683166,54.088641 63.642356,54.203626 63.601486,54.226622 63.570796,54.157632 63.529823,54.019651 63.365344,53.996654 63.355033,53.881669 63.355033,53.743688 63.385956,53.559713 63.375652,53.191763 63.468254))\",\"code\":\"ukhta\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"204\",\"name\":\"Ухта\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((134.87665 48.299342,134.87665 48.634798,135.198606 48.634798,135.267597 48.619599,135.267597 48.32993,135.2446 48.284042,135.152612 48.284042,135.129616 48.268736,134.945641 48.284042,134.87665 48.299342))\",\"code\":\"khabarovsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"35\",\"name\":\"Хабаровск\",\"time_zone\":{\"name\":\"Asia/Vladivostok\",\"offset\":600},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((68.875629 60.983694,68.875629 61.017141,68.921623 61.017141,68.921623 61.039419,68.967617 61.083929,69.082601 61.11727,69.128595 61.095046,69.197586 61.083929,69.243579 61.10616,69.335567 61.095046,69.427554 61.028282,69.427554 61.017141,69.404558 61.005996,69.381561 60.972537,69.128595 60.916694,69.082601 60.916694,68.875629 60.983694))\",\"code\":\"kh_mansiysk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"150\",\"name\":\"Ханты-Мансийск\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((36.0131 49.998869,36.036097 50.013649,36.036097 50.102235,36.105088 50.146466,36.174079 50.131727,36.427044 50.116983,36.496035 50.102235,36.473038 49.969295,36.496035 49.9249,36.519032 49.910093,36.473038 49.850817,36.404047 49.850817,36.358053 49.821152,36.059094 49.850817,36.0131 49.998869))\",\"code\":\"kharkov\",\"country_code\":\"ua\",\"domain\":\"ua\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"110\",\"name\":\"Харьков\",\"time_zone\":{\"name\":\"Europe/Kiev\",\"offset\":120},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((46.535458 43.259124,46.541148 43.268721,46.542462 43.281203,46.551959 43.28555,46.570952 43.290521,46.582301 43.290895,46.607553 43.285077,46.617797 43.281587,46.622393 43.27842,46.623773 43.277263,46.623827 43.277209,46.623305 43.276984,46.623237 43.276944,46.623074 43.276769,46.622766 43.276572,46.622732 43.276525,46.622625 43.276271,46.622621 43.276203,46.622647 43.276125,46.622711 43.276062,46.622963 43.275918,46.623027 43.275871,46.623199 43.275634,46.623789 43.275037,46.625778 43.272249,46.625821 43.272161,46.626035 43.271457,46.626035 43.271347,46.626005 43.270972,46.625958 43.270869,46.624806 43.269568,46.62414 43.268584,46.624036 43.268484,46.623677 43.268263,46.623593 43.268221,46.623523 43.268151,46.623473 43.268076,46.623347 43.267823,46.62324 43.267531,46.623181 43.26731,46.623152 43.267082,46.623161 43.266852,46.623462 43.265283,46.623497 43.265137,46.623462 43.264948,46.623419 43.264848,46.623064 43.263577,46.623069 43.263495,46.623106 43.263422,46.623204 43.263357,46.623269 43.263341,46.623564 43.263354,46.623654 43.263341,46.623731 43.263307,46.623808 43.263241,46.623863 43.263169,46.623893 43.263069,46.623919 43.262544,46.62395 43.262475,46.624113 43.262328,46.624143 43.262262,46.624139 43.262191,46.624678 43.258032,46.62469 43.257869,46.624669 43.257804,46.624626 43.257744,46.624559 43.257702,46.624507 43.257645,46.624366 43.257458,46.624331 43.257391,46.624315 43.257295,46.624336 43.257242,46.624503 43.257123,46.62721 43.254007,46.627539 43.253591,46.62849 43.252289,46.628756 43.251893,46.629256 43.250959,46.629297 43.250675,46.629256 43.250414,46.629093 43.250048,46.628929 43.249794,46.627447 43.248284,46.627302 43.247941,46.627059 43.246842,46.626978 43.246311,46.627091 43.243581,46.627285 43.243132,46.627657 43.24266,46.628142 43.242223,46.629257 43.241478,46.637533 43.236811,46.637887 43.236487,46.63813 43.236067,46.639324 43.233578,46.639408 43.23319,46.639412 43.232819,46.639301 43.232431,46.638616 43.231138,46.638462 43.230669,46.638506 43.230233,46.638793 43.229651,46.639169 43.229295,46.640385 43.228632,46.641357 43.228277,46.641667 43.228034,46.641888 43.227646,46.644849 43.216819,46.648661 43.209742,46.64652 43.208119,46.63438 43.204182,46.627887 43.202295,46.621346 43.20096,46.615262 43.199958,46.608873 43.199291,46.602332 43.198957,46.596399 43.199235,46.591075 43.199847,46.584382 43.201294,46.577994 43.203297,46.572213 43.205411,46.566585 43.208415,46.562281 43.21131,46.559207 43.213867,46.552417 43.22056,46.538973 43.238001,46.538182 43.242044,46.538182 43.243175,46.538681 43.249086,46.538631 43.250217,46.538332 43.251239,46.535458 43.259124))\",\"code\":\"khasavyurt\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"public_transport\":true,\"road_network\":true},\"id\":\"151\",\"name\":\"Хасавюрт\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((46.936614 56.211525,46.959611 56.249873,46.982608 56.249873,47.097592 56.288183,47.097592 56.300945,47.143586 56.326455,47.419549 56.326455,47.534533 56.313702,47.603524 56.300945,47.603524 56.134713,47.580527 56.121896,47.580527 56.006351,47.511536 55.967759,47.350558 55.980627,47.097592 55.980627,47.097592 55.993491,47.005605 55.993491,46.982608 56.032057,47.005605 56.096249,46.936614 56.211525))\",\"code\":\"cheboksary\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"53\",\"name\":\"Чебоксары\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((61.056693 55.122103,61.102687 55.214049,61.148681 55.292691,61.217671 55.305783,61.286662 55.371178,61.470637 55.371178,61.539628 55.345033,61.700606 55.305783,61.769596 55.24028,61.746599 55.17467,61.769596 55.082633,61.746599 55.016762,61.723602 54.977188,61.654612 54.977188,61.562624 54.950783,61.562624 54.911144,61.493634 54.911144,61.470637 54.924361,61.401646 54.937574,61.355653 54.963988,61.240668 54.963988,61.171678 54.990384,61.148681 55.029945,61.07969 55.069467,61.056693 55.122103))\",\"code\":\"chelyabinsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"15\",\"name\":\"Челябинск\",\"time_zone\":{\"name\":\"Asia/Yekaterinburg\",\"offset\":300},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((42.015284 44.182706,42.015284 44.265106,42.107271 44.265106,42.107271 44.21568,42.084274 44.166212,42.015284 44.182706))\",\"code\":\"cherkessk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"118\",\"name\":\"Черкесск\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((112.316719 52.052369,112.339716 52.123022,112.38571 52.207657,112.454701 52.221748,112.500694 52.249915,112.523691 52.320254,112.546688 52.348359,112.891641 52.334309,113.12161 52.418543,113.167604 52.446585,113.236594 52.460599,113.397572 52.460599,113.397572 52.432566,113.512557 52.334309,113.535553 52.320254,113.55855 52.263992,113.673535 52.221748,113.788519 52.207657,113.811516 52.16536,113.788519 51.953267,113.604544 51.839739,113.443566 51.811313,113.374575 51.782868,113.374575 51.740167,113.305585 51.740167,113.167604 51.825528,113.075616 51.825528,113.006625 51.868148,112.891641 51.896539,112.477697 51.924912,112.362713 51.967438,112.339716 52.038225,112.316719 52.052369))\",\"code\":\"chita\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"64\",\"name\":\"Чита\",\"time_zone\":{\"name\":\"Asia/Chita\",\"offset\":540},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((40.083547 47.699215,40.083547 47.776545,40.12954 47.807444,40.152537 47.791997,40.359509 47.761088,40.359509 47.71469,40.175534 47.62177,40.152537 47.652762,40.083547 47.699215))\",\"code\":\"shakhty\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"152\",\"name\":\"Шахты\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((86.928173 53.471642,86.928173 53.49901,87.457101 53.49901,87.572086 53.444257,87.641076 53.320805,87.802055 53.334539,87.848048 53.320805,87.894042 53.252065,87.963033 53.252065,88.101014 53.196994,88.101014 53.141852,88.124011 53.128056,88.078017 52.948297,88.101014 52.934438,88.032023 52.795608,87.940036 52.726026,87.848048 52.726026,87.779058 52.753872,87.779058 52.837304,87.68707 52.892836,87.61808 52.906708,87.457101 52.892836,87.342117 53.003687,87.31912 53.059007,87.227133 53.141852,87.112148 53.210769,87.112148 53.279574,87.066155 53.307066,86.928173 53.471642))\",\"code\":\"sheregesh\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"206\",\"name\":\"Шерегеш\",\"time_zone\":{\"name\":\"Asia/Novokuznetsk\",\"offset\":420},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((69.404558 42.255704,69.404558 42.391727,69.450551 42.442659,69.726514 42.442659,69.795504 42.425686,69.795504 42.289737,69.772507 42.238681,69.427554 42.238681,69.404558 42.255704))\",\"code\":\"shymkent\",\"country_code\":\"kz\",\"domain\":\"kz\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"161\",\"name\":\"Шымкент\",\"time_zone\":{\"name\":\"Asia/Almaty\",\"offset\":360},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((45.004877 27.671976,45.027874 27.753411,45.050871 27.773761,45.142858 27.87545,45.142858 27.936419,45.188852 27.977045,45.211849 28.119117,45.28084 28.159674,45.34983 28.179947,45.34983 28.240743,45.326833 28.261,45.303836 28.36223,45.234846 28.463364,45.073868 28.604789,45.073868 28.665341,45.096865 28.685517,45.165855 28.786341,45.671786 28.786341,45.694783 28.846788,45.71778 28.866929,45.878758 28.967577,45.901755 28.987695,46.016739 29.027919,46.039736 29.10832,46.338696 29.088226,46.476677 29.088226,46.522671 29.128411,46.844627 29.088226,47.097592 29.068128,47.304564 29.048025,47.327561 29.027919,47.465542 29.027919,47.511536 28.987695,47.580527 28.887067,47.62652 28.806494,47.62652 28.685517,47.741505 28.544201,48.408414 28.544201,48.408414 28.564401,48.615386 28.665341,48.707373 28.665341,48.753367 28.624977,49.144314 28.36223,49.167311 28.341992,49.236301 28.240743,49.236301 28.220481,49.259298 28.220481,49.282295 28.159674,49.512264 27.895777,49.604251 27.834786,49.650245 27.87545,49.765229 27.936419,49.926208 27.936419,49.972201 27.895777,50.363148 27.9161,50.432139 27.814448,50.432139 27.753411,50.363148 27.610859,50.20217 27.549708,50.064189 27.570096,50.087186 27.508922,50.156176 27.447715,50.386145 27.141169,50.409142 27.120702,50.455136 27.038799,50.501129 26.566699,50.409142 26.484394,50.409142 26.422627,50.340151 26.298994,50.340151 26.175229,50.294157 26.051332,50.317154 26.03067,50.317154 25.90662,50.363148 25.865241,50.432139 25.7203,50.57012 25.595925,50.639111 25.47142,50.662107 25.242827,50.685104 25.222024,50.685104 25.138778,50.754095 25.013802,50.731098 24.951267,50.823086 24.867836,50.846082 24.742585,50.93807 24.575388,51.030057 24.512631,51.122045 24.491705,51.30602 24.533553,51.398007 24.659015,51.512992 24.659015,51.581982 24.679912,51.581982 24.554472,51.444001 24.428906,51.444001 24.366077,51.535989 24.345126,51.581982 24.261291,51.581982 24.156418,51.67397 24.009453,51.765957 23.925397,52.018923 23.630771,52.156904 23.441017,52.340879 23.229859,52.570848 22.933677,52.662835 22.933677,52.662835 22.912497,52.84681 22.912497,52.869807 22.891312,52.984791 22.891312,53.14577 22.870125,53.674698 22.806543,53.835676 22.806543,54.272616 22.742931,54.341607 22.721721,54.893532 22.67929,54.916529 22.65807,55.1235 22.636846,55.215488 22.700507,55.238485 22.700507,55.261482 22.67929,55.698422 21.998624,55.445457 21.271821,55.261482 20.692079,55.031513 20.002103,54.962522 19.958877,54.68656 19.872391,54.387601 19.764217,53.628704 19.525976,52.984791 19.309088,52.915801 19.287383,52.432867 19.113642,51.926935 18.961469,51.168039 18.830924,50.639111 18.743837,50.432139 18.722059,49.926208 18.678493,49.121317 18.591328,48.592389 18.351395,48.224439 18.176688,48.109455 18.023676,47.764502 17.60769,47.718508 17.563846,47.603524 17.410307,47.603524 17.388363,47.511536 17.190743,47.488539 17.168772,47.465542 17.190743,47.488539 17.300558,47.488539 17.388363,47.511536 17.585769,47.511536 17.78296,47.55753 18.176688,47.580527 18.329566,47.649517 18.743837,47.718508 19.417568,47.741505 19.5043,47.810495 20.002103,47.833492 20.153298,47.879486 20.562944,47.902483 20.670565,47.971473 21.186076,47.99447 21.421755,48.063461 21.870631,48.178445 22.764139,48.201442 22.912497,48.247436 23.293242,48.316427 23.651837,48.316427 23.862319,48.29343 24.009453,48.247436 24.135434,48.132452 24.282255,47.99447 24.428906,47.672514 24.659015,47.62652 24.679912,47.534533 24.742585,47.488539 24.78435,47.465542 24.888699,47.465542 25.03464,47.488539 25.76173,47.465542 25.782439,47.465542 26.216498,47.373555 26.319609,47.281567 26.319609,47.143586 26.381431,47.097592 26.381431,47.097592 26.402031,47.028602 26.422627,47.028602 26.484394,46.82163 26.628388,46.591661 26.607829,46.246708 26.813257,46.177718 26.83378,45.993743 26.83378,45.924752 26.854298,45.786771 26.956836,45.71778 27.05928,45.648789 27.05928,45.510808 27.100232,45.188852 27.263889,45.165855 27.386473,45.050871 27.549708,45.050871 27.610859,45.004877 27.671976))\",\"code\":\"dammam\",\"country_code\":\"sa\",\"domain\":\"sa\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"public_transport\":true,\"road_network\":true,\"traffic\":true},\"id\":\"220\",\"name\":\"Эд-Даммам\",\"time_zone\":{\"name\":\"Asia/Riyadh\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((44.153993 46.255822,44.153993 46.335269,44.199987 46.382882,44.291974 46.382882,44.360965 46.367015,44.383962 46.319388,44.360965 46.303504,44.337968 46.255822,44.153993 46.255822))\",\"code\":\"elista\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"truck_graph\":true},\"id\":\"153\",\"name\":\"Элиста\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((41.96929 23.79921,41.96929 23.946416,41.992287 23.967432,41.992287 24.114445,42.015284 24.428906,42.084274 24.512631,42.130268 24.679912,42.130268 24.721698,42.33724 24.700807,42.429227 24.700807,42.498218 24.575388,42.498218 24.512631,42.590206 24.449843,42.797177 24.449843,42.889165 24.554472,43.050143 24.533553,43.119134 24.554472,43.165127 24.659015,43.211121 24.700807,43.142131 24.763469,43.142131 24.84697,43.211121 24.909558,43.119134 24.909558,43.119134 24.99296,43.188124 25.013802,43.280112 25.013802,43.487084 25.201218,43.556074 25.201218,43.602068 25.159595,43.740049 25.201218,43.740049 25.305213,43.80904 25.326002,43.901027 25.326002,44.016012 25.367568,44.062005 25.450657,44.268977 25.49218,44.291974 25.512936,44.383962 25.533689,44.452952 25.595925,44.521943 25.595925,44.659924 25.533689,44.751911 25.533689,44.774908 25.658129,44.797905 25.678856,44.636927 25.823847,44.567937 25.947984,44.521943 26.07199,44.498946 26.092645,44.498946 26.175229,44.429955 26.402031,44.383962 26.669496,44.406958 26.936336,44.452952 26.997825,44.636927 27.038799,44.728915 27.038799,44.843899 26.977332,44.866896 26.977332,44.889893 27.243445,44.866896 27.304765,44.797905 27.447715,44.751911 27.488523,44.728915 27.529317,44.797905 27.570096,44.91289 27.570096,44.98188 27.671976,45.004877 27.671976,45.050871 27.610859,45.050871 27.549708,45.165855 27.386473,45.188852 27.263889,45.510808 27.100232,45.648789 27.05928,45.71778 27.05928,45.786771 26.956836,45.924752 26.854298,45.993743 26.83378,46.177718 26.83378,46.246708 26.813257,46.591661 26.607829,46.82163 26.628388,47.028602 26.484394,47.028602 26.422627,47.097592 26.402031,47.097592 26.381431,47.143586 26.381431,47.281567 26.319609,47.373555 26.319609,47.465542 26.216498,47.465542 25.782439,47.488539 25.76173,47.465542 25.03464,47.465542 24.888699,47.488539 24.78435,47.534533 24.742585,47.62652 24.679912,47.672514 24.659015,47.99447 24.428906,48.132452 24.282255,48.247436 24.135434,48.29343 24.009453,48.316427 23.862319,48.316427 23.651837,48.247436 23.293242,48.201442 22.912497,48.178445 22.764139,48.063461 21.870631,47.99447 21.421755,47.971473 21.186076,47.902483 20.670565,47.879486 20.562944,47.833492 20.153298,47.810495 20.002103,47.741505 19.5043,47.695511 19.5043,47.62652 19.482621,47.25857 19.439255,47.097592 19.417568,47.005605 19.395878,46.660652 19.374185,46.338696 19.33079,45.533805 19.265675,45.418821 19.243965,45.027874 19.265675,44.91289 19.287383,44.774908 19.352488,44.682921 19.417568,44.636927 19.46094,44.521943 19.482621,44.521943 19.5043,44.475949 19.547649,44.337968 19.655969,44.039008 19.93726,44.016012 20.023711,43.924024 20.110114,43.970018 20.325913,44.062005 20.476793,44.062005 20.562944,43.970018 20.649047,43.855034 20.821105,43.717052 20.95002,43.648062 20.971495,43.648062 21.014436,43.533077 21.186076,43.51008 21.207517,43.44109 21.314675,43.395096 21.357516,43.395096 21.464565,43.44109 21.59292,43.44109 21.721161,43.418093 21.785239,43.487084 21.870631,43.51008 21.934642,43.51008 22.019945,43.464087 22.190396,43.464087 22.42443,43.487084 22.488189,43.44109 22.530679,43.280112 22.551919,43.096137 22.509436,42.981152 22.615619,42.981152 22.721721,43.004149 22.870125,42.935159 22.891312,42.912162 22.912497,42.475221 22.912497,42.452224 22.933677,42.360237 22.9972,42.222256 23.272118,42.199259 23.419916,42.176262 23.483208,42.153265 23.504298,42.107271 23.672901,41.96929 23.79921))\",\"code\":\"riyadh\",\"country_code\":\"sa\",\"domain\":\"sa\",\"flags\":{\"2gis_reviews\":true,\"flamp\":false,\"metro\":false,\"public_transport\":false,\"road_network\":false},\"id\":\"216\",\"name\":\"Эр-Рияд\",\"time_zone\":{\"name\":\"Asia/Riyadh\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((141.499749 46.525471,141.499749 46.636117,141.545743 46.730776,141.614733 46.841002,141.63773 46.919596,141.660727 46.935301,141.729718 47.07644,141.729718 47.139049,141.706721 47.139049,141.63773 47.310843,141.63773 47.652762,141.683724 47.683735,141.982683 47.62177,142.097668 47.49762,142.166658 47.49762,142.281643 47.606268,142.350633 47.62177,142.350633 47.699215,142.419624 47.71469,142.419624 47.761088,142.350633 47.838326,142.350633 47.930859,142.442621 48.038607,142.465618 48.100075,142.442621 48.100075,142.396627 48.222793,142.396627 48.299342,142.442621 48.436842,142.465618 48.436842,142.488614 48.573971,142.442621 48.619599,142.442621 48.786546,142.465618 48.786546,142.511611 48.983134,142.534608 49.02839,142.488614 49.148874,142.488614 49.224027,142.511611 49.224027,142.557605 49.359017,142.534608 49.463753,142.787574 49.463753,142.856564 49.508571,142.925555 49.508571,143.086533 49.493636,143.086533 49.583177,143.017542 49.65767,143.040539 49.702311,143.224514 49.702311,143.523474 49.717182,143.592464 49.761768,143.753442 49.880464,143.822433 49.954501,143.91442 49.954501,144.029405 49.998869,144.305367 50.057963,144.328364 50.013649,144.328364 49.969295,144.351361 49.954501,144.466345 49.761768,144.466345 49.687435,144.558333 49.583177,144.558333 49.523501,144.604327 49.284068,144.627323 49.284068,144.65032 49.209006,144.94928 48.998224,145.01827 48.907614,145.01827 48.81684,145.064264 48.695552,145.064264 48.573971,144.972277 48.467348,144.765305 48.421583,144.673317 48.421583,144.489342 48.452097,144.397355 48.528303,144.328364 48.665185,144.305367 48.756233,144.098395 48.892497,143.868427 49.073606,143.661455 49.088669,143.638458 49.103727,143.500477 49.103727,143.339499 49.058539,143.316502 48.95294,143.293505 48.81684,143.270508 48.801695,143.10953 48.589185,143.040539 48.436842,143.017542 48.360499,142.994546 48.314638,142.902558 48.115431,142.902558 48.053981,142.856564 47.961667,142.856564 47.761088,142.925555 47.652762,143.063536 47.575249,143.155524 47.528685,143.178521 47.513155,143.247511 47.435435,143.270508 47.388747,143.293505 47.388747,143.362496 47.185957,143.362496 47.123404,143.54647 47.045108,143.638458 47.029435,143.707449 46.982389,143.799436 46.85673,143.822433 46.730776,143.84543 46.525471,143.891424 46.509647,143.937417 46.382882,143.91442 46.303504,143.776439 46.096581,143.776439 46.04872,143.707449 45.93688,143.638458 45.856857,143.500477 45.808787,143.362496 45.808787,143.178521 45.872871,143.10953 45.968857,143.086533 46.112526,143.086533 46.239918,143.017542 46.335269,142.902558 46.398743,142.833567 46.398743,142.672589 46.351144,142.580602 46.287614,142.534608 46.096581,142.465618 45.952871,142.37363 45.824815,142.304639 45.648256,142.281643 45.632177,141.913693 45.696464,141.752715 45.712524,141.706721 45.760676,141.729718 45.872871,141.683724 45.904885,141.614733 46.000816,141.614733 46.04872,141.591736 46.22401,141.591736 46.27172,141.522746 46.4146,141.499749 46.525471))\",\"code\":\"yuzhnosakhalinsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"88\",\"name\":\"Южно-Сахалинск\",\"time_zone\":{\"name\":\"Asia/Sakhalin\",\"offset\":660},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((126.620773 62.155043,126.666767 62.18725,126.758754 62.18725,126.919733 62.240852,127.126704 62.262267,127.149701 62.272968,127.149701 62.305049,127.310679 62.337097,127.632636 62.422389,128.023582 62.390433,128.069576 62.411741,128.253551 62.560473,128.48352 62.655695,128.989451 62.708464,129.472385 63.05439,129.518379 63.064809,129.58737 63.075225,129.702354 63.064809,129.909326 63.064809,130.622229 62.876695,130.691219 62.866209,131.105163 62.824226,131.519107 62.666256,131.542104 62.634561,131.611094 62.58166,131.818066 62.379773,132.209013 62.176518,132.415985 62.165783,132.576963 62.155043,132.622957 62.112047,132.645954 61.993493,132.530969 61.96108,132.484975 61.885314,132.369991 61.765875,132.301 61.624119,132.346994 61.514633,132.645954 61.437762,132.852925 61.382738,132.875922 61.382738,132.875922 61.360701,132.760938 61.28345,132.737941 61.183847,132.071032 60.81593,131.657088 60.658553,131.588097 60.624729,131.519107 60.624729,131.427119 60.658553,131.289138 60.714848,130.76021 61.039419,130.32327 61.206009,130.277276 61.206009,129.518379 61.217083,128.575507 61.228154,128.460523 61.28345,128.391532 61.360701,128.368535 61.503663,128.299545 61.547519,128.046579 61.547519,127.908598 61.613188,127.770617 61.635047,127.563645 61.711431,127.517651 61.73322,127.37967 61.765875,127.264686 61.820223,127.126704 61.831082,126.988723 61.885314,126.689764 61.982692,126.64377 61.993493,126.64377 62.036657,126.666767 62.06899,126.620773 62.155043))\",\"code\":\"yakutsk\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"50\",\"name\":\"Якутск\",\"time_zone\":{\"name\":\"Asia/Yakutsk\",\"offset\":540},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}},{\"bounds\":\"POLYGON((39.669603 57.555712,39.715597 57.605028,39.715597 57.752576,39.807584 57.777108,40.014556 57.777108,40.014556 57.715745,40.037553 57.654277,40.083547 57.629661,40.198531 57.592706,40.198531 57.531029,40.152537 57.531029,40.106544 57.50633,40.06055 57.50633,40.06055 57.518682,39.6926 57.518682,39.669603 57.555712))\",\"code\":\"yaroslavl\",\"country_code\":\"ru\",\"domain\":\"ru\",\"flags\":{\"2gis_reviews\":true,\"flamp\":true,\"has_net_booklet\":true,\"metro\":false,\"parking_layer\":true,\"pedestrian_routing\":true,\"public_transport\":true,\"road_network\":true,\"traffic\":true,\"truck_graph\":true},\"id\":\"28\",\"name\":\"Ярославль\",\"time_zone\":{\"name\":\"Europe/Moscow\",\"offset\":180},\"type\":\"region\",\"zoom_level\":{\"max\":18,\"min\":9}}]');DG.config = {\"host\":null,\"port\":3000,\"defaultSkin\":\"dark\",\"defaultLang\":\"ru\",\"trafficLayerMinZoom\":10,\"trafficLayerUpdateInterval\":300000,\"ppLink2gis\":\"{gislink}/directions/tab/{rsType}/points/{point}?m={center}%2F{zoom}&routeLink=true\",\"openLink2gis\":\"{gislink}/?m={center}%2F{zoom}&openLink=true\",\"ppnotLink\":\"http://2gis.{domain}/{projectCode}/center/{center}/zoom/{zoom}/routeTab/rsType/{rsType}/to/{point}╎{name}\",\"photosLink\":\"http://2gis.{domain}/photos/{id}\",\"poiLayerMinZoom\":0,\"detectRetina\":false,\"webApiKey\":\"ruregt3044\",\"webApiVersion\":\"2.0\",\"regionListFields\":\"items.bounds,items.zoom_level,items.time_zone,items.code,items.flags,items.country_code,items.domain,items.default_pos\",\"firmInfoFields\":\"items.reviews,items.links,items.external_content\",\"geoAdditionalFields\":\"items.geometry.selection,items.links,items.adm_div,items.address,items.floors,items.description\",\"geoclickerCatalogApiKey\":\"ruregt3044\",\"projectLeaveMaxZoom\":16,\"flampUrl\":\"http://flamp.ru/r/\",\"flampGoogleAnalytics\":\"utm_source=api2gis&utm_medium=api&utm_campaign=geoclicker\",\"gaCode\":\"UA-38243181-2\",\"gaName\":\"mapsapi2gis\",\"protocol\":\"https:\",\"baseUrl\":\"//maps.api.2gis.ru/2.0\",\"tileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&ts=online_sd\",\"retinaTileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&ts=online_hd\",\"previewTileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&size=64&ts=online_sd\",\"previewRetinaTileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&size=64&ts=online_hd\",\"arabicTileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&ts=online_sd_ar\",\"arabicRetinaTileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&ts=online_hd_ar\",\"arabicPreviewTileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&size=64&ts=online_sd_ar\",\"arabicPreviewRetinaTileServer\":\"//tile{s}.maps.2gis.com/tiles?x={x}&y={y}&z={z}&v=1&size=64&ts=online_hd_ar\",\"trafficTileServer\":\"//traffic{s}.maps.2gis.com/{projectCode}/traffic/{z}/{x}/{y}/speed/{period}/{timestampString}\",\"retinaTrafficTileServer\":\"//traffic{s}.maps.2gis.com/{projectCode}/traffic/{z}/{x}/{y}/speed/{period}/retina/{timestampString}\",\"trafficMetaServer\":\"//meta{s}.maps.2gis.com/{projectCode}/meta/{z}/{x}/{y}/graph_speed/{period}/{timestampString}\",\"retinaTrafficMetaServer\":\"//meta{s}.maps.2gis.com/{projectCode}/meta/{z}/{x}/{y}/graph_speed/{period}/retina/{timestampString}\",\"trafficTimestampServer\":\"//traffic{s}.maps.2gis.com/{projectCode}/meta/speed/time/\",\"trafficScoreServer\":\"//traffic{s}.maps.2gis.com/{projectCode}/meta/score/0/\",\"poiMetaServer\":\"//tile{s}.maps.2gis.com/poi?x={x}&y={y}&z={z}&v=1&ts=online_sd\",\"retinaPoiMetaServer\":\"//tile{s}.maps.2gis.com/poi?x={x}&y={y}&z={z}&v=1&ts=online_hd\",\"arabicPoiMetaServer\":\"//tile{s}.maps.2gis.com/poi?x={x}&y={y}&z={z}&v=1&ts=online_sd_ar\",\"arabicRetinaPoiMetaServer\":\"//tile{s}.maps.2gis.com/poi?x={x}&y={y}&z={z}&v=1&ts=online_hd_ar\",\"webApiServer\":\"//catalog.api.2gis.ru\",\"googleAnalytics\":\"https://www.google-analytics.com/analytics.js\",\"loadProjectListTimeout\":5000};_dereq_(\"../../../dist/css/styles.full.dark.css\");\n}).call(this,_dereq_('_process'))\n},{\"../../../dist/css/styles.full.dark.css\":1,\"../../../vendors/baron\":9,\"_process\":8,\"dustjs-helpers\":4,\"dustjs-linkedin\":5,\"html5shiv\":6,\"leaflet\":7}],3:[function(_dereq_,module,exports){\n'use strict';\n// For more information about browser field, check out the browser field at https://github.com/substack/browserify-handbook#browser-field.\n\nvar styleElementsInsertedAtTop = [];\n\nvar insertStyleElement = function(styleElement, options) {\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\n    options = options || {};\n    options.insertAt = options.insertAt || 'bottom';\n\n    if (options.insertAt === 'top') {\n        if (!lastStyleElementInsertedAtTop) {\n            head.insertBefore(styleElement, head.firstChild);\n        } else if (lastStyleElementInsertedAtTop.nextSibling) {\n            head.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n        } else {\n            head.appendChild(styleElement);\n        }\n        styleElementsInsertedAtTop.push(styleElement);\n    } else if (options.insertAt === 'bottom') {\n        head.appendChild(styleElement);\n    } else {\n        throw new Error('Invalid value for parameter \\'insertAt\\'. Must be \\'top\\' or \\'bottom\\'.');\n    }\n};\n\nmodule.exports = {\n    // Create a <link> tag with optional data attributes\n    createLink: function(href, attributes) {\n        var head = document.head || document.getElementsByTagName('head')[0];\n        var link = document.createElement('link');\n\n        link.href = href;\n        link.rel = 'stylesheet';\n\n        for (var key in attributes) {\n            if ( ! attributes.hasOwnProperty(key)) {\n                continue;\n            }\n            var value = attributes[key];\n            link.setAttribute('data-' + key, value);\n        }\n\n        head.appendChild(link);\n    },\n    // Create a <style> tag with optional data attributes\n    createStyle: function(cssText, attributes, extraOptions) {\n        extraOptions = extraOptions || {};\n\n        var style = document.createElement('style');\n        style.type = 'text/css';\n\n        for (var key in attributes) {\n            if ( ! attributes.hasOwnProperty(key)) {\n                continue;\n            }\n            var value = attributes[key];\n            style.setAttribute('data-' + key, value);\n        }\n\n        if (style.sheet) { // for jsdom and IE9+\n            style.innerHTML = cssText;\n            style.sheet.cssText = cssText;\n            insertStyleElement(style, { insertAt: extraOptions.insertAt });\n        } else if (style.styleSheet) { // for IE8 and below\n            insertStyleElement(style, { insertAt: extraOptions.insertAt });\n            style.styleSheet.cssText = cssText;\n        } else { // for Chrome, Firefox, and Safari\n            style.appendChild(document.createTextNode(cssText));\n            insertStyleElement(style, { insertAt: extraOptions.insertAt });\n        }\n    }\n};\n\n},{}],4:[function(_dereq_,module,exports){\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd && define.amd.dust === true) {\n    define(['dust.core'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(_dereq_('dustjs-linkedin'));\n  } else {\n    factory(root.dust);\n  }\n}(this, function(dust) {\n\nfunction log(helper, msg, level) {\n  level = level || \"INFO\";\n  helper = helper ? '{@' + helper + '}: ' : '';\n  dust.log(helper + msg, level);\n}\n\nvar _deprecatedCache = {};\nfunction _deprecated(target) {\n  if(_deprecatedCache[target]) { return; }\n  log(target, \"Deprecation warning: \" + target + \" is deprecated and will be removed in a future version of dustjs-helpers\", \"WARN\");\n  log(null, \"For help and a deprecation timeline, see https://github.com/linkedin/dustjs-helpers/wiki/Deprecated-Features#\" + target.replace(/\\W+/g, \"\"), \"WARN\");\n  _deprecatedCache[target] = true;\n}\n\nfunction isSelect(context) {\n  return context.stack.tail &&\n         context.stack.tail.head &&\n         typeof context.stack.tail.head.__select__ !== \"undefined\";\n}\n\nfunction getSelectState(context) {\n  return isSelect(context) && context.get('__select__');\n}\n\n/**\n * Adds a special __select__ key behind the head of the context stack. Used to maintain the state\n * of {@select} blocks\n * @param context {Context} add state to this Context\n * @param opts {Object} add these properties to the state (`key` and `type`)\n */\nfunction addSelectState(context, opts) {\n  var head = context.stack.head,\n      newContext = context.rebase(),\n      key;\n\n  if(context.stack && context.stack.tail) {\n    newContext.stack = context.stack.tail;\n  }\n\n  var state = {\n    isPending: false,\n    isResolved: false,\n    isDeferredComplete: false,\n    deferreds: []\n  };\n\n  for(key in opts) {\n    state[key] = opts[key];\n  }\n\n  return newContext\n  .push({ \"__select__\": state })\n  .push(head, context.stack.index, context.stack.of);\n}\n\n/**\n * After a {@select} or {@math} block is complete, they invoke this function\n */\nfunction resolveSelectDeferreds(state) {\n  var x, len;\n  state.isDeferredPending = true;\n  if(state.deferreds.length) {\n    state.isDeferredComplete = true;\n    for(x=0, len=state.deferreds.length; x<len; x++) {\n      state.deferreds[x]();\n    }\n  }\n  state.isDeferredPending = false;\n}\n\n/**\n * Used by {@contextDump}\n */\nfunction jsonFilter(key, value) {\n  if (typeof value === \"function\") {\n    return value.toString()\n      .replace(/(^\\s+|\\s+$)/mg, '')\n      .replace(/\\n/mg, '')\n      .replace(/,\\s*/mg, ', ')\n      .replace(/\\)\\{/mg, ') {');\n  }\n  return value;\n}\n\n/**\n * Generate a truth test helper\n */\nfunction truthTest(name, test) {\n  return function(chunk, context, bodies, params) {\n    return filter(chunk, context, bodies, params, name, test);\n  };\n}\n\n/**\n * This function is invoked by truth test helpers\n */\nfunction filter(chunk, context, bodies, params, helperName, test) {\n  var body = bodies.block,\n      skip = bodies['else'],\n      selectState = getSelectState(context) || {},\n      willResolve, key, value, type;\n\n  // Once one truth test in a select passes, short-circuit the rest of the tests\n  if (selectState.isResolved && !selectState.isDeferredPending) {\n    return chunk;\n  }\n\n  // First check for a key on the helper itself, then look for a key on the {@select}\n  if (params.hasOwnProperty('key')) {\n    key = params.key;\n  } else if (selectState.hasOwnProperty('key')) {\n    key = selectState.key;\n  } else {\n    log(helperName, \"No key specified\", \"WARN\");\n    return chunk;\n  }\n\n  type = params.type || selectState.type;\n\n  key = coerce(context.resolve(key), type);\n  value = coerce(context.resolve(params.value), type);\n\n  if (test(key, value)) {\n    // Once a truth test passes, put the select into \"pending\" state. Now we can render the body of\n    // the truth test (which may contain truth tests) without altering the state of the select.\n    if (!selectState.isPending) {\n      willResolve = true;\n      selectState.isPending = true;\n    }\n    if (body) {\n      chunk = chunk.render(body, context);\n    }\n    if (willResolve) {\n      selectState.isResolved = true;\n    }\n  } else if (skip) {\n    chunk = chunk.render(skip, context);\n  }\n  return chunk;\n}\n\nfunction coerce(value, type) {\n  if (type) {\n    type = type.toLowerCase();\n  }\n  switch (type) {\n    case 'number': return +value;\n    case 'string': return String(value);\n    case 'boolean':\n      value = (value === 'false' ? false : value);\n      return Boolean(value);\n    case 'date': return new Date(value);\n  }\n\n  return value;\n}\n\nvar helpers = {\n\n  // Utility helping to resolve dust references in the given chunk\n  // uses native Dust Context#resolve (available since Dust 2.6.2)\n  \"tap\": function(input, chunk, context) {\n    // deprecated for removal in 1.8\n    _deprecated(\"tap\");\n    return context.resolve(input);\n  },\n\n  \"sep\": function(chunk, context, bodies) {\n    var body = bodies.block;\n    if (context.stack.index === context.stack.of - 1) {\n      return chunk;\n    }\n    if (body) {\n      return body(chunk, context);\n    } else {\n      return chunk;\n    }\n  },\n\n  \"first\": function(chunk, context, bodies) {\n    if (context.stack.index === 0) {\n      return bodies.block(chunk, context);\n    }\n    return chunk;\n  },\n\n  \"last\": function(chunk, context, bodies) {\n    if (context.stack.index === context.stack.of - 1) {\n      return bodies.block(chunk, context);\n    }\n    return chunk;\n  },\n\n  /**\n   * {@contextDump}\n   * @param key {String} set to \"full\" to the full context stack, otherwise the current context is dumped\n   * @param to {String} set to \"console\" to log to console, otherwise outputs to the chunk\n   */\n  \"contextDump\": function(chunk, context, bodies, params) {\n    var to = context.resolve(params.to),\n        key = context.resolve(params.key),\n        target, output;\n    switch(key) {\n      case 'full':\n        target = context.stack;\n        break;\n      default:\n        target = context.stack.head;\n    }\n    output = JSON.stringify(target, jsonFilter, 2);\n    switch(to) {\n      case 'console':\n        log('contextDump', output);\n        break;\n      default:\n        output = output.replace(/</g, '\\\\u003c');\n        chunk = chunk.write(output);\n    }\n    return chunk;\n  },\n\n  /**\n   * {@math}\n   * @param key first value\n   * @param method {String} operation to perform\n   * @param operand second value (not required for operations like `abs`)\n   * @param round if truthy, round() the result\n   */\n  \"math\": function (chunk, context, bodies, params) {\n    var key = params.key,\n        method = params.method,\n        operand = params.operand,\n        round = params.round,\n        output, state, x, len;\n\n    if(!params.hasOwnProperty('key') || !params.method) {\n      log(\"math\", \"`key` or `method` was not provided\", \"ERROR\");\n      return chunk;\n    }\n\n    key = parseFloat(context.resolve(key));\n    operand = parseFloat(context.resolve(operand));\n\n    switch(method) {\n      case \"mod\":\n        if(operand === 0) {\n          log(\"math\", \"Division by 0\", \"ERROR\");\n        }\n        output = key % operand;\n        break;\n      case \"add\":\n        output = key + operand;\n        break;\n      case \"subtract\":\n        output = key - operand;\n        break;\n      case \"multiply\":\n        output = key * operand;\n        break;\n      case \"divide\":\n        if(operand === 0) {\n          log(\"math\", \"Division by 0\", \"ERROR\");\n        }\n        output = key / operand;\n        break;\n      case \"ceil\":\n      case \"floor\":\n      case \"round\":\n      case \"abs\":\n        output = Math[method](key);\n        break;\n      case \"toint\":\n        output = parseInt(key, 10);\n        break;\n      default:\n        log(\"math\", \"Method `\" + method + \"` is not supported\", \"ERROR\");\n    }\n\n    if (typeof output !== 'undefined') {\n      if (round) {\n        output = Math.round(output);\n      }\n      if (bodies && bodies.block) {\n        context = addSelectState(context, { key: output });\n        chunk = chunk.render(bodies.block, context);\n        resolveSelectDeferreds(getSelectState(context));\n      } else {\n        chunk = chunk.write(output);\n      }\n    }\n\n    return chunk;\n  },\n\n  /**\n   * {@select}\n   * Groups a set of truth tests and outputs the first one that passes.\n   * Also contains {@any} and {@none} blocks.\n   * @param key a value or reference to use as the left-hand side of comparisons\n   * @param type coerce all truth test keys without an explicit type to this type\n   */\n  \"select\": function(chunk, context, bodies, params) {\n    var body = bodies.block,\n        state = {};\n\n    if (params.hasOwnProperty('key')) {\n      state.key = context.resolve(params.key);\n    }\n    if (params.hasOwnProperty('type')) {\n      state.type = params.type;\n    }\n\n    if (body) {\n      context = addSelectState(context, state);\n      chunk = chunk.render(body, context);\n      resolveSelectDeferreds(getSelectState(context));\n    } else {\n      log(\"select\", \"Missing body block\", \"WARN\");\n    }\n    return chunk;\n  },\n\n  /**\n   * Truth test helpers\n   * @param key a value or reference to use as the left-hand side of comparisons\n   * @param value a value or reference to use as the right-hand side of comparisons\n   * @param type if specified, `key` and `value` will be forcibly cast to this type\n   */\n  \"eq\": truthTest('eq', function(left, right) {\n    return left === right;\n  }),\n  \"ne\": truthTest('ne', function(left, right) {\n    return left !== right;\n  }),\n  \"lt\": truthTest('lt', function(left, right) {\n    return left < right;\n  }),\n  \"lte\": truthTest('lte', function(left, right) {\n    return left <= right;\n  }),\n  \"gt\": truthTest('gt', function(left, right) {\n    return left > right;\n  }),\n  \"gte\": truthTest('gte', function(left, right) {\n    return left >= right;\n  }),\n\n  /**\n   * {@any}\n   * Outputs as long as at least one truth test inside a {@select} has passed.\n   * Must be contained inside a {@select} block.\n   * The passing truth test can be before or after the {@any} block.\n   */\n  \"any\": function(chunk, context, bodies, params) {\n    var selectState = getSelectState(context);\n\n    if(!selectState) {\n      log(\"any\", \"Must be used inside a {@select} block\", \"ERROR\");\n    } else {\n      if(selectState.isDeferredComplete) {\n        log(\"any\", \"Must not be nested inside {@any} or {@none} block\", \"ERROR\");\n      } else {\n        chunk = chunk.map(function(chunk) {\n          selectState.deferreds.push(function() {\n            if(selectState.isResolved) {\n              chunk = chunk.render(bodies.block, context);\n            }\n            chunk.end();\n          });\n        });\n      }\n    }\n    return chunk;\n  },\n\n  /**\n   * {@none}\n   * Outputs if no truth tests inside a {@select} pass.\n   * Must be contained inside a {@select} block.\n   * The position of the helper does not matter.\n   */\n  \"none\": function(chunk, context, bodies, params) {\n    var selectState = getSelectState(context);\n\n    if(!selectState) {\n      log(\"none\", \"Must be used inside a {@select} block\", \"ERROR\");\n    } else {\n      if(selectState.isDeferredComplete) {\n        log(\"none\", \"Must not be nested inside {@any} or {@none} block\", \"ERROR\");\n      } else {\n        chunk = chunk.map(function(chunk) {\n          selectState.deferreds.push(function() {\n            if(!selectState.isResolved) {\n              chunk = chunk.render(bodies.block, context);\n            }\n            chunk.end();\n          });\n        });\n      }\n    }\n    return chunk;\n  },\n\n  /**\n  * {@size}\n  * Write the size of the target to the chunk\n  * Falsy values and true have size 0\n  * Numbers are returned as-is\n  * Arrays and Strings have size equal to their length\n  * Objects have size equal to the number of keys they contain\n  * Dust bodies are evaluated and the length of the string is returned\n  * Functions are evaluated and the length of their return value is evaluated\n  * @param key find the size of this value or reference\n  */\n  \"size\": function(chunk, context, bodies, params) {\n    var key = params.key,\n        value, k;\n\n    key = context.resolve(params.key);\n    if (!key || key === true) {\n      value = 0;\n    } else if(dust.isArray(key)) {\n      value = key.length;\n    } else if (!isNaN(parseFloat(key)) && isFinite(key)) {\n      value = key;\n    } else if (typeof key === \"object\") {\n      value = 0;\n      for(k in key){\n        if(key.hasOwnProperty(k)){\n          value++;\n        }\n      }\n    } else {\n      value = (key + '').length;\n    }\n    return chunk.write(value);\n  }\n\n};\n\nfor(var key in helpers) {\n  dust.helpers[key] = helpers[key];\n}\n\nreturn dust;\n\n}));\n\n},{\"dustjs-linkedin\":5}],5:[function(_dereq_,module,exports){\n(function (process){\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd && define.amd.dust === true) {\n    define('dust.core', [], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.dust = factory();\n  }\n}(this, function() {\n  var dust = {\n        \"version\": \"3.0.1\"\n      },\n      NONE = 'NONE', ERROR = 'ERROR', WARN = 'WARN', INFO = 'INFO', DEBUG = 'DEBUG',\n      EMPTY_FUNC = function() {};\n\n  dust.config = {\n    whitespace: false,\n    amd: false,\n    cjs: false,\n    cache: true\n  };\n\n  // Directive aliases to minify code\n  dust._aliases = {\n    \"write\": \"w\",\n    \"end\": \"e\",\n    \"map\": \"m\",\n    \"render\": \"r\",\n    \"reference\": \"f\",\n    \"section\": \"s\",\n    \"exists\": \"x\",\n    \"notexists\": \"nx\",\n    \"block\": \"b\",\n    \"partial\": \"p\",\n    \"helper\": \"h\"\n  };\n\n  (function initLogging() {\n    /*global process, console*/\n    var loggingLevels = { DEBUG: 0, INFO: 1, WARN: 2, ERROR: 3, NONE: 4 },\n        consoleLog,\n        log;\n\n    if (typeof console !== 'undefined' && console.log) {\n      consoleLog = console.log;\n      if(typeof consoleLog === 'function') {\n        log = function() {\n          consoleLog.apply(console, arguments);\n        };\n      } else {\n        log = function() {\n          consoleLog(Array.prototype.slice.apply(arguments).join(' '));\n        };\n      }\n    } else {\n      log = EMPTY_FUNC;\n    }\n\n    /**\n     * Filters messages based on `dust.debugLevel`.\n     * This default implementation will print to the console if it exists.\n     * @param {String|Error} message the message to print/throw\n     * @param {String} type the severity of the message(ERROR, WARN, INFO, or DEBUG)\n     * @public\n     */\n    dust.log = function(message, type) {\n      type = type || INFO;\n      if (loggingLevels[type] >= loggingLevels[dust.debugLevel]) {\n        log('[DUST:' + type + ']', message);\n        if (type === ERROR && dust.debugLevel === DEBUG && message instanceof Error && message.stack) {\n          log('[DUST:' + type + ']', message.stack);\n        }\n      }\n    };\n\n    dust.debugLevel = NONE;\n    if(typeof process !== 'undefined' && process.env && /\\bdust\\b/.test(process.env.DEBUG)) {\n      dust.debugLevel = DEBUG;\n    }\n\n  }());\n\n  dust.helpers = {};\n\n  dust.cache = {};\n\n  dust.register = function(name, tmpl) {\n    if (!name) {\n      return;\n    }\n    tmpl.templateName = name;\n    if (dust.config.cache !== false) {\n      dust.cache[name] = tmpl;\n    }\n  };\n\n  dust.render = function(nameOrTemplate, context, callback) {\n    var chunk = new Stub(callback).head;\n    try {\n      load(nameOrTemplate, chunk, context).end();\n    } catch (err) {\n      chunk.setError(err);\n    }\n  };\n\n  dust.stream = function(nameOrTemplate, context) {\n    var stream = new Stream(),\n        chunk = stream.head;\n    dust.nextTick(function() {\n      try {\n        load(nameOrTemplate, chunk, context).end();\n      } catch (err) {\n        chunk.setError(err);\n      }\n    });\n    return stream;\n  };\n\n  /**\n   * Extracts a template function (body_0) from whatever is passed.\n   * @param nameOrTemplate {*} Could be:\n   *   - the name of a template to load from cache\n   *   - a CommonJS-compiled template (a function with a `template` property)\n   *   - a template function\n   * @param loadFromCache {Boolean} if false, don't look in the cache\n   * @return {Function} a template function, if found\n   */\n  function getTemplate(nameOrTemplate, loadFromCache/*=true*/) {\n    if(!nameOrTemplate) {\n      return;\n    }\n    if(typeof nameOrTemplate === 'function' && nameOrTemplate.template) {\n      // Sugar away CommonJS module templates\n      return nameOrTemplate.template;\n    }\n    if(dust.isTemplateFn(nameOrTemplate)) {\n      // Template functions passed directly\n      return nameOrTemplate;\n    }\n    if(loadFromCache !== false) {\n      // Try loading a template with this name from cache\n      return dust.cache[nameOrTemplate];\n    }\n  }\n\n  function load(nameOrTemplate, chunk, context) {\n    if(!nameOrTemplate) {\n      return chunk.setError(new Error('No template or template name provided to render'));\n    }\n\n    var template = getTemplate(nameOrTemplate, dust.config.cache);\n\n    if (template) {\n      return template(chunk, Context.wrap(context, template.templateName));\n    } else {\n      if (dust.onLoad) {\n        return chunk.map(function(chunk) {\n          // Alias just so it's easier to read that this would always be a name\n          var name = nameOrTemplate;\n          // Three possible scenarios for a successful callback:\n          //   - `require(nameOrTemplate)(dust); cb()`\n          //   - `src = readFile('src.dust'); cb(null, src)`\n          //   - `compiledTemplate = require(nameOrTemplate)(dust); cb(null, compiledTemplate)`\n          function done(err, srcOrTemplate) {\n            var template;\n            if (err) {\n              return chunk.setError(err);\n            }\n            // Prefer a template that is passed via callback over the cached version.\n            template = getTemplate(srcOrTemplate, false) || getTemplate(name, dust.config.cache);\n            if (!template) {\n              // It's a template string, compile it and register under `name`\n              if(dust.compile) {\n                template = dust.loadSource(dust.compile(srcOrTemplate, name));\n              } else {\n                return chunk.setError(new Error('Dust compiler not available'));\n              }\n            }\n            template(chunk, Context.wrap(context, template.templateName)).end();\n          }\n\n          if(dust.onLoad.length === 3) {\n            dust.onLoad(name, context.options, done);\n          } else {\n            dust.onLoad(name, done);\n          }\n        });\n      }\n      return chunk.setError(new Error('Template Not Found: ' + nameOrTemplate));\n    }\n  }\n\n  dust.loadSource = function(source) {\n    /*jshint evil:true*/\n    return eval(source);\n  };\n\n  if (Array.isArray) {\n    dust.isArray = Array.isArray;\n  } else {\n    dust.isArray = function(arr) {\n      return Object.prototype.toString.call(arr) === '[object Array]';\n    };\n  }\n\n  dust.nextTick = (function() {\n    return function(callback) {\n      setTimeout(callback, 0);\n    };\n  })();\n\n  /**\n   * Dust has its own rules for what is \"empty\"-- which is not the same as falsy.\n   * Empty arrays, null, and undefined are empty\n   */\n  dust.isEmpty = function(value) {\n    if (value === 0) {\n      return false;\n    }\n    if (dust.isArray(value) && !value.length) {\n      return true;\n    }\n    return !value;\n  };\n\n  dust.isEmptyObject = function(obj) {\n    var key;\n    if (obj === null) {\n      return false;\n    }\n    if (obj === undefined) {\n      return false;\n    }\n    if (obj.length > 0) {\n      return false;\n    }\n    for (key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  dust.isTemplateFn = function(elem) {\n    return typeof elem === 'function' &&\n           elem.__dustBody;\n  };\n\n  /**\n   * Decide somewhat-naively if something is a Thenable.  Matches Promises A+ Spec, section 1.2 “thenable” is an object or function that defines a then method.\"\n   * @param elem {*} object to inspect\n   * @return {Boolean} is `elem` a Thenable?\n   */\n  dust.isThenable = function(elem) {\n    return elem &&  /* Beware: `typeof null` is `object` */\n           (typeof elem === 'object' || typeof elem === 'function') &&\n           typeof elem.then === 'function';\n  };\n\n  /**\n   * Decide if an element is a function but not Thenable; it is prefereable to resolve a thenable function by its `.then` method.\n   * @param elem {*} target of inspection\n   * @return {Boolean} is `elem` a function without a `.then` property?\n   */\n  dust.isNonThenableFunction = function(elem) {\n    return typeof elem === 'function' && !dust.isThenable(elem);\n  };\n\n  /**\n   * Decide very naively if something is a Stream.\n   * @param elem {*} object to inspect\n   * @return {Boolean} is `elem` a Stream?\n   */\n  dust.isStreamable = function(elem) {\n    return elem &&\n           typeof elem.on === 'function' &&\n           typeof elem.pipe === 'function';\n  };\n\n  // apply the filter chain and return the output string\n  dust.filter = function(string, auto, filters, context) {\n    var i, len, name, filter;\n    if (filters) {\n      for (i = 0, len = filters.length; i < len; i++) {\n        name = filters[i];\n        if (!name.length) {\n          continue;\n        }\n        filter = dust.filters[name];\n        if (name === 's') {\n          auto = null;\n        } else if (typeof filter === 'function') {\n          string = filter(string, context);\n        } else {\n          dust.log('Invalid filter `' + name + '`', WARN);\n        }\n      }\n    }\n    // by default always apply the h filter, unless asked to unescape with |s\n    if (auto) {\n      string = dust.filters[auto](string, context);\n    }\n    return string;\n  };\n\n  dust.filters = {\n    h: function(value) { return dust.escapeHtml(value); },\n    j: function(value) { return dust.escapeJs(value); },\n    u: encodeURI,\n    uc: encodeURIComponent,\n    js: function(value) { return dust.escapeJSON(value); },\n    jp: function(value) {\n      if (!JSON) {dust.log('JSON is undefined; could not parse `' + value + '`', WARN);\n        return value;\n      } else {\n        return JSON.parse(value);\n      }\n    }\n  };\n\n  function Context(stack, global, options, blocks, templateName) {\n    if(stack !== undefined && !(stack instanceof Stack)) {\n      stack = new Stack(stack);\n    }\n    this.stack = stack;\n    this.global = global;\n    this.options = options;\n    this.blocks = blocks;\n    this.templateName = templateName;\n    this._isContext = true;\n  }\n\n  dust.makeBase = dust.context = function(global, options) {\n    return new Context(undefined, global, options);\n  };\n\n  dust.isContext = function(obj) {\n    return typeof obj === \"object\" && obj._isContext === true;\n  };\n\n  /**\n   * Factory function that creates a closure scope around a Thenable-callback.\n   * Returns a function that can be passed to a Thenable that will resume a\n   * Context lookup once the Thenable resolves with new data, adding that new\n   * data to the lookup stack.\n   */\n  function getWithResolvedData(ctx, cur, down) {\n    return function(data) {\n      return ctx.push(data)._get(cur, down);\n    };\n  }\n\n  Context.wrap = function(context, name) {\n    if (dust.isContext(context)) {\n      context.templateName = name;\n      return context;\n    }\n    return new Context(context, {}, {}, null, name);\n  };\n\n  /**\n   * Public API for getting a value from the context.\n   * @method get\n   * @param {string|array} path The path to the value. Supported formats are:\n   * 'key'\n   * 'path.to.key'\n   * '.path.to.key'\n   * ['path', 'to', 'key']\n   * ['key']\n   * @param {boolean} [cur=false] Boolean which determines if the search should be limited to the\n   * current context (true), or if get should search in parent contexts as well (false).\n   * @public\n   * @returns {string|object}\n   */\n  Context.prototype.get = function(path, cur) {\n    if (typeof path === 'string') {\n      if (path[0] === '.') {\n        cur = true;\n        path = path.substr(1);\n      }\n      path = path.split('.');\n    }\n    return this._get(cur, path);\n  };\n\n  /**\n   * Get a value from the context\n   * @method _get\n   * @param {boolean} cur Get only from the current context\n   * @param {array} down An array of each step in the path\n   * @private\n   * @return {string | object}\n   */\n  Context.prototype._get = function(cur, down) {\n    var ctx = this.stack || {},\n        i = 1,\n        value, first, len, ctxThis, fn;\n\n    first = down[0];\n    len = down.length;\n\n    if (cur && len === 0) {\n      ctxThis = ctx;\n      ctx = ctx.head;\n    } else {\n      if (!cur) {\n        // Search up the stack for the first value\n        while (ctx) {\n          if (ctx.isObject) {\n            ctxThis = ctx.head;\n            value = ctx.head[first];\n            if (value !== undefined) {\n              break;\n            }\n          }\n          ctx = ctx.tail;\n        }\n\n        // Try looking in the global context if we haven't found anything yet\n        if (value !== undefined) {\n          ctx = value;\n        } else {\n          ctx = this.global && this.global[first];\n        }\n      } else if (ctx) {\n        // if scope is limited by a leading dot, don't search up the tree\n        if(ctx.head) {\n          ctx = ctx.head[first];\n        } else {\n          // context's head is empty, value we are searching for is not defined\n          ctx = undefined;\n        }\n      }\n\n      while (ctx && i < len) {\n        if (dust.isThenable(ctx)) {\n          // Bail early by returning a Thenable for the remainder of the search tree\n          return ctx.then(getWithResolvedData(this, cur, down.slice(i)));\n        }\n        ctxThis = ctx;\n        ctx = ctx[down[i]];\n        i++;\n      }\n    }\n\n    if (dust.isNonThenableFunction(ctx)) {\n      fn = function() {\n        try {\n          return ctx.apply(ctxThis, arguments);\n        } catch (err) {\n          dust.log(err, ERROR);\n          throw err;\n        }\n      };\n      fn.__dustBody = !!ctx.__dustBody;\n      return fn;\n    } else {\n      if (ctx === undefined) {\n        dust.log('Cannot find reference `{' + down.join('.') + '}` in template `' + this.getTemplateName() + '`', INFO);\n      }\n      return ctx;\n    }\n  };\n\n  Context.prototype.getPath = function(cur, down) {\n    return this._get(cur, down);\n  };\n\n  Context.prototype.push = function(head, idx, len) {\n    if(head === undefined) {\n      dust.log(\"Not pushing an undefined variable onto the context\", INFO);\n      return this;\n    }\n    return this.rebase(new Stack(head, this.stack, idx, len));\n  };\n\n  Context.prototype.pop = function() {\n    var head = this.current();\n    this.stack = this.stack && this.stack.tail;\n    return head;\n  };\n\n  Context.prototype.rebase = function(head) {\n    return new Context(head, this.global, this.options, this.blocks, this.getTemplateName());\n  };\n\n  Context.prototype.clone = function() {\n    var context = this.rebase();\n    context.stack = this.stack;\n    return context;\n  };\n\n  Context.prototype.current = function() {\n    return this.stack && this.stack.head;\n  };\n\n  Context.prototype.getBlock = function(key) {\n    var blocks, len, fn;\n\n    if (typeof key === 'function') {\n      key = key(new Chunk(), this).data.join('');\n    }\n\n    blocks = this.blocks;\n\n    if (!blocks) {\n      dust.log('No blocks for context `' + key + '` in template `' + this.getTemplateName() + '`', DEBUG);\n      return false;\n    }\n\n    len = blocks.length;\n    while (len--) {\n      fn = blocks[len][key];\n      if (fn) {\n        return fn;\n      }\n    }\n\n    dust.log('Malformed template `' + this.getTemplateName() + '` was missing one or more blocks.');\n    return false;\n  };\n\n  Context.prototype.shiftBlocks = function(locals) {\n    var blocks = this.blocks,\n        newBlocks;\n\n    if (locals) {\n      if (!blocks) {\n        newBlocks = [locals];\n      } else {\n        newBlocks = blocks.concat([locals]);\n      }\n      return new Context(this.stack, this.global, this.options, newBlocks, this.getTemplateName());\n    }\n    return this;\n  };\n\n  Context.prototype.resolve = function(body) {\n    var chunk;\n\n    if(typeof body !== 'function') {\n      return body;\n    }\n    chunk = new Chunk().render(body, this);\n    if(chunk instanceof Chunk) {\n      return chunk.data.join(''); // ie7 perf\n    }\n    return chunk;\n  };\n\n  Context.prototype.getTemplateName = function() {\n    return this.templateName;\n  };\n\n  function Stack(head, tail, idx, len) {\n    this.tail = tail;\n    this.isObject = head && typeof head === 'object';\n    this.head = head;\n    this.index = idx;\n    this.of = len;\n  }\n\n  function Stub(callback) {\n    this.head = new Chunk(this);\n    this.callback = callback;\n    this.out = '';\n  }\n\n  Stub.prototype.flush = function() {\n    var chunk = this.head;\n\n    while (chunk) {\n      if (chunk.flushable) {\n        this.out += chunk.data.join(''); //ie7 perf\n      } else if (chunk.error) {\n        this.callback(chunk.error);\n        dust.log('Rendering failed with error `' + chunk.error + '`', ERROR);\n        this.flush = EMPTY_FUNC;\n        return;\n      } else {\n        return;\n      }\n      chunk = chunk.next;\n      this.head = chunk;\n    }\n    this.callback(null, this.out);\n  };\n\n  /**\n   * Creates an interface sort of like a Streams2 ReadableStream.\n   */\n  function Stream() {\n    this.head = new Chunk(this);\n  }\n\n  Stream.prototype.flush = function() {\n    var chunk = this.head;\n\n    while(chunk) {\n      if (chunk.flushable) {\n        this.emit('data', chunk.data.join('')); //ie7 perf\n      } else if (chunk.error) {\n        this.emit('error', chunk.error);\n        this.emit('end');\n        dust.log('Streaming failed with error `' + chunk.error + '`', ERROR);\n        this.flush = EMPTY_FUNC;\n        return;\n      } else {\n        return;\n      }\n      chunk = chunk.next;\n      this.head = chunk;\n    }\n    this.emit('end');\n  };\n\n  /**\n   * Executes listeners for `type` by passing data. Note that this is different from a\n   * Node stream, which can pass an arbitrary number of arguments\n   * @return `true` if event had listeners, `false` otherwise\n   */\n  Stream.prototype.emit = function(type, data) {\n    var events = this.events || {},\n        handlers = events[type] || [],\n        i, l;\n\n    if (!handlers.length) {\n      dust.log('Stream broadcasting, but no listeners for `' + type + '`', DEBUG);\n      return false;\n    }\n\n    handlers = handlers.slice(0);\n    for (i = 0, l = handlers.length; i < l; i++) {\n      handlers[i](data);\n    }\n    return true;\n  };\n\n  Stream.prototype.on = function(type, callback) {\n    var events = this.events = this.events || {},\n        handlers = events[type] = events[type] || [];\n\n    if(typeof callback !== 'function') {\n      dust.log('No callback function provided for `' + type + '` event listener', WARN);\n    } else {\n      handlers.push(callback);\n    }\n    return this;\n  };\n\n  /**\n   * Pipes to a WritableStream. Note that backpressure isn't implemented,\n   * so we just write as fast as we can.\n   * @param stream {WritableStream}\n   * @return self\n   */\n  Stream.prototype.pipe = function(stream) {\n    if(typeof stream.write !== 'function' ||\n       typeof stream.end !== 'function') {\n      dust.log('Incompatible stream passed to `pipe`', WARN);\n      return this;\n    }\n\n    var destEnded = false;\n\n    if(typeof stream.emit === 'function') {\n      stream.emit('pipe', this);\n    }\n\n    if(typeof stream.on === 'function') {\n      stream.on('error', function() {\n        destEnded = true;\n      });\n    }\n\n    return this\n    .on('data', function(data) {\n      if(destEnded) {\n        return;\n      }\n      try {\n        stream.write(data, 'utf8');\n      } catch (err) {\n        dust.log(err, ERROR);\n      }\n    })\n    .on('end', function() {\n      if(destEnded) {\n        return;\n      }\n      try {\n        stream.end();\n        destEnded = true;\n      } catch (err) {\n        dust.log(err, ERROR);\n      }\n    });\n  };\n\n  function Chunk(root, next, taps) {\n    this.root = root;\n    this.next = next;\n    this.data = []; //ie7 perf\n    this.flushable = false;\n    this.taps = taps;\n  }\n\n  Chunk.prototype.write = function(data) {\n    var taps = this.taps;\n\n    if (taps) {\n      data = taps.go(data);\n    }\n    this.data.push(data);\n    return this;\n  };\n\n  Chunk.prototype.end = function(data) {\n    if (data) {\n      this.write(data);\n    }\n    this.flushable = true;\n    this.root.flush();\n    return this;\n  };\n\n  /**\n   * Inserts a new chunk that can be used to asynchronously render or write to it\n   * @param callback {Function} The function that will be called with the new chunk\n   * @returns {Chunk} A copy of this chunk instance in order to further chain function calls on the chunk\n   */\n  Chunk.prototype.map = function(callback) {\n    var cursor = new Chunk(this.root, this.next, this.taps),\n        branch = new Chunk(this.root, cursor, this.taps);\n\n    this.next = branch;\n    this.flushable = true;\n    try {\n      callback(branch);\n    } catch(err) {\n      dust.log(err, ERROR);\n      branch.setError(err);\n    }\n    return cursor;\n  };\n\n  /**\n   * Like Chunk#map but additionally resolves a thenable.  If the thenable succeeds the callback is invoked with\n   * a new chunk that can be used to asynchronously render or write to it, otherwise if the thenable is rejected\n   * then the error body is rendered if available, an error is logged, and the callback is never invoked.\n   * @param {Chunk} The current chunk to insert a new chunk\n   * @param thenable {Thenable} the target thenable to await\n   * @param context {Context} context to use to render the deferred chunk\n   * @param bodies {Object} may optionally contain an \"error\" for when the thenable is rejected\n   * @param callback {Function} The function that will be called with the new chunk\n   * @returns {Chunk} A copy of this chunk instance in order to further chain function calls on the chunk\n   */\n  function mapThenable(chunk, thenable, context, bodies, callback) {\n    return chunk.map(function(asyncChunk) {\n      thenable.then(function(data) {\n        try {\n          callback(asyncChunk, data);\n        } catch (err) {\n          // handle errors the same way Chunk#map would.  This logic is only here since the thenable defers\n          // logic such that the try / catch in Chunk#map would not capture it.\n          dust.log(err, ERROR);\n          asyncChunk.setError(err);\n        }\n      }, function(err) {\n        dust.log('Unhandled promise rejection in `' + context.getTemplateName() + '`', INFO);\n        asyncChunk.renderError(err, context, bodies).end();\n      });\n    });\n  }\n\n  Chunk.prototype.tap = function(tap) {\n    var taps = this.taps;\n\n    if (taps) {\n      this.taps = taps.push(tap);\n    } else {\n      this.taps = new Tap(tap);\n    }\n    return this;\n  };\n\n  Chunk.prototype.untap = function() {\n    this.taps = this.taps.tail;\n    return this;\n  };\n\n  Chunk.prototype.render = function(body, context) {\n    return body(this, context);\n  };\n\n  Chunk.prototype.reference = function(elem, context, auto, filters) {\n    if (dust.isNonThenableFunction(elem)) {\n      elem = elem.apply(context.current(), [this, context, null, {auto: auto, filters: filters}]);\n      if (elem instanceof Chunk) {\n        return elem;\n      } else {\n        return this.reference(elem, context, auto, filters);\n      }\n    }\n    if (dust.isThenable(elem)) {\n      return this.await(elem, context, null, auto, filters);\n    } else if (dust.isStreamable(elem)) {\n      return this.stream(elem, context, null, auto, filters);\n    } else if (!dust.isEmpty(elem)) {\n      return this.write(dust.filter(elem, auto, filters, context));\n    } else {\n      return this;\n    }\n  };\n\n  Chunk.prototype.section = function(elem, context, bodies, params) {\n    var body = bodies.block,\n        skip = bodies['else'],\n        chunk = this,\n        i, len, head;\n\n    if (dust.isNonThenableFunction(elem) && !dust.isTemplateFn(elem)) {\n      try {\n        elem = elem.apply(context.current(), [this, context, bodies, params]);\n      } catch(err) {\n        dust.log(err, ERROR);\n        return this.setError(err);\n      }\n      // Functions that return chunks are assumed to have handled the chunk manually.\n      // Make that chunk the current one and go to the next method in the chain.\n      if (elem instanceof Chunk) {\n        return elem;\n      }\n    }\n\n    if (dust.isEmptyObject(bodies)) {\n      // No bodies to render, and we've already invoked any function that was available in\n      // hopes of returning a Chunk.\n      return chunk;\n    }\n\n    if (!dust.isEmptyObject(params)) {\n      context = context.push(params);\n    }\n\n    /*\n    Dust's default behavior is to enumerate over the array elem, passing each object in the array to the block.\n    When elem resolves to a value or object instead of an array, Dust sets the current context to the value\n    and renders the block one time.\n    */\n    if (dust.isArray(elem)) {\n      if (body) {\n        len = elem.length;\n        if (len > 0) {\n          head = context.stack && context.stack.head || {};\n          head.$len = len;\n          for (i = 0; i < len; i++) {\n            head.$idx = i;\n            chunk = body(chunk, context.push(elem[i], i, len));\n          }\n          head.$idx = undefined;\n          head.$len = undefined;\n          return chunk;\n        } else if (skip) {\n          return skip(this, context);\n        }\n      }\n    } else if (dust.isThenable(elem)) {\n      return this.await(elem, context, bodies);\n    } else if (dust.isStreamable(elem)) {\n      return this.stream(elem, context, bodies);\n    } else if (elem === true) {\n     // true is truthy but does not change context\n      if (body) {\n        return body(this, context);\n      }\n    } else if (elem || elem === 0) {\n       // everything that evaluates to true are truthy ( e.g. Non-empty strings and Empty objects are truthy. )\n       // zero is truthy\n       // for anonymous functions that did not returns a chunk, truthiness is evaluated based on the return value\n      if (body) {\n        return body(this, context.push(elem));\n      }\n     // nonexistent, scalar false value, scalar empty string, null,\n     // undefined are all falsy\n    } else if (skip) {\n      return skip(this, context);\n    }\n    dust.log('Section without corresponding key in template `' + context.getTemplateName() + '`', DEBUG);\n    return this;\n  };\n\n  Chunk.prototype.exists = function(elem, context, bodies) {\n    var body = bodies.block,\n        skip = bodies['else'];\n\n    if (dust.isThenable(elem)) {\n      return mapThenable(this, elem, context, bodies, function(chunk, data) {\n        chunk.exists(data, context, bodies).end();\n      });\n    }\n\n    if (!dust.isEmpty(elem)) {\n      if (body) {\n        return body(this, context);\n      }\n      dust.log('No block for exists check in template `' + context.getTemplateName() + '`', DEBUG);\n    } else if (skip) {\n      return skip(this, context);\n    }\n    return this;\n  };\n\n  Chunk.prototype.notexists = function(elem, context, bodies) {\n    var body = bodies.block,\n        skip = bodies['else'];\n\n    if (dust.isThenable(elem)) {\n      return mapThenable(this, elem, context, bodies, function(chunk, data) {\n        chunk.notexists(data, context, bodies).end();\n      });\n    }\n\n    if (dust.isEmpty(elem)) {\n      if (body) {\n        return body(this, context);\n      }\n      dust.log('No block for not-exists check in template `' + context.getTemplateName() + '`', DEBUG);\n    } else if (skip) {\n      return skip(this, context);\n    }\n    return this;\n  };\n\n  Chunk.prototype.block = function(elem, context, bodies) {\n    var body = elem || bodies.block;\n\n    if (body) {\n      return body(this, context);\n    }\n    return this;\n  };\n\n  Chunk.prototype.partial = function(elem, context, partialContext, params) {\n    var head;\n\n    if(params === undefined) {\n      // Compatibility for < 2.7.0 where `partialContext` did not exist\n      params = partialContext;\n      partialContext = context;\n    }\n\n    if (!dust.isEmptyObject(params)) {\n      partialContext = partialContext.clone();\n      head = partialContext.pop();\n      partialContext = partialContext.push(params)\n                                     .push(head);\n    }\n\n    if (dust.isTemplateFn(elem)) {\n      // The eventual result of evaluating `elem` is a partial name\n      // Load the partial after getting its name and end the async chunk\n      return this.capture(elem, context, function(name, chunk) {\n        load(name, chunk, partialContext).end();\n      });\n    } else {\n      return load(elem, this, partialContext);\n    }\n  };\n\n  Chunk.prototype.helper = function(name, context, bodies, params, auto) {\n    var chunk = this,\n        filters = params.filters,\n        ret;\n\n    // Pre-2.7.1 compat: if auto is undefined, it's an old template. Automatically escape\n    if (auto === undefined) {\n      auto = 'h';\n    }\n\n    // handle invalid helpers, similar to invalid filters\n    if(dust.helpers[name]) {\n      try {\n        ret = dust.helpers[name](chunk, context, bodies, params);\n        if (ret instanceof Chunk) {\n          return ret;\n        }\n        if(typeof filters === 'string') {\n          filters = filters.split('|');\n        }\n        if (!dust.isEmptyObject(bodies)) {\n          return chunk.section(ret, context, bodies, params);\n        }\n        // Helpers act slightly differently from functions in context in that they will act as\n        // a reference if they are self-closing (due to grammar limitations)\n        // In the Chunk.await function we check to make sure bodies is null before acting as a reference\n        return chunk.reference(ret, context, auto, filters);\n      } catch(err) {\n        dust.log('Error in helper `' + name + '`: ' + err.message, ERROR);\n        return chunk.setError(err);\n      }\n    } else {\n      dust.log('Helper `' + name + '` does not exist', WARN);\n      return chunk;\n    }\n  };\n\n  /**\n   * Reserve a chunk to be evaluated once a thenable is resolved or rejected\n   * @param thenable {Thenable} the target thenable to await\n   * @param context {Context} context to use to render the deferred chunk\n   * @param bodies {Object} must contain a \"body\", may contain an \"error\"\n   * @param auto {String} automatically apply this filter if the Thenable is a reference\n   * @param filters {Array} apply these filters if the Thenable is a reference\n   * @return {Chunk}\n   */\n  Chunk.prototype.await = function(thenable, context, bodies, auto, filters) {\n    return mapThenable(this, thenable, context, bodies, function(chunk, data) {\n      if (bodies) {\n        chunk.section(data, context, bodies).end();\n      } else {\n        // Actually a reference. Self-closing sections don't render\n        chunk.reference(data, context, auto, filters).end();\n      }\n    });\n  };\n\n  /**\n   * Render an error body if available\n   * @param err {Error} error that occurred\n   * @param context {Context} context to use to render the error\n   * @param bodies {Object} may optionally contain an \"error\" which will be rendered\n   * @return {Chunk}\n   */\n  Chunk.prototype.renderError = function(err, context, bodies) {\n    var errorBody = bodies && bodies.error;\n    if (errorBody) {\n      return this.render(errorBody, context.push(err));\n    }\n    return this;\n  };\n\n  /**\n   * Reserve a chunk to be evaluated with the contents of a streamable.\n   * Currently an error event will bomb out the stream. Once an error\n   * is received, we push it to an {:error} block if one exists, and log otherwise,\n   * then stop listening to the stream.\n   * @param streamable {Streamable} the target streamable that will emit events\n   * @param context {Context} context to use to render each thunk\n   * @param bodies {Object} must contain a \"body\", may contain an \"error\"\n   * @return {Chunk}\n   */\n  Chunk.prototype.stream = function(stream, context, bodies, auto, filters) {\n    var body = bodies && bodies.block;\n    return this.map(function(chunk) {\n      var ended = false;\n      stream\n        .on('data', function data(thunk) {\n          if(ended) {\n            return;\n          }\n          if(body) {\n            // Fork a new chunk out of the blockstream so that we can flush it independently\n            chunk = chunk.map(function(chunk) {\n              chunk.render(body, context.push(thunk)).end();\n            });\n          } else if(!bodies) {\n            // When actually a reference, don't fork, just write into the master async chunk\n            chunk = chunk.reference(thunk, context, auto, filters);\n          }\n        })\n        .on('error', function error(err) {\n          if(ended) {\n            return;\n          }\n          chunk.renderError(err, context, bodies);\n          dust.log('Unhandled stream error in `' + context.getTemplateName() + '`', INFO);\n          if(!ended) {\n            ended = true;\n            chunk.end();\n          }\n        })\n        .on('end', function end() {\n          if(!ended) {\n            ended = true;\n            chunk.end();\n          }\n        });\n    });\n  };\n\n  Chunk.prototype.capture = function(body, context, callback) {\n    return this.map(function(chunk) {\n      var stub = new Stub(function(err, out) {\n        if (err) {\n          chunk.setError(err);\n        } else {\n          callback(out, chunk);\n        }\n      });\n      body(stub.head, context).end();\n    });\n  };\n\n  Chunk.prototype.setError = function(err) {\n    this.error = err;\n    this.root.flush();\n    return this;\n  };\n\n  // Chunk aliases\n  for(var f in Chunk.prototype) {\n    if(dust._aliases[f]) {\n      Chunk.prototype[dust._aliases[f]] = Chunk.prototype[f];\n    }\n  }\n\n  function Tap(head, tail) {\n    this.head = head;\n    this.tail = tail;\n  }\n\n  Tap.prototype.push = function(tap) {\n    return new Tap(tap, this);\n  };\n\n  Tap.prototype.go = function(value) {\n    var tap = this;\n\n    while(tap) {\n      value = tap.head(value);\n      tap = tap.tail;\n    }\n    return value;\n  };\n\n  var HCHARS = /[&<>\"']/,\n      AMP    = /&/g,\n      LT     = /</g,\n      GT     = />/g,\n      QUOT   = /\\\"/g,\n      SQUOT  = /\\'/g;\n\n  dust.escapeHtml = function(s) {\n    if (typeof s === \"string\" || (s && typeof s.toString === \"function\")) {\n      if (typeof s !== \"string\") {\n        s = s.toString();\n      }\n      if (!HCHARS.test(s)) {\n        return s;\n      }\n      return s.replace(AMP,'&amp;').replace(LT,'&lt;').replace(GT,'&gt;').replace(QUOT,'&quot;').replace(SQUOT, '&#39;');\n    }\n    return s;\n  };\n\n  var BS = /\\\\/g,\n      FS = /\\//g,\n      CR = /\\r/g,\n      LS = /\\u2028/g,\n      PS = /\\u2029/g,\n      NL = /\\n/g,\n      LF = /\\f/g,\n      SQ = /'/g,\n      DQ = /\"/g,\n      TB = /\\t/g;\n\n  dust.escapeJs = function(s) {\n    if (typeof s === 'string') {\n      return s\n        .replace(BS, '\\\\\\\\')\n        .replace(FS, '\\\\/')\n        .replace(DQ, '\\\\\"')\n        .replace(SQ, '\\\\\\'')\n        .replace(CR, '\\\\r')\n        .replace(LS, '\\\\u2028')\n        .replace(PS, '\\\\u2029')\n        .replace(NL, '\\\\n')\n        .replace(LF, '\\\\f')\n        .replace(TB, '\\\\t');\n    }\n    return s;\n  };\n\n  dust.escapeJSON = function(o) {\n    if (!JSON) {\n      dust.log('JSON is undefined; could not escape `' + o + '`', WARN);\n      return o;\n    } else {\n      return JSON.stringify(o)\n        .replace(LS, '\\\\u2028')\n        .replace(PS, '\\\\u2029')\n        .replace(LT, '\\\\u003c');\n    }\n  };\n\n  return dust;\n\n}));\n\n}).call(this,_dereq_('_process'))\n},{\"_process\":8}],6:[function(_dereq_,module,exports){\n/**\n* @preserve HTML5 Shiv 3.7.3 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed\n*/\n;(function(window, document) {\n/*jshint evil:true */\n  /** version */\n  var version = '3.7.3-pre';\n\n  /** Preset options */\n  var options = window.html5 || {};\n\n  /** Used to skip problem elements */\n  var reSkip = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;\n\n  /** Not all elements can be cloned in IE **/\n  var saveClones = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;\n\n  /** Detect whether the browser supports default html5 styles */\n  var supportsHtml5Styles;\n\n  /** Name of the expando, to work with multiple documents or to re-shiv one document */\n  var expando = '_html5shiv';\n\n  /** The id for the the documents expando */\n  var expanID = 0;\n\n  /** Cached data for each document */\n  var expandoData = {};\n\n  /** Detect whether the browser supports unknown elements */\n  var supportsUnknownElements;\n\n  (function() {\n    try {\n        var a = document.createElement('a');\n        a.innerHTML = '<xyz></xyz>';\n        //if the hidden property is implemented we can assume, that the browser supports basic HTML5 Styles\n        supportsHtml5Styles = ('hidden' in a);\n\n        supportsUnknownElements = a.childNodes.length == 1 || (function() {\n          // assign a false positive if unable to shiv\n          (document.createElement)('a');\n          var frag = document.createDocumentFragment();\n          return (\n            typeof frag.cloneNode == 'undefined' ||\n            typeof frag.createDocumentFragment == 'undefined' ||\n            typeof frag.createElement == 'undefined'\n          );\n        }());\n    } catch(e) {\n      // assign a false positive if detection fails => unable to shiv\n      supportsHtml5Styles = true;\n      supportsUnknownElements = true;\n    }\n\n  }());\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a style sheet with the given CSS text and adds it to the document.\n   * @private\n   * @param {Document} ownerDocument The document.\n   * @param {String} cssText The CSS text.\n   * @returns {StyleSheet} The style element.\n   */\n  function addStyleSheet(ownerDocument, cssText) {\n    var p = ownerDocument.createElement('p'),\n        parent = ownerDocument.getElementsByTagName('head')[0] || ownerDocument.documentElement;\n\n    p.innerHTML = 'x<style>' + cssText + '</style>';\n    return parent.insertBefore(p.lastChild, parent.firstChild);\n  }\n\n  /**\n   * Returns the value of `html5.elements` as an array.\n   * @private\n   * @returns {Array} An array of shived element node names.\n   */\n  function getElements() {\n    var elements = html5.elements;\n    return typeof elements == 'string' ? elements.split(' ') : elements;\n  }\n\n  /**\n   * Extends the built-in list of html5 elements\n   * @memberOf html5\n   * @param {String|Array} newElements whitespace separated list or array of new element names to shiv\n   * @param {Document} ownerDocument The context document.\n   */\n  function addElements(newElements, ownerDocument) {\n    var elements = html5.elements;\n    if(typeof elements != 'string'){\n      elements = elements.join(' ');\n    }\n    if(typeof newElements != 'string'){\n      newElements = newElements.join(' ');\n    }\n    html5.elements = elements +' '+ newElements;\n    shivDocument(ownerDocument);\n  }\n\n   /**\n   * Returns the data associated to the given document\n   * @private\n   * @param {Document} ownerDocument The document.\n   * @returns {Object} An object of data.\n   */\n  function getExpandoData(ownerDocument) {\n    var data = expandoData[ownerDocument[expando]];\n    if (!data) {\n        data = {};\n        expanID++;\n        ownerDocument[expando] = expanID;\n        expandoData[expanID] = data;\n    }\n    return data;\n  }\n\n  /**\n   * returns a shived element for the given nodeName and document\n   * @memberOf html5\n   * @param {String} nodeName name of the element\n   * @param {Document} ownerDocument The context document.\n   * @returns {Object} The shived element.\n   */\n  function createElement(nodeName, ownerDocument, data){\n    if (!ownerDocument) {\n        ownerDocument = document;\n    }\n    if(supportsUnknownElements){\n        return ownerDocument.createElement(nodeName);\n    }\n    if (!data) {\n        data = getExpandoData(ownerDocument);\n    }\n    var node;\n\n    if (data.cache[nodeName]) {\n        node = data.cache[nodeName].cloneNode();\n    } else if (saveClones.test(nodeName)) {\n        node = (data.cache[nodeName] = data.createElem(nodeName)).cloneNode();\n    } else {\n        node = data.createElem(nodeName);\n    }\n\n    // Avoid adding some elements to fragments in IE < 9 because\n    // * Attributes like `name` or `type` cannot be set/changed once an element\n    //   is inserted into a document/fragment\n    // * Link elements with `src` attributes that are inaccessible, as with\n    //   a 403 response, will cause the tab/window to crash\n    // * Script elements appended to fragments will execute when their `src`\n    //   or `text` property is set\n    return node.canHaveChildren && !reSkip.test(nodeName) && !node.tagUrn ? data.frag.appendChild(node) : node;\n  }\n\n  /**\n   * returns a shived DocumentFragment for the given document\n   * @memberOf html5\n   * @param {Document} ownerDocument The context document.\n   * @returns {Object} The shived DocumentFragment.\n   */\n  function createDocumentFragment(ownerDocument, data){\n    if (!ownerDocument) {\n        ownerDocument = document;\n    }\n    if(supportsUnknownElements){\n        return ownerDocument.createDocumentFragment();\n    }\n    data = data || getExpandoData(ownerDocument);\n    var clone = data.frag.cloneNode(),\n        i = 0,\n        elems = getElements(),\n        l = elems.length;\n    for(;i<l;i++){\n        clone.createElement(elems[i]);\n    }\n    return clone;\n  }\n\n  /**\n   * Shivs the `createElement` and `createDocumentFragment` methods of the document.\n   * @private\n   * @param {Document|DocumentFragment} ownerDocument The document.\n   * @param {Object} data of the document.\n   */\n  function shivMethods(ownerDocument, data) {\n    if (!data.cache) {\n        data.cache = {};\n        data.createElem = ownerDocument.createElement;\n        data.createFrag = ownerDocument.createDocumentFragment;\n        data.frag = data.createFrag();\n    }\n\n\n    ownerDocument.createElement = function(nodeName) {\n      //abort shiv\n      if (!html5.shivMethods) {\n          return data.createElem(nodeName);\n      }\n      return createElement(nodeName, ownerDocument, data);\n    };\n\n    ownerDocument.createDocumentFragment = Function('h,f', 'return function(){' +\n      'var n=f.cloneNode(),c=n.createElement;' +\n      'h.shivMethods&&(' +\n        // unroll the `createElement` calls\n        getElements().join().replace(/[\\w\\-:]+/g, function(nodeName) {\n          data.createElem(nodeName);\n          data.frag.createElement(nodeName);\n          return 'c(\"' + nodeName + '\")';\n        }) +\n      ');return n}'\n    )(html5, data.frag);\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Shivs the given document.\n   * @memberOf html5\n   * @param {Document} ownerDocument The document to shiv.\n   * @returns {Document} The shived document.\n   */\n  function shivDocument(ownerDocument) {\n    if (!ownerDocument) {\n        ownerDocument = document;\n    }\n    var data = getExpandoData(ownerDocument);\n\n    if (html5.shivCSS && !supportsHtml5Styles && !data.hasCSS) {\n      data.hasCSS = !!addStyleSheet(ownerDocument,\n        // corrects block display not defined in IE6/7/8/9\n        'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}' +\n        // adds styling not present in IE6/7/8/9\n        'mark{background:#FF0;color:#000}' +\n        // hides non-rendered elements\n        'template{display:none}'\n      );\n    }\n    if (!supportsUnknownElements) {\n      shivMethods(ownerDocument, data);\n    }\n    return ownerDocument;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The `html5` object is exposed so that more elements can be shived and\n   * existing shiving can be detected on iframes.\n   * @type Object\n   * @example\n   *\n   * // options can be changed before the script is included\n   * html5 = { 'elements': 'mark section', 'shivCSS': false, 'shivMethods': false };\n   */\n  var html5 = {\n\n    /**\n     * An array or space separated string of node names of the elements to shiv.\n     * @memberOf html5\n     * @type Array|String\n     */\n    'elements': options.elements || 'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video',\n\n    /**\n     * current version of html5shiv\n     */\n    'version': version,\n\n    /**\n     * A flag to indicate that the HTML5 style sheet should be inserted.\n     * @memberOf html5\n     * @type Boolean\n     */\n    'shivCSS': (options.shivCSS !== false),\n\n    /**\n     * Is equal to true if a browser supports creating unknown/HTML5 elements\n     * @memberOf html5\n     * @type boolean\n     */\n    'supportsUnknownElements': supportsUnknownElements,\n\n    /**\n     * A flag to indicate that the document's `createElement` and `createDocumentFragment`\n     * methods should be overwritten.\n     * @memberOf html5\n     * @type Boolean\n     */\n    'shivMethods': (options.shivMethods !== false),\n\n    /**\n     * A string to describe the type of `html5` object (\"default\" or \"default print\").\n     * @memberOf html5\n     * @type String\n     */\n    'type': 'default',\n\n    // shivs the document according to the specified `html5` object options\n    'shivDocument': shivDocument,\n\n    //creates a shived element\n    createElement: createElement,\n\n    //creates a shived documentFragment\n    createDocumentFragment: createDocumentFragment,\n\n    //extends list of elements\n    addElements: addElements\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  // expose html5\n  window.html5 = html5;\n\n  // shiv the document\n  shivDocument(document);\n\n  if(typeof module == 'object' && module.exports){\n    module.exports = html5;\n  }\n\n}(typeof window !== \"undefined\" ? window : this, document));\n\n},{}],7:[function(_dereq_,module,exports){\n\r\nvar L = {\r\n\tversion: '1.0.1'\r\n};\r\n\r\nfunction expose() {\r\n\tvar oldL = window.L;\r\n\r\n\tL.noConflict = function () {\r\n\t\twindow.L = oldL;\r\n\t\treturn this;\r\n\t};\r\n\r\n\twindow.L = L;\r\n}\r\n\r\n// define Leaflet for Node module pattern loaders, including Browserify\r\nif (typeof module === 'object' && typeof module.exports === 'object') {\r\n\tmodule.exports = L;\r\n\r\n// define Leaflet as an AMD module\r\n} else if (typeof define === 'function' && define.amd) {\r\n\tdefine(L);\r\n}\r\n\r\n// define Leaflet as a global L variable, saving the original L to restore later if needed\r\nif (typeof window !== 'undefined') {\r\n\texpose();\r\n}\r\n\n/*\r\n * @namespace Util\r\n *\r\n * Various utility functions, used by Leaflet internally.\r\n */\r\n\r\nL.Util = {\r\n\r\n\t// @function extend(dest: Object, src?: Object): Object\r\n\t// Merges the properties of the `src` object (or multiple objects) into `dest` object and returns the latter. Has an `L.extend` shortcut.\r\n\textend: function (dest) {\r\n\t\tvar i, j, len, src;\r\n\r\n\t\tfor (j = 1, len = arguments.length; j < len; j++) {\r\n\t\t\tsrc = arguments[j];\r\n\t\t\tfor (i in src) {\r\n\t\t\t\tdest[i] = src[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn dest;\r\n\t},\r\n\r\n\t// @function create(proto: Object, properties?: Object): Object\r\n\t// Compatibility polyfill for [Object.create](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/create)\r\n\tcreate: Object.create || (function () {\r\n\t\tfunction F() {}\r\n\t\treturn function (proto) {\r\n\t\t\tF.prototype = proto;\r\n\t\t\treturn new F();\r\n\t\t};\r\n\t})(),\r\n\r\n\t// @function bind(fn: Function, …): Function\r\n\t// Returns a new function bound to the arguments passed, like [Function.prototype.bind](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).\r\n\t// Has a `L.bind()` shortcut.\r\n\tbind: function (fn, obj) {\r\n\t\tvar slice = Array.prototype.slice;\r\n\r\n\t\tif (fn.bind) {\r\n\t\t\treturn fn.bind.apply(fn, slice.call(arguments, 1));\r\n\t\t}\r\n\r\n\t\tvar args = slice.call(arguments, 2);\r\n\r\n\t\treturn function () {\r\n\t\t\treturn fn.apply(obj, args.length ? args.concat(slice.call(arguments)) : arguments);\r\n\t\t};\r\n\t},\r\n\r\n\t// @function stamp(obj: Object): Number\r\n\t// Returns the unique ID of an object, assiging it one if it doesn't have it.\r\n\tstamp: function (obj) {\r\n\t\t/*eslint-disable */\r\n\t\tobj._leaflet_id = obj._leaflet_id || ++L.Util.lastId;\r\n\t\treturn obj._leaflet_id;\r\n\t\t/*eslint-enable */\r\n\t},\r\n\r\n\t// @property lastId: Number\r\n\t// Last unique ID used by [`stamp()`](#util-stamp)\r\n\tlastId: 0,\r\n\r\n\t// @function throttle(fn: Function, time: Number, context: Object): Function\r\n\t// Returns a function which executes function `fn` with the given scope `context`\r\n\t// (so that the `this` keyword refers to `context` inside `fn`'s code). The function\r\n\t// `fn` will be called no more than one time per given amount of `time`. The arguments\r\n\t// received by the bound function will be any arguments passed when binding the\r\n\t// function, followed by any arguments passed when invoking the bound function.\r\n\t// Has an `L.bind` shortcut.\r\n\tthrottle: function (fn, time, context) {\r\n\t\tvar lock, args, wrapperFn, later;\r\n\r\n\t\tlater = function () {\r\n\t\t\t// reset lock and call if queued\r\n\t\t\tlock = false;\r\n\t\t\tif (args) {\r\n\t\t\t\twrapperFn.apply(context, args);\r\n\t\t\t\targs = false;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\twrapperFn = function () {\r\n\t\t\tif (lock) {\r\n\t\t\t\t// called too soon, queue to call later\r\n\t\t\t\targs = arguments;\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// call and lock until later\r\n\t\t\t\tfn.apply(context, arguments);\r\n\t\t\t\tsetTimeout(later, time);\r\n\t\t\t\tlock = true;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn wrapperFn;\r\n\t},\r\n\r\n\t// @function wrapNum(num: Number, range: Number[], includeMax?: Boolean): Number\r\n\t// Returns the number `num` modulo `range` in such a way so it lies within\r\n\t// `range[0]` and `range[1]`. The returned value will be always smaller than\r\n\t// `range[1]` unless `includeMax` is set to `true`.\r\n\twrapNum: function (x, range, includeMax) {\r\n\t\tvar max = range[1],\r\n\t\t    min = range[0],\r\n\t\t    d = max - min;\r\n\t\treturn x === max && includeMax ? x : ((x - min) % d + d) % d + min;\r\n\t},\r\n\r\n\t// @function falseFn(): Function\r\n\t// Returns a function which always returns `false`.\r\n\tfalseFn: function () { return false; },\r\n\r\n\t// @function formatNum(num: Number, digits?: Number): Number\r\n\t// Returns the number `num` rounded to `digits` decimals, or to 5 decimals by default.\r\n\tformatNum: function (num, digits) {\r\n\t\tvar pow = Math.pow(10, digits || 5);\r\n\t\treturn Math.round(num * pow) / pow;\r\n\t},\r\n\r\n\t// @function trim(str: String): String\r\n\t// Compatibility polyfill for [String.prototype.trim](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String/Trim)\r\n\ttrim: function (str) {\r\n\t\treturn str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\r\n\t},\r\n\r\n\t// @function splitWords(str: String): String[]\r\n\t// Trims and splits the string on whitespace and returns the array of parts.\r\n\tsplitWords: function (str) {\r\n\t\treturn L.Util.trim(str).split(/\\s+/);\r\n\t},\r\n\r\n\t// @function setOptions(obj: Object, options: Object): Object\r\n\t// Merges the given properties to the `options` of the `obj` object, returning the resulting options. See `Class options`. Has an `L.setOptions` shortcut.\r\n\tsetOptions: function (obj, options) {\r\n\t\tif (!obj.hasOwnProperty('options')) {\r\n\t\t\tobj.options = obj.options ? L.Util.create(obj.options) : {};\r\n\t\t}\r\n\t\tfor (var i in options) {\r\n\t\t\tobj.options[i] = options[i];\r\n\t\t}\r\n\t\treturn obj.options;\r\n\t},\r\n\r\n\t// @function getParamString(obj: Object, existingUrl?: String, uppercase?: Boolean): String\r\n\t// Converts an object into a parameter URL string, e.g. `{a: \"foo\", b: \"bar\"}`\r\n\t// translates to `'?a=foo&b=bar'`. If `existingUrl` is set, the parameters will\r\n\t// be appended at the end. If `uppercase` is `true`, the parameter names will\r\n\t// be uppercased (e.g. `'?A=foo&B=bar'`)\r\n\tgetParamString: function (obj, existingUrl, uppercase) {\r\n\t\tvar params = [];\r\n\t\tfor (var i in obj) {\r\n\t\t\tparams.push(encodeURIComponent(uppercase ? i.toUpperCase() : i) + '=' + encodeURIComponent(obj[i]));\r\n\t\t}\r\n\t\treturn ((!existingUrl || existingUrl.indexOf('?') === -1) ? '?' : '&') + params.join('&');\r\n\t},\r\n\r\n\t// @function template(str: String, data: Object): String\r\n\t// Simple templating facility, accepts a template string of the form `'Hello {a}, {b}'`\r\n\t// and a data object like `{a: 'foo', b: 'bar'}`, returns evaluated string\r\n\t// `('Hello foo, bar')`. You can also specify functions instead of strings for\r\n\t// data values — they will be evaluated passing `data` as an argument.\r\n\ttemplate: function (str, data) {\r\n\t\treturn str.replace(L.Util.templateRe, function (str, key) {\r\n\t\t\tvar value = data[key];\r\n\r\n\t\t\tif (value === undefined) {\r\n\t\t\t\tthrow new Error('No value provided for variable ' + str);\r\n\r\n\t\t\t} else if (typeof value === 'function') {\r\n\t\t\t\tvalue = value(data);\r\n\t\t\t}\r\n\t\t\treturn value;\r\n\t\t});\r\n\t},\r\n\r\n\ttemplateRe: /\\{ *([\\w_\\-]+) *\\}/g,\r\n\r\n\t// @function isArray(obj): Boolean\r\n\t// Compatibility polyfill for [Array.isArray](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray)\r\n\tisArray: Array.isArray || function (obj) {\r\n\t\treturn (Object.prototype.toString.call(obj) === '[object Array]');\r\n\t},\r\n\r\n\t// @function indexOf(array: Array, el: Object): Number\r\n\t// Compatibility polyfill for [Array.prototype.indexOf](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf)\r\n\tindexOf: function (array, el) {\r\n\t\tfor (var i = 0; i < array.length; i++) {\r\n\t\t\tif (array[i] === el) { return i; }\r\n\t\t}\r\n\t\treturn -1;\r\n\t},\r\n\r\n\t// @property emptyImageUrl: String\r\n\t// Data URI string containing a base64-encoded empty GIF image.\r\n\t// Used as a hack to free memory from unused images on WebKit-powered\r\n\t// mobile devices (by setting image `src` to this string).\r\n\temptyImageUrl: 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='\r\n};\r\n\r\n(function () {\r\n\t// inspired by http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n\r\n\tfunction getPrefixed(name) {\r\n\t\treturn window['webkit' + name] || window['moz' + name] || window['ms' + name];\r\n\t}\r\n\r\n\tvar lastTime = 0;\r\n\r\n\t// fallback for IE 7-8\r\n\tfunction timeoutDefer(fn) {\r\n\t\tvar time = +new Date(),\r\n\t\t    timeToCall = Math.max(0, 16 - (time - lastTime));\r\n\r\n\t\tlastTime = time + timeToCall;\r\n\t\treturn window.setTimeout(fn, timeToCall);\r\n\t}\r\n\r\n\tvar requestFn = window.requestAnimationFrame || getPrefixed('RequestAnimationFrame') || timeoutDefer,\r\n\t    cancelFn = window.cancelAnimationFrame || getPrefixed('CancelAnimationFrame') ||\r\n\t               getPrefixed('CancelRequestAnimationFrame') || function (id) { window.clearTimeout(id); };\r\n\r\n\r\n\t// @function requestAnimFrame(fn: Function, context?: Object, immediate?: Boolean): Number\r\n\t// Schedules `fn` to be executed when the browser repaints. `fn` is bound to\r\n\t// `context` if given. When `immediate` is set, `fn` is called immediately if\r\n\t// the browser doesn't have native support for\r\n\t// [`window.requestAnimationFrame`](https://developer.mozilla.org/docs/Web/API/window/requestAnimationFrame),\r\n\t// otherwise it's delayed. Returns a request ID that can be used to cancel the request.\r\n\tL.Util.requestAnimFrame = function (fn, context, immediate) {\r\n\t\tif (immediate && requestFn === timeoutDefer) {\r\n\t\t\tfn.call(context);\r\n\t\t} else {\r\n\t\t\treturn requestFn.call(window, L.bind(fn, context));\r\n\t\t}\r\n\t};\r\n\r\n\t// @function cancelAnimFrame(id: Number): undefined\r\n\t// Cancels a previous `requestAnimFrame`. See also [window.cancelAnimationFrame](https://developer.mozilla.org/docs/Web/API/window/cancelAnimationFrame).\r\n\tL.Util.cancelAnimFrame = function (id) {\r\n\t\tif (id) {\r\n\t\t\tcancelFn.call(window, id);\r\n\t\t}\r\n\t};\r\n})();\r\n\r\n// shortcuts for most used utility functions\r\nL.extend = L.Util.extend;\r\nL.bind = L.Util.bind;\r\nL.stamp = L.Util.stamp;\r\nL.setOptions = L.Util.setOptions;\r\n\n\r\n// @class Class\r\n// @aka L.Class\r\n\r\n// @section\r\n// @uninheritable\r\n\r\n// Thanks to John Resig and Dean Edwards for inspiration!\r\n\r\nL.Class = function () {};\r\n\r\nL.Class.extend = function (props) {\r\n\r\n\t// @function extend(props: Object): Function\r\n\t// [Extends the current class](#class-inheritance) given the properties to be included.\r\n\t// Returns a Javascript function that is a class constructor (to be called with `new`).\r\n\tvar NewClass = function () {\r\n\r\n\t\t// call the constructor\r\n\t\tif (this.initialize) {\r\n\t\t\tthis.initialize.apply(this, arguments);\r\n\t\t}\r\n\r\n\t\t// call all constructor hooks\r\n\t\tthis.callInitHooks();\r\n\t};\r\n\r\n\tvar parentProto = NewClass.__super__ = this.prototype;\r\n\r\n\tvar proto = L.Util.create(parentProto);\r\n\tproto.constructor = NewClass;\r\n\r\n\tNewClass.prototype = proto;\r\n\r\n\t// inherit parent's statics\r\n\tfor (var i in this) {\r\n\t\tif (this.hasOwnProperty(i) && i !== 'prototype') {\r\n\t\t\tNewClass[i] = this[i];\r\n\t\t}\r\n\t}\r\n\r\n\t// mix static properties into the class\r\n\tif (props.statics) {\r\n\t\tL.extend(NewClass, props.statics);\r\n\t\tdelete props.statics;\r\n\t}\r\n\r\n\t// mix includes into the prototype\r\n\tif (props.includes) {\r\n\t\tL.Util.extend.apply(null, [proto].concat(props.includes));\r\n\t\tdelete props.includes;\r\n\t}\r\n\r\n\t// merge options\r\n\tif (proto.options) {\r\n\t\tprops.options = L.Util.extend(L.Util.create(proto.options), props.options);\r\n\t}\r\n\r\n\t// mix given properties into the prototype\r\n\tL.extend(proto, props);\r\n\r\n\tproto._initHooks = [];\r\n\r\n\t// add method for calling all hooks\r\n\tproto.callInitHooks = function () {\r\n\r\n\t\tif (this._initHooksCalled) { return; }\r\n\r\n\t\tif (parentProto.callInitHooks) {\r\n\t\t\tparentProto.callInitHooks.call(this);\r\n\t\t}\r\n\r\n\t\tthis._initHooksCalled = true;\r\n\r\n\t\tfor (var i = 0, len = proto._initHooks.length; i < len; i++) {\r\n\t\t\tproto._initHooks[i].call(this);\r\n\t\t}\r\n\t};\r\n\r\n\treturn NewClass;\r\n};\r\n\r\n\r\n// @function include(properties: Object): this\r\n// [Includes a mixin](#class-includes) into the current class.\r\nL.Class.include = function (props) {\r\n\tL.extend(this.prototype, props);\r\n\treturn this;\r\n};\r\n\r\n// @function mergeOptions(options: Object): this\r\n// [Merges `options`](#class-options) into the defaults of the class.\r\nL.Class.mergeOptions = function (options) {\r\n\tL.extend(this.prototype.options, options);\r\n\treturn this;\r\n};\r\n\r\n// @function addInitHook(fn: Function): this\r\n// Adds a [constructor hook](#class-constructor-hooks) to the class.\r\nL.Class.addInitHook = function (fn) { // (Function) || (String, args...)\r\n\tvar args = Array.prototype.slice.call(arguments, 1);\r\n\r\n\tvar init = typeof fn === 'function' ? fn : function () {\r\n\t\tthis[fn].apply(this, args);\r\n\t};\r\n\r\n\tthis.prototype._initHooks = this.prototype._initHooks || [];\r\n\tthis.prototype._initHooks.push(init);\r\n\treturn this;\r\n};\r\n\n/*\r\n * @class Evented\r\n * @aka L.Evented\r\n * @inherits Class\r\n *\r\n * A set of methods shared between event-powered classes (like `Map` and `Marker`). Generally, events allow you to execute some function when something happens with an object (e.g. the user clicks on the map, causing the map to fire `'click'` event).\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * map.on('click', function(e) {\r\n * \talert(e.latlng);\r\n * } );\r\n * ```\r\n *\r\n * Leaflet deals with event listeners by reference, so if you want to add a listener and then remove it, define it as a function:\r\n *\r\n * ```js\r\n * function onClick(e) { ... }\r\n *\r\n * map.on('click', onClick);\r\n * map.off('click', onClick);\r\n * ```\r\n */\r\n\r\n\r\nL.Evented = L.Class.extend({\r\n\r\n\t/* @method on(type: String, fn: Function, context?: Object): this\r\n\t * Adds a listener function (`fn`) to a particular event type of the object. You can optionally specify the context of the listener (object the this keyword will point to). You can also pass several space-separated types (e.g. `'click dblclick'`).\r\n\t *\r\n\t * @alternative\r\n\t * @method on(eventMap: Object): this\r\n\t * Adds a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`\r\n\t */\r\n\ton: function (types, fn, context) {\r\n\r\n\t\t// types can be a map of types/handlers\r\n\t\tif (typeof types === 'object') {\r\n\t\t\tfor (var type in types) {\r\n\t\t\t\t// we don't process space-separated events here for performance;\r\n\t\t\t\t// it's a hot path since Layer uses the on(obj) syntax\r\n\t\t\t\tthis._on(type, types[type], fn);\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t// types can be a string of space-separated words\r\n\t\t\ttypes = L.Util.splitWords(types);\r\n\r\n\t\t\tfor (var i = 0, len = types.length; i < len; i++) {\r\n\t\t\t\tthis._on(types[i], fn, context);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/* @method off(type: String, fn?: Function, context?: Object): this\r\n\t * Removes a previously added listener function. If no function is specified, it will remove all the listeners of that particular event from the object. Note that if you passed a custom context to `on`, you must pass the same context to `off` in order to remove the listener.\r\n\t *\r\n\t * @alternative\r\n\t * @method off(eventMap: Object): this\r\n\t * Removes a set of type/listener pairs.\r\n\t *\r\n\t * @alternative\r\n\t * @method off: this\r\n\t * Removes all listeners to all events on the object.\r\n\t */\r\n\toff: function (types, fn, context) {\r\n\r\n\t\tif (!types) {\r\n\t\t\t// clear all listeners if called without arguments\r\n\t\t\tdelete this._events;\r\n\r\n\t\t} else if (typeof types === 'object') {\r\n\t\t\tfor (var type in types) {\r\n\t\t\t\tthis._off(type, types[type], fn);\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\ttypes = L.Util.splitWords(types);\r\n\r\n\t\t\tfor (var i = 0, len = types.length; i < len; i++) {\r\n\t\t\t\tthis._off(types[i], fn, context);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// attach listener (without syntactic sugar now)\r\n\t_on: function (type, fn, context) {\r\n\t\tthis._events = this._events || {};\r\n\r\n\t\t/* get/init listeners for type */\r\n\t\tvar typeListeners = this._events[type];\r\n\t\tif (!typeListeners) {\r\n\t\t\ttypeListeners = [];\r\n\t\t\tthis._events[type] = typeListeners;\r\n\t\t}\r\n\r\n\t\tif (context === this) {\r\n\t\t\t// Less memory footprint.\r\n\t\t\tcontext = undefined;\r\n\t\t}\r\n\t\tvar newListener = {fn: fn, ctx: context},\r\n\t\t    listeners = typeListeners;\r\n\r\n\t\t// check if fn already there\r\n\t\tfor (var i = 0, len = listeners.length; i < len; i++) {\r\n\t\t\tif (listeners[i].fn === fn && listeners[i].ctx === context) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlisteners.push(newListener);\r\n\t\ttypeListeners.count++;\r\n\t},\r\n\r\n\t_off: function (type, fn, context) {\r\n\t\tvar listeners,\r\n\t\t    i,\r\n\t\t    len;\r\n\r\n\t\tif (!this._events) { return; }\r\n\r\n\t\tlisteners = this._events[type];\r\n\r\n\t\tif (!listeners) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!fn) {\r\n\t\t\t// Set all removed listeners to noop so they are not called if remove happens in fire\r\n\t\t\tfor (i = 0, len = listeners.length; i < len; i++) {\r\n\t\t\t\tlisteners[i].fn = L.Util.falseFn;\r\n\t\t\t}\r\n\t\t\t// clear all listeners for a type if function isn't specified\r\n\t\t\tdelete this._events[type];\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (context === this) {\r\n\t\t\tcontext = undefined;\r\n\t\t}\r\n\r\n\t\tif (listeners) {\r\n\r\n\t\t\t// find fn and remove it\r\n\t\t\tfor (i = 0, len = listeners.length; i < len; i++) {\r\n\t\t\t\tvar l = listeners[i];\r\n\t\t\t\tif (l.ctx !== context) { continue; }\r\n\t\t\t\tif (l.fn === fn) {\r\n\r\n\t\t\t\t\t// set the removed listener to noop so that's not called if remove happens in fire\r\n\t\t\t\t\tl.fn = L.Util.falseFn;\r\n\r\n\t\t\t\t\tif (this._firingCount) {\r\n\t\t\t\t\t\t/* copy array in case events are being fired */\r\n\t\t\t\t\t\tthis._events[type] = listeners = listeners.slice();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlisteners.splice(i, 1);\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// @method fire(type: String, data?: Object, propagate?: Boolean): this\r\n\t// Fires an event of the specified type. You can optionally provide an data\r\n\t// object — the first argument of the listener function will contain its\r\n\t// properties. The event might can optionally be propagated to event parents.\r\n\tfire: function (type, data, propagate) {\r\n\t\tif (!this.listens(type, propagate)) { return this; }\r\n\r\n\t\tvar event = L.Util.extend({}, data, {type: type, target: this});\r\n\r\n\t\tif (this._events) {\r\n\t\t\tvar listeners = this._events[type];\r\n\r\n\t\t\tif (listeners) {\r\n\t\t\t\tthis._firingCount = (this._firingCount + 1) || 1;\r\n\t\t\t\tfor (var i = 0, len = listeners.length; i < len; i++) {\r\n\t\t\t\t\tvar l = listeners[i];\r\n\t\t\t\t\tl.fn.call(l.ctx || this, event);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._firingCount--;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (propagate) {\r\n\t\t\t// propagate the event to parents (set with addEventParent)\r\n\t\t\tthis._propagateEvent(event);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method listens(type: String): Boolean\r\n\t// Returns `true` if a particular event type has any listeners attached to it.\r\n\tlistens: function (type, propagate) {\r\n\t\tvar listeners = this._events && this._events[type];\r\n\t\tif (listeners && listeners.length) { return true; }\r\n\r\n\t\tif (propagate) {\r\n\t\t\t// also check parents for listeners if event propagates\r\n\t\t\tfor (var id in this._eventParents) {\r\n\t\t\t\tif (this._eventParents[id].listens(type, propagate)) { return true; }\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\t// @method once(…): this\r\n\t// Behaves as [`on(…)`](#evented-on), except the listener will only get fired once and then removed.\r\n\tonce: function (types, fn, context) {\r\n\r\n\t\tif (typeof types === 'object') {\r\n\t\t\tfor (var type in types) {\r\n\t\t\t\tthis.once(type, types[type], fn);\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar handler = L.bind(function () {\r\n\t\t\tthis\r\n\t\t\t    .off(types, fn, context)\r\n\t\t\t    .off(types, handler, context);\r\n\t\t}, this);\r\n\r\n\t\t// add a listener that's executed once and removed after that\r\n\t\treturn this\r\n\t\t    .on(types, fn, context)\r\n\t\t    .on(types, handler, context);\r\n\t},\r\n\r\n\t// @method addEventParent(obj: Evented): this\r\n\t// Adds an event parent - an `Evented` that will receive propagated events\r\n\taddEventParent: function (obj) {\r\n\t\tthis._eventParents = this._eventParents || {};\r\n\t\tthis._eventParents[L.stamp(obj)] = obj;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method removeEventParent(obj: Evented): this\r\n\t// Removes an event parent, so it will stop receiving propagated events\r\n\tremoveEventParent: function (obj) {\r\n\t\tif (this._eventParents) {\r\n\t\t\tdelete this._eventParents[L.stamp(obj)];\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_propagateEvent: function (e) {\r\n\t\tfor (var id in this._eventParents) {\r\n\t\t\tthis._eventParents[id].fire(e.type, L.extend({layer: e.target}, e), true);\r\n\t\t}\r\n\t}\r\n});\r\n\r\nvar proto = L.Evented.prototype;\r\n\r\n// aliases; we should ditch those eventually\r\n\r\n// @method addEventListener(…): this\r\n// Alias to [`on(…)`](#evented-on)\r\nproto.addEventListener = proto.on;\r\n\r\n// @method removeEventListener(…): this\r\n// Alias to [`off(…)`](#evented-off)\r\n\r\n// @method clearAllEventListeners(…): this\r\n// Alias to [`off()`](#evented-off)\r\nproto.removeEventListener = proto.clearAllEventListeners = proto.off;\r\n\r\n// @method addOneTimeEventListener(…): this\r\n// Alias to [`once(…)`](#evented-once)\r\nproto.addOneTimeEventListener = proto.once;\r\n\r\n// @method fireEvent(…): this\r\n// Alias to [`fire(…)`](#evented-fire)\r\nproto.fireEvent = proto.fire;\r\n\r\n// @method hasEventListeners(…): Boolean\r\n// Alias to [`listens(…)`](#evented-listens)\r\nproto.hasEventListeners = proto.listens;\r\n\r\nL.Mixin = {Events: proto};\r\n\n/*\r\n * @namespace Browser\r\n * @aka L.Browser\r\n *\r\n * A namespace with static properties for browser/feature detection used by Leaflet internally.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * if (L.Browser.ielt9) {\r\n *   alert('Upgrade your browser, dude!');\r\n * }\r\n * ```\r\n */\r\n\r\n(function () {\r\n\r\n\tvar ua = navigator.userAgent.toLowerCase(),\r\n\t    doc = document.documentElement,\r\n\r\n\t    ie = 'ActiveXObject' in window,\r\n\r\n\t    webkit    = ua.indexOf('webkit') !== -1,\r\n\t    phantomjs = ua.indexOf('phantom') !== -1,\r\n\t    android23 = ua.search('android [23]') !== -1,\r\n\t    chrome    = ua.indexOf('chrome') !== -1,\r\n\t    gecko     = ua.indexOf('gecko') !== -1  && !webkit && !window.opera && !ie,\r\n\r\n\t    win = navigator.platform.indexOf('Win') === 0,\r\n\r\n\t    mobile = typeof orientation !== 'undefined' || ua.indexOf('mobile') !== -1,\r\n\t    msPointer = !window.PointerEvent && window.MSPointerEvent,\r\n\t    pointer = window.PointerEvent || msPointer,\r\n\r\n\t    ie3d = ie && ('transition' in doc.style),\r\n\t    webkit3d = ('WebKitCSSMatrix' in window) && ('m11' in new window.WebKitCSSMatrix()) && !android23,\r\n\t    gecko3d = 'MozPerspective' in doc.style,\r\n\t    opera12 = 'OTransition' in doc.style;\r\n\r\n\r\n\tvar touch = !window.L_NO_TOUCH && (pointer || 'ontouchstart' in window ||\r\n\t\t\t(window.DocumentTouch && document instanceof window.DocumentTouch));\r\n\r\n\tL.Browser = {\r\n\r\n\t\t// @property ie: Boolean\r\n\t\t// `true` for all Internet Explorer versions (not Edge).\r\n\t\tie: ie,\r\n\r\n\t\t// @property ielt9: Boolean\r\n\t\t// `true` for Internet Explorer versions less than 9.\r\n\t\tielt9: ie && !document.addEventListener,\r\n\r\n\t\t// @property edge: Boolean\r\n\t\t// `true` for the Edge web browser.\r\n\t\tedge: 'msLaunchUri' in navigator && !('documentMode' in document),\r\n\r\n\t\t// @property webkit: Boolean\r\n\t\t// `true` for webkit-based browsers like Chrome and Safari (including mobile versions).\r\n\t\twebkit: webkit,\r\n\r\n\t\t// @property gecko: Boolean\r\n\t\t// `true` for gecko-based browsers like Firefox.\r\n\t\tgecko: gecko,\r\n\r\n\t\t// @property android: Boolean\r\n\t\t// `true` for any browser running on an Android platform.\r\n\t\tandroid: ua.indexOf('android') !== -1,\r\n\r\n\t\t// @property android23: Boolean\r\n\t\t// `true` for browsers running on Android 2 or Android 3.\r\n\t\tandroid23: android23,\r\n\r\n\t\t// @property chrome: Boolean\r\n\t\t// `true` for the Chrome browser.\r\n\t\tchrome: chrome,\r\n\r\n\t\t// @property safari: Boolean\r\n\t\t// `true` for the Safari browser.\r\n\t\tsafari: !chrome && ua.indexOf('safari') !== -1,\r\n\r\n\r\n\t\t// @property win: Boolean\r\n\t\t// `true` when the browser is running in a Windows platform\r\n\t\twin: win,\r\n\r\n\r\n\t\t// @property ie3d: Boolean\r\n\t\t// `true` for all Internet Explorer versions supporting CSS transforms.\r\n\t\tie3d: ie3d,\r\n\r\n\t\t// @property webkit3d: Boolean\r\n\t\t// `true` for webkit-based browsers supporting CSS transforms.\r\n\t\twebkit3d: webkit3d,\r\n\r\n\t\t// @property gecko3d: Boolean\r\n\t\t// `true` for gecko-based browsers supporting CSS transforms.\r\n\t\tgecko3d: gecko3d,\r\n\r\n\t\t// @property opera12: Boolean\r\n\t\t// `true` for the Opera browser supporting CSS transforms (version 12 or later).\r\n\t\topera12: opera12,\r\n\r\n\t\t// @property any3d: Boolean\r\n\t\t// `true` for all browsers supporting CSS transforms.\r\n\t\tany3d: !window.L_DISABLE_3D && (ie3d || webkit3d || gecko3d) && !opera12 && !phantomjs,\r\n\r\n\r\n\t\t// @property mobile: Boolean\r\n\t\t// `true` for all browsers running in a mobile device.\r\n\t\tmobile: mobile,\r\n\r\n\t\t// @property mobileWebkit: Boolean\r\n\t\t// `true` for all webkit-based browsers in a mobile device.\r\n\t\tmobileWebkit: mobile && webkit,\r\n\r\n\t\t// @property mobileWebkit3d: Boolean\r\n\t\t// `true` for all webkit-based browsers in a mobile device supporting CSS transforms.\r\n\t\tmobileWebkit3d: mobile && webkit3d,\r\n\r\n\t\t// @property mobileOpera: Boolean\r\n\t\t// `true` for the Opera browser in a mobile device.\r\n\t\tmobileOpera: mobile && window.opera,\r\n\r\n\t\t// @property mobileGecko: Boolean\r\n\t\t// `true` for gecko-based browsers running in a mobile device.\r\n\t\tmobileGecko: mobile && gecko,\r\n\r\n\r\n\t\t// @property touch: Boolean\r\n\t\t// `true` for all browsers supporting [touch events](https://developer.mozilla.org/docs/Web/API/Touch_events).\r\n\t\ttouch: !!touch,\r\n\r\n\t\t// @property msPointer: Boolean\r\n\t\t// `true` for browsers implementing the Microsoft touch events model (notably IE10).\r\n\t\tmsPointer: !!msPointer,\r\n\r\n\t\t// @property pointer: Boolean\r\n\t\t// `true` for all browsers supporting [pointer events](https://msdn.microsoft.com/en-us/library/dn433244%28v=vs.85%29.aspx).\r\n\t\tpointer: !!pointer,\r\n\r\n\r\n\t\t// @property retina: Boolean\r\n\t\t// `true` for browsers on a high-resolution \"retina\" screen.\r\n\t\tretina: (window.devicePixelRatio || (window.screen.deviceXDPI / window.screen.logicalXDPI)) > 1\r\n\t};\r\n\r\n}());\r\n\n/*\r\n * @class Point\r\n * @aka L.Point\r\n *\r\n * Represents a point with `x` and `y` coordinates in pixels.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var point = L.point(200, 300);\r\n * ```\r\n *\r\n * All Leaflet methods and options that accept `Point` objects also accept them in a simple Array form (unless noted otherwise), so these lines are equivalent:\r\n *\r\n * ```js\r\n * map.panBy([200, 300]);\r\n * map.panBy(L.point(200, 300));\r\n * ```\r\n */\r\n\r\nL.Point = function (x, y, round) {\r\n\tthis.x = (round ? Math.round(x) : x);\r\n\tthis.y = (round ? Math.round(y) : y);\r\n};\r\n\r\nL.Point.prototype = {\r\n\r\n\t// @method clone(): Point\r\n\t// Returns a copy of the current point.\r\n\tclone: function () {\r\n\t\treturn new L.Point(this.x, this.y);\r\n\t},\r\n\r\n\t// @method add(otherPoint: Point): Point\r\n\t// Returns the result of addition of the current and the given points.\r\n\tadd: function (point) {\r\n\t\t// non-destructive, returns a new point\r\n\t\treturn this.clone()._add(L.point(point));\r\n\t},\r\n\r\n\t_add: function (point) {\r\n\t\t// destructive, used directly for performance in situations where it's safe to modify existing point\r\n\t\tthis.x += point.x;\r\n\t\tthis.y += point.y;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method subtract(otherPoint: Point): Point\r\n\t// Returns the result of subtraction of the given point from the current.\r\n\tsubtract: function (point) {\r\n\t\treturn this.clone()._subtract(L.point(point));\r\n\t},\r\n\r\n\t_subtract: function (point) {\r\n\t\tthis.x -= point.x;\r\n\t\tthis.y -= point.y;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method divideBy(num: Number): Point\r\n\t// Returns the result of division of the current point by the given number.\r\n\tdivideBy: function (num) {\r\n\t\treturn this.clone()._divideBy(num);\r\n\t},\r\n\r\n\t_divideBy: function (num) {\r\n\t\tthis.x /= num;\r\n\t\tthis.y /= num;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method multiplyBy(num: Number): Point\r\n\t// Returns the result of multiplication of the current point by the given number.\r\n\tmultiplyBy: function (num) {\r\n\t\treturn this.clone()._multiplyBy(num);\r\n\t},\r\n\r\n\t_multiplyBy: function (num) {\r\n\t\tthis.x *= num;\r\n\t\tthis.y *= num;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method scaleBy(scale: Point): Point\r\n\t// Multiply each coordinate of the current point by each coordinate of\r\n\t// `scale`. In linear algebra terms, multiply the point by the\r\n\t// [scaling matrix](https://en.wikipedia.org/wiki/Scaling_%28geometry%29#Matrix_representation)\r\n\t// defined by `scale`.\r\n\tscaleBy: function (point) {\r\n\t\treturn new L.Point(this.x * point.x, this.y * point.y);\r\n\t},\r\n\r\n\t// @method unscaleBy(scale: Point): Point\r\n\t// Inverse of `scaleBy`. Divide each coordinate of the current point by\r\n\t// each coordinate of `scale`.\r\n\tunscaleBy: function (point) {\r\n\t\treturn new L.Point(this.x / point.x, this.y / point.y);\r\n\t},\r\n\r\n\t// @method round(): Point\r\n\t// Returns a copy of the current point with rounded coordinates.\r\n\tround: function () {\r\n\t\treturn this.clone()._round();\r\n\t},\r\n\r\n\t_round: function () {\r\n\t\tthis.x = Math.round(this.x);\r\n\t\tthis.y = Math.round(this.y);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method floor(): Point\r\n\t// Returns a copy of the current point with floored coordinates (rounded down).\r\n\tfloor: function () {\r\n\t\treturn this.clone()._floor();\r\n\t},\r\n\r\n\t_floor: function () {\r\n\t\tthis.x = Math.floor(this.x);\r\n\t\tthis.y = Math.floor(this.y);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method ceil(): Point\r\n\t// Returns a copy of the current point with ceiled coordinates (rounded up).\r\n\tceil: function () {\r\n\t\treturn this.clone()._ceil();\r\n\t},\r\n\r\n\t_ceil: function () {\r\n\t\tthis.x = Math.ceil(this.x);\r\n\t\tthis.y = Math.ceil(this.y);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method distanceTo(otherPoint: Point): Number\r\n\t// Returns the cartesian distance between the current and the given points.\r\n\tdistanceTo: function (point) {\r\n\t\tpoint = L.point(point);\r\n\r\n\t\tvar x = point.x - this.x,\r\n\t\t    y = point.y - this.y;\r\n\r\n\t\treturn Math.sqrt(x * x + y * y);\r\n\t},\r\n\r\n\t// @method equals(otherPoint: Point): Boolean\r\n\t// Returns `true` if the given point has the same coordinates.\r\n\tequals: function (point) {\r\n\t\tpoint = L.point(point);\r\n\r\n\t\treturn point.x === this.x &&\r\n\t\t       point.y === this.y;\r\n\t},\r\n\r\n\t// @method contains(otherPoint: Point): Boolean\r\n\t// Returns `true` if both coordinates of the given point are less than the corresponding current point coordinates (in absolute values).\r\n\tcontains: function (point) {\r\n\t\tpoint = L.point(point);\r\n\r\n\t\treturn Math.abs(point.x) <= Math.abs(this.x) &&\r\n\t\t       Math.abs(point.y) <= Math.abs(this.y);\r\n\t},\r\n\r\n\t// @method toString(): String\r\n\t// Returns a string representation of the point for debugging purposes.\r\n\ttoString: function () {\r\n\t\treturn 'Point(' +\r\n\t\t        L.Util.formatNum(this.x) + ', ' +\r\n\t\t        L.Util.formatNum(this.y) + ')';\r\n\t}\r\n};\r\n\r\n// @factory L.point(x: Number, y: Number, round?: Boolean)\r\n// Creates a Point object with the given `x` and `y` coordinates. If optional `round` is set to true, rounds the `x` and `y` values.\r\n\r\n// @alternative\r\n// @factory L.point(coords: Number[])\r\n// Expects an array of the form `[x, y]` instead.\r\n\r\n// @alternative\r\n// @factory L.point(coords: Object)\r\n// Expects a plain object of the form `{x: Number, y: Number}` instead.\r\nL.point = function (x, y, round) {\r\n\tif (x instanceof L.Point) {\r\n\t\treturn x;\r\n\t}\r\n\tif (L.Util.isArray(x)) {\r\n\t\treturn new L.Point(x[0], x[1]);\r\n\t}\r\n\tif (x === undefined || x === null) {\r\n\t\treturn x;\r\n\t}\r\n\tif (typeof x === 'object' && 'x' in x && 'y' in x) {\r\n\t\treturn new L.Point(x.x, x.y);\r\n\t}\r\n\treturn new L.Point(x, y, round);\r\n};\r\n\n/*\r\n * @class Bounds\r\n * @aka L.Bounds\r\n *\r\n * Represents a rectangular area in pixel coordinates.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var p1 = L.point(10, 10),\r\n * p2 = L.point(40, 60),\r\n * bounds = L.bounds(p1, p2);\r\n * ```\r\n *\r\n * All Leaflet methods that accept `Bounds` objects also accept them in a simple Array form (unless noted otherwise), so the bounds example above can be passed like this:\r\n *\r\n * ```js\r\n * otherBounds.intersects([[10, 10], [40, 60]]);\r\n * ```\r\n */\r\n\r\nL.Bounds = function (a, b) {\r\n\tif (!a) { return; }\r\n\r\n\tvar points = b ? [a, b] : a;\r\n\r\n\tfor (var i = 0, len = points.length; i < len; i++) {\r\n\t\tthis.extend(points[i]);\r\n\t}\r\n};\r\n\r\nL.Bounds.prototype = {\r\n\t// @method extend(point: Point): this\r\n\t// Extends the bounds to contain the given point.\r\n\textend: function (point) { // (Point)\r\n\t\tpoint = L.point(point);\r\n\r\n\t\t// @property min: Point\r\n\t\t// The top left corner of the rectangle.\r\n\t\t// @property max: Point\r\n\t\t// The bottom right corner of the rectangle.\r\n\t\tif (!this.min && !this.max) {\r\n\t\t\tthis.min = point.clone();\r\n\t\t\tthis.max = point.clone();\r\n\t\t} else {\r\n\t\t\tthis.min.x = Math.min(point.x, this.min.x);\r\n\t\t\tthis.max.x = Math.max(point.x, this.max.x);\r\n\t\t\tthis.min.y = Math.min(point.y, this.min.y);\r\n\t\t\tthis.max.y = Math.max(point.y, this.max.y);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getCenter(round?: Boolean): Point\r\n\t// Returns the center point of the bounds.\r\n\tgetCenter: function (round) {\r\n\t\treturn new L.Point(\r\n\t\t        (this.min.x + this.max.x) / 2,\r\n\t\t        (this.min.y + this.max.y) / 2, round);\r\n\t},\r\n\r\n\t// @method getBottomLeft(): Point\r\n\t// Returns the bottom-left point of the bounds.\r\n\tgetBottomLeft: function () {\r\n\t\treturn new L.Point(this.min.x, this.max.y);\r\n\t},\r\n\r\n\t// @method getTopRight(): Point\r\n\t// Returns the top-right point of the bounds.\r\n\tgetTopRight: function () { // -> Point\r\n\t\treturn new L.Point(this.max.x, this.min.y);\r\n\t},\r\n\r\n\t// @method getSize(): Point\r\n\t// Returns the size of the given bounds\r\n\tgetSize: function () {\r\n\t\treturn this.max.subtract(this.min);\r\n\t},\r\n\r\n\t// @method contains(otherBounds: Bounds): Boolean\r\n\t// Returns `true` if the rectangle contains the given one.\r\n\t// @alternative\r\n\t// @method contains(point: Point): Boolean\r\n\t// Returns `true` if the rectangle contains the given point.\r\n\tcontains: function (obj) {\r\n\t\tvar min, max;\r\n\r\n\t\tif (typeof obj[0] === 'number' || obj instanceof L.Point) {\r\n\t\t\tobj = L.point(obj);\r\n\t\t} else {\r\n\t\t\tobj = L.bounds(obj);\r\n\t\t}\r\n\r\n\t\tif (obj instanceof L.Bounds) {\r\n\t\t\tmin = obj.min;\r\n\t\t\tmax = obj.max;\r\n\t\t} else {\r\n\t\t\tmin = max = obj;\r\n\t\t}\r\n\r\n\t\treturn (min.x >= this.min.x) &&\r\n\t\t       (max.x <= this.max.x) &&\r\n\t\t       (min.y >= this.min.y) &&\r\n\t\t       (max.y <= this.max.y);\r\n\t},\r\n\r\n\t// @method intersects(otherBounds: Bounds): Boolean\r\n\t// Returns `true` if the rectangle intersects the given bounds. Two bounds\r\n\t// intersect if they have at least one point in common.\r\n\tintersects: function (bounds) { // (Bounds) -> Boolean\r\n\t\tbounds = L.bounds(bounds);\r\n\r\n\t\tvar min = this.min,\r\n\t\t    max = this.max,\r\n\t\t    min2 = bounds.min,\r\n\t\t    max2 = bounds.max,\r\n\t\t    xIntersects = (max2.x >= min.x) && (min2.x <= max.x),\r\n\t\t    yIntersects = (max2.y >= min.y) && (min2.y <= max.y);\r\n\r\n\t\treturn xIntersects && yIntersects;\r\n\t},\r\n\r\n\t// @method overlaps(otherBounds: Bounds): Boolean\r\n\t// Returns `true` if the rectangle overlaps the given bounds. Two bounds\r\n\t// overlap if their intersection is an area.\r\n\toverlaps: function (bounds) { // (Bounds) -> Boolean\r\n\t\tbounds = L.bounds(bounds);\r\n\r\n\t\tvar min = this.min,\r\n\t\t    max = this.max,\r\n\t\t    min2 = bounds.min,\r\n\t\t    max2 = bounds.max,\r\n\t\t    xOverlaps = (max2.x > min.x) && (min2.x < max.x),\r\n\t\t    yOverlaps = (max2.y > min.y) && (min2.y < max.y);\r\n\r\n\t\treturn xOverlaps && yOverlaps;\r\n\t},\r\n\r\n\tisValid: function () {\r\n\t\treturn !!(this.min && this.max);\r\n\t}\r\n};\r\n\r\n\r\n// @factory L.bounds(topLeft: Point, bottomRight: Point)\r\n// Creates a Bounds object from two coordinates (usually top-left and bottom-right corners).\r\n// @alternative\r\n// @factory L.bounds(points: Point[])\r\n// Creates a Bounds object from the points it contains\r\nL.bounds = function (a, b) {\r\n\tif (!a || a instanceof L.Bounds) {\r\n\t\treturn a;\r\n\t}\r\n\treturn new L.Bounds(a, b);\r\n};\r\n\n/*\r\n * @class Transformation\r\n * @aka L.Transformation\r\n *\r\n * Represents an affine transformation: a set of coefficients `a`, `b`, `c`, `d`\r\n * for transforming a point of a form `(x, y)` into `(a*x + b, c*y + d)` and doing\r\n * the reverse. Used by Leaflet in its projections code.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var transformation = new L.Transformation(2, 5, -1, 10),\r\n * \tp = L.point(1, 2),\r\n * \tp2 = transformation.transform(p), //  L.point(7, 8)\r\n * \tp3 = transformation.untransform(p2); //  L.point(1, 2)\r\n * ```\r\n */\r\n\r\n\r\n// factory new L.Transformation(a: Number, b: Number, c: Number, d: Number)\r\n// Creates a `Transformation` object with the given coefficients.\r\nL.Transformation = function (a, b, c, d) {\r\n\tthis._a = a;\r\n\tthis._b = b;\r\n\tthis._c = c;\r\n\tthis._d = d;\r\n};\r\n\r\nL.Transformation.prototype = {\r\n\t// @method transform(point: Point, scale?: Number): Point\r\n\t// Returns a transformed point, optionally multiplied by the given scale.\r\n\t// Only accepts real `L.Point` instances, not arrays.\r\n\ttransform: function (point, scale) { // (Point, Number) -> Point\r\n\t\treturn this._transform(point.clone(), scale);\r\n\t},\r\n\r\n\t// destructive transform (faster)\r\n\t_transform: function (point, scale) {\r\n\t\tscale = scale || 1;\r\n\t\tpoint.x = scale * (this._a * point.x + this._b);\r\n\t\tpoint.y = scale * (this._c * point.y + this._d);\r\n\t\treturn point;\r\n\t},\r\n\r\n\t// @method untransform(point: Point, scale?: Number): Point\r\n\t// Returns the reverse transformation of the given point, optionally divided\r\n\t// by the given scale. Only accepts real `L.Point` instances, not arrays.\r\n\tuntransform: function (point, scale) {\r\n\t\tscale = scale || 1;\r\n\t\treturn new L.Point(\r\n\t\t        (point.x / scale - this._b) / this._a,\r\n\t\t        (point.y / scale - this._d) / this._c);\r\n\t}\r\n};\r\n\n/*\r\n * @namespace DomUtil\r\n *\r\n * Utility functions to work with the [DOM](https://developer.mozilla.org/docs/Web/API/Document_Object_Model)\r\n * tree, used by Leaflet internally.\r\n *\r\n * Most functions expecting or returning a `HTMLElement` also work for\r\n * SVG elements. The only difference is that classes refer to CSS classes\r\n * in HTML and SVG classes in SVG.\r\n */\r\n\r\nL.DomUtil = {\r\n\r\n\t// @function get(id: String|HTMLElement): HTMLElement\r\n\t// Returns an element given its DOM id, or returns the element itself\r\n\t// if it was passed directly.\r\n\tget: function (id) {\r\n\t\treturn typeof id === 'string' ? document.getElementById(id) : id;\r\n\t},\r\n\r\n\t// @function getStyle(el: HTMLElement, styleAttrib: String): String\r\n\t// Returns the value for a certain style attribute on an element,\r\n\t// including computed values or values set through CSS.\r\n\tgetStyle: function (el, style) {\r\n\r\n\t\tvar value = el.style[style] || (el.currentStyle && el.currentStyle[style]);\r\n\r\n\t\tif ((!value || value === 'auto') && document.defaultView) {\r\n\t\t\tvar css = document.defaultView.getComputedStyle(el, null);\r\n\t\t\tvalue = css ? css[style] : null;\r\n\t\t}\r\n\r\n\t\treturn value === 'auto' ? null : value;\r\n\t},\r\n\r\n\t// @function create(tagName: String, className?: String, container?: HTMLElement): HTMLElement\r\n\t// Creates an HTML element with `tagName`, sets its class to `className`, and optionally appends it to `container` element.\r\n\tcreate: function (tagName, className, container) {\r\n\r\n\t\tvar el = document.createElement(tagName);\r\n\t\tel.className = className || '';\r\n\r\n\t\tif (container) {\r\n\t\t\tcontainer.appendChild(el);\r\n\t\t}\r\n\r\n\t\treturn el;\r\n\t},\r\n\r\n\t// @function remove(el: HTMLElement)\r\n\t// Removes `el` from its parent element\r\n\tremove: function (el) {\r\n\t\tvar parent = el.parentNode;\r\n\t\tif (parent) {\r\n\t\t\tparent.removeChild(el);\r\n\t\t}\r\n\t},\r\n\r\n\t// @function empty(el: HTMLElement)\r\n\t// Removes all of `el`'s children elements from `el`\r\n\tempty: function (el) {\r\n\t\twhile (el.firstChild) {\r\n\t\t\tel.removeChild(el.firstChild);\r\n\t\t}\r\n\t},\r\n\r\n\t// @function toFront(el: HTMLElement)\r\n\t// Makes `el` the last children of its parent, so it renders in front of the other children.\r\n\ttoFront: function (el) {\r\n\t\tel.parentNode.appendChild(el);\r\n\t},\r\n\r\n\t// @function toBack(el: HTMLElement)\r\n\t// Makes `el` the first children of its parent, so it renders back from the other children.\r\n\ttoBack: function (el) {\r\n\t\tvar parent = el.parentNode;\r\n\t\tparent.insertBefore(el, parent.firstChild);\r\n\t},\r\n\r\n\t// @function hasClass(el: HTMLElement, name: String): Boolean\r\n\t// Returns `true` if the element's class attribute contains `name`.\r\n\thasClass: function (el, name) {\r\n\t\tif (el.classList !== undefined) {\r\n\t\t\treturn el.classList.contains(name);\r\n\t\t}\r\n\t\tvar className = L.DomUtil.getClass(el);\r\n\t\treturn className.length > 0 && new RegExp('(^|\\\\s)' + name + '(\\\\s|$)').test(className);\r\n\t},\r\n\r\n\t// @function addClass(el: HTMLElement, name: String)\r\n\t// Adds `name` to the element's class attribute.\r\n\taddClass: function (el, name) {\r\n\t\tif (el.classList !== undefined) {\r\n\t\t\tvar classes = L.Util.splitWords(name);\r\n\t\t\tfor (var i = 0, len = classes.length; i < len; i++) {\r\n\t\t\t\tel.classList.add(classes[i]);\r\n\t\t\t}\r\n\t\t} else if (!L.DomUtil.hasClass(el, name)) {\r\n\t\t\tvar className = L.DomUtil.getClass(el);\r\n\t\t\tL.DomUtil.setClass(el, (className ? className + ' ' : '') + name);\r\n\t\t}\r\n\t},\r\n\r\n\t// @function removeClass(el: HTMLElement, name: String)\r\n\t// Removes `name` from the element's class attribute.\r\n\tremoveClass: function (el, name) {\r\n\t\tif (el.classList !== undefined) {\r\n\t\t\tel.classList.remove(name);\r\n\t\t} else {\r\n\t\t\tL.DomUtil.setClass(el, L.Util.trim((' ' + L.DomUtil.getClass(el) + ' ').replace(' ' + name + ' ', ' ')));\r\n\t\t}\r\n\t},\r\n\r\n\t// @function setClass(el: HTMLElement, name: String)\r\n\t// Sets the element's class.\r\n\tsetClass: function (el, name) {\r\n\t\tif (el.className.baseVal === undefined) {\r\n\t\t\tel.className = name;\r\n\t\t} else {\r\n\t\t\t// in case of SVG element\r\n\t\t\tel.className.baseVal = name;\r\n\t\t}\r\n\t},\r\n\r\n\t// @function getClass(el: HTMLElement): String\r\n\t// Returns the element's class.\r\n\tgetClass: function (el) {\r\n\t\treturn el.className.baseVal === undefined ? el.className : el.className.baseVal;\r\n\t},\r\n\r\n\t// @function setOpacity(el: HTMLElement, opacity: Number)\r\n\t// Set the opacity of an element (including old IE support).\r\n\t// `opacity` must be a number from `0` to `1`.\r\n\tsetOpacity: function (el, value) {\r\n\r\n\t\tif ('opacity' in el.style) {\r\n\t\t\tel.style.opacity = value;\r\n\r\n\t\t} else if ('filter' in el.style) {\r\n\t\t\tL.DomUtil._setOpacityIE(el, value);\r\n\t\t}\r\n\t},\r\n\r\n\t_setOpacityIE: function (el, value) {\r\n\t\tvar filter = false,\r\n\t\t    filterName = 'DXImageTransform.Microsoft.Alpha';\r\n\r\n\t\t// filters collection throws an error if we try to retrieve a filter that doesn't exist\r\n\t\ttry {\r\n\t\t\tfilter = el.filters.item(filterName);\r\n\t\t} catch (e) {\r\n\t\t\t// don't set opacity to 1 if we haven't already set an opacity,\r\n\t\t\t// it isn't needed and breaks transparent pngs.\r\n\t\t\tif (value === 1) { return; }\r\n\t\t}\r\n\r\n\t\tvalue = Math.round(value * 100);\r\n\r\n\t\tif (filter) {\r\n\t\t\tfilter.Enabled = (value !== 100);\r\n\t\t\tfilter.Opacity = value;\r\n\t\t} else {\r\n\t\t\tel.style.filter += ' progid:' + filterName + '(opacity=' + value + ')';\r\n\t\t}\r\n\t},\r\n\r\n\t// @function testProp(props: String[]): String|false\r\n\t// Goes through the array of style names and returns the first name\r\n\t// that is a valid style name for an element. If no such name is found,\r\n\t// it returns false. Useful for vendor-prefixed styles like `transform`.\r\n\ttestProp: function (props) {\r\n\r\n\t\tvar style = document.documentElement.style;\r\n\r\n\t\tfor (var i = 0; i < props.length; i++) {\r\n\t\t\tif (props[i] in style) {\r\n\t\t\t\treturn props[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\t// @function setTransform(el: HTMLElement, offset: Point, scale?: Number)\r\n\t// Resets the 3D CSS transform of `el` so it is translated by `offset` pixels\r\n\t// and optionally scaled by `scale`. Does not have an effect if the\r\n\t// browser doesn't support 3D CSS transforms.\r\n\tsetTransform: function (el, offset, scale) {\r\n\t\tvar pos = offset || new L.Point(0, 0);\r\n\r\n\t\tel.style[L.DomUtil.TRANSFORM] =\r\n\t\t\t(L.Browser.ie3d ?\r\n\t\t\t\t'translate(' + pos.x + 'px,' + pos.y + 'px)' :\r\n\t\t\t\t'translate3d(' + pos.x + 'px,' + pos.y + 'px,0)') +\r\n\t\t\t(scale ? ' scale(' + scale + ')' : '');\r\n\t},\r\n\r\n\t// @function setPosition(el: HTMLElement, position: Point)\r\n\t// Sets the position of `el` to coordinates specified by `position`,\r\n\t// using CSS translate or top/left positioning depending on the browser\r\n\t// (used by Leaflet internally to position its layers).\r\n\tsetPosition: function (el, point) { // (HTMLElement, Point[, Boolean])\r\n\r\n\t\t/*eslint-disable */\r\n\t\tel._leaflet_pos = point;\r\n\t\t/*eslint-enable */\r\n\r\n\t\tif (L.Browser.any3d) {\r\n\t\t\tL.DomUtil.setTransform(el, point);\r\n\t\t} else {\r\n\t\t\tel.style.left = point.x + 'px';\r\n\t\t\tel.style.top = point.y + 'px';\r\n\t\t}\r\n\t},\r\n\r\n\t// @function getPosition(el: HTMLElement): Point\r\n\t// Returns the coordinates of an element previously positioned with setPosition.\r\n\tgetPosition: function (el) {\r\n\t\t// this method is only used for elements previously positioned using setPosition,\r\n\t\t// so it's safe to cache the position for performance\r\n\r\n\t\treturn el._leaflet_pos || new L.Point(0, 0);\r\n\t}\r\n};\r\n\r\n\r\n(function () {\r\n\t// prefix style property names\r\n\r\n\t// @property TRANSFORM: String\r\n\t// Vendor-prefixed fransform style name (e.g. `'webkitTransform'` for WebKit).\r\n\tL.DomUtil.TRANSFORM = L.DomUtil.testProp(\r\n\t\t\t['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform']);\r\n\r\n\r\n\t// webkitTransition comes first because some browser versions that drop vendor prefix don't do\r\n\t// the same for the transitionend event, in particular the Android 4.1 stock browser\r\n\r\n\t// @property TRANSITION: String\r\n\t// Vendor-prefixed transform style name.\r\n\tvar transition = L.DomUtil.TRANSITION = L.DomUtil.testProp(\r\n\t\t\t['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition']);\r\n\r\n\tL.DomUtil.TRANSITION_END =\r\n\t\t\ttransition === 'webkitTransition' || transition === 'OTransition' ? transition + 'End' : 'transitionend';\r\n\r\n\t// @function disableTextSelection()\r\n\t// Prevents the user from generating `selectstart` DOM events, usually generated\r\n\t// when the user drags the mouse through a page with text. Used internally\r\n\t// by Leaflet to override the behaviour of any click-and-drag interaction on\r\n\t// the map. Affects drag interactions on the whole document.\r\n\r\n\t// @function enableTextSelection()\r\n\t// Cancels the effects of a previous [`L.DomUtil.disableTextSelection`](#domutil-disabletextselection).\r\n\tif ('onselectstart' in document) {\r\n\t\tL.DomUtil.disableTextSelection = function () {\r\n\t\t\tL.DomEvent.on(window, 'selectstart', L.DomEvent.preventDefault);\r\n\t\t};\r\n\t\tL.DomUtil.enableTextSelection = function () {\r\n\t\t\tL.DomEvent.off(window, 'selectstart', L.DomEvent.preventDefault);\r\n\t\t};\r\n\r\n\t} else {\r\n\t\tvar userSelectProperty = L.DomUtil.testProp(\r\n\t\t\t['userSelect', 'WebkitUserSelect', 'OUserSelect', 'MozUserSelect', 'msUserSelect']);\r\n\r\n\t\tL.DomUtil.disableTextSelection = function () {\r\n\t\t\tif (userSelectProperty) {\r\n\t\t\t\tvar style = document.documentElement.style;\r\n\t\t\t\tthis._userSelect = style[userSelectProperty];\r\n\t\t\t\tstyle[userSelectProperty] = 'none';\r\n\t\t\t}\r\n\t\t};\r\n\t\tL.DomUtil.enableTextSelection = function () {\r\n\t\t\tif (userSelectProperty) {\r\n\t\t\t\tdocument.documentElement.style[userSelectProperty] = this._userSelect;\r\n\t\t\t\tdelete this._userSelect;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t// @function disableImageDrag()\r\n\t// As [`L.DomUtil.disableTextSelection`](#domutil-disabletextselection), but\r\n\t// for `dragstart` DOM events, usually generated when the user drags an image.\r\n\tL.DomUtil.disableImageDrag = function () {\r\n\t\tL.DomEvent.on(window, 'dragstart', L.DomEvent.preventDefault);\r\n\t};\r\n\r\n\t// @function enableImageDrag()\r\n\t// Cancels the effects of a previous [`L.DomUtil.disableImageDrag`](#domutil-disabletextselection).\r\n\tL.DomUtil.enableImageDrag = function () {\r\n\t\tL.DomEvent.off(window, 'dragstart', L.DomEvent.preventDefault);\r\n\t};\r\n\r\n\t// @function preventOutline(el: HTMLElement)\r\n\t// Makes the [outline](https://developer.mozilla.org/docs/Web/CSS/outline)\r\n\t// of the element `el` invisible. Used internally by Leaflet to prevent\r\n\t// focusable elements from displaying an outline when the user performs a\r\n\t// drag interaction on them.\r\n\tL.DomUtil.preventOutline = function (element) {\r\n\t\twhile (element.tabIndex === -1) {\r\n\t\t\telement = element.parentNode;\r\n\t\t}\r\n\t\tif (!element || !element.style) { return; }\r\n\t\tL.DomUtil.restoreOutline();\r\n\t\tthis._outlineElement = element;\r\n\t\tthis._outlineStyle = element.style.outline;\r\n\t\telement.style.outline = 'none';\r\n\t\tL.DomEvent.on(window, 'keydown', L.DomUtil.restoreOutline, this);\r\n\t};\r\n\r\n\t// @function restoreOutline()\r\n\t// Cancels the effects of a previous [`L.DomUtil.preventOutline`]().\r\n\tL.DomUtil.restoreOutline = function () {\r\n\t\tif (!this._outlineElement) { return; }\r\n\t\tthis._outlineElement.style.outline = this._outlineStyle;\r\n\t\tdelete this._outlineElement;\r\n\t\tdelete this._outlineStyle;\r\n\t\tL.DomEvent.off(window, 'keydown', L.DomUtil.restoreOutline, this);\r\n\t};\r\n})();\r\n\n/* @class LatLng\r\n * @aka L.LatLng\r\n *\r\n * Represents a geographical point with a certain latitude and longitude.\r\n *\r\n * @example\r\n *\r\n * ```\r\n * var latlng = L.latLng(50.5, 30.5);\r\n * ```\r\n *\r\n * All Leaflet methods that accept LatLng objects also accept them in a simple Array form and simple object form (unless noted otherwise), so these lines are equivalent:\r\n *\r\n * ```\r\n * map.panTo([50, 30]);\r\n * map.panTo({lon: 30, lat: 50});\r\n * map.panTo({lat: 50, lng: 30});\r\n * map.panTo(L.latLng(50, 30));\r\n * ```\r\n */\r\n\r\nL.LatLng = function (lat, lng, alt) {\r\n\tif (isNaN(lat) || isNaN(lng)) {\r\n\t\tthrow new Error('Invalid LatLng object: (' + lat + ', ' + lng + ')');\r\n\t}\r\n\r\n\t// @property lat: Number\r\n\t// Latitude in degrees\r\n\tthis.lat = +lat;\r\n\r\n\t// @property lng: Number\r\n\t// Longitude in degrees\r\n\tthis.lng = +lng;\r\n\r\n\t// @property alt: Number\r\n\t// Altitude in meters (optional)\r\n\tif (alt !== undefined) {\r\n\t\tthis.alt = +alt;\r\n\t}\r\n};\r\n\r\nL.LatLng.prototype = {\r\n\t// @method equals(otherLatLng: LatLng, maxMargin?: Number): Boolean\r\n\t// Returns `true` if the given `LatLng` point is at the same position (within a small margin of error). The margin of error can be overriden by setting `maxMargin` to a small number.\r\n\tequals: function (obj, maxMargin) {\r\n\t\tif (!obj) { return false; }\r\n\r\n\t\tobj = L.latLng(obj);\r\n\r\n\t\tvar margin = Math.max(\r\n\t\t        Math.abs(this.lat - obj.lat),\r\n\t\t        Math.abs(this.lng - obj.lng));\r\n\r\n\t\treturn margin <= (maxMargin === undefined ? 1.0E-9 : maxMargin);\r\n\t},\r\n\r\n\t// @method toString(): String\r\n\t// Returns a string representation of the point (for debugging purposes).\r\n\ttoString: function (precision) {\r\n\t\treturn 'LatLng(' +\r\n\t\t        L.Util.formatNum(this.lat, precision) + ', ' +\r\n\t\t        L.Util.formatNum(this.lng, precision) + ')';\r\n\t},\r\n\r\n\t// @method distanceTo(otherLatLng: LatLng): Number\r\n\t// Returns the distance (in meters) to the given `LatLng` calculated using the [Haversine formula](http://en.wikipedia.org/wiki/Haversine_formula).\r\n\tdistanceTo: function (other) {\r\n\t\treturn L.CRS.Earth.distance(this, L.latLng(other));\r\n\t},\r\n\r\n\t// @method wrap(): LatLng\r\n\t// Returns a new `LatLng` object with the longitude wrapped so it's always between -180 and +180 degrees.\r\n\twrap: function () {\r\n\t\treturn L.CRS.Earth.wrapLatLng(this);\r\n\t},\r\n\r\n\t// @method toBounds(sizeInMeters: Number): LatLngBounds\r\n\t// Returns a new `LatLngBounds` object in which each boundary is `sizeInMeters` meters apart from the `LatLng`.\r\n\ttoBounds: function (sizeInMeters) {\r\n\t\tvar latAccuracy = 180 * sizeInMeters / 40075017,\r\n\t\t    lngAccuracy = latAccuracy / Math.cos((Math.PI / 180) * this.lat);\r\n\r\n\t\treturn L.latLngBounds(\r\n\t\t        [this.lat - latAccuracy, this.lng - lngAccuracy],\r\n\t\t        [this.lat + latAccuracy, this.lng + lngAccuracy]);\r\n\t},\r\n\r\n\tclone: function () {\r\n\t\treturn new L.LatLng(this.lat, this.lng, this.alt);\r\n\t}\r\n};\r\n\r\n\r\n\r\n// @factory L.latLng(latitude: Number, longitude: Number, altitude?: Number): LatLng\r\n// Creates an object representing a geographical point with the given latitude and longitude (and optionally altitude).\r\n\r\n// @alternative\r\n// @factory L.latLng(coords: Array): LatLng\r\n// Expects an array of the form `[Number, Number]` or `[Number, Number, Number]` instead.\r\n\r\n// @alternative\r\n// @factory L.latLng(coords: Object): LatLng\r\n// Expects an plain object of the form `{lat: Number, lng: Number}` or `{lat: Number, lng: Number, alt: Number}` instead.\r\n\r\nL.latLng = function (a, b, c) {\r\n\tif (a instanceof L.LatLng) {\r\n\t\treturn a;\r\n\t}\r\n\tif (L.Util.isArray(a) && typeof a[0] !== 'object') {\r\n\t\tif (a.length === 3) {\r\n\t\t\treturn new L.LatLng(a[0], a[1], a[2]);\r\n\t\t}\r\n\t\tif (a.length === 2) {\r\n\t\t\treturn new L.LatLng(a[0], a[1]);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\tif (a === undefined || a === null) {\r\n\t\treturn a;\r\n\t}\r\n\tif (typeof a === 'object' && 'lat' in a) {\r\n\t\treturn new L.LatLng(a.lat, 'lng' in a ? a.lng : a.lon, a.alt);\r\n\t}\r\n\tif (b === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\treturn new L.LatLng(a, b, c);\r\n};\r\n\n/*\r\n * @class LatLngBounds\r\n * @aka L.LatLngBounds\r\n *\r\n * Represents a rectangular geographical area on a map.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var southWest = L.latLng(40.712, -74.227),\r\n * northEast = L.latLng(40.774, -74.125),\r\n * bounds = L.latLngBounds(southWest, northEast);\r\n * ```\r\n *\r\n * All Leaflet methods that accept LatLngBounds objects also accept them in a simple Array form (unless noted otherwise), so the bounds example above can be passed like this:\r\n *\r\n * ```js\r\n * map.fitBounds([\r\n * \t[40.712, -74.227],\r\n * \t[40.774, -74.125]\r\n * ]);\r\n * ```\r\n */\r\n\r\nL.LatLngBounds = function (southWest, northEast) { // (LatLng, LatLng) or (LatLng[])\r\n\tif (!southWest) { return; }\r\n\r\n\tvar latlngs = northEast ? [southWest, northEast] : southWest;\r\n\r\n\tfor (var i = 0, len = latlngs.length; i < len; i++) {\r\n\t\tthis.extend(latlngs[i]);\r\n\t}\r\n};\r\n\r\nL.LatLngBounds.prototype = {\r\n\r\n\t// @method extend(latlng: LatLng): this\r\n\t// Extend the bounds to contain the given point\r\n\r\n\t// @alternative\r\n\t// @method extend(otherBounds: LatLngBounds): this\r\n\t// Extend the bounds to contain the given bounds\r\n\textend: function (obj) {\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    sw2, ne2;\r\n\r\n\t\tif (obj instanceof L.LatLng) {\r\n\t\t\tsw2 = obj;\r\n\t\t\tne2 = obj;\r\n\r\n\t\t} else if (obj instanceof L.LatLngBounds) {\r\n\t\t\tsw2 = obj._southWest;\r\n\t\t\tne2 = obj._northEast;\r\n\r\n\t\t\tif (!sw2 || !ne2) { return this; }\r\n\r\n\t\t} else {\r\n\t\t\treturn obj ? this.extend(L.latLng(obj) || L.latLngBounds(obj)) : this;\r\n\t\t}\r\n\r\n\t\tif (!sw && !ne) {\r\n\t\t\tthis._southWest = new L.LatLng(sw2.lat, sw2.lng);\r\n\t\t\tthis._northEast = new L.LatLng(ne2.lat, ne2.lng);\r\n\t\t} else {\r\n\t\t\tsw.lat = Math.min(sw2.lat, sw.lat);\r\n\t\t\tsw.lng = Math.min(sw2.lng, sw.lng);\r\n\t\t\tne.lat = Math.max(ne2.lat, ne.lat);\r\n\t\t\tne.lng = Math.max(ne2.lng, ne.lng);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method pad(bufferRatio: Number): LatLngBounds\r\n\t// Returns bigger bounds created by extending the current bounds by a given percentage in each direction.\r\n\tpad: function (bufferRatio) {\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    heightBuffer = Math.abs(sw.lat - ne.lat) * bufferRatio,\r\n\t\t    widthBuffer = Math.abs(sw.lng - ne.lng) * bufferRatio;\r\n\r\n\t\treturn new L.LatLngBounds(\r\n\t\t        new L.LatLng(sw.lat - heightBuffer, sw.lng - widthBuffer),\r\n\t\t        new L.LatLng(ne.lat + heightBuffer, ne.lng + widthBuffer));\r\n\t},\r\n\r\n\t// @method getCenter(): LatLng\r\n\t// Returns the center point of the bounds.\r\n\tgetCenter: function () {\r\n\t\treturn new L.LatLng(\r\n\t\t        (this._southWest.lat + this._northEast.lat) / 2,\r\n\t\t        (this._southWest.lng + this._northEast.lng) / 2);\r\n\t},\r\n\r\n\t// @method getSouthWest(): LatLng\r\n\t// Returns the south-west point of the bounds.\r\n\tgetSouthWest: function () {\r\n\t\treturn this._southWest;\r\n\t},\r\n\r\n\t// @method getNorthEast(): LatLng\r\n\t// Returns the north-east point of the bounds.\r\n\tgetNorthEast: function () {\r\n\t\treturn this._northEast;\r\n\t},\r\n\r\n\t// @method getNorthWest(): LatLng\r\n\t// Returns the north-west point of the bounds.\r\n\tgetNorthWest: function () {\r\n\t\treturn new L.LatLng(this.getNorth(), this.getWest());\r\n\t},\r\n\r\n\t// @method getSouthEast(): LatLng\r\n\t// Returns the south-east point of the bounds.\r\n\tgetSouthEast: function () {\r\n\t\treturn new L.LatLng(this.getSouth(), this.getEast());\r\n\t},\r\n\r\n\t// @method getWest(): Number\r\n\t// Returns the west longitude of the bounds\r\n\tgetWest: function () {\r\n\t\treturn this._southWest.lng;\r\n\t},\r\n\r\n\t// @method getSouth(): Number\r\n\t// Returns the south latitude of the bounds\r\n\tgetSouth: function () {\r\n\t\treturn this._southWest.lat;\r\n\t},\r\n\r\n\t// @method getEast(): Number\r\n\t// Returns the east longitude of the bounds\r\n\tgetEast: function () {\r\n\t\treturn this._northEast.lng;\r\n\t},\r\n\r\n\t// @method getNorth(): Number\r\n\t// Returns the north latitude of the bounds\r\n\tgetNorth: function () {\r\n\t\treturn this._northEast.lat;\r\n\t},\r\n\r\n\t// @method contains(otherBounds: LatLngBounds): Boolean\r\n\t// Returns `true` if the rectangle contains the given one.\r\n\r\n\t// @alternative\r\n\t// @method contains (latlng: LatLng): Boolean\r\n\t// Returns `true` if the rectangle contains the given point.\r\n\tcontains: function (obj) { // (LatLngBounds) or (LatLng) -> Boolean\r\n\t\tif (typeof obj[0] === 'number' || obj instanceof L.LatLng) {\r\n\t\t\tobj = L.latLng(obj);\r\n\t\t} else {\r\n\t\t\tobj = L.latLngBounds(obj);\r\n\t\t}\r\n\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    sw2, ne2;\r\n\r\n\t\tif (obj instanceof L.LatLngBounds) {\r\n\t\t\tsw2 = obj.getSouthWest();\r\n\t\t\tne2 = obj.getNorthEast();\r\n\t\t} else {\r\n\t\t\tsw2 = ne2 = obj;\r\n\t\t}\r\n\r\n\t\treturn (sw2.lat >= sw.lat) && (ne2.lat <= ne.lat) &&\r\n\t\t       (sw2.lng >= sw.lng) && (ne2.lng <= ne.lng);\r\n\t},\r\n\r\n\t// @method intersects(otherBounds: LatLngBounds): Boolean\r\n\t// Returns `true` if the rectangle intersects the given bounds. Two bounds intersect if they have at least one point in common.\r\n\tintersects: function (bounds) {\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    sw2 = bounds.getSouthWest(),\r\n\t\t    ne2 = bounds.getNorthEast(),\r\n\r\n\t\t    latIntersects = (ne2.lat >= sw.lat) && (sw2.lat <= ne.lat),\r\n\t\t    lngIntersects = (ne2.lng >= sw.lng) && (sw2.lng <= ne.lng);\r\n\r\n\t\treturn latIntersects && lngIntersects;\r\n\t},\r\n\r\n\t// @method overlaps(otherBounds: Bounds): Boolean\r\n\t// Returns `true` if the rectangle overlaps the given bounds. Two bounds overlap if their intersection is an area.\r\n\toverlaps: function (bounds) {\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\r\n\t\tvar sw = this._southWest,\r\n\t\t    ne = this._northEast,\r\n\t\t    sw2 = bounds.getSouthWest(),\r\n\t\t    ne2 = bounds.getNorthEast(),\r\n\r\n\t\t    latOverlaps = (ne2.lat > sw.lat) && (sw2.lat < ne.lat),\r\n\t\t    lngOverlaps = (ne2.lng > sw.lng) && (sw2.lng < ne.lng);\r\n\r\n\t\treturn latOverlaps && lngOverlaps;\r\n\t},\r\n\r\n\t// @method toBBoxString(): String\r\n\t// Returns a string with bounding box coordinates in a 'southwest_lng,southwest_lat,northeast_lng,northeast_lat' format. Useful for sending requests to web services that return geo data.\r\n\ttoBBoxString: function () {\r\n\t\treturn [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(',');\r\n\t},\r\n\r\n\t// @method equals(otherBounds: LatLngBounds): Boolean\r\n\t// Returns `true` if the rectangle is equivalent (within a small margin of error) to the given bounds.\r\n\tequals: function (bounds) {\r\n\t\tif (!bounds) { return false; }\r\n\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\r\n\t\treturn this._southWest.equals(bounds.getSouthWest()) &&\r\n\t\t       this._northEast.equals(bounds.getNorthEast());\r\n\t},\r\n\r\n\t// @method isValid(): Boolean\r\n\t// Returns `true` if the bounds are properly initialized.\r\n\tisValid: function () {\r\n\t\treturn !!(this._southWest && this._northEast);\r\n\t}\r\n};\r\n\r\n// TODO International date line?\r\n\r\n// @factory L.latLngBounds(southWest: LatLng, northEast: LatLng)\r\n// Creates a `LatLngBounds` object by defining south-west and north-east corners of the rectangle.\r\n\r\n// @alternative\r\n// @factory L.latLngBounds(latlngs: LatLng[])\r\n// Creates a `LatLngBounds` object defined by the geographical points it contains. Very useful for zooming the map to fit a particular set of locations with [`fitBounds`](#map-fitbounds).\r\nL.latLngBounds = function (a, b) {\r\n\tif (a instanceof L.LatLngBounds) {\r\n\t\treturn a;\r\n\t}\r\n\treturn new L.LatLngBounds(a, b);\r\n};\r\n\n/*\r\n * @namespace Projection\r\n * @section\r\n * Leaflet comes with a set of already defined Projections out of the box:\r\n *\r\n * @projection L.Projection.LonLat\r\n *\r\n * Equirectangular, or Plate Carree projection — the most simple projection,\r\n * mostly used by GIS enthusiasts. Directly maps `x` as longitude, and `y` as\r\n * latitude. Also suitable for flat worlds, e.g. game maps. Used by the\r\n * `EPSG:3395` and `Simple` CRS.\r\n */\r\n\r\nL.Projection = {};\r\n\r\nL.Projection.LonLat = {\r\n\tproject: function (latlng) {\r\n\t\treturn new L.Point(latlng.lng, latlng.lat);\r\n\t},\r\n\r\n\tunproject: function (point) {\r\n\t\treturn new L.LatLng(point.y, point.x);\r\n\t},\r\n\r\n\tbounds: L.bounds([-180, -90], [180, 90])\r\n};\r\n\n/*\r\n * @namespace Projection\r\n * @projection L.Projection.SphericalMercator\r\n *\r\n * Spherical Mercator projection — the most common projection for online maps,\r\n * used by almost all free and commercial tile providers. Assumes that Earth is\r\n * a sphere. Used by the `EPSG:3857` CRS.\r\n */\r\n\r\nL.Projection.SphericalMercator = {\r\n\r\n\tR: 6378137,\r\n\tMAX_LATITUDE: 85.0511287798,\r\n\r\n\tproject: function (latlng) {\r\n\t\tvar d = Math.PI / 180,\r\n\t\t    max = this.MAX_LATITUDE,\r\n\t\t    lat = Math.max(Math.min(max, latlng.lat), -max),\r\n\t\t    sin = Math.sin(lat * d);\r\n\r\n\t\treturn new L.Point(\r\n\t\t\t\tthis.R * latlng.lng * d,\r\n\t\t\t\tthis.R * Math.log((1 + sin) / (1 - sin)) / 2);\r\n\t},\r\n\r\n\tunproject: function (point) {\r\n\t\tvar d = 180 / Math.PI;\r\n\r\n\t\treturn new L.LatLng(\r\n\t\t\t(2 * Math.atan(Math.exp(point.y / this.R)) - (Math.PI / 2)) * d,\r\n\t\t\tpoint.x * d / this.R);\r\n\t},\r\n\r\n\tbounds: (function () {\r\n\t\tvar d = 6378137 * Math.PI;\r\n\t\treturn L.bounds([-d, -d], [d, d]);\r\n\t})()\r\n};\r\n\n/*\r\n * @class CRS\r\n * @aka L.CRS\r\n * Abstract class that defines coordinate reference systems for projecting\r\n * geographical points into pixel (screen) coordinates and back (and to\r\n * coordinates in other units for [WMS](https://en.wikipedia.org/wiki/Web_Map_Service) services). See\r\n * [spatial reference system](http://en.wikipedia.org/wiki/Coordinate_reference_system).\r\n *\r\n * Leaflet defines the most usual CRSs by default. If you want to use a\r\n * CRS not defined by default, take a look at the\r\n * [Proj4Leaflet](https://github.com/kartena/Proj4Leaflet) plugin.\r\n */\r\n\r\nL.CRS = {\r\n\t// @method latLngToPoint(latlng: LatLng, zoom: Number): Point\r\n\t// Projects geographical coordinates into pixel coordinates for a given zoom.\r\n\tlatLngToPoint: function (latlng, zoom) {\r\n\t\tvar projectedPoint = this.projection.project(latlng),\r\n\t\t    scale = this.scale(zoom);\r\n\r\n\t\treturn this.transformation._transform(projectedPoint, scale);\r\n\t},\r\n\r\n\t// @method pointToLatLng(point: Point, zoom: Number): LatLng\r\n\t// The inverse of `latLngToPoint`. Projects pixel coordinates on a given\r\n\t// zoom into geographical coordinates.\r\n\tpointToLatLng: function (point, zoom) {\r\n\t\tvar scale = this.scale(zoom),\r\n\t\t    untransformedPoint = this.transformation.untransform(point, scale);\r\n\r\n\t\treturn this.projection.unproject(untransformedPoint);\r\n\t},\r\n\r\n\t// @method project(latlng: LatLng): Point\r\n\t// Projects geographical coordinates into coordinates in units accepted for\r\n\t// this CRS (e.g. meters for EPSG:3857, for passing it to WMS services).\r\n\tproject: function (latlng) {\r\n\t\treturn this.projection.project(latlng);\r\n\t},\r\n\r\n\t// @method unproject(point: Point): LatLng\r\n\t// Given a projected coordinate returns the corresponding LatLng.\r\n\t// The inverse of `project`.\r\n\tunproject: function (point) {\r\n\t\treturn this.projection.unproject(point);\r\n\t},\r\n\r\n\t// @method scale(zoom: Number): Number\r\n\t// Returns the scale used when transforming projected coordinates into\r\n\t// pixel coordinates for a particular zoom. For example, it returns\r\n\t// `256 * 2^zoom` for Mercator-based CRS.\r\n\tscale: function (zoom) {\r\n\t\treturn 256 * Math.pow(2, zoom);\r\n\t},\r\n\r\n\t// @method zoom(scale: Number): Number\r\n\t// Inverse of `scale()`, returns the zoom level corresponding to a scale\r\n\t// factor of `scale`.\r\n\tzoom: function (scale) {\r\n\t\treturn Math.log(scale / 256) / Math.LN2;\r\n\t},\r\n\r\n\t// @method getProjectedBounds(zoom: Number): Bounds\r\n\t// Returns the projection's bounds scaled and transformed for the provided `zoom`.\r\n\tgetProjectedBounds: function (zoom) {\r\n\t\tif (this.infinite) { return null; }\r\n\r\n\t\tvar b = this.projection.bounds,\r\n\t\t    s = this.scale(zoom),\r\n\t\t    min = this.transformation.transform(b.min, s),\r\n\t\t    max = this.transformation.transform(b.max, s);\r\n\r\n\t\treturn L.bounds(min, max);\r\n\t},\r\n\r\n\t// @method distance(latlng1: LatLng, latlng2: LatLng): Number\r\n\t// Returns the distance between two geographical coordinates.\r\n\r\n\t// @property code: String\r\n\t// Standard code name of the CRS passed into WMS services (e.g. `'EPSG:3857'`)\r\n\t//\r\n\t// @property wrapLng: Number[]\r\n\t// An array of two numbers defining whether the longitude (horizontal) coordinate\r\n\t// axis wraps around a given range and how. Defaults to `[-180, 180]` in most\r\n\t// geographical CRSs. If `undefined`, the longitude axis does not wrap around.\r\n\t//\r\n\t// @property wrapLat: Number[]\r\n\t// Like `wrapLng`, but for the latitude (vertical) axis.\r\n\r\n\t// wrapLng: [min, max],\r\n\t// wrapLat: [min, max],\r\n\r\n\t// @property infinite: Boolean\r\n\t// If true, the coordinate space will be unbounded (infinite in both axes)\r\n\tinfinite: false,\r\n\r\n\t// @method wrapLatLng(latlng: LatLng): LatLng\r\n\t// Returns a `LatLng` where lat and lng has been wrapped according to the\r\n\t// CRS's `wrapLat` and `wrapLng` properties, if they are outside the CRS's bounds.\r\n\twrapLatLng: function (latlng) {\r\n\t\tvar lng = this.wrapLng ? L.Util.wrapNum(latlng.lng, this.wrapLng, true) : latlng.lng,\r\n\t\t    lat = this.wrapLat ? L.Util.wrapNum(latlng.lat, this.wrapLat, true) : latlng.lat,\r\n\t\t    alt = latlng.alt;\r\n\r\n\t\treturn L.latLng(lat, lng, alt);\r\n\t}\r\n};\r\n\n/*\n * @namespace CRS\n * @crs L.CRS.Simple\n *\n * A simple CRS that maps longitude and latitude into `x` and `y` directly.\n * May be used for maps of flat surfaces (e.g. game maps). Note that the `y`\n * axis should still be inverted (going from bottom to top). `distance()` returns\n * simple euclidean distance.\n */\n\nL.CRS.Simple = L.extend({}, L.CRS, {\n\tprojection: L.Projection.LonLat,\n\ttransformation: new L.Transformation(1, 0, -1, 0),\n\n\tscale: function (zoom) {\n\t\treturn Math.pow(2, zoom);\n\t},\n\n\tzoom: function (scale) {\n\t\treturn Math.log(scale) / Math.LN2;\n\t},\n\n\tdistance: function (latlng1, latlng2) {\n\t\tvar dx = latlng2.lng - latlng1.lng,\n\t\t    dy = latlng2.lat - latlng1.lat;\n\n\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t},\n\n\tinfinite: true\n});\n\n/*\n * @namespace CRS\n * @crs L.CRS.Earth\n *\n * Serves as the base for CRS that are global such that they cover the earth.\n * Can only be used as the base for other CRS and cannot be used directly,\n * since it does not have a `code`, `projection` or `transformation`. `distance()` returns\n * meters.\n */\n\nL.CRS.Earth = L.extend({}, L.CRS, {\n\twrapLng: [-180, 180],\n\n\t// Mean Earth Radius, as recommended for use by\n\t// the International Union of Geodesy and Geophysics,\n\t// see http://rosettacode.org/wiki/Haversine_formula\n\tR: 6371000,\n\n\t// distance between two geographical points using spherical law of cosines approximation\n\tdistance: function (latlng1, latlng2) {\n\t\tvar rad = Math.PI / 180,\n\t\t    lat1 = latlng1.lat * rad,\n\t\t    lat2 = latlng2.lat * rad,\n\t\t    a = Math.sin(lat1) * Math.sin(lat2) +\n\t\t        Math.cos(lat1) * Math.cos(lat2) * Math.cos((latlng2.lng - latlng1.lng) * rad);\n\n\t\treturn this.R * Math.acos(Math.min(a, 1));\n\t}\n});\n\n/*\r\n * @namespace CRS\r\n * @crs L.CRS.EPSG3857\r\n *\r\n * The most common CRS for online maps, used by almost all free and commercial\r\n * tile providers. Uses Spherical Mercator projection. Set in by default in\r\n * Map's `crs` option.\r\n */\r\n\r\nL.CRS.EPSG3857 = L.extend({}, L.CRS.Earth, {\r\n\tcode: 'EPSG:3857',\r\n\tprojection: L.Projection.SphericalMercator,\r\n\r\n\ttransformation: (function () {\r\n\t\tvar scale = 0.5 / (Math.PI * L.Projection.SphericalMercator.R);\r\n\t\treturn new L.Transformation(scale, 0.5, -scale, 0.5);\r\n\t}())\r\n});\r\n\r\nL.CRS.EPSG900913 = L.extend({}, L.CRS.EPSG3857, {\r\n\tcode: 'EPSG:900913'\r\n});\r\n\n/*\r\n * @namespace CRS\r\n * @crs L.CRS.EPSG4326\r\n *\r\n * A common CRS among GIS enthusiasts. Uses simple Equirectangular projection.\r\n */\r\n\r\nL.CRS.EPSG4326 = L.extend({}, L.CRS.Earth, {\r\n\tcode: 'EPSG:4326',\r\n\tprojection: L.Projection.LonLat,\r\n\ttransformation: new L.Transformation(1 / 180, 1, -1 / 180, 0.5)\r\n});\r\n\n/*\r\n * @class Map\r\n * @aka L.Map\r\n * @inherits Evented\r\n *\r\n * The central class of the API — it is used to create a map on a page and manipulate it.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * // initialize the map on the \"map\" div with a given center and zoom\r\n * var map = L.map('map', {\r\n * \tcenter: [51.505, -0.09],\r\n * \tzoom: 13\r\n * });\r\n * ```\r\n *\r\n */\r\n\r\nL.Map = L.Evented.extend({\r\n\r\n\toptions: {\r\n\t\t// @section Map State Options\r\n\t\t// @option crs: CRS = L.CRS.EPSG3857\r\n\t\t// The [Coordinate Reference System](#crs) to use. Don't change this if you're not\r\n\t\t// sure what it means.\r\n\t\tcrs: L.CRS.EPSG3857,\r\n\r\n\t\t// @option center: LatLng = undefined\r\n\t\t// Initial geographic center of the map\r\n\t\tcenter: undefined,\r\n\r\n\t\t// @option zoom: Number = undefined\r\n\t\t// Initial map zoom level\r\n\t\tzoom: undefined,\r\n\r\n\t\t// @option minZoom: Number = undefined\r\n\t\t// Minimum zoom level of the map. Overrides any `minZoom` option set on map layers.\r\n\t\tminZoom: undefined,\r\n\r\n\t\t// @option maxZoom: Number = undefined\r\n\t\t// Maximum zoom level of the map. Overrides any `maxZoom` option set on map layers.\r\n\t\tmaxZoom: undefined,\r\n\r\n\t\t// @option layers: Layer[] = []\r\n\t\t// Array of layers that will be added to the map initially\r\n\t\tlayers: [],\r\n\r\n\t\t// @option maxBounds: LatLngBounds = null\r\n\t\t// When this option is set, the map restricts the view to the given\r\n\t\t// geographical bounds, bouncing the user back when he tries to pan\r\n\t\t// outside the view. To set the restriction dynamically, use\r\n\t\t// [`setMaxBounds`](#map-setmaxbounds) method.\r\n\t\tmaxBounds: undefined,\r\n\r\n\t\t// @option renderer: Renderer = *\r\n\t\t// The default method for drawing vector layers on the map. `L.SVG`\r\n\t\t// or `L.Canvas` by default depending on browser support.\r\n\t\trenderer: undefined,\r\n\r\n\r\n\t\t// @section Animation Options\r\n\t\t// @option fadeAnimation: Boolean = true\r\n\t\t// Whether the tile fade animation is enabled. By default it's enabled\r\n\t\t// in all browsers that support CSS3 Transitions except Android.\r\n\t\tfadeAnimation: true,\r\n\r\n\t\t// @option markerZoomAnimation: Boolean = true\r\n\t\t// Whether markers animate their zoom with the zoom animation, if disabled\r\n\t\t// they will disappear for the length of the animation. By default it's\r\n\t\t// enabled in all browsers that support CSS3 Transitions except Android.\r\n\t\tmarkerZoomAnimation: true,\r\n\r\n\t\t// @option transform3DLimit: Number = 2^23\r\n\t\t// Defines the maximum size of a CSS translation transform. The default\r\n\t\t// value should not be changed unless a web browser positions layers in\r\n\t\t// the wrong place after doing a large `panBy`.\r\n\t\ttransform3DLimit: 8388608, // Precision limit of a 32-bit float\r\n\r\n\t\t// @section Interaction Options\r\n\t\t// @option zoomSnap: Number = 1\r\n\t\t// Forces the map's zoom level to always be a multiple of this, particularly\r\n\t\t// right after a [`fitBounds()`](#map-fitbounds) or a pinch-zoom.\r\n\t\t// By default, the zoom level snaps to the nearest integer; lower values\r\n\t\t// (e.g. `0.5` or `0.1`) allow for greater granularity. A value of `0`\r\n\t\t// means the zoom level will not be snapped after `fitBounds` or a pinch-zoom.\r\n\t\tzoomSnap: 1,\r\n\r\n\t\t// @option zoomDelta: Number = 1\r\n\t\t// Controls how much the map's zoom level will change after a\r\n\t\t// [`zoomIn()`](#map-zoomin), [`zoomOut()`](#map-zoomout), pressing `+`\r\n\t\t// or `-` on the keyboard, or using the [zoom controls](#control-zoom).\r\n\t\t// Values smaller than `1` (e.g. `0.5`) allow for greater granularity.\r\n\t\tzoomDelta: 1,\r\n\r\n\t\t// @option trackResize: Boolean = true\r\n\t\t// Whether the map automatically handles browser window resize to update itself.\r\n\t\ttrackResize: true\r\n\t},\r\n\r\n\tinitialize: function (id, options) { // (HTMLElement or String, Object)\r\n\t\toptions = L.setOptions(this, options);\r\n\r\n\t\tthis._initContainer(id);\r\n\t\tthis._initLayout();\r\n\r\n\t\t// hack for https://github.com/Leaflet/Leaflet/issues/1980\r\n\t\tthis._onResize = L.bind(this._onResize, this);\r\n\r\n\t\tthis._initEvents();\r\n\r\n\t\tif (options.maxBounds) {\r\n\t\t\tthis.setMaxBounds(options.maxBounds);\r\n\t\t}\r\n\r\n\t\tif (options.zoom !== undefined) {\r\n\t\t\tthis._zoom = this._limitZoom(options.zoom);\r\n\t\t}\r\n\r\n\t\tif (options.center && options.zoom !== undefined) {\r\n\t\t\tthis.setView(L.latLng(options.center), options.zoom, {reset: true});\r\n\t\t}\r\n\r\n\t\tthis._handlers = [];\r\n\t\tthis._layers = {};\r\n\t\tthis._zoomBoundLayers = {};\r\n\t\tthis._sizeChanged = true;\r\n\r\n\t\tthis.callInitHooks();\r\n\r\n\t\tthis._addLayers(this.options.layers);\r\n\t},\r\n\r\n\r\n\t// @section Methods for modifying map state\r\n\r\n\t// @method setView(center: LatLng, zoom: Number, options?: Zoom/pan options): this\r\n\t// Sets the view of the map (geographical center and zoom) with the given\r\n\t// animation options.\r\n\tsetView: function (center, zoom) {\r\n\t\t// replaced by animation-powered implementation in Map.PanAnimation.js\r\n\t\tzoom = zoom === undefined ? this.getZoom() : zoom;\r\n\t\tthis._resetView(L.latLng(center), zoom);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method setZoom(zoom: Number, options: Zoom/pan options): this\r\n\t// Sets the zoom of the map.\r\n\tsetZoom: function (zoom, options) {\r\n\t\tif (!this._loaded) {\r\n\t\t\tthis._zoom = zoom;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\treturn this.setView(this.getCenter(), zoom, {zoom: options});\r\n\t},\r\n\r\n\t// @method zoomIn(delta?: Number, options?: Zoom options): this\r\n\t// Increases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).\r\n\tzoomIn: function (delta, options) {\r\n\t\tdelta = delta || (L.Browser.any3d ? this.options.zoomDelta : 1);\r\n\t\treturn this.setZoom(this._zoom + delta, options);\r\n\t},\r\n\r\n\t// @method zoomOut(delta?: Number, options?: Zoom options): this\r\n\t// Decreases the zoom of the map by `delta` ([`zoomDelta`](#map-zoomdelta) by default).\r\n\tzoomOut: function (delta, options) {\r\n\t\tdelta = delta || (L.Browser.any3d ? this.options.zoomDelta : 1);\r\n\t\treturn this.setZoom(this._zoom - delta, options);\r\n\t},\r\n\r\n\t// @method setZoomAround(latlng: LatLng, zoom: Number, options: Zoom options): this\r\n\t// Zooms the map while keeping a specified geographical point on the map\r\n\t// stationary (e.g. used internally for scroll zoom and double-click zoom).\r\n\t// @alternative\r\n\t// @method setZoomAround(offset: Point, zoom: Number, options: Zoom options): this\r\n\t// Zooms the map while keeping a specified pixel on the map (relative to the top-left corner) stationary.\r\n\tsetZoomAround: function (latlng, zoom, options) {\r\n\t\tvar scale = this.getZoomScale(zoom),\r\n\t\t    viewHalf = this.getSize().divideBy(2),\r\n\t\t    containerPoint = latlng instanceof L.Point ? latlng : this.latLngToContainerPoint(latlng),\r\n\r\n\t\t    centerOffset = containerPoint.subtract(viewHalf).multiplyBy(1 - 1 / scale),\r\n\t\t    newCenter = this.containerPointToLatLng(viewHalf.add(centerOffset));\r\n\r\n\t\treturn this.setView(newCenter, zoom, {zoom: options});\r\n\t},\r\n\r\n\t_getBoundsCenterZoom: function (bounds, options) {\r\n\r\n\t\toptions = options || {};\r\n\t\tbounds = bounds.getBounds ? bounds.getBounds() : L.latLngBounds(bounds);\r\n\r\n\t\tvar paddingTL = L.point(options.paddingTopLeft || options.padding || [0, 0]),\r\n\t\t    paddingBR = L.point(options.paddingBottomRight || options.padding || [0, 0]),\r\n\r\n\t\t    zoom = this.getBoundsZoom(bounds, false, paddingTL.add(paddingBR));\r\n\r\n\t\tzoom = (typeof options.maxZoom === 'number') ? Math.min(options.maxZoom, zoom) : zoom;\r\n\r\n\t\tvar paddingOffset = paddingBR.subtract(paddingTL).divideBy(2),\r\n\r\n\t\t    swPoint = this.project(bounds.getSouthWest(), zoom),\r\n\t\t    nePoint = this.project(bounds.getNorthEast(), zoom),\r\n\t\t    center = this.unproject(swPoint.add(nePoint).divideBy(2).add(paddingOffset), zoom);\r\n\r\n\t\treturn {\r\n\t\t\tcenter: center,\r\n\t\t\tzoom: zoom\r\n\t\t};\r\n\t},\r\n\r\n\t// @method fitBounds(bounds: LatLngBounds, options: fitBounds options): this\r\n\t// Sets a map view that contains the given geographical bounds with the\r\n\t// maximum zoom level possible.\r\n\tfitBounds: function (bounds, options) {\r\n\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\r\n\t\tif (!bounds.isValid()) {\r\n\t\t\tthrow new Error('Bounds are not valid.');\r\n\t\t}\r\n\r\n\t\tvar target = this._getBoundsCenterZoom(bounds, options);\r\n\t\treturn this.setView(target.center, target.zoom, options);\r\n\t},\r\n\r\n\t// @method fitWorld(options?: fitBounds options): this\r\n\t// Sets a map view that mostly contains the whole world with the maximum\r\n\t// zoom level possible.\r\n\tfitWorld: function (options) {\r\n\t\treturn this.fitBounds([[-90, -180], [90, 180]], options);\r\n\t},\r\n\r\n\t// @method panTo(latlng: LatLng, options?: Pan options): this\r\n\t// Pans the map to a given center.\r\n\tpanTo: function (center, options) { // (LatLng)\r\n\t\treturn this.setView(center, this._zoom, {pan: options});\r\n\t},\r\n\r\n\t// @method panBy(offset: Point): this\r\n\t// Pans the map by a given number of pixels (animated).\r\n\tpanBy: function (offset) { // (Point)\r\n\t\t// replaced with animated panBy in Map.PanAnimation.js\r\n\t\tthis.fire('movestart');\r\n\r\n\t\tthis._rawPanBy(L.point(offset));\r\n\r\n\t\tthis.fire('move');\r\n\t\treturn this.fire('moveend');\r\n\t},\r\n\r\n\t// @method setMaxBounds(bounds: Bounds): this\r\n\t// Restricts the map view to the given bounds (see the [maxBounds](#map-maxbounds) option).\r\n\tsetMaxBounds: function (bounds) {\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\r\n\t\tif (!bounds.isValid()) {\r\n\t\t\tthis.options.maxBounds = null;\r\n\t\t\treturn this.off('moveend', this._panInsideMaxBounds);\r\n\t\t} else if (this.options.maxBounds) {\r\n\t\t\tthis.off('moveend', this._panInsideMaxBounds);\r\n\t\t}\r\n\r\n\t\tthis.options.maxBounds = bounds;\r\n\r\n\t\tif (this._loaded) {\r\n\t\t\tthis._panInsideMaxBounds();\r\n\t\t}\r\n\r\n\t\treturn this.on('moveend', this._panInsideMaxBounds);\r\n\t},\r\n\r\n\t// @method setMinZoom(zoom: Number): this\r\n\t// Sets the lower limit for the available zoom levels (see the [minZoom](#map-minzoom) option).\r\n\tsetMinZoom: function (zoom) {\r\n\t\tthis.options.minZoom = zoom;\r\n\r\n\t\tif (this._loaded && this.getZoom() < this.options.minZoom) {\r\n\t\t\treturn this.setZoom(zoom);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method setMaxZoom(zoom: Number): this\r\n\t// Sets the upper limit for the available zoom levels (see the [maxZoom](#map-maxzoom) option).\r\n\tsetMaxZoom: function (zoom) {\r\n\t\tthis.options.maxZoom = zoom;\r\n\r\n\t\tif (this._loaded && (this.getZoom() > this.options.maxZoom)) {\r\n\t\t\treturn this.setZoom(zoom);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method panInsideBounds(bounds: LatLngBounds, options?: Pan options): this\r\n\t// Pans the map to the closest view that would lie inside the given bounds (if it's not already), controlling the animation using the options specific, if any.\r\n\tpanInsideBounds: function (bounds, options) {\r\n\t\tthis._enforcingBounds = true;\r\n\t\tvar center = this.getCenter(),\r\n\t\t    newCenter = this._limitCenter(center, this._zoom, L.latLngBounds(bounds));\r\n\r\n\t\tif (!center.equals(newCenter)) {\r\n\t\t\tthis.panTo(newCenter, options);\r\n\t\t}\r\n\r\n\t\tthis._enforcingBounds = false;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method invalidateSize(options: Zoom/Pan options): this\r\n\t// Checks if the map container size changed and updates the map if so —\r\n\t// call it after you've changed the map size dynamically, also animating\r\n\t// pan by default. If `options.pan` is `false`, panning will not occur.\r\n\t// If `options.debounceMoveend` is `true`, it will delay `moveend` event so\r\n\t// that it doesn't happen often even if the method is called many\r\n\t// times in a row.\r\n\r\n\t// @alternative\r\n\t// @method invalidateSize(animate: Boolean): this\r\n\t// Checks if the map container size changed and updates the map if so —\r\n\t// call it after you've changed the map size dynamically, also animating\r\n\t// pan by default.\r\n\tinvalidateSize: function (options) {\r\n\t\tif (!this._loaded) { return this; }\r\n\r\n\t\toptions = L.extend({\r\n\t\t\tanimate: false,\r\n\t\t\tpan: true\r\n\t\t}, options === true ? {animate: true} : options);\r\n\r\n\t\tvar oldSize = this.getSize();\r\n\t\tthis._sizeChanged = true;\r\n\t\tthis._lastCenter = null;\r\n\r\n\t\tvar newSize = this.getSize(),\r\n\t\t    oldCenter = oldSize.divideBy(2).round(),\r\n\t\t    newCenter = newSize.divideBy(2).round(),\r\n\t\t    offset = oldCenter.subtract(newCenter);\r\n\r\n\t\tif (!offset.x && !offset.y) { return this; }\r\n\r\n\t\tif (options.animate && options.pan) {\r\n\t\t\tthis.panBy(offset);\r\n\r\n\t\t} else {\r\n\t\t\tif (options.pan) {\r\n\t\t\t\tthis._rawPanBy(offset);\r\n\t\t\t}\r\n\r\n\t\t\tthis.fire('move');\r\n\r\n\t\t\tif (options.debounceMoveend) {\r\n\t\t\t\tclearTimeout(this._sizeTimer);\r\n\t\t\t\tthis._sizeTimer = setTimeout(L.bind(this.fire, this, 'moveend'), 200);\r\n\t\t\t} else {\r\n\t\t\t\tthis.fire('moveend');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// @section Map state change events\r\n\t\t// @event resize: ResizeEvent\r\n\t\t// Fired when the map is resized.\r\n\t\treturn this.fire('resize', {\r\n\t\t\toldSize: oldSize,\r\n\t\t\tnewSize: newSize\r\n\t\t});\r\n\t},\r\n\r\n\t// @section Methods for modifying map state\r\n\t// @method stop(): this\r\n\t// Stops the currently running `panTo` or `flyTo` animation, if any.\r\n\tstop: function () {\r\n\t\tthis.setZoom(this._limitZoom(this._zoom));\r\n\t\tif (!this.options.zoomSnap) {\r\n\t\t\tthis.fire('viewreset');\r\n\t\t}\r\n\t\treturn this._stop();\r\n\t},\r\n\r\n\r\n\t// TODO handler.addTo\r\n\t// TODO Appropiate docs section?\r\n\t// @section Other Methods\r\n\t// @method addHandler(name: String, HandlerClass: Function): this\r\n\t// Adds a new `Handler` to the map, given its name and constructor function.\r\n\taddHandler: function (name, HandlerClass) {\r\n\t\tif (!HandlerClass) { return this; }\r\n\r\n\t\tvar handler = this[name] = new HandlerClass(this);\r\n\r\n\t\tthis._handlers.push(handler);\r\n\r\n\t\tif (this.options[name]) {\r\n\t\t\thandler.enable();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method remove(): this\r\n\t// Destroys the map and clears all related event listeners.\r\n\tremove: function () {\r\n\r\n\t\tthis._initEvents(true);\r\n\r\n\t\tif (this._containerId !== this._container._leaflet_id) {\r\n\t\t\tthrow new Error('Map container is being reused by another instance');\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\t// throws error in IE6-8\r\n\t\t\tdelete this._container._leaflet_id;\r\n\t\t\tdelete this._containerId;\r\n\t\t} catch (e) {\r\n\t\t\t/*eslint-disable */\r\n\t\t\tthis._container._leaflet_id = undefined;\r\n\t\t\t/*eslint-enable */\r\n\t\t\tthis._containerId = undefined;\r\n\t\t}\r\n\r\n\t\tL.DomUtil.remove(this._mapPane);\r\n\r\n\t\tif (this._clearControlPos) {\r\n\t\t\tthis._clearControlPos();\r\n\t\t}\r\n\r\n\t\tthis._clearHandlers();\r\n\r\n\t\tif (this._loaded) {\r\n\t\t\t// @section Map state change events\r\n\t\t\t// @event unload: Event\r\n\t\t\t// Fired when the map is destroyed with [remove](#map-remove) method.\r\n\t\t\tthis.fire('unload');\r\n\t\t}\r\n\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tthis._layers[i].remove();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @section Other Methods\r\n\t// @method createPane(name: String, container?: HTMLElement): HTMLElement\r\n\t// Creates a new [map pane](#map-pane) with the given name if it doesn't exist already,\r\n\t// then returns it. The pane is created as a children of `container`, or\r\n\t// as a children of the main map pane if not set.\r\n\tcreatePane: function (name, container) {\r\n\t\tvar className = 'leaflet-pane' + (name ? ' leaflet-' + name.replace('Pane', '') + '-pane' : ''),\r\n\t\t    pane = L.DomUtil.create('div', className, container || this._mapPane);\r\n\r\n\t\tif (name) {\r\n\t\t\tthis._panes[name] = pane;\r\n\t\t}\r\n\t\treturn pane;\r\n\t},\r\n\r\n\t// @section Methods for Getting Map State\r\n\r\n\t// @method getCenter(): LatLng\r\n\t// Returns the geographical center of the map view\r\n\tgetCenter: function () {\r\n\t\tthis._checkIfLoaded();\r\n\r\n\t\tif (this._lastCenter && !this._moved()) {\r\n\t\t\treturn this._lastCenter;\r\n\t\t}\r\n\t\treturn this.layerPointToLatLng(this._getCenterLayerPoint());\r\n\t},\r\n\r\n\t// @method getZoom(): Number\r\n\t// Returns the current zoom level of the map view\r\n\tgetZoom: function () {\r\n\t\treturn this._zoom;\r\n\t},\r\n\r\n\t// @method getBounds(): LatLngBounds\r\n\t// Returns the geographical bounds visible in the current map view\r\n\tgetBounds: function () {\r\n\t\tvar bounds = this.getPixelBounds(),\r\n\t\t    sw = this.unproject(bounds.getBottomLeft()),\r\n\t\t    ne = this.unproject(bounds.getTopRight());\r\n\r\n\t\treturn new L.LatLngBounds(sw, ne);\r\n\t},\r\n\r\n\t// @method getMinZoom(): Number\r\n\t// Returns the minimum zoom level of the map (if set in the `minZoom` option of the map or of any layers), or `0` by default.\r\n\tgetMinZoom: function () {\r\n\t\treturn this.options.minZoom === undefined ? this._layersMinZoom || 0 : this.options.minZoom;\r\n\t},\r\n\r\n\t// @method getMaxZoom(): Number\r\n\t// Returns the maximum zoom level of the map (if set in the `maxZoom` option of the map or of any layers).\r\n\tgetMaxZoom: function () {\r\n\t\treturn this.options.maxZoom === undefined ?\r\n\t\t\t(this._layersMaxZoom === undefined ? Infinity : this._layersMaxZoom) :\r\n\t\t\tthis.options.maxZoom;\r\n\t},\r\n\r\n\t// @method getBoundsZoom(bounds: LatLngBounds, inside?: Boolean): Number\r\n\t// Returns the maximum zoom level on which the given bounds fit to the map\r\n\t// view in its entirety. If `inside` (optional) is set to `true`, the method\r\n\t// instead returns the minimum zoom level on which the map view fits into\r\n\t// the given bounds in its entirety.\r\n\tgetBoundsZoom: function (bounds, inside, padding) { // (LatLngBounds[, Boolean, Point]) -> Number\r\n\t\tbounds = L.latLngBounds(bounds);\r\n\t\tpadding = L.point(padding || [0, 0]);\r\n\r\n\t\tvar zoom = this.getZoom() || 0,\r\n\t\t    min = this.getMinZoom(),\r\n\t\t    max = this.getMaxZoom(),\r\n\t\t    nw = bounds.getNorthWest(),\r\n\t\t    se = bounds.getSouthEast(),\r\n\t\t    size = this.getSize().subtract(padding),\r\n\t\t    boundsSize = this.project(se, zoom).subtract(this.project(nw, zoom)),\r\n\t\t    snap = L.Browser.any3d ? this.options.zoomSnap : 1;\r\n\r\n\t\tvar scale = Math.min(size.x / boundsSize.x, size.y / boundsSize.y);\r\n\t\tzoom = this.getScaleZoom(scale, zoom);\r\n\r\n\t\tif (snap) {\r\n\t\t\tzoom = Math.round(zoom / (snap / 100)) * (snap / 100); // don't jump if within 1% of a snap level\r\n\t\t\tzoom = inside ? Math.ceil(zoom / snap) * snap : Math.floor(zoom / snap) * snap;\r\n\t\t}\r\n\r\n\t\treturn Math.max(min, Math.min(max, zoom));\r\n\t},\r\n\r\n\t// @method getSize(): Point\r\n\t// Returns the current size of the map container (in pixels).\r\n\tgetSize: function () {\r\n\t\tif (!this._size || this._sizeChanged) {\r\n\t\t\tthis._size = new L.Point(\r\n\t\t\t\tthis._container.clientWidth,\r\n\t\t\t\tthis._container.clientHeight);\r\n\r\n\t\t\tthis._sizeChanged = false;\r\n\t\t}\r\n\t\treturn this._size.clone();\r\n\t},\r\n\r\n\t// @method getPixelBounds(): Bounds\r\n\t// Returns the bounds of the current map view in projected pixel\r\n\t// coordinates (sometimes useful in layer and overlay implementations).\r\n\tgetPixelBounds: function (center, zoom) {\r\n\t\tvar topLeftPoint = this._getTopLeftPoint(center, zoom);\r\n\t\treturn new L.Bounds(topLeftPoint, topLeftPoint.add(this.getSize()));\r\n\t},\r\n\r\n\t// TODO: Check semantics - isn't the pixel origin the 0,0 coord relative to\r\n\t// the map pane? \"left point of the map layer\" can be confusing, specially\r\n\t// since there can be negative offsets.\r\n\t// @method getPixelOrigin(): Point\r\n\t// Returns the projected pixel coordinates of the top left point of\r\n\t// the map layer (useful in custom layer and overlay implementations).\r\n\tgetPixelOrigin: function () {\r\n\t\tthis._checkIfLoaded();\r\n\t\treturn this._pixelOrigin;\r\n\t},\r\n\r\n\t// @method getPixelWorldBounds(zoom?: Number): Bounds\r\n\t// Returns the world's bounds in pixel coordinates for zoom level `zoom`.\r\n\t// If `zoom` is omitted, the map's current zoom level is used.\r\n\tgetPixelWorldBounds: function (zoom) {\r\n\t\treturn this.options.crs.getProjectedBounds(zoom === undefined ? this.getZoom() : zoom);\r\n\t},\r\n\r\n\t// @section Other Methods\r\n\r\n\t// @method getPane(pane: String|HTMLElement): HTMLElement\r\n\t// Returns a [map pane](#map-pane), given its name or its HTML element (its identity).\r\n\tgetPane: function (pane) {\r\n\t\treturn typeof pane === 'string' ? this._panes[pane] : pane;\r\n\t},\r\n\r\n\t// @method getPanes(): Object\r\n\t// Returns a plain object containing the names of all [panes](#map-pane) as keys and\r\n\t// the panes as values.\r\n\tgetPanes: function () {\r\n\t\treturn this._panes;\r\n\t},\r\n\r\n\t// @method getContainer: HTMLElement\r\n\t// Returns the HTML element that contains the map.\r\n\tgetContainer: function () {\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\r\n\t// @section Conversion Methods\r\n\r\n\t// @method getZoomScale(toZoom: Number, fromZoom: Number): Number\r\n\t// Returns the scale factor to be applied to a map transition from zoom level\r\n\t// `fromZoom` to `toZoom`. Used internally to help with zoom animations.\r\n\tgetZoomScale: function (toZoom, fromZoom) {\r\n\t\t// TODO replace with universal implementation after refactoring projections\r\n\t\tvar crs = this.options.crs;\r\n\t\tfromZoom = fromZoom === undefined ? this._zoom : fromZoom;\r\n\t\treturn crs.scale(toZoom) / crs.scale(fromZoom);\r\n\t},\r\n\r\n\t// @method getScaleZoom(scale: Number, fromZoom: Number): Number\r\n\t// Returns the zoom level that the map would end up at, if it is at `fromZoom`\r\n\t// level and everything is scaled by a factor of `scale`. Inverse of\r\n\t// [`getZoomScale`](#map-getZoomScale).\r\n\tgetScaleZoom: function (scale, fromZoom) {\r\n\t\tvar crs = this.options.crs;\r\n\t\tfromZoom = fromZoom === undefined ? this._zoom : fromZoom;\r\n\t\tvar zoom = crs.zoom(scale * crs.scale(fromZoom));\r\n\t\treturn isNaN(zoom) ? Infinity : zoom;\r\n\t},\r\n\r\n\t// @method project(latlng: LatLng, zoom: Number): Point\r\n\t// Projects a geographical coordinate `LatLng` according to the projection\r\n\t// of the map's CRS, then scales it according to `zoom` and the CRS's\r\n\t// `Transformation`. The result is pixel coordinate relative to\r\n\t// the CRS origin.\r\n\tproject: function (latlng, zoom) {\r\n\t\tzoom = zoom === undefined ? this._zoom : zoom;\r\n\t\treturn this.options.crs.latLngToPoint(L.latLng(latlng), zoom);\r\n\t},\r\n\r\n\t// @method unproject(point: Point, zoom: Number): LatLng\r\n\t// Inverse of [`project`](#map-project).\r\n\tunproject: function (point, zoom) {\r\n\t\tzoom = zoom === undefined ? this._zoom : zoom;\r\n\t\treturn this.options.crs.pointToLatLng(L.point(point), zoom);\r\n\t},\r\n\r\n\t// @method layerPointToLatLng(point: Point): LatLng\r\n\t// Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),\r\n\t// returns the corresponding geographical coordinate (for the current zoom level).\r\n\tlayerPointToLatLng: function (point) {\r\n\t\tvar projectedPoint = L.point(point).add(this.getPixelOrigin());\r\n\t\treturn this.unproject(projectedPoint);\r\n\t},\r\n\r\n\t// @method latLngToLayerPoint(latlng: LatLng): Point\r\n\t// Given a geographical coordinate, returns the corresponding pixel coordinate\r\n\t// relative to the [origin pixel](#map-getpixelorigin).\r\n\tlatLngToLayerPoint: function (latlng) {\r\n\t\tvar projectedPoint = this.project(L.latLng(latlng))._round();\r\n\t\treturn projectedPoint._subtract(this.getPixelOrigin());\r\n\t},\r\n\r\n\t// @method wrapLatLng(latlng: LatLng): LatLng\r\n\t// Returns a `LatLng` where `lat` and `lng` has been wrapped according to the\r\n\t// map's CRS's `wrapLat` and `wrapLng` properties, if they are outside the\r\n\t// CRS's bounds.\r\n\t// By default this means longitude is wrapped around the dateline so its\r\n\t// value is between -180 and +180 degrees.\r\n\twrapLatLng: function (latlng) {\r\n\t\treturn this.options.crs.wrapLatLng(L.latLng(latlng));\r\n\t},\r\n\r\n\t// @method distance(latlng1: LatLng, latlng2: LatLng): Number\r\n\t// Returns the distance between two geographical coordinates according to\r\n\t// the map's CRS. By default this measures distance in meters.\r\n\tdistance: function (latlng1, latlng2) {\r\n\t\treturn this.options.crs.distance(L.latLng(latlng1), L.latLng(latlng2));\r\n\t},\r\n\r\n\t// @method containerPointToLayerPoint(point: Point): Point\r\n\t// Given a pixel coordinate relative to the map container, returns the corresponding\r\n\t// pixel coordinate relative to the [origin pixel](#map-getpixelorigin).\r\n\tcontainerPointToLayerPoint: function (point) { // (Point)\r\n\t\treturn L.point(point).subtract(this._getMapPanePos());\r\n\t},\r\n\r\n\t// @method layerPointToContainerPoint(point: Point): Point\r\n\t// Given a pixel coordinate relative to the [origin pixel](#map-getpixelorigin),\r\n\t// returns the corresponding pixel coordinate relative to the map container.\r\n\tlayerPointToContainerPoint: function (point) { // (Point)\r\n\t\treturn L.point(point).add(this._getMapPanePos());\r\n\t},\r\n\r\n\t// @method containerPointToLatLng(point: Point): Point\r\n\t// Given a pixel coordinate relative to the map container, returns\r\n\t// the corresponding geographical coordinate (for the current zoom level).\r\n\tcontainerPointToLatLng: function (point) {\r\n\t\tvar layerPoint = this.containerPointToLayerPoint(L.point(point));\r\n\t\treturn this.layerPointToLatLng(layerPoint);\r\n\t},\r\n\r\n\t// @method latLngToContainerPoint(latlng: LatLng): Point\r\n\t// Given a geographical coordinate, returns the corresponding pixel coordinate\r\n\t// relative to the map container.\r\n\tlatLngToContainerPoint: function (latlng) {\r\n\t\treturn this.layerPointToContainerPoint(this.latLngToLayerPoint(L.latLng(latlng)));\r\n\t},\r\n\r\n\t// @method mouseEventToContainerPoint(ev: MouseEvent): Point\r\n\t// Given a MouseEvent object, returns the pixel coordinate relative to the\r\n\t// map container where the event took place.\r\n\tmouseEventToContainerPoint: function (e) {\r\n\t\treturn L.DomEvent.getMousePosition(e, this._container);\r\n\t},\r\n\r\n\t// @method mouseEventToLayerPoint(ev: MouseEvent): Point\r\n\t// Given a MouseEvent object, returns the pixel coordinate relative to\r\n\t// the [origin pixel](#map-getpixelorigin) where the event took place.\r\n\tmouseEventToLayerPoint: function (e) {\r\n\t\treturn this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e));\r\n\t},\r\n\r\n\t// @method mouseEventToLatLng(ev: MouseEvent): LatLng\r\n\t// Given a MouseEvent object, returns geographical coordinate where the\r\n\t// event took place.\r\n\tmouseEventToLatLng: function (e) { // (MouseEvent)\r\n\t\treturn this.layerPointToLatLng(this.mouseEventToLayerPoint(e));\r\n\t},\r\n\r\n\r\n\t// map initialization methods\r\n\r\n\t_initContainer: function (id) {\r\n\t\tvar container = this._container = L.DomUtil.get(id);\r\n\r\n\t\tif (!container) {\r\n\t\t\tthrow new Error('Map container not found.');\r\n\t\t} else if (container._leaflet_id) {\r\n\t\t\tthrow new Error('Map container is already initialized.');\r\n\t\t}\r\n\r\n\t\tL.DomEvent.addListener(container, 'scroll', this._onScroll, this);\r\n\t\tthis._containerId = L.Util.stamp(container);\r\n\t},\r\n\r\n\t_initLayout: function () {\r\n\t\tvar container = this._container;\r\n\r\n\t\tthis._fadeAnimated = this.options.fadeAnimation && L.Browser.any3d;\r\n\r\n\t\tL.DomUtil.addClass(container, 'leaflet-container' +\r\n\t\t\t(L.Browser.touch ? ' leaflet-touch' : '') +\r\n\t\t\t(L.Browser.retina ? ' leaflet-retina' : '') +\r\n\t\t\t(L.Browser.ielt9 ? ' leaflet-oldie' : '') +\r\n\t\t\t(L.Browser.safari ? ' leaflet-safari' : '') +\r\n\t\t\t(this._fadeAnimated ? ' leaflet-fade-anim' : ''));\r\n\r\n\t\tvar position = L.DomUtil.getStyle(container, 'position');\r\n\r\n\t\tif (position !== 'absolute' && position !== 'relative' && position !== 'fixed') {\r\n\t\t\tcontainer.style.position = 'relative';\r\n\t\t}\r\n\r\n\t\tthis._initPanes();\r\n\r\n\t\tif (this._initControlPos) {\r\n\t\t\tthis._initControlPos();\r\n\t\t}\r\n\t},\r\n\r\n\t_initPanes: function () {\r\n\t\tvar panes = this._panes = {};\r\n\t\tthis._paneRenderers = {};\r\n\r\n\t\t// @section\r\n\t\t//\r\n\t\t// Panes are DOM elements used to control the ordering of layers on the map. You\r\n\t\t// can access panes with [`map.getPane`](#map-getpane) or\r\n\t\t// [`map.getPanes`](#map-getpanes) methods. New panes can be created with the\r\n\t\t// [`map.createPane`](#map-createpane) method.\r\n\t\t//\r\n\t\t// Every map has the following default panes that differ only in zIndex.\r\n\t\t//\r\n\t\t// @pane mapPane: HTMLElement = 'auto'\r\n\t\t// Pane that contains all other map panes\r\n\r\n\t\tthis._mapPane = this.createPane('mapPane', this._container);\r\n\t\tL.DomUtil.setPosition(this._mapPane, new L.Point(0, 0));\r\n\r\n\t\t// @pane tilePane: HTMLElement = 200\r\n\t\t// Pane for `GridLayer`s and `TileLayer`s\r\n\t\tthis.createPane('tilePane');\r\n\t\t// @pane overlayPane: HTMLElement = 400\r\n\t\t// Pane for vector overlays (`Path`s), like `Polyline`s and `Polygon`s\r\n\t\tthis.createPane('shadowPane');\r\n\t\t// @pane shadowPane: HTMLElement = 500\r\n\t\t// Pane for overlay shadows (e.g. `Marker` shadows)\r\n\t\tthis.createPane('overlayPane');\r\n\t\t// @pane markerPane: HTMLElement = 600\r\n\t\t// Pane for `Icon`s of `Marker`s\r\n\t\tthis.createPane('markerPane');\r\n\t\t// @pane tooltipPane: HTMLElement = 650\r\n\t\t// Pane for tooltip.\r\n\t\tthis.createPane('tooltipPane');\r\n\t\t// @pane popupPane: HTMLElement = 700\r\n\t\t// Pane for `Popup`s.\r\n\t\tthis.createPane('popupPane');\r\n\r\n\t\tif (!this.options.markerZoomAnimation) {\r\n\t\t\tL.DomUtil.addClass(panes.markerPane, 'leaflet-zoom-hide');\r\n\t\t\tL.DomUtil.addClass(panes.shadowPane, 'leaflet-zoom-hide');\r\n\t\t}\r\n\t},\r\n\r\n\r\n\t// private methods that modify map state\r\n\r\n\t// @section Map state change events\r\n\t_resetView: function (center, zoom) {\r\n\t\tL.DomUtil.setPosition(this._mapPane, new L.Point(0, 0));\r\n\r\n\t\tvar loading = !this._loaded;\r\n\t\tthis._loaded = true;\r\n\t\tzoom = this._limitZoom(zoom);\r\n\r\n\t\tthis.fire('viewprereset');\r\n\r\n\t\tvar zoomChanged = this._zoom !== zoom;\r\n\t\tthis\r\n\t\t\t._moveStart(zoomChanged)\r\n\t\t\t._move(center, zoom)\r\n\t\t\t._moveEnd(zoomChanged);\r\n\r\n\t\t// @event viewreset: Event\r\n\t\t// Fired when the map needs to redraw its content (this usually happens\r\n\t\t// on map zoom or load). Very useful for creating custom overlays.\r\n\t\tthis.fire('viewreset');\r\n\r\n\t\t// @event load: Event\r\n\t\t// Fired when the map is initialized (when its center and zoom are set\r\n\t\t// for the first time).\r\n\t\tif (loading) {\r\n\t\t\tthis.fire('load');\r\n\t\t}\r\n\t},\r\n\r\n\t_moveStart: function (zoomChanged) {\r\n\t\t// @event zoomstart: Event\r\n\t\t// Fired when the map zoom is about to change (e.g. before zoom animation).\r\n\t\t// @event movestart: Event\r\n\t\t// Fired when the view of the map starts changing (e.g. user starts dragging the map).\r\n\t\tif (zoomChanged) {\r\n\t\t\tthis.fire('zoomstart');\r\n\t\t}\r\n\t\treturn this.fire('movestart');\r\n\t},\r\n\r\n\t_move: function (center, zoom, data) {\r\n\t\tif (zoom === undefined) {\r\n\t\t\tzoom = this._zoom;\r\n\t\t}\r\n\t\tvar zoomChanged = this._zoom !== zoom;\r\n\r\n\t\tthis._zoom = zoom;\r\n\t\tthis._lastCenter = center;\r\n\t\tthis._pixelOrigin = this._getNewPixelOrigin(center);\r\n\r\n\t\t// @event zoom: Event\r\n\t\t// Fired repeatedly during any change in zoom level, including zoom\r\n\t\t// and fly animations.\r\n\t\tif (zoomChanged || (data && data.pinch)) {\t// Always fire 'zoom' if pinching because #3530\r\n\t\t\tthis.fire('zoom', data);\r\n\t\t}\r\n\r\n\t\t// @event move: Event\r\n\t\t// Fired repeatedly during any movement of the map, including pan and\r\n\t\t// fly animations.\r\n\t\treturn this.fire('move', data);\r\n\t},\r\n\r\n\t_moveEnd: function (zoomChanged) {\r\n\t\t// @event zoomend: Event\r\n\t\t// Fired when the map has changed, after any animations.\r\n\t\tif (zoomChanged) {\r\n\t\t\tthis.fire('zoomend');\r\n\t\t}\r\n\r\n\t\t// @event moveend: Event\r\n\t\t// Fired when the center of the map stops changing (e.g. user stopped\r\n\t\t// dragging the map).\r\n\t\treturn this.fire('moveend');\r\n\t},\r\n\r\n\t_stop: function () {\r\n\t\tL.Util.cancelAnimFrame(this._flyToFrame);\r\n\t\tif (this._panAnim) {\r\n\t\t\tthis._panAnim.stop();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_rawPanBy: function (offset) {\r\n\t\tL.DomUtil.setPosition(this._mapPane, this._getMapPanePos().subtract(offset));\r\n\t},\r\n\r\n\t_getZoomSpan: function () {\r\n\t\treturn this.getMaxZoom() - this.getMinZoom();\r\n\t},\r\n\r\n\t_panInsideMaxBounds: function () {\r\n\t\tif (!this._enforcingBounds) {\r\n\t\t\tthis.panInsideBounds(this.options.maxBounds);\r\n\t\t}\r\n\t},\r\n\r\n\t_checkIfLoaded: function () {\r\n\t\tif (!this._loaded) {\r\n\t\t\tthrow new Error('Set map center and zoom first.');\r\n\t\t}\r\n\t},\r\n\r\n\t// DOM event handling\r\n\r\n\t// @section Interaction events\r\n\t_initEvents: function (remove) {\r\n\t\tif (!L.DomEvent) { return; }\r\n\r\n\t\tthis._targets = {};\r\n\t\tthis._targets[L.stamp(this._container)] = this;\r\n\r\n\t\tvar onOff = remove ? 'off' : 'on';\r\n\r\n\t\t// @event click: MouseEvent\r\n\t\t// Fired when the user clicks (or taps) the map.\r\n\t\t// @event dblclick: MouseEvent\r\n\t\t// Fired when the user double-clicks (or double-taps) the map.\r\n\t\t// @event mousedown: MouseEvent\r\n\t\t// Fired when the user pushes the mouse button on the map.\r\n\t\t// @event mouseup: MouseEvent\r\n\t\t// Fired when the user releases the mouse button on the map.\r\n\t\t// @event mouseover: MouseEvent\r\n\t\t// Fired when the mouse enters the map.\r\n\t\t// @event mouseout: MouseEvent\r\n\t\t// Fired when the mouse leaves the map.\r\n\t\t// @event mousemove: MouseEvent\r\n\t\t// Fired while the mouse moves over the map.\r\n\t\t// @event contextmenu: MouseEvent\r\n\t\t// Fired when the user pushes the right mouse button on the map, prevents\r\n\t\t// default browser context menu from showing if there are listeners on\r\n\t\t// this event. Also fired on mobile when the user holds a single touch\r\n\t\t// for a second (also called long press).\r\n\t\t// @event keypress: KeyboardEvent\r\n\t\t// Fired when the user presses a key from the keyboard while the map is focused.\r\n\t\tL.DomEvent[onOff](this._container, 'click dblclick mousedown mouseup ' +\r\n\t\t\t'mouseover mouseout mousemove contextmenu keypress', this._handleDOMEvent, this);\r\n\r\n\t\tif (this.options.trackResize) {\r\n\t\t\tL.DomEvent[onOff](window, 'resize', this._onResize, this);\r\n\t\t}\r\n\r\n\t\tif (L.Browser.any3d && this.options.transform3DLimit) {\r\n\t\t\tthis[onOff]('moveend', this._onMoveEnd);\r\n\t\t}\r\n\t},\r\n\r\n\t_onResize: function () {\r\n\t\tL.Util.cancelAnimFrame(this._resizeRequest);\r\n\t\tthis._resizeRequest = L.Util.requestAnimFrame(\r\n\t\t        function () { this.invalidateSize({debounceMoveend: true}); }, this);\r\n\t},\r\n\r\n\t_onScroll: function () {\r\n\t\tthis._container.scrollTop  = 0;\r\n\t\tthis._container.scrollLeft = 0;\r\n\t},\r\n\r\n\t_onMoveEnd: function () {\r\n\t\tvar pos = this._getMapPanePos();\r\n\t\tif (Math.max(Math.abs(pos.x), Math.abs(pos.y)) >= this.options.transform3DLimit) {\r\n\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1203873 but Webkit also have\r\n\t\t\t// a pixel offset on very high values, see: http://jsfiddle.net/dg6r5hhb/\r\n\t\t\tthis._resetView(this.getCenter(), this.getZoom());\r\n\t\t}\r\n\t},\r\n\r\n\t_findEventTargets: function (e, type) {\r\n\t\tvar targets = [],\r\n\t\t    target,\r\n\t\t    isHover = type === 'mouseout' || type === 'mouseover',\r\n\t\t    src = e.target || e.srcElement,\r\n\t\t    dragging = false;\r\n\r\n\t\twhile (src) {\r\n\t\t\ttarget = this._targets[L.stamp(src)];\r\n\t\t\tif (target && (type === 'click' || type === 'preclick') && !e._simulated && this._draggableMoved(target)) {\r\n\t\t\t\t// Prevent firing click after you just dragged an object.\r\n\t\t\t\tdragging = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (target && target.listens(type, true)) {\r\n\t\t\t\tif (isHover && !L.DomEvent._isExternalTarget(src, e)) { break; }\r\n\t\t\t\ttargets.push(target);\r\n\t\t\t\tif (isHover) { break; }\r\n\t\t\t}\r\n\t\t\tif (src === this._container) { break; }\r\n\t\t\tsrc = src.parentNode;\r\n\t\t}\r\n\t\tif (!targets.length && !dragging && !isHover && L.DomEvent._isExternalTarget(src, e)) {\r\n\t\t\ttargets = [this];\r\n\t\t}\r\n\t\treturn targets;\r\n\t},\r\n\r\n\t_handleDOMEvent: function (e) {\r\n\t\tif (!this._loaded || L.DomEvent._skipped(e)) { return; }\r\n\r\n\t\tvar type = e.type === 'keypress' && e.keyCode === 13 ? 'click' : e.type;\r\n\r\n\t\tif (type === 'mousedown') {\r\n\t\t\t// prevents outline when clicking on keyboard-focusable element\r\n\t\t\tL.DomUtil.preventOutline(e.target || e.srcElement);\r\n\t\t}\r\n\r\n\t\tthis._fireDOMEvent(e, type);\r\n\t},\r\n\r\n\t_fireDOMEvent: function (e, type, targets) {\r\n\r\n\t\tif (e.type === 'click') {\r\n\t\t\t// Fire a synthetic 'preclick' event which propagates up (mainly for closing popups).\r\n\t\t\t// @event preclick: MouseEvent\r\n\t\t\t// Fired before mouse click on the map (sometimes useful when you\r\n\t\t\t// want something to happen on click before any existing click\r\n\t\t\t// handlers start running).\r\n\t\t\tvar synth = L.Util.extend({}, e);\r\n\t\t\tsynth.type = 'preclick';\r\n\t\t\tthis._fireDOMEvent(synth, synth.type, targets);\r\n\t\t}\r\n\r\n\t\tif (e._stopped) { return; }\r\n\r\n\t\t// Find the layer the event is propagating from and its parents.\r\n\t\ttargets = (targets || []).concat(this._findEventTargets(e, type));\r\n\r\n\t\tif (!targets.length) { return; }\r\n\r\n\t\tvar target = targets[0];\r\n\t\tif (type === 'contextmenu' && target.listens(type, true)) {\r\n\t\t\tL.DomEvent.preventDefault(e);\r\n\t\t}\r\n\r\n\t\tvar data = {\r\n\t\t\toriginalEvent: e\r\n\t\t};\r\n\r\n\t\tif (e.type !== 'keypress') {\r\n\t\t\tvar isMarker = target instanceof L.Marker;\r\n\t\t\tdata.containerPoint = isMarker ?\r\n\t\t\t\t\tthis.latLngToContainerPoint(target.getLatLng()) : this.mouseEventToContainerPoint(e);\r\n\t\t\tdata.layerPoint = this.containerPointToLayerPoint(data.containerPoint);\r\n\t\t\tdata.latlng = isMarker ? target.getLatLng() : this.layerPointToLatLng(data.layerPoint);\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < targets.length; i++) {\r\n\t\t\ttargets[i].fire(type, data, true);\r\n\t\t\tif (data.originalEvent._stopped ||\r\n\t\t\t\t(targets[i].options.nonBubblingEvents && L.Util.indexOf(targets[i].options.nonBubblingEvents, type) !== -1)) { return; }\r\n\t\t}\r\n\t},\r\n\r\n\t_draggableMoved: function (obj) {\r\n\t\tobj = obj.dragging && obj.dragging.enabled() ? obj : this;\r\n\t\treturn (obj.dragging && obj.dragging.moved()) || (this.boxZoom && this.boxZoom.moved());\r\n\t},\r\n\r\n\t_clearHandlers: function () {\r\n\t\tfor (var i = 0, len = this._handlers.length; i < len; i++) {\r\n\t\t\tthis._handlers[i].disable();\r\n\t\t}\r\n\t},\r\n\r\n\t// @section Other Methods\r\n\r\n\t// @method whenReady(fn: Function, context?: Object): this\r\n\t// Runs the given function `fn` when the map gets initialized with\r\n\t// a view (center and zoom) and at least one layer, or immediately\r\n\t// if it's already initialized, optionally passing a function context.\r\n\twhenReady: function (callback, context) {\r\n\t\tif (this._loaded) {\r\n\t\t\tcallback.call(context || this, {target: this});\r\n\t\t} else {\r\n\t\t\tthis.on('load', callback, context);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\r\n\t// private methods for getting map state\r\n\r\n\t_getMapPanePos: function () {\r\n\t\treturn L.DomUtil.getPosition(this._mapPane) || new L.Point(0, 0);\r\n\t},\r\n\r\n\t_moved: function () {\r\n\t\tvar pos = this._getMapPanePos();\r\n\t\treturn pos && !pos.equals([0, 0]);\r\n\t},\r\n\r\n\t_getTopLeftPoint: function (center, zoom) {\r\n\t\tvar pixelOrigin = center && zoom !== undefined ?\r\n\t\t\tthis._getNewPixelOrigin(center, zoom) :\r\n\t\t\tthis.getPixelOrigin();\r\n\t\treturn pixelOrigin.subtract(this._getMapPanePos());\r\n\t},\r\n\r\n\t_getNewPixelOrigin: function (center, zoom) {\r\n\t\tvar viewHalf = this.getSize()._divideBy(2);\r\n\t\treturn this.project(center, zoom)._subtract(viewHalf)._add(this._getMapPanePos())._round();\r\n\t},\r\n\r\n\t_latLngToNewLayerPoint: function (latlng, zoom, center) {\r\n\t\tvar topLeft = this._getNewPixelOrigin(center, zoom);\r\n\t\treturn this.project(latlng, zoom)._subtract(topLeft);\r\n\t},\r\n\r\n\t// layer point of the current center\r\n\t_getCenterLayerPoint: function () {\r\n\t\treturn this.containerPointToLayerPoint(this.getSize()._divideBy(2));\r\n\t},\r\n\r\n\t// offset of the specified place to the current center in pixels\r\n\t_getCenterOffset: function (latlng) {\r\n\t\treturn this.latLngToLayerPoint(latlng).subtract(this._getCenterLayerPoint());\r\n\t},\r\n\r\n\t// adjust center for view to get inside bounds\r\n\t_limitCenter: function (center, zoom, bounds) {\r\n\r\n\t\tif (!bounds) { return center; }\r\n\r\n\t\tvar centerPoint = this.project(center, zoom),\r\n\t\t    viewHalf = this.getSize().divideBy(2),\r\n\t\t    viewBounds = new L.Bounds(centerPoint.subtract(viewHalf), centerPoint.add(viewHalf)),\r\n\t\t    offset = this._getBoundsOffset(viewBounds, bounds, zoom);\r\n\r\n\t\t// If offset is less than a pixel, ignore.\r\n\t\t// This prevents unstable projections from getting into\r\n\t\t// an infinite loop of tiny offsets.\r\n\t\tif (offset.round().equals([0, 0])) {\r\n\t\t\treturn center;\r\n\t\t}\r\n\r\n\t\treturn this.unproject(centerPoint.add(offset), zoom);\r\n\t},\r\n\r\n\t// adjust offset for view to get inside bounds\r\n\t_limitOffset: function (offset, bounds) {\r\n\t\tif (!bounds) { return offset; }\r\n\r\n\t\tvar viewBounds = this.getPixelBounds(),\r\n\t\t    newBounds = new L.Bounds(viewBounds.min.add(offset), viewBounds.max.add(offset));\r\n\r\n\t\treturn offset.add(this._getBoundsOffset(newBounds, bounds));\r\n\t},\r\n\r\n\t// returns offset needed for pxBounds to get inside maxBounds at a specified zoom\r\n\t_getBoundsOffset: function (pxBounds, maxBounds, zoom) {\r\n\t\tvar projectedMaxBounds = L.bounds(\r\n\t\t        this.project(maxBounds.getNorthEast(), zoom),\r\n\t\t        this.project(maxBounds.getSouthWest(), zoom)\r\n\t\t    ),\r\n\t\t    minOffset = projectedMaxBounds.min.subtract(pxBounds.min),\r\n\t\t    maxOffset = projectedMaxBounds.max.subtract(pxBounds.max),\r\n\r\n\t\t    dx = this._rebound(minOffset.x, -maxOffset.x),\r\n\t\t    dy = this._rebound(minOffset.y, -maxOffset.y);\r\n\r\n\t\treturn new L.Point(dx, dy);\r\n\t},\r\n\r\n\t_rebound: function (left, right) {\r\n\t\treturn left + right > 0 ?\r\n\t\t\tMath.round(left - right) / 2 :\r\n\t\t\tMath.max(0, Math.ceil(left)) - Math.max(0, Math.floor(right));\r\n\t},\r\n\r\n\t_limitZoom: function (zoom) {\r\n\t\tvar min = this.getMinZoom(),\r\n\t\t    max = this.getMaxZoom(),\r\n\t\t    snap = L.Browser.any3d ? this.options.zoomSnap : 1;\r\n\t\tif (snap) {\r\n\t\t\tzoom = Math.round(zoom / snap) * snap;\r\n\t\t}\r\n\t\treturn Math.max(min, Math.min(max, zoom));\r\n\t}\r\n});\r\n\r\n// @section\r\n\r\n// @factory L.map(id: String, options?: Map options)\r\n// Instantiates a map object given the DOM ID of a `<div>` element\r\n// and optionally an object literal with `Map options`.\r\n//\r\n// @alternative\r\n// @factory L.map(el: HTMLElement, options?: Map options)\r\n// Instantiates a map object given an instance of a `<div>` HTML element\r\n// and optionally an object literal with `Map options`.\r\nL.map = function (id, options) {\r\n\treturn new L.Map(id, options);\r\n};\r\n\n\n/*\n * @class Layer\n * @inherits Evented\n * @aka L.Layer\n * @aka ILayer\n *\n * A set of methods from the Layer base class that all Leaflet layers use.\n * Inherits all methods, options and events from `L.Evented`.\n *\n * @example\n *\n * ```js\n * var layer = L.Marker(latlng).addTo(map);\n * layer.addTo(map);\n * layer.remove();\n * ```\n *\n * @event add: Event\n * Fired after the layer is added to a map\n *\n * @event remove: Event\n * Fired after the layer is removed from a map\n */\n\n\nL.Layer = L.Evented.extend({\n\n\t// Classes extending `L.Layer` will inherit the following options:\n\toptions: {\n\t\t// @option pane: String = 'overlayPane'\n\t\t// By default the layer will be added to the map's [overlay pane](#map-overlaypane). Overriding this option will cause the layer to be placed on another pane by default.\n\t\tpane: 'overlayPane',\n\t\tnonBubblingEvents: []  // Array of events that should not be bubbled to DOM parents (like the map)\n\t},\n\n\t/* @section\n\t * Classes extending `L.Layer` will inherit the following methods:\n\t *\n\t * @method addTo(map: Map): this\n\t * Adds the layer to the given map\n\t */\n\taddTo: function (map) {\n\t\tmap.addLayer(this);\n\t\treturn this;\n\t},\n\n\t// @method remove: this\n\t// Removes the layer from the map it is currently active on.\n\tremove: function () {\n\t\treturn this.removeFrom(this._map || this._mapToAdd);\n\t},\n\n\t// @method removeFrom(map: Map): this\n\t// Removes the layer from the given map\n\tremoveFrom: function (obj) {\n\t\tif (obj) {\n\t\t\tobj.removeLayer(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method getPane(name? : String): HTMLElement\n\t// Returns the `HTMLElement` representing the named pane on the map. If `name` is omitted, returns the pane for this layer.\n\tgetPane: function (name) {\n\t\treturn this._map.getPane(name ? (this.options[name] || name) : this.options.pane);\n\t},\n\n\taddInteractiveTarget: function (targetEl) {\n\t\tthis._map._targets[L.stamp(targetEl)] = this;\n\t\treturn this;\n\t},\n\n\tremoveInteractiveTarget: function (targetEl) {\n\t\tdelete this._map._targets[L.stamp(targetEl)];\n\t\treturn this;\n\t},\n\n\t_layerAdd: function (e) {\n\t\tvar map = e.target;\n\n\t\t// check in case layer gets added and then removed before the map is ready\n\t\tif (!map.hasLayer(this)) { return; }\n\n\t\tthis._map = map;\n\t\tthis._zoomAnimated = map._zoomAnimated;\n\n\t\tif (this.getEvents) {\n\t\t\tvar events = this.getEvents();\n\t\t\tmap.on(events, this);\n\t\t\tthis.once('remove', function () {\n\t\t\t\tmap.off(events, this);\n\t\t\t}, this);\n\t\t}\n\n\t\tthis.onAdd(map);\n\n\t\tif (this.getAttribution && this._map.attributionControl) {\n\t\t\tthis._map.attributionControl.addAttribution(this.getAttribution());\n\t\t}\n\n\t\tthis.fire('add');\n\t\tmap.fire('layeradd', {layer: this});\n\t}\n});\n\n/* @section Extension methods\n * @uninheritable\n *\n * Every layer should extend from `L.Layer` and (re-)implement the following methods.\n *\n * @method onAdd(map: Map): this\n * Should contain code that creates DOM elements for the layer, adds them to `map panes` where they should belong and puts listeners on relevant map events. Called on [`map.addLayer(layer)`](#map-addlayer).\n *\n * @method onRemove(map: Map): this\n * Should contain all clean up code that removes the layer's elements from the DOM and removes listeners previously added in [`onAdd`](#layer-onadd). Called on [`map.removeLayer(layer)`](#map-removelayer).\n *\n * @method getEvents(): Object\n * This optional method should return an object like `{ viewreset: this._reset }` for [`addEventListener`](#evented-addeventlistener). The event handlers in this object will be automatically added and removed from the map with your layer.\n *\n * @method getAttribution(): String\n * This optional method should return a string containing HTML to be shown on the `Attribution control` whenever the layer is visible.\n *\n * @method beforeAdd(map: Map): this\n * Optional method. Called on [`map.addLayer(layer)`](#map-addlayer), before the layer is added to the map, before events are initialized, without waiting until the map is in a usable state. Use for early initialization only.\n */\n\n\n/* @namespace Map\n * @section Layer events\n *\n * @event layeradd: LayerEvent\n * Fired when a new layer is added to the map.\n *\n * @event layerremove: LayerEvent\n * Fired when some layer is removed from the map\n *\n * @section Methods for Layers and Controls\n */\nL.Map.include({\n\t// @method addLayer(layer: Layer): this\n\t// Adds the given layer to the map\n\taddLayer: function (layer) {\n\t\tvar id = L.stamp(layer);\n\t\tif (this._layers[id]) { return this; }\n\t\tthis._layers[id] = layer;\n\n\t\tlayer._mapToAdd = this;\n\n\t\tif (layer.beforeAdd) {\n\t\t\tlayer.beforeAdd(this);\n\t\t}\n\n\t\tthis.whenReady(layer._layerAdd, layer);\n\n\t\treturn this;\n\t},\n\n\t// @method removeLayer(layer: Layer): this\n\t// Removes the given layer from the map.\n\tremoveLayer: function (layer) {\n\t\tvar id = L.stamp(layer);\n\n\t\tif (!this._layers[id]) { return this; }\n\n\t\tif (this._loaded) {\n\t\t\tlayer.onRemove(this);\n\t\t}\n\n\t\tif (layer.getAttribution && this.attributionControl) {\n\t\t\tthis.attributionControl.removeAttribution(layer.getAttribution());\n\t\t}\n\n\t\tdelete this._layers[id];\n\n\t\tif (this._loaded) {\n\t\t\tthis.fire('layerremove', {layer: layer});\n\t\t\tlayer.fire('remove');\n\t\t}\n\n\t\tlayer._map = layer._mapToAdd = null;\n\n\t\treturn this;\n\t},\n\n\t// @method hasLayer(layer: Layer): Boolean\n\t// Returns `true` if the given layer is currently added to the map\n\thasLayer: function (layer) {\n\t\treturn !!layer && (L.stamp(layer) in this._layers);\n\t},\n\n\t/* @method eachLayer(fn: Function, context?: Object): this\n\t * Iterates over the layers of the map, optionally specifying context of the iterator function.\n\t * ```\n\t * map.eachLayer(function(layer){\n\t *     layer.bindPopup('Hello');\n\t * });\n\t * ```\n\t */\n\teachLayer: function (method, context) {\n\t\tfor (var i in this._layers) {\n\t\t\tmethod.call(context, this._layers[i]);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_addLayers: function (layers) {\n\t\tlayers = layers ? (L.Util.isArray(layers) ? layers : [layers]) : [];\n\n\t\tfor (var i = 0, len = layers.length; i < len; i++) {\n\t\t\tthis.addLayer(layers[i]);\n\t\t}\n\t},\n\n\t_addZoomLimit: function (layer) {\n\t\tif (isNaN(layer.options.maxZoom) || !isNaN(layer.options.minZoom)) {\n\t\t\tthis._zoomBoundLayers[L.stamp(layer)] = layer;\n\t\t\tthis._updateZoomLevels();\n\t\t}\n\t},\n\n\t_removeZoomLimit: function (layer) {\n\t\tvar id = L.stamp(layer);\n\n\t\tif (this._zoomBoundLayers[id]) {\n\t\t\tdelete this._zoomBoundLayers[id];\n\t\t\tthis._updateZoomLevels();\n\t\t}\n\t},\n\n\t_updateZoomLevels: function () {\n\t\tvar minZoom = Infinity,\n\t\t    maxZoom = -Infinity,\n\t\t    oldZoomSpan = this._getZoomSpan();\n\n\t\tfor (var i in this._zoomBoundLayers) {\n\t\t\tvar options = this._zoomBoundLayers[i].options;\n\n\t\t\tminZoom = options.minZoom === undefined ? minZoom : Math.min(minZoom, options.minZoom);\n\t\t\tmaxZoom = options.maxZoom === undefined ? maxZoom : Math.max(maxZoom, options.maxZoom);\n\t\t}\n\n\t\tthis._layersMaxZoom = maxZoom === -Infinity ? undefined : maxZoom;\n\t\tthis._layersMinZoom = minZoom === Infinity ? undefined : minZoom;\n\n\t\t// @section Map state change events\n\t\t// @event zoomlevelschange: Event\n\t\t// Fired when the number of zoomlevels on the map is changed due\n\t\t// to adding or removing a layer.\n\t\tif (oldZoomSpan !== this._getZoomSpan()) {\n\t\t\tthis.fire('zoomlevelschange');\n\t\t}\n\t}\n});\n\n/*\r\n * @namespace Projection\r\n * @projection L.Projection.Mercator\r\n *\r\n * Elliptical Mercator projection — more complex than Spherical Mercator. Takes into account that Earth is a geoid, not a perfect sphere. Used by the EPSG:3395 CRS.\r\n */\r\n\r\nL.Projection.Mercator = {\r\n\tR: 6378137,\r\n\tR_MINOR: 6356752.314245179,\r\n\r\n\tbounds: L.bounds([-20037508.34279, -15496570.73972], [20037508.34279, 18764656.23138]),\r\n\r\n\tproject: function (latlng) {\r\n\t\tvar d = Math.PI / 180,\r\n\t\t    r = this.R,\r\n\t\t    y = latlng.lat * d,\r\n\t\t    tmp = this.R_MINOR / r,\r\n\t\t    e = Math.sqrt(1 - tmp * tmp),\r\n\t\t    con = e * Math.sin(y);\r\n\r\n\t\tvar ts = Math.tan(Math.PI / 4 - y / 2) / Math.pow((1 - con) / (1 + con), e / 2);\r\n\t\ty = -r * Math.log(Math.max(ts, 1E-10));\r\n\r\n\t\treturn new L.Point(latlng.lng * d * r, y);\r\n\t},\r\n\r\n\tunproject: function (point) {\r\n\t\tvar d = 180 / Math.PI,\r\n\t\t    r = this.R,\r\n\t\t    tmp = this.R_MINOR / r,\r\n\t\t    e = Math.sqrt(1 - tmp * tmp),\r\n\t\t    ts = Math.exp(-point.y / r),\r\n\t\t    phi = Math.PI / 2 - 2 * Math.atan(ts);\r\n\r\n\t\tfor (var i = 0, dphi = 0.1, con; i < 15 && Math.abs(dphi) > 1e-7; i++) {\r\n\t\t\tcon = e * Math.sin(phi);\r\n\t\t\tcon = Math.pow((1 - con) / (1 + con), e / 2);\r\n\t\t\tdphi = Math.PI / 2 - 2 * Math.atan(ts * con) - phi;\r\n\t\t\tphi += dphi;\r\n\t\t}\r\n\r\n\t\treturn new L.LatLng(phi * d, point.x * d / r);\r\n\t}\r\n};\r\n\n/*\r\n * @namespace CRS\r\n * @crs L.CRS.EPSG3395\r\n *\r\n * Rarely used by some commercial tile providers. Uses Elliptical Mercator projection.\r\n */\r\n\r\nL.CRS.EPSG3395 = L.extend({}, L.CRS.Earth, {\r\n\tcode: 'EPSG:3395',\r\n\tprojection: L.Projection.Mercator,\r\n\r\n\ttransformation: (function () {\r\n\t\tvar scale = 0.5 / (Math.PI * L.Projection.Mercator.R);\r\n\t\treturn new L.Transformation(scale, 0.5, -scale, 0.5);\r\n\t}())\r\n});\r\n\n/*\n * @class GridLayer\n * @inherits Layer\n * @aka L.GridLayer\n *\n * Generic class for handling a tiled grid of HTML elements. This is the base class for all tile layers and replaces `TileLayer.Canvas`.\n * GridLayer can be extended to create a tiled grid of HTML elements like `<canvas>`, `<img>` or `<div>`. GridLayer will handle creating and animating these DOM elements for you.\n *\n *\n * @section Synchronous usage\n * @example\n *\n * To create a custom layer, extend GridLayer and implement the `createTile()` method, which will be passed a `Point` object with the `x`, `y`, and `z` (zoom level) coordinates to draw your tile.\n *\n * ```js\n * var CanvasLayer = L.GridLayer.extend({\n *     createTile: function(coords){\n *         // create a <canvas> element for drawing\n *         var tile = L.DomUtil.create('canvas', 'leaflet-tile');\n *\n *         // setup tile width and height according to the options\n *         var size = this.getTileSize();\n *         tile.width = size.x;\n *         tile.height = size.y;\n *\n *         // get a canvas context and draw something on it using coords.x, coords.y and coords.z\n *         var ctx = tile.getContext('2d');\n *\n *         // return the tile so it can be rendered on screen\n *         return tile;\n *     }\n * });\n * ```\n *\n * @section Asynchronous usage\n * @example\n *\n * Tile creation can also be asynchronous, this is useful when using a third-party drawing library. Once the tile is finished drawing it can be passed to the `done()` callback.\n *\n * ```js\n * var CanvasLayer = L.GridLayer.extend({\n *     createTile: function(coords, done){\n *         var error;\n *\n *         // create a <canvas> element for drawing\n *         var tile = L.DomUtil.create('canvas', 'leaflet-tile');\n *\n *         // setup tile width and height according to the options\n *         var size = this.getTileSize();\n *         tile.width = size.x;\n *         tile.height = size.y;\n *\n *         // draw something asynchronously and pass the tile to the done() callback\n *         setTimeout(function() {\n *             done(error, tile);\n *         }, 1000);\n *\n *         return tile;\n *     }\n * });\n * ```\n *\n * @section\n */\n\n\nL.GridLayer = L.Layer.extend({\n\n\t// @section\n\t// @aka GridLayer options\n\toptions: {\n\t\t// @option tileSize: Number|Point = 256\n\t\t// Width and height of tiles in the grid. Use a number if width and height are equal, or `L.point(width, height)` otherwise.\n\t\ttileSize: 256,\n\n\t\t// @option opacity: Number = 1.0\n\t\t// Opacity of the tiles. Can be used in the `createTile()` function.\n\t\topacity: 1,\n\n\t\t// @option updateWhenIdle: Boolean = depends\n\t\t// If `false`, new tiles are loaded during panning, otherwise only after it (for better performance). `true` by default on mobile browsers, otherwise `false`.\n\t\tupdateWhenIdle: L.Browser.mobile,\n\n\t\t// @option updateWhenZooming: Boolean = true\n\t\t// By default, a smooth zoom animation (during a [touch zoom](#map-touchzoom) or a [`flyTo()`](#map-flyto)) will update grid layers every integer zoom level. Setting this option to `false` will update the grid layer only when the smooth animation ends.\n\t\tupdateWhenZooming: true,\n\n\t\t// @option updateInterval: Number = 200\n\t\t// Tiles will not update more than once every `updateInterval` milliseconds when panning.\n\t\tupdateInterval: 200,\n\n\t\t// @option attribution: String = null\n\t\t// String to be shown in the attribution control, describes the layer data, e.g. \"© Mapbox\".\n\t\tattribution: null,\n\n\t\t// @option zIndex: Number = 1\n\t\t// The explicit zIndex of the tile layer.\n\t\tzIndex: 1,\n\n\t\t// @option bounds: LatLngBounds = undefined\n\t\t// If set, tiles will only be loaded inside the set `LatLngBounds`.\n\t\tbounds: null,\n\n\t\t// @option minZoom: Number = 0\n\t\t// The minimum zoom level that tiles will be loaded at. By default the entire map.\n\t\tminZoom: 0,\n\n\t\t// @option maxZoom: Number = undefined\n\t\t// The maximum zoom level that tiles will be loaded at.\n\t\tmaxZoom: undefined,\n\n\t\t// @option noWrap: Boolean = false\n\t\t// Whether the layer is wrapped around the antimeridian. If `true`, the\n\t\t// GridLayer will only be displayed once at low zoom levels. Has no\n\t\t// effect when the [map CRS](#map-crs) doesn't wrap around.\n\t\tnoWrap: false,\n\n\t\t// @option pane: String = 'tilePane'\n\t\t// `Map pane` where the grid layer will be added.\n\t\tpane: 'tilePane',\n\n\t\t// @option className: String = ''\n\t\t// A custom class name to assign to the tile layer. Empty by default.\n\t\tclassName: '',\n\n\t\t// @option keepBuffer: Number = 2\n\t\t// When panning the map, keep this many rows and columns of tiles before unloading them.\n\t\tkeepBuffer: 2\n\t},\n\n\tinitialize: function (options) {\n\t\tL.setOptions(this, options);\n\t},\n\n\tonAdd: function () {\n\t\tthis._initContainer();\n\n\t\tthis._levels = {};\n\t\tthis._tiles = {};\n\n\t\tthis._resetView();\n\t\tthis._update();\n\t},\n\n\tbeforeAdd: function (map) {\n\t\tmap._addZoomLimit(this);\n\t},\n\n\tonRemove: function (map) {\n\t\tthis._removeAllTiles();\n\t\tL.DomUtil.remove(this._container);\n\t\tmap._removeZoomLimit(this);\n\t\tthis._container = null;\n\t\tthis._tileZoom = null;\n\t},\n\n\t// @method bringToFront: this\n\t// Brings the tile layer to the top of all tile layers.\n\tbringToFront: function () {\n\t\tif (this._map) {\n\t\t\tL.DomUtil.toFront(this._container);\n\t\t\tthis._setAutoZIndex(Math.max);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method bringToBack: this\n\t// Brings the tile layer to the bottom of all tile layers.\n\tbringToBack: function () {\n\t\tif (this._map) {\n\t\t\tL.DomUtil.toBack(this._container);\n\t\t\tthis._setAutoZIndex(Math.min);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method getAttribution: String\n\t// Used by the `attribution control`, returns the [attribution option](#gridlayer-attribution).\n\tgetAttribution: function () {\n\t\treturn this.options.attribution;\n\t},\n\n\t// @method getContainer: HTMLElement\n\t// Returns the HTML element that contains the tiles for this layer.\n\tgetContainer: function () {\n\t\treturn this._container;\n\t},\n\n\t// @method setOpacity(opacity: Number): this\n\t// Changes the [opacity](#gridlayer-opacity) of the grid layer.\n\tsetOpacity: function (opacity) {\n\t\tthis.options.opacity = opacity;\n\t\tthis._updateOpacity();\n\t\treturn this;\n\t},\n\n\t// @method setZIndex(zIndex: Number): this\n\t// Changes the [zIndex](#gridlayer-zindex) of the grid layer.\n\tsetZIndex: function (zIndex) {\n\t\tthis.options.zIndex = zIndex;\n\t\tthis._updateZIndex();\n\n\t\treturn this;\n\t},\n\n\t// @method isLoading: Boolean\n\t// Returns `true` if any tile in the grid layer has not finished loading.\n\tisLoading: function () {\n\t\treturn this._loading;\n\t},\n\n\t// @method redraw: this\n\t// Causes the layer to clear all the tiles and request them again.\n\tredraw: function () {\n\t\tif (this._map) {\n\t\t\tthis._removeAllTiles();\n\t\t\tthis._update();\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetEvents: function () {\n\t\tvar events = {\n\t\t\tviewprereset: this._invalidateAll,\n\t\t\tviewreset: this._resetView,\n\t\t\tzoom: this._resetView,\n\t\t\tmoveend: this._onMoveEnd\n\t\t};\n\n\t\tif (!this.options.updateWhenIdle) {\n\t\t\t// update tiles on move, but not more often than once per given interval\n\t\t\tif (!this._onMove) {\n\t\t\t\tthis._onMove = L.Util.throttle(this._onMoveEnd, this.options.updateInterval, this);\n\t\t\t}\n\n\t\t\tevents.move = this._onMove;\n\t\t}\n\n\t\tif (this._zoomAnimated) {\n\t\t\tevents.zoomanim = this._animateZoom;\n\t\t}\n\n\t\treturn events;\n\t},\n\n\t// @section Extension methods\n\t// Layers extending `GridLayer` shall reimplement the following method.\n\t// @method createTile(coords: Object, done?: Function): HTMLElement\n\t// Called only internally, must be overriden by classes extending `GridLayer`.\n\t// Returns the `HTMLElement` corresponding to the given `coords`. If the `done` callback\n\t// is specified, it must be called when the tile has finished loading and drawing.\n\tcreateTile: function () {\n\t\treturn document.createElement('div');\n\t},\n\n\t// @section\n\t// @method getTileSize: Point\n\t// Normalizes the [tileSize option](#gridlayer-tilesize) into a point. Used by the `createTile()` method.\n\tgetTileSize: function () {\n\t\tvar s = this.options.tileSize;\n\t\treturn s instanceof L.Point ? s : new L.Point(s, s);\n\t},\n\n\t_updateZIndex: function () {\n\t\tif (this._container && this.options.zIndex !== undefined && this.options.zIndex !== null) {\n\t\t\tthis._container.style.zIndex = this.options.zIndex;\n\t\t}\n\t},\n\n\t_setAutoZIndex: function (compare) {\n\t\t// go through all other layers of the same pane, set zIndex to max + 1 (front) or min - 1 (back)\n\n\t\tvar layers = this.getPane().children,\n\t\t    edgeZIndex = -compare(-Infinity, Infinity); // -Infinity for max, Infinity for min\n\n\t\tfor (var i = 0, len = layers.length, zIndex; i < len; i++) {\n\n\t\t\tzIndex = layers[i].style.zIndex;\n\n\t\t\tif (layers[i] !== this._container && zIndex) {\n\t\t\t\tedgeZIndex = compare(edgeZIndex, +zIndex);\n\t\t\t}\n\t\t}\n\n\t\tif (isFinite(edgeZIndex)) {\n\t\t\tthis.options.zIndex = edgeZIndex + compare(-1, 1);\n\t\t\tthis._updateZIndex();\n\t\t}\n\t},\n\n\t_updateOpacity: function () {\n\t\tif (!this._map) { return; }\n\n\t\t// IE doesn't inherit filter opacity properly, so we're forced to set it on tiles\n\t\tif (L.Browser.ielt9) { return; }\n\n\t\tL.DomUtil.setOpacity(this._container, this.options.opacity);\n\n\t\tvar now = +new Date(),\n\t\t    nextFrame = false,\n\t\t    willPrune = false;\n\n\t\tfor (var key in this._tiles) {\n\t\t\tvar tile = this._tiles[key];\n\t\t\tif (!tile.current || !tile.loaded) { continue; }\n\n\t\t\tvar fade = Math.min(1, (now - tile.loaded) / 200);\n\n\t\t\tL.DomUtil.setOpacity(tile.el, fade);\n\t\t\tif (fade < 1) {\n\t\t\t\tnextFrame = true;\n\t\t\t} else {\n\t\t\t\tif (tile.active) { willPrune = true; }\n\t\t\t\ttile.active = true;\n\t\t\t}\n\t\t}\n\n\t\tif (willPrune && !this._noPrune) { this._pruneTiles(); }\n\n\t\tif (nextFrame) {\n\t\t\tL.Util.cancelAnimFrame(this._fadeFrame);\n\t\t\tthis._fadeFrame = L.Util.requestAnimFrame(this._updateOpacity, this);\n\t\t}\n\t},\n\n\t_initContainer: function () {\n\t\tif (this._container) { return; }\n\n\t\tthis._container = L.DomUtil.create('div', 'leaflet-layer ' + (this.options.className || ''));\n\t\tthis._updateZIndex();\n\n\t\tif (this.options.opacity < 1) {\n\t\t\tthis._updateOpacity();\n\t\t}\n\n\t\tthis.getPane().appendChild(this._container);\n\t},\n\n\t_updateLevels: function () {\n\n\t\tvar zoom = this._tileZoom,\n\t\t    maxZoom = this.options.maxZoom;\n\n\t\tif (zoom === undefined) { return undefined; }\n\n\t\tfor (var z in this._levels) {\n\t\t\tif (this._levels[z].el.children.length || z === zoom) {\n\t\t\t\tthis._levels[z].el.style.zIndex = maxZoom - Math.abs(zoom - z);\n\t\t\t} else {\n\t\t\t\tL.DomUtil.remove(this._levels[z].el);\n\t\t\t\tthis._removeTilesAtZoom(z);\n\t\t\t\tdelete this._levels[z];\n\t\t\t}\n\t\t}\n\n\t\tvar level = this._levels[zoom],\n\t\t    map = this._map;\n\n\t\tif (!level) {\n\t\t\tlevel = this._levels[zoom] = {};\n\n\t\t\tlevel.el = L.DomUtil.create('div', 'leaflet-tile-container leaflet-zoom-animated', this._container);\n\t\t\tlevel.el.style.zIndex = maxZoom;\n\n\t\t\tlevel.origin = map.project(map.unproject(map.getPixelOrigin()), zoom).round();\n\t\t\tlevel.zoom = zoom;\n\n\t\t\tthis._setZoomTransform(level, map.getCenter(), map.getZoom());\n\n\t\t\t// force the browser to consider the newly added element for transition\n\t\t\tL.Util.falseFn(level.el.offsetWidth);\n\t\t}\n\n\t\tthis._level = level;\n\n\t\treturn level;\n\t},\n\n\t_pruneTiles: function () {\n\t\tif (!this._map) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar key, tile;\n\n\t\tvar zoom = this._map.getZoom();\n\t\tif (zoom > this.options.maxZoom ||\n\t\t\tzoom < this.options.minZoom) {\n\t\t\tthis._removeAllTiles();\n\t\t\treturn;\n\t\t}\n\n\t\tfor (key in this._tiles) {\n\t\t\ttile = this._tiles[key];\n\t\t\ttile.retain = tile.current;\n\t\t}\n\n\t\tfor (key in this._tiles) {\n\t\t\ttile = this._tiles[key];\n\t\t\tif (tile.current && !tile.active) {\n\t\t\t\tvar coords = tile.coords;\n\t\t\t\tif (!this._retainParent(coords.x, coords.y, coords.z, coords.z - 5)) {\n\t\t\t\t\tthis._retainChildren(coords.x, coords.y, coords.z, coords.z + 2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (key in this._tiles) {\n\t\t\tif (!this._tiles[key].retain) {\n\t\t\t\tthis._removeTile(key);\n\t\t\t}\n\t\t}\n\t},\n\n\t_removeTilesAtZoom: function (zoom) {\n\t\tfor (var key in this._tiles) {\n\t\t\tif (this._tiles[key].coords.z !== zoom) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis._removeTile(key);\n\t\t}\n\t},\n\n\t_removeAllTiles: function () {\n\t\tfor (var key in this._tiles) {\n\t\t\tthis._removeTile(key);\n\t\t}\n\t},\n\n\t_invalidateAll: function () {\n\t\tfor (var z in this._levels) {\n\t\t\tL.DomUtil.remove(this._levels[z].el);\n\t\t\tdelete this._levels[z];\n\t\t}\n\t\tthis._removeAllTiles();\n\n\t\tthis._tileZoom = null;\n\t},\n\n\t_retainParent: function (x, y, z, minZoom) {\n\t\tvar x2 = Math.floor(x / 2),\n\t\t    y2 = Math.floor(y / 2),\n\t\t    z2 = z - 1,\n\t\t    coords2 = new L.Point(+x2, +y2);\n\t\tcoords2.z = +z2;\n\n\t\tvar key = this._tileCoordsToKey(coords2),\n\t\t    tile = this._tiles[key];\n\n\t\tif (tile && tile.active) {\n\t\t\ttile.retain = true;\n\t\t\treturn true;\n\n\t\t} else if (tile && tile.loaded) {\n\t\t\ttile.retain = true;\n\t\t}\n\n\t\tif (z2 > minZoom) {\n\t\t\treturn this._retainParent(x2, y2, z2, minZoom);\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_retainChildren: function (x, y, z, maxZoom) {\n\n\t\tfor (var i = 2 * x; i < 2 * x + 2; i++) {\n\t\t\tfor (var j = 2 * y; j < 2 * y + 2; j++) {\n\n\t\t\t\tvar coords = new L.Point(i, j);\n\t\t\t\tcoords.z = z + 1;\n\n\t\t\t\tvar key = this._tileCoordsToKey(coords),\n\t\t\t\t    tile = this._tiles[key];\n\n\t\t\t\tif (tile && tile.active) {\n\t\t\t\t\ttile.retain = true;\n\t\t\t\t\tcontinue;\n\n\t\t\t\t} else if (tile && tile.loaded) {\n\t\t\t\t\ttile.retain = true;\n\t\t\t\t}\n\n\t\t\t\tif (z + 1 < maxZoom) {\n\t\t\t\t\tthis._retainChildren(i, j, z + 1, maxZoom);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_resetView: function (e) {\n\t\tvar animating = e && (e.pinch || e.flyTo);\n\t\tthis._setView(this._map.getCenter(), this._map.getZoom(), animating, animating);\n\t},\n\n\t_animateZoom: function (e) {\n\t\tthis._setView(e.center, e.zoom, true, e.noUpdate);\n\t},\n\n\t_setView: function (center, zoom, noPrune, noUpdate) {\n\t\tvar tileZoom = Math.round(zoom);\n\t\tif ((this.options.maxZoom !== undefined && tileZoom > this.options.maxZoom) ||\n\t\t    (this.options.minZoom !== undefined && tileZoom < this.options.minZoom)) {\n\t\t\ttileZoom = undefined;\n\t\t}\n\n\t\tvar tileZoomChanged = this.options.updateWhenZooming && (tileZoom !== this._tileZoom);\n\n\t\tif (!noUpdate || tileZoomChanged) {\n\n\t\t\tthis._tileZoom = tileZoom;\n\n\t\t\tif (this._abortLoading) {\n\t\t\t\tthis._abortLoading();\n\t\t\t}\n\n\t\t\tthis._updateLevels();\n\t\t\tthis._resetGrid();\n\n\t\t\tif (tileZoom !== undefined) {\n\t\t\t\tthis._update(center);\n\t\t\t}\n\n\t\t\tif (!noPrune) {\n\t\t\t\tthis._pruneTiles();\n\t\t\t}\n\n\t\t\t// Flag to prevent _updateOpacity from pruning tiles during\n\t\t\t// a zoom anim or a pinch gesture\n\t\t\tthis._noPrune = !!noPrune;\n\t\t}\n\n\t\tthis._setZoomTransforms(center, zoom);\n\t},\n\n\t_setZoomTransforms: function (center, zoom) {\n\t\tfor (var i in this._levels) {\n\t\t\tthis._setZoomTransform(this._levels[i], center, zoom);\n\t\t}\n\t},\n\n\t_setZoomTransform: function (level, center, zoom) {\n\t\tvar scale = this._map.getZoomScale(zoom, level.zoom),\n\t\t    translate = level.origin.multiplyBy(scale)\n\t\t        .subtract(this._map._getNewPixelOrigin(center, zoom)).round();\n\n\t\tif (L.Browser.any3d) {\n\t\t\tL.DomUtil.setTransform(level.el, translate, scale);\n\t\t} else {\n\t\t\tL.DomUtil.setPosition(level.el, translate);\n\t\t}\n\t},\n\n\t_resetGrid: function () {\n\t\tvar map = this._map,\n\t\t    crs = map.options.crs,\n\t\t    tileSize = this._tileSize = this.getTileSize(),\n\t\t    tileZoom = this._tileZoom;\n\n\t\tvar bounds = this._map.getPixelWorldBounds(this._tileZoom);\n\t\tif (bounds) {\n\t\t\tthis._globalTileRange = this._pxBoundsToTileRange(bounds);\n\t\t}\n\n\t\tthis._wrapX = crs.wrapLng && !this.options.noWrap && [\n\t\t\tMath.floor(map.project([0, crs.wrapLng[0]], tileZoom).x / tileSize.x),\n\t\t\tMath.ceil(map.project([0, crs.wrapLng[1]], tileZoom).x / tileSize.y)\n\t\t];\n\t\tthis._wrapY = crs.wrapLat && !this.options.noWrap && [\n\t\t\tMath.floor(map.project([crs.wrapLat[0], 0], tileZoom).y / tileSize.x),\n\t\t\tMath.ceil(map.project([crs.wrapLat[1], 0], tileZoom).y / tileSize.y)\n\t\t];\n\t},\n\n\t_onMoveEnd: function () {\n\t\tif (!this._map || this._map._animatingZoom) { return; }\n\n\t\tthis._update();\n\t},\n\n\t_getTiledPixelBounds: function (center) {\n\t\tvar map = this._map,\n\t\t    mapZoom = map._animatingZoom ? Math.max(map._animateToZoom, map.getZoom()) : map.getZoom(),\n\t\t    scale = map.getZoomScale(mapZoom, this._tileZoom),\n\t\t    pixelCenter = map.project(center, this._tileZoom).floor(),\n\t\t    halfSize = map.getSize().divideBy(scale * 2);\n\n\t\treturn new L.Bounds(pixelCenter.subtract(halfSize), pixelCenter.add(halfSize));\n\t},\n\n\t// Private method to load tiles in the grid's active zoom level according to map bounds\n\t_update: function (center) {\n\t\tvar map = this._map;\n\t\tif (!map) { return; }\n\t\tvar zoom = map.getZoom();\n\n\t\tif (center === undefined) { center = map.getCenter(); }\n\t\tif (this._tileZoom === undefined) { return; }\t// if out of minzoom/maxzoom\n\n\t\tvar pixelBounds = this._getTiledPixelBounds(center),\n\t\t    tileRange = this._pxBoundsToTileRange(pixelBounds),\n\t\t    tileCenter = tileRange.getCenter(),\n\t\t    queue = [],\n\t\t    margin = this.options.keepBuffer,\n\t\t    noPruneRange = new L.Bounds(tileRange.getBottomLeft().subtract([margin, -margin]),\n\t\t                              tileRange.getTopRight().add([margin, -margin]));\n\n\t\tfor (var key in this._tiles) {\n\t\t\tvar c = this._tiles[key].coords;\n\t\t\tif (c.z !== this._tileZoom || !noPruneRange.contains(L.point(c.x, c.y))) {\n\t\t\t\tthis._tiles[key].current = false;\n\t\t\t}\n\t\t}\n\n\t\t// _update just loads more tiles. If the tile zoom level differs too much\n\t\t// from the map's, let _setView reset levels and prune old tiles.\n\t\tif (Math.abs(zoom - this._tileZoom) > 1) { this._setView(center, zoom); return; }\n\n\t\t// create a queue of coordinates to load tiles from\n\t\tfor (var j = tileRange.min.y; j <= tileRange.max.y; j++) {\n\t\t\tfor (var i = tileRange.min.x; i <= tileRange.max.x; i++) {\n\t\t\t\tvar coords = new L.Point(i, j);\n\t\t\t\tcoords.z = this._tileZoom;\n\n\t\t\t\tif (!this._isValidTile(coords)) { continue; }\n\n\t\t\t\tvar tile = this._tiles[this._tileCoordsToKey(coords)];\n\t\t\t\tif (tile) {\n\t\t\t\t\ttile.current = true;\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push(coords);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// sort tile queue to load tiles in order of their distance to center\n\t\tqueue.sort(function (a, b) {\n\t\t\treturn a.distanceTo(tileCenter) - b.distanceTo(tileCenter);\n\t\t});\n\n\t\tif (queue.length !== 0) {\n\t\t\t// if it's the first batch of tiles to load\n\t\t\tif (!this._loading) {\n\t\t\t\tthis._loading = true;\n\t\t\t\t// @event loading: Event\n\t\t\t\t// Fired when the grid layer starts loading tiles.\n\t\t\t\tthis.fire('loading');\n\t\t\t}\n\n\t\t\t// create DOM fragment to append tiles in one batch\n\t\t\tvar fragment = document.createDocumentFragment();\n\n\t\t\tfor (i = 0; i < queue.length; i++) {\n\t\t\t\tthis._addTile(queue[i], fragment);\n\t\t\t}\n\n\t\t\tthis._level.el.appendChild(fragment);\n\t\t}\n\t},\n\n\t_isValidTile: function (coords) {\n\t\tvar crs = this._map.options.crs;\n\n\t\tif (!crs.infinite) {\n\t\t\t// don't load tile if it's out of bounds and not wrapped\n\t\t\tvar bounds = this._globalTileRange;\n\t\t\tif ((!crs.wrapLng && (coords.x < bounds.min.x || coords.x > bounds.max.x)) ||\n\t\t\t    (!crs.wrapLat && (coords.y < bounds.min.y || coords.y > bounds.max.y))) { return false; }\n\t\t}\n\n\t\tif (!this.options.bounds) { return true; }\n\n\t\t// don't load tile if it doesn't intersect the bounds in options\n\t\tvar tileBounds = this._tileCoordsToBounds(coords);\n\t\treturn L.latLngBounds(this.options.bounds).overlaps(tileBounds);\n\t},\n\n\t_keyToBounds: function (key) {\n\t\treturn this._tileCoordsToBounds(this._keyToTileCoords(key));\n\t},\n\n\t// converts tile coordinates to its geographical bounds\n\t_tileCoordsToBounds: function (coords) {\n\n\t\tvar map = this._map,\n\t\t    tileSize = this.getTileSize(),\n\n\t\t    nwPoint = coords.scaleBy(tileSize),\n\t\t    sePoint = nwPoint.add(tileSize),\n\n\t\t    nw = map.unproject(nwPoint, coords.z),\n\t\t    se = map.unproject(sePoint, coords.z);\n\n\t\tif (!this.options.noWrap) {\n\t\t\tnw = map.wrapLatLng(nw);\n\t\t\tse = map.wrapLatLng(se);\n\t\t}\n\n\t\treturn new L.LatLngBounds(nw, se);\n\t},\n\n\t// converts tile coordinates to key for the tile cache\n\t_tileCoordsToKey: function (coords) {\n\t\treturn coords.x + ':' + coords.y + ':' + coords.z;\n\t},\n\n\t// converts tile cache key to coordinates\n\t_keyToTileCoords: function (key) {\n\t\tvar k = key.split(':'),\n\t\t    coords = new L.Point(+k[0], +k[1]);\n\t\tcoords.z = +k[2];\n\t\treturn coords;\n\t},\n\n\t_removeTile: function (key) {\n\t\tvar tile = this._tiles[key];\n\t\tif (!tile) { return; }\n\n\t\tL.DomUtil.remove(tile.el);\n\n\t\tdelete this._tiles[key];\n\n\t\t// @event tileunload: TileEvent\n\t\t// Fired when a tile is removed (e.g. when a tile goes off the screen).\n\t\tthis.fire('tileunload', {\n\t\t\ttile: tile.el,\n\t\t\tcoords: this._keyToTileCoords(key)\n\t\t});\n\t},\n\n\t_initTile: function (tile) {\n\t\tL.DomUtil.addClass(tile, 'leaflet-tile');\n\n\t\tvar tileSize = this.getTileSize();\n\t\ttile.style.width = tileSize.x + 'px';\n\t\ttile.style.height = tileSize.y + 'px';\n\n\t\ttile.onselectstart = L.Util.falseFn;\n\t\ttile.onmousemove = L.Util.falseFn;\n\n\t\t// update opacity on tiles in IE7-8 because of filter inheritance problems\n\t\tif (L.Browser.ielt9 && this.options.opacity < 1) {\n\t\t\tL.DomUtil.setOpacity(tile, this.options.opacity);\n\t\t}\n\n\t\t// without this hack, tiles disappear after zoom on Chrome for Android\n\t\t// https://github.com/Leaflet/Leaflet/issues/2078\n\t\tif (L.Browser.android && !L.Browser.android23) {\n\t\t\ttile.style.WebkitBackfaceVisibility = 'hidden';\n\t\t}\n\t},\n\n\t_addTile: function (coords, container) {\n\t\tvar tilePos = this._getTilePos(coords),\n\t\t    key = this._tileCoordsToKey(coords);\n\n\t\tvar tile = this.createTile(this._wrapCoords(coords), L.bind(this._tileReady, this, coords));\n\n\t\tthis._initTile(tile);\n\n\t\t// if createTile is defined with a second argument (\"done\" callback),\n\t\t// we know that tile is async and will be ready later; otherwise\n\t\tif (this.createTile.length < 2) {\n\t\t\t// mark tile as ready, but delay one frame for opacity animation to happen\n\t\t\tL.Util.requestAnimFrame(L.bind(this._tileReady, this, coords, null, tile));\n\t\t}\n\n\t\tL.DomUtil.setPosition(tile, tilePos);\n\n\t\t// save tile in cache\n\t\tthis._tiles[key] = {\n\t\t\tel: tile,\n\t\t\tcoords: coords,\n\t\t\tcurrent: true\n\t\t};\n\n\t\tcontainer.appendChild(tile);\n\t\t// @event tileloadstart: TileEvent\n\t\t// Fired when a tile is requested and starts loading.\n\t\tthis.fire('tileloadstart', {\n\t\t\ttile: tile,\n\t\t\tcoords: coords\n\t\t});\n\t},\n\n\t_tileReady: function (coords, err, tile) {\n\t\tif (!this._map) { return; }\n\n\t\tif (err) {\n\t\t\t// @event tileerror: TileErrorEvent\n\t\t\t// Fired when there is an error loading a tile.\n\t\t\tthis.fire('tileerror', {\n\t\t\t\terror: err,\n\t\t\t\ttile: tile,\n\t\t\t\tcoords: coords\n\t\t\t});\n\t\t}\n\n\t\tvar key = this._tileCoordsToKey(coords);\n\n\t\ttile = this._tiles[key];\n\t\tif (!tile) { return; }\n\n\t\ttile.loaded = +new Date();\n\t\tif (this._map._fadeAnimated) {\n\t\t\tL.DomUtil.setOpacity(tile.el, 0);\n\t\t\tL.Util.cancelAnimFrame(this._fadeFrame);\n\t\t\tthis._fadeFrame = L.Util.requestAnimFrame(this._updateOpacity, this);\n\t\t} else {\n\t\t\ttile.active = true;\n\t\t\tthis._pruneTiles();\n\t\t}\n\n\t\tif (!err) {\n\t\t\tL.DomUtil.addClass(tile.el, 'leaflet-tile-loaded');\n\n\t\t\t// @event tileload: TileEvent\n\t\t\t// Fired when a tile loads.\n\t\t\tthis.fire('tileload', {\n\t\t\t\ttile: tile.el,\n\t\t\t\tcoords: coords\n\t\t\t});\n\t\t}\n\n\t\tif (this._noTilesToLoad()) {\n\t\t\tthis._loading = false;\n\t\t\t// @event load: Event\n\t\t\t// Fired when the grid layer loaded all visible tiles.\n\t\t\tthis.fire('load');\n\n\t\t\tif (L.Browser.ielt9 || !this._map._fadeAnimated) {\n\t\t\t\tL.Util.requestAnimFrame(this._pruneTiles, this);\n\t\t\t} else {\n\t\t\t\t// Wait a bit more than 0.2 secs (the duration of the tile fade-in)\n\t\t\t\t// to trigger a pruning.\n\t\t\t\tsetTimeout(L.bind(this._pruneTiles, this), 250);\n\t\t\t}\n\t\t}\n\t},\n\n\t_getTilePos: function (coords) {\n\t\treturn coords.scaleBy(this.getTileSize()).subtract(this._level.origin);\n\t},\n\n\t_wrapCoords: function (coords) {\n\t\tvar newCoords = new L.Point(\n\t\t\tthis._wrapX ? L.Util.wrapNum(coords.x, this._wrapX) : coords.x,\n\t\t\tthis._wrapY ? L.Util.wrapNum(coords.y, this._wrapY) : coords.y);\n\t\tnewCoords.z = coords.z;\n\t\treturn newCoords;\n\t},\n\n\t_pxBoundsToTileRange: function (bounds) {\n\t\tvar tileSize = this.getTileSize();\n\t\treturn new L.Bounds(\n\t\t\tbounds.min.unscaleBy(tileSize).floor(),\n\t\t\tbounds.max.unscaleBy(tileSize).ceil().subtract([1, 1]));\n\t},\n\n\t_noTilesToLoad: function () {\n\t\tfor (var key in this._tiles) {\n\t\t\tif (!this._tiles[key].loaded) { return false; }\n\t\t}\n\t\treturn true;\n\t}\n});\n\n// @factory L.gridLayer(options?: GridLayer options)\n// Creates a new instance of GridLayer with the supplied options.\nL.gridLayer = function (options) {\n\treturn new L.GridLayer(options);\n};\n\n/*\r\n * @class TileLayer\r\n * @inherits GridLayer\r\n * @aka L.TileLayer\r\n * Used to load and display tile layers on the map. Extends `GridLayer`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png?{foo}', {foo: 'bar'}).addTo(map);\r\n * ```\r\n *\r\n * @section URL template\r\n * @example\r\n *\r\n * A string of the following form:\r\n *\r\n * ```\r\n * 'http://{s}.somedomain.com/blabla/{z}/{x}/{y}{r}.png'\r\n * ```\r\n *\r\n * `{s}` means one of the available subdomains (used sequentially to help with browser parallel requests per domain limitation; subdomain values are specified in options; `a`, `b` or `c` by default, can be omitted), `{z}` — zoom level, `{x}` and `{y}` — tile coordinates. `{r}` can be used to add @2x to the URL to load retina tiles.\r\n *\r\n * You can use custom keys in the template, which will be [evaluated](#util-template) from TileLayer options, like this:\r\n *\r\n * ```\r\n * L.tileLayer('http://{s}.somedomain.com/{foo}/{z}/{x}/{y}.png', {foo: 'bar'});\r\n * ```\r\n */\r\n\r\n\r\nL.TileLayer = L.GridLayer.extend({\r\n\r\n\t// @section\r\n\t// @aka TileLayer options\r\n\toptions: {\r\n\t\t// @option minZoom: Number = 0\r\n\t\t// Minimum zoom number.\r\n\t\tminZoom: 0,\r\n\r\n\t\t// @option maxZoom: Number = 18\r\n\t\t// Maximum zoom number.\r\n\t\tmaxZoom: 18,\r\n\r\n\t\t// @option maxNativeZoom: Number = null\r\n\t\t// Maximum zoom number the tile source has available. If it is specified,\r\n\t\t// the tiles on all zoom levels higher than `maxNativeZoom` will be loaded\r\n\t\t// from `maxNativeZoom` level and auto-scaled.\r\n\t\tmaxNativeZoom: null,\r\n\r\n\t\t// @option subdomains: String|String[] = 'abc'\r\n\t\t// Subdomains of the tile service. Can be passed in the form of one string (where each letter is a subdomain name) or an array of strings.\r\n\t\tsubdomains: 'abc',\r\n\r\n\t\t// @option errorTileUrl: String = ''\r\n\t\t// URL to the tile image to show in place of the tile that failed to load.\r\n\t\terrorTileUrl: '',\r\n\r\n\t\t// @option zoomOffset: Number = 0\r\n\t\t// The zoom number used in tile URLs will be offset with this value.\r\n\t\tzoomOffset: 0,\r\n\r\n\t\t// @option tms: Boolean = false\r\n\t\t// If `true`, inverses Y axis numbering for tiles (turn this on for [TMS](https://en.wikipedia.org/wiki/Tile_Map_Service) services).\r\n\t\ttms: false,\r\n\r\n\t\t// @option zoomReverse: Boolean = false\r\n\t\t// If set to true, the zoom number used in tile URLs will be reversed (`maxZoom - zoom` instead of `zoom`)\r\n\t\tzoomReverse: false,\r\n\r\n\t\t// @option detectRetina: Boolean = false\r\n\t\t// If `true` and user is on a retina display, it will request four tiles of half the specified size and a bigger zoom level in place of one to utilize the high resolution.\r\n\t\tdetectRetina: false,\r\n\r\n\t\t// @option crossOrigin: Boolean = false\r\n\t\t// If true, all tiles will have their crossOrigin attribute set to ''. This is needed if you want to access tile pixel data.\r\n\t\tcrossOrigin: false\r\n\t},\r\n\r\n\tinitialize: function (url, options) {\r\n\r\n\t\tthis._url = url;\r\n\r\n\t\toptions = L.setOptions(this, options);\r\n\r\n\t\t// detecting retina displays, adjusting tileSize and zoom levels\r\n\t\tif (options.detectRetina && L.Browser.retina && options.maxZoom > 0) {\r\n\r\n\t\t\toptions.tileSize = Math.floor(options.tileSize / 2);\r\n\r\n\t\t\tif (!options.zoomReverse) {\r\n\t\t\t\toptions.zoomOffset++;\r\n\t\t\t\toptions.maxZoom--;\r\n\t\t\t} else {\r\n\t\t\t\toptions.zoomOffset--;\r\n\t\t\t\toptions.minZoom++;\r\n\t\t\t}\r\n\r\n\t\t\toptions.minZoom = Math.max(0, options.minZoom);\r\n\t\t}\r\n\r\n\t\tif (typeof options.subdomains === 'string') {\r\n\t\t\toptions.subdomains = options.subdomains.split('');\r\n\t\t}\r\n\r\n\t\t// for https://github.com/Leaflet/Leaflet/issues/137\r\n\t\tif (!L.Browser.android) {\r\n\t\t\tthis.on('tileunload', this._onTileRemove);\r\n\t\t}\r\n\t},\r\n\r\n\t// @method setUrl(url: String, noRedraw?: Boolean): this\r\n\t// Updates the layer's URL template and redraws it (unless `noRedraw` is set to `true`).\r\n\tsetUrl: function (url, noRedraw) {\r\n\t\tthis._url = url;\r\n\r\n\t\tif (!noRedraw) {\r\n\t\t\tthis.redraw();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method createTile(coords: Object, done?: Function): HTMLElement\r\n\t// Called only internally, overrides GridLayer's [`createTile()`](#gridlayer-createtile)\r\n\t// to return an `<img>` HTML element with the appropiate image URL given `coords`. The `done`\r\n\t// callback is called when the tile has been loaded.\r\n\tcreateTile: function (coords, done) {\r\n\t\tvar tile = document.createElement('img');\r\n\r\n\t\tL.DomEvent.on(tile, 'load', L.bind(this._tileOnLoad, this, done, tile));\r\n\t\tL.DomEvent.on(tile, 'error', L.bind(this._tileOnError, this, done, tile));\r\n\r\n\t\tif (this.options.crossOrigin) {\r\n\t\t\ttile.crossOrigin = '';\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t Alt tag is set to empty string to keep screen readers from reading URL and for compliance reasons\r\n\t\t http://www.w3.org/TR/WCAG20-TECHS/H67\r\n\t\t*/\r\n\t\ttile.alt = '';\r\n\r\n\t\ttile.src = this.getTileUrl(coords);\r\n\r\n\t\treturn tile;\r\n\t},\r\n\r\n\t// @section Extension methods\r\n\t// @uninheritable\r\n\t// Layers extending `TileLayer` might reimplement the following method.\r\n\t// @method getTileUrl(coords: Object): String\r\n\t// Called only internally, returns the URL for a tile given its coordinates.\r\n\t// Classes extending `TileLayer` can override this function to provide custom tile URL naming schemes.\r\n\tgetTileUrl: function (coords) {\r\n\t\tvar data = {\r\n\t\t\tr: L.Browser.retina ? '@2x' : '',\r\n\t\t\ts: this._getSubdomain(coords),\r\n\t\t\tx: coords.x,\r\n\t\t\ty: coords.y,\r\n\t\t\tz: this._getZoomForUrl()\r\n\t\t};\r\n\t\tif (this._map && !this._map.options.crs.infinite) {\r\n\t\t\tvar invertedY = this._globalTileRange.max.y - coords.y;\r\n\t\t\tif (this.options.tms) {\r\n\t\t\t\tdata['y'] = invertedY;\r\n\t\t\t}\r\n\t\t\tdata['-y'] = invertedY;\r\n\t\t}\r\n\r\n\t\treturn L.Util.template(this._url, L.extend(data, this.options));\r\n\t},\r\n\r\n\t_tileOnLoad: function (done, tile) {\r\n\t\t// For https://github.com/Leaflet/Leaflet/issues/3332\r\n\t\tif (L.Browser.ielt9) {\r\n\t\t\tsetTimeout(L.bind(done, this, null, tile), 0);\r\n\t\t} else {\r\n\t\t\tdone(null, tile);\r\n\t\t}\r\n\t},\r\n\r\n\t_tileOnError: function (done, tile, e) {\r\n\t\tvar errorUrl = this.options.errorTileUrl;\r\n\t\tif (errorUrl) {\r\n\t\t\ttile.src = errorUrl;\r\n\t\t}\r\n\t\tdone(e, tile);\r\n\t},\r\n\r\n\tgetTileSize: function () {\r\n\t\tvar map = this._map,\r\n\t\t    tileSize = L.GridLayer.prototype.getTileSize.call(this),\r\n\t\t    zoom = this._tileZoom + this.options.zoomOffset,\r\n\t\t    zoomN = this.options.maxNativeZoom;\r\n\r\n\t\t// increase tile size when overscaling\r\n\t\treturn zoomN !== null && zoom > zoomN ?\r\n\t\t\t\ttileSize.divideBy(map.getZoomScale(zoomN, zoom)).round() :\r\n\t\t\t\ttileSize;\r\n\t},\r\n\r\n\t_onTileRemove: function (e) {\r\n\t\te.tile.onload = null;\r\n\t},\r\n\r\n\t_getZoomForUrl: function () {\r\n\r\n\t\tvar options = this.options,\r\n\t\t    zoom = this._tileZoom;\r\n\r\n\t\tif (options.zoomReverse) {\r\n\t\t\tzoom = options.maxZoom - zoom;\r\n\t\t}\r\n\r\n\t\tzoom += options.zoomOffset;\r\n\r\n\t\treturn options.maxNativeZoom !== null ? Math.min(zoom, options.maxNativeZoom) : zoom;\r\n\t},\r\n\r\n\t_getSubdomain: function (tilePoint) {\r\n\t\tvar index = Math.abs(tilePoint.x + tilePoint.y) % this.options.subdomains.length;\r\n\t\treturn this.options.subdomains[index];\r\n\t},\r\n\r\n\t// stops loading all tiles in the background layer\r\n\t_abortLoading: function () {\r\n\t\tvar i, tile;\r\n\t\tfor (i in this._tiles) {\r\n\t\t\tif (this._tiles[i].coords.z !== this._tileZoom) {\r\n\t\t\t\ttile = this._tiles[i].el;\r\n\r\n\t\t\t\ttile.onload = L.Util.falseFn;\r\n\t\t\t\ttile.onerror = L.Util.falseFn;\r\n\r\n\t\t\t\tif (!tile.complete) {\r\n\t\t\t\t\ttile.src = L.Util.emptyImageUrl;\r\n\t\t\t\t\tL.DomUtil.remove(tile);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\n// @factory L.tilelayer(urlTemplate: String, options?: TileLayer options)\r\n// Instantiates a tile layer object given a `URL template` and optionally an options object.\r\n\r\nL.tileLayer = function (url, options) {\r\n\treturn new L.TileLayer(url, options);\r\n};\r\n\n/*\r\n * @class TileLayer.WMS\r\n * @inherits TileLayer\r\n * @aka L.TileLayer.WMS\r\n * Used to display [WMS](https://en.wikipedia.org/wiki/Web_Map_Service) services as tile layers on the map. Extends `TileLayer`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var nexrad = L.tileLayer.wms(\"http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi\", {\r\n * \tlayers: 'nexrad-n0r-900913',\r\n * \tformat: 'image/png',\r\n * \ttransparent: true,\r\n * \tattribution: \"Weather data © 2012 IEM Nexrad\"\r\n * });\r\n * ```\r\n */\r\n\r\nL.TileLayer.WMS = L.TileLayer.extend({\r\n\r\n\t// @section\r\n\t// @aka TileLayer.WMS options\r\n\t// If any custom options not documented here are used, they will be sent to the\r\n\t// WMS server as extra parameters in each request URL. This can be useful for\r\n\t// [non-standard vendor WMS parameters](http://docs.geoserver.org/stable/en/user/services/wms/vendor.html).\r\n\tdefaultWmsParams: {\r\n\t\tservice: 'WMS',\r\n\t\trequest: 'GetMap',\r\n\r\n\t\t// @option layers: String = ''\r\n\t\t// **(required)** Comma-separated list of WMS layers to show.\r\n\t\tlayers: '',\r\n\r\n\t\t// @option styles: String = ''\r\n\t\t// Comma-separated list of WMS styles.\r\n\t\tstyles: '',\r\n\r\n\t\t// @option format: String = 'image/jpeg'\r\n\t\t// WMS image format (use `'image/png'` for layers with transparency).\r\n\t\tformat: 'image/jpeg',\r\n\r\n\t\t// @option transparent: Boolean = false\r\n\t\t// If `true`, the WMS service will return images with transparency.\r\n\t\ttransparent: false,\r\n\r\n\t\t// @option version: String = '1.1.1'\r\n\t\t// Version of the WMS service to use\r\n\t\tversion: '1.1.1'\r\n\t},\r\n\r\n\toptions: {\r\n\t\t// @option crs: CRS = null\r\n\t\t// Coordinate Reference System to use for the WMS requests, defaults to\r\n\t\t// map CRS. Don't change this if you're not sure what it means.\r\n\t\tcrs: null,\r\n\r\n\t\t// @option uppercase: Boolean = false\r\n\t\t// If `true`, WMS request parameter keys will be uppercase.\r\n\t\tuppercase: false\r\n\t},\r\n\r\n\tinitialize: function (url, options) {\r\n\r\n\t\tthis._url = url;\r\n\r\n\t\tvar wmsParams = L.extend({}, this.defaultWmsParams);\r\n\r\n\t\t// all keys that are not TileLayer options go to WMS params\r\n\t\tfor (var i in options) {\r\n\t\t\tif (!(i in this.options)) {\r\n\t\t\t\twmsParams[i] = options[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\toptions = L.setOptions(this, options);\r\n\r\n\t\twmsParams.width = wmsParams.height = options.tileSize * (options.detectRetina && L.Browser.retina ? 2 : 1);\r\n\r\n\t\tthis.wmsParams = wmsParams;\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\r\n\t\tthis._crs = this.options.crs || map.options.crs;\r\n\t\tthis._wmsVersion = parseFloat(this.wmsParams.version);\r\n\r\n\t\tvar projectionKey = this._wmsVersion >= 1.3 ? 'crs' : 'srs';\r\n\t\tthis.wmsParams[projectionKey] = this._crs.code;\r\n\r\n\t\tL.TileLayer.prototype.onAdd.call(this, map);\r\n\t},\r\n\r\n\tgetTileUrl: function (coords) {\r\n\r\n\t\tvar tileBounds = this._tileCoordsToBounds(coords),\r\n\t\t    nw = this._crs.project(tileBounds.getNorthWest()),\r\n\t\t    se = this._crs.project(tileBounds.getSouthEast()),\r\n\r\n\t\t    bbox = (this._wmsVersion >= 1.3 && this._crs === L.CRS.EPSG4326 ?\r\n\t\t\t    [se.y, nw.x, nw.y, se.x] :\r\n\t\t\t    [nw.x, se.y, se.x, nw.y]).join(','),\r\n\r\n\t\t    url = L.TileLayer.prototype.getTileUrl.call(this, coords);\r\n\r\n\t\treturn url +\r\n\t\t\tL.Util.getParamString(this.wmsParams, url, this.options.uppercase) +\r\n\t\t\t(this.options.uppercase ? '&BBOX=' : '&bbox=') + bbox;\r\n\t},\r\n\r\n\t// @method setParams(params: Object, noRedraw?: Boolean): this\r\n\t// Merges an object with the new parameters and re-requests tiles on the current screen (unless `noRedraw` was set to true).\r\n\tsetParams: function (params, noRedraw) {\r\n\r\n\t\tL.extend(this.wmsParams, params);\r\n\r\n\t\tif (!noRedraw) {\r\n\t\t\tthis.redraw();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n});\r\n\r\n\r\n// @factory L.tileLayer.wms(baseUrl: String, options: TileLayer.WMS options)\r\n// Instantiates a WMS tile layer object given a base URL of the WMS service and a WMS parameters/options object.\r\nL.tileLayer.wms = function (url, options) {\r\n\treturn new L.TileLayer.WMS(url, options);\r\n};\r\n\n/*\r\n * @class ImageOverlay\r\n * @aka L.ImageOverlay\r\n * @inherits Interactive layer\r\n *\r\n * Used to load and display a single image over specific bounds of the map. Extends `Layer`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var imageUrl = 'http://www.lib.utexas.edu/maps/historical/newark_nj_1922.jpg',\r\n * \timageBounds = [[40.712216, -74.22655], [40.773941, -74.12544]];\r\n * L.imageOverlay(imageUrl, imageBounds).addTo(map);\r\n * ```\r\n */\r\n\r\nL.ImageOverlay = L.Layer.extend({\r\n\r\n\t// @section\r\n\t// @aka ImageOverlay options\r\n\toptions: {\r\n\t\t// @option opacity: Number = 1.0\r\n\t\t// The opacity of the image overlay.\r\n\t\topacity: 1,\r\n\r\n\t\t// @option alt: String = ''\r\n\t\t// Text for the `alt` attribute of the image (useful for accessibility).\r\n\t\talt: '',\r\n\r\n\t\t// @option interactive: Boolean = false\r\n\t\t// If `true`, the image overlay will emit [mouse events](#interactive-layer) when clicked or hovered.\r\n\t\tinteractive: false,\r\n\r\n\t\t// @option attribution: String = null\r\n\t\t// An optional string containing HTML to be shown on the `Attribution control`\r\n\t\tattribution: null,\r\n\r\n\t\t// @option crossOrigin: Boolean = false\r\n\t\t// If true, the image will have its crossOrigin attribute set to ''. This is needed if you want to access image pixel data.\r\n\t\tcrossOrigin: false\r\n\t},\r\n\r\n\tinitialize: function (url, bounds, options) { // (String, LatLngBounds, Object)\r\n\t\tthis._url = url;\r\n\t\tthis._bounds = L.latLngBounds(bounds);\r\n\r\n\t\tL.setOptions(this, options);\r\n\t},\r\n\r\n\tonAdd: function () {\r\n\t\tif (!this._image) {\r\n\t\t\tthis._initImage();\r\n\r\n\t\t\tif (this.options.opacity < 1) {\r\n\t\t\t\tthis._updateOpacity();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.options.interactive) {\r\n\t\t\tL.DomUtil.addClass(this._image, 'leaflet-interactive');\r\n\t\t\tthis.addInteractiveTarget(this._image);\r\n\t\t}\r\n\r\n\t\tthis.getPane().appendChild(this._image);\r\n\t\tthis._reset();\r\n\t},\r\n\r\n\tonRemove: function () {\r\n\t\tL.DomUtil.remove(this._image);\r\n\t\tif (this.options.interactive) {\r\n\t\t\tthis.removeInteractiveTarget(this._image);\r\n\t\t}\r\n\t},\r\n\r\n\t// @method setOpacity(opacity: Number): this\r\n\t// Sets the opacity of the overlay.\r\n\tsetOpacity: function (opacity) {\r\n\t\tthis.options.opacity = opacity;\r\n\r\n\t\tif (this._image) {\r\n\t\t\tthis._updateOpacity();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetStyle: function (styleOpts) {\r\n\t\tif (styleOpts.opacity) {\r\n\t\t\tthis.setOpacity(styleOpts.opacity);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method bringToFront(): this\r\n\t// Brings the layer to the top of all overlays.\r\n\tbringToFront: function () {\r\n\t\tif (this._map) {\r\n\t\t\tL.DomUtil.toFront(this._image);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method bringToBack(): this\r\n\t// Brings the layer to the bottom of all overlays.\r\n\tbringToBack: function () {\r\n\t\tif (this._map) {\r\n\t\t\tL.DomUtil.toBack(this._image);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method setUrl(url: String): this\r\n\t// Changes the URL of the image.\r\n\tsetUrl: function (url) {\r\n\t\tthis._url = url;\r\n\r\n\t\tif (this._image) {\r\n\t\t\tthis._image.src = url;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tsetBounds: function (bounds) {\r\n\t\tthis._bounds = bounds;\r\n\r\n\t\tif (this._map) {\r\n\t\t\tthis._reset();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\tgetAttribution: function () {\r\n\t\treturn this.options.attribution;\r\n\t},\r\n\r\n\tgetEvents: function () {\r\n\t\tvar events = {\r\n\t\t\tzoom: this._reset,\r\n\t\t\tviewreset: this._reset\r\n\t\t};\r\n\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tevents.zoomanim = this._animateZoom;\r\n\t\t}\r\n\r\n\t\treturn events;\r\n\t},\r\n\r\n\tgetBounds: function () {\r\n\t\treturn this._bounds;\r\n\t},\r\n\r\n\tgetElement: function () {\r\n\t\treturn this._image;\r\n\t},\r\n\r\n\t_initImage: function () {\r\n\t\tvar img = this._image = L.DomUtil.create('img',\r\n\t\t\t\t'leaflet-image-layer ' + (this._zoomAnimated ? 'leaflet-zoom-animated' : ''));\r\n\r\n\t\timg.onselectstart = L.Util.falseFn;\r\n\t\timg.onmousemove = L.Util.falseFn;\r\n\r\n\t\timg.onload = L.bind(this.fire, this, 'load');\r\n\r\n\t\tif (this.options.crossOrigin) {\r\n\t\t\timg.crossOrigin = '';\r\n\t\t}\r\n\r\n\t\timg.src = this._url;\r\n\t\timg.alt = this.options.alt;\r\n\t},\r\n\r\n\t_animateZoom: function (e) {\r\n\t\tvar scale = this._map.getZoomScale(e.zoom),\r\n\t\t    offset = this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(), e.zoom, e.center);\r\n\r\n\t\tL.DomUtil.setTransform(this._image, offset, scale);\r\n\t},\r\n\r\n\t_reset: function () {\r\n\t\tvar image = this._image,\r\n\t\t    bounds = new L.Bounds(\r\n\t\t        this._map.latLngToLayerPoint(this._bounds.getNorthWest()),\r\n\t\t        this._map.latLngToLayerPoint(this._bounds.getSouthEast())),\r\n\t\t    size = bounds.getSize();\r\n\r\n\t\tL.DomUtil.setPosition(image, bounds.min);\r\n\r\n\t\timage.style.width  = size.x + 'px';\r\n\t\timage.style.height = size.y + 'px';\r\n\t},\r\n\r\n\t_updateOpacity: function () {\r\n\t\tL.DomUtil.setOpacity(this._image, this.options.opacity);\r\n\t}\r\n});\r\n\r\n// @factory L.imageOverlay(imageUrl: String, bounds: LatLngBounds, options?: ImageOverlay options)\r\n// Instantiates an image overlay object given the URL of the image and the\r\n// geographical bounds it is tied to.\r\nL.imageOverlay = function (url, bounds, options) {\r\n\treturn new L.ImageOverlay(url, bounds, options);\r\n};\r\n\n/*\r\n * @class Icon\r\n * @aka L.Icon\r\n * @inherits Layer\r\n *\r\n * Represents an icon to provide when creating a marker.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var myIcon = L.icon({\r\n *     iconUrl: 'my-icon.png',\r\n *     iconRetinaUrl: 'my-icon@2x.png',\r\n *     iconSize: [38, 95],\r\n *     iconAnchor: [22, 94],\r\n *     popupAnchor: [-3, -76],\r\n *     shadowUrl: 'my-icon-shadow.png',\r\n *     shadowRetinaUrl: 'my-icon-shadow@2x.png',\r\n *     shadowSize: [68, 95],\r\n *     shadowAnchor: [22, 94]\r\n * });\r\n *\r\n * L.marker([50.505, 30.57], {icon: myIcon}).addTo(map);\r\n * ```\r\n *\r\n * `L.Icon.Default` extends `L.Icon` and is the blue icon Leaflet uses for markers by default.\r\n *\r\n */\r\n\r\nL.Icon = L.Class.extend({\r\n\r\n\t/* @section\r\n\t * @aka Icon options\r\n\t *\r\n\t * @option iconUrl: String = null\r\n\t * **(required)** The URL to the icon image (absolute or relative to your script path).\r\n\t *\r\n\t * @option iconRetinaUrl: String = null\r\n\t * The URL to a retina sized version of the icon image (absolute or relative to your\r\n\t * script path). Used for Retina screen devices.\r\n\t *\r\n\t * @option iconSize: Point = null\r\n\t * Size of the icon image in pixels.\r\n\t *\r\n\t * @option iconAnchor: Point = null\r\n\t * The coordinates of the \"tip\" of the icon (relative to its top left corner). The icon\r\n\t * will be aligned so that this point is at the marker's geographical location. Centered\r\n\t * by default if size is specified, also can be set in CSS with negative margins.\r\n\t *\r\n\t * @option popupAnchor: Point = null\r\n\t * The coordinates of the point from which popups will \"open\", relative to the icon anchor.\r\n\t *\r\n\t * @option shadowUrl: String = null\r\n\t * The URL to the icon shadow image. If not specified, no shadow image will be created.\r\n\t *\r\n\t * @option shadowRetinaUrl: String = null\r\n\t *\r\n\t * @option shadowSize: Point = null\r\n\t * Size of the shadow image in pixels.\r\n\t *\r\n\t * @option shadowAnchor: Point = null\r\n\t * The coordinates of the \"tip\" of the shadow (relative to its top left corner) (the same\r\n\t * as iconAnchor if not specified).\r\n\t *\r\n\t * @option className: String = ''\r\n\t * A custom class name to assign to both icon and shadow images. Empty by default.\r\n\t */\r\n\r\n\tinitialize: function (options) {\r\n\t\tL.setOptions(this, options);\r\n\t},\r\n\r\n\t// @method createIcon(oldIcon?: HTMLElement): HTMLElement\r\n\t// Called internally when the icon has to be shown, returns a `<img>` HTML element\r\n\t// styled according to the options.\r\n\tcreateIcon: function (oldIcon) {\r\n\t\treturn this._createIcon('icon', oldIcon);\r\n\t},\r\n\r\n\t// @method createShadow(oldIcon?: HTMLElement): HTMLElement\r\n\t// As `createIcon`, but for the shadow beneath it.\r\n\tcreateShadow: function (oldIcon) {\r\n\t\treturn this._createIcon('shadow', oldIcon);\r\n\t},\r\n\r\n\t_createIcon: function (name, oldIcon) {\r\n\t\tvar src = this._getIconUrl(name);\r\n\r\n\t\tif (!src) {\r\n\t\t\tif (name === 'icon') {\r\n\t\t\t\tthrow new Error('iconUrl not set in Icon options (see the docs).');\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tvar img = this._createImg(src, oldIcon && oldIcon.tagName === 'IMG' ? oldIcon : null);\r\n\t\tthis._setIconStyles(img, name);\r\n\r\n\t\treturn img;\r\n\t},\r\n\r\n\t_setIconStyles: function (img, name) {\r\n\t\tvar options = this.options;\r\n\t\tvar sizeOption = options[name + 'Size'];\r\n\r\n\t\tif (typeof sizeOption === 'number') {\r\n\t\t\tsizeOption = [sizeOption, sizeOption];\r\n\t\t}\r\n\r\n\t\tvar size = L.point(sizeOption),\r\n\t\t    anchor = L.point(name === 'shadow' && options.shadowAnchor || options.iconAnchor ||\r\n\t\t            size && size.divideBy(2, true));\r\n\r\n\t\timg.className = 'leaflet-marker-' + name + ' ' + (options.className || '');\r\n\r\n\t\tif (anchor) {\r\n\t\t\timg.style.marginLeft = (-anchor.x) + 'px';\r\n\t\t\timg.style.marginTop  = (-anchor.y) + 'px';\r\n\t\t}\r\n\r\n\t\tif (size) {\r\n\t\t\timg.style.width  = size.x + 'px';\r\n\t\t\timg.style.height = size.y + 'px';\r\n\t\t}\r\n\t},\r\n\r\n\t_createImg: function (src, el) {\r\n\t\tel = el || document.createElement('img');\r\n\t\tel.src = src;\r\n\t\treturn el;\r\n\t},\r\n\r\n\t_getIconUrl: function (name) {\r\n\t\treturn L.Browser.retina && this.options[name + 'RetinaUrl'] || this.options[name + 'Url'];\r\n\t}\r\n});\r\n\r\n\r\n// @factory L.icon(options: Icon options)\r\n// Creates an icon instance with the given options.\r\nL.icon = function (options) {\r\n\treturn new L.Icon(options);\r\n};\r\n\n/*\n * @miniclass Icon.Default (Icon)\n * @aka L.Icon.Default\n * @section\n *\n * A trivial subclass of `Icon`, represents the icon to use in `Marker`s when\n * no icon is specified. Points to the blue marker image distributed with Leaflet\n * releases.\n *\n * In order to change the default icon, just change the properties of `L.Icon.Default.prototype.options`\n * (which is a set of `Icon options`).\n */\n\nL.Icon.Default = L.Icon.extend({\n\n\toptions: {\n\t\ticonUrl:       'marker-icon.png',\n\t\ticonRetinaUrl: 'marker-icon-2x.png',\n\t\tshadowUrl:     'marker-shadow.png',\n\t\ticonSize:    [25, 41],\n\t\ticonAnchor:  [12, 41],\n\t\tpopupAnchor: [1, -34],\n\t\ttooltipAnchor: [16, -28],\n\t\tshadowSize:  [41, 41]\n\t},\n\n\t_getIconUrl: function (name) {\n\t\tif (!L.Icon.Default.imagePath) {\t// Deprecated, backwards-compatibility only\n\t\t\tL.Icon.Default.imagePath = this._detectIconPath();\n\t\t}\n\n\t\t// @option imagePath: String\n\t\t// `L.Icon.Default` will try to auto-detect the absolute location of the\n\t\t// blue icon images. If you are placing these images in a non-standard\n\t\t// way, set this option to point to the right absolute path.\n\t\treturn (this.options.imagePath || L.Icon.Default.imagePath) + L.Icon.prototype._getIconUrl.call(this, name);\n\t},\n\n\t_detectIconPath: function () {\n\t\tvar el = L.DomUtil.create('div',  'leaflet-default-icon-path', document.body);\n\t\tvar path = L.DomUtil.getStyle(el, 'background-image') ||\n\t\t           L.DomUtil.getStyle(el, 'backgroundImage');\t// IE8\n\n\t\tdocument.body.removeChild(el);\n\n\t\treturn path.indexOf('url') === 0 ?\n\t\t\tpath.replace(/^url\\([\\\"\\']?/, '').replace(/marker-icon\\.png[\\\"\\']?\\)$/, '') : '';\n\t}\n});\n\n/*\r\n * @class Marker\r\n * @inherits Interactive layer\r\n * @aka L.Marker\r\n * L.Marker is used to display clickable/draggable icons on the map. Extends `Layer`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * L.marker([50.5, 30.5]).addTo(map);\r\n * ```\r\n */\r\n\r\nL.Marker = L.Layer.extend({\r\n\r\n\t// @section\r\n\t// @aka Marker options\r\n\toptions: {\r\n\t\t// @option icon: Icon = *\r\n\t\t// Icon class to use for rendering the marker. See [Icon documentation](#L.Icon) for details on how to customize the marker icon. If not specified, a new `L.Icon.Default` is used.\r\n\t\ticon: new L.Icon.Default(),\r\n\r\n\t\t// Option inherited from \"Interactive layer\" abstract class\r\n\t\tinteractive: true,\r\n\r\n\t\t// @option draggable: Boolean = false\r\n\t\t// Whether the marker is draggable with mouse/touch or not.\r\n\t\tdraggable: false,\r\n\r\n\t\t// @option keyboard: Boolean = true\r\n\t\t// Whether the marker can be tabbed to with a keyboard and clicked by pressing enter.\r\n\t\tkeyboard: true,\r\n\r\n\t\t// @option title: String = ''\r\n\t\t// Text for the browser tooltip that appear on marker hover (no tooltip by default).\r\n\t\ttitle: '',\r\n\r\n\t\t// @option alt: String = ''\r\n\t\t// Text for the `alt` attribute of the icon image (useful for accessibility).\r\n\t\talt: '',\r\n\r\n\t\t// @option zIndexOffset: Number = 0\r\n\t\t// By default, marker images zIndex is set automatically based on its latitude. Use this option if you want to put the marker on top of all others (or below), specifying a high value like `1000` (or high negative value, respectively).\r\n\t\tzIndexOffset: 0,\r\n\r\n\t\t// @option opacity: Number = 1.0\r\n\t\t// The opacity of the marker.\r\n\t\topacity: 1,\r\n\r\n\t\t// @option riseOnHover: Boolean = false\r\n\t\t// If `true`, the marker will get on top of others when you hover the mouse over it.\r\n\t\triseOnHover: false,\r\n\r\n\t\t// @option riseOffset: Number = 250\r\n\t\t// The z-index offset used for the `riseOnHover` feature.\r\n\t\triseOffset: 250,\r\n\r\n\t\t// @option pane: String = 'markerPane'\r\n\t\t// `Map pane` where the markers icon will be added.\r\n\t\tpane: 'markerPane',\r\n\r\n\t\t// FIXME: shadowPane is no longer a valid option\r\n\t\tnonBubblingEvents: ['click', 'dblclick', 'mouseover', 'mouseout', 'contextmenu']\r\n\t},\r\n\r\n\t/* @section\r\n\t *\r\n\t * In addition to [shared layer methods](#Layer) like `addTo()` and `remove()` and [popup methods](#Popup) like bindPopup() you can also use the following methods:\r\n\t */\r\n\r\n\tinitialize: function (latlng, options) {\r\n\t\tL.setOptions(this, options);\r\n\t\tthis._latlng = L.latLng(latlng);\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._zoomAnimated = this._zoomAnimated && map.options.markerZoomAnimation;\r\n\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tmap.on('zoomanim', this._animateZoom, this);\r\n\t\t}\r\n\r\n\t\tthis._initIcon();\r\n\t\tthis.update();\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tif (this.dragging && this.dragging.enabled()) {\r\n\t\t\tthis.options.draggable = true;\r\n\t\t\tthis.dragging.removeHooks();\r\n\t\t}\r\n\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tmap.off('zoomanim', this._animateZoom, this);\r\n\t\t}\r\n\r\n\t\tthis._removeIcon();\r\n\t\tthis._removeShadow();\r\n\t},\r\n\r\n\tgetEvents: function () {\r\n\t\treturn {\r\n\t\t\tzoom: this.update,\r\n\t\t\tviewreset: this.update\r\n\t\t};\r\n\t},\r\n\r\n\t// @method getLatLng: LatLng\r\n\t// Returns the current geographical position of the marker.\r\n\tgetLatLng: function () {\r\n\t\treturn this._latlng;\r\n\t},\r\n\r\n\t// @method setLatLng(latlng: LatLng): this\r\n\t// Changes the marker position to the given point.\r\n\tsetLatLng: function (latlng) {\r\n\t\tvar oldLatLng = this._latlng;\r\n\t\tthis._latlng = L.latLng(latlng);\r\n\t\tthis.update();\r\n\r\n\t\t// @event move: Event\r\n\t\t// Fired when the marker is moved via [`setLatLng`](#marker-setlatlng) or by [dragging](#marker-dragging). Old and new coordinates are included in event arguments as `oldLatLng`, `latlng`.\r\n\t\treturn this.fire('move', {oldLatLng: oldLatLng, latlng: this._latlng});\r\n\t},\r\n\r\n\t// @method setZIndexOffset(offset: Number): this\r\n\t// Changes the [zIndex offset](#marker-zindexoffset) of the marker.\r\n\tsetZIndexOffset: function (offset) {\r\n\t\tthis.options.zIndexOffset = offset;\r\n\t\treturn this.update();\r\n\t},\r\n\r\n\t// @method setIcon(icon: Icon): this\r\n\t// Changes the marker icon.\r\n\tsetIcon: function (icon) {\r\n\r\n\t\tthis.options.icon = icon;\r\n\r\n\t\tif (this._map) {\r\n\t\t\tthis._initIcon();\r\n\t\t\tthis.update();\r\n\t\t}\r\n\r\n\t\tif (this._popup) {\r\n\t\t\tthis.bindPopup(this._popup, this._popup.options);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tgetElement: function () {\r\n\t\treturn this._icon;\r\n\t},\r\n\r\n\tupdate: function () {\r\n\r\n\t\tif (this._icon) {\r\n\t\t\tvar pos = this._map.latLngToLayerPoint(this._latlng).round();\r\n\t\t\tthis._setPos(pos);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_initIcon: function () {\r\n\t\tvar options = this.options,\r\n\t\t    classToAdd = 'leaflet-zoom-' + (this._zoomAnimated ? 'animated' : 'hide');\r\n\r\n\t\tvar icon = options.icon.createIcon(this._icon),\r\n\t\t    addIcon = false;\r\n\r\n\t\t// if we're not reusing the icon, remove the old one and init new one\r\n\t\tif (icon !== this._icon) {\r\n\t\t\tif (this._icon) {\r\n\t\t\t\tthis._removeIcon();\r\n\t\t\t}\r\n\t\t\taddIcon = true;\r\n\r\n\t\t\tif (options.title) {\r\n\t\t\t\ticon.title = options.title;\r\n\t\t\t}\r\n\t\t\tif (options.alt) {\r\n\t\t\t\ticon.alt = options.alt;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tL.DomUtil.addClass(icon, classToAdd);\r\n\r\n\t\tif (options.keyboard) {\r\n\t\t\ticon.tabIndex = '0';\r\n\t\t}\r\n\r\n\t\tthis._icon = icon;\r\n\r\n\t\tif (options.riseOnHover) {\r\n\t\t\tthis.on({\r\n\t\t\t\tmouseover: this._bringToFront,\r\n\t\t\t\tmouseout: this._resetZIndex\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar newShadow = options.icon.createShadow(this._shadow),\r\n\t\t    addShadow = false;\r\n\r\n\t\tif (newShadow !== this._shadow) {\r\n\t\t\tthis._removeShadow();\r\n\t\t\taddShadow = true;\r\n\t\t}\r\n\r\n\t\tif (newShadow) {\r\n\t\t\tL.DomUtil.addClass(newShadow, classToAdd);\r\n\t\t}\r\n\t\tthis._shadow = newShadow;\r\n\r\n\r\n\t\tif (options.opacity < 1) {\r\n\t\t\tthis._updateOpacity();\r\n\t\t}\r\n\r\n\r\n\t\tif (addIcon) {\r\n\t\t\tthis.getPane().appendChild(this._icon);\r\n\t\t}\r\n\t\tthis._initInteraction();\r\n\t\tif (newShadow && addShadow) {\r\n\t\t\tthis.getPane('shadowPane').appendChild(this._shadow);\r\n\t\t}\r\n\t},\r\n\r\n\t_removeIcon: function () {\r\n\t\tif (this.options.riseOnHover) {\r\n\t\t\tthis.off({\r\n\t\t\t\tmouseover: this._bringToFront,\r\n\t\t\t\tmouseout: this._resetZIndex\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tL.DomUtil.remove(this._icon);\r\n\t\tthis.removeInteractiveTarget(this._icon);\r\n\r\n\t\tthis._icon = null;\r\n\t},\r\n\r\n\t_removeShadow: function () {\r\n\t\tif (this._shadow) {\r\n\t\t\tL.DomUtil.remove(this._shadow);\r\n\t\t}\r\n\t\tthis._shadow = null;\r\n\t},\r\n\r\n\t_setPos: function (pos) {\r\n\t\tL.DomUtil.setPosition(this._icon, pos);\r\n\r\n\t\tif (this._shadow) {\r\n\t\t\tL.DomUtil.setPosition(this._shadow, pos);\r\n\t\t}\r\n\r\n\t\tthis._zIndex = pos.y + this.options.zIndexOffset;\r\n\r\n\t\tthis._resetZIndex();\r\n\t},\r\n\r\n\t_updateZIndex: function (offset) {\r\n\t\tthis._icon.style.zIndex = this._zIndex + offset;\r\n\t},\r\n\r\n\t_animateZoom: function (opt) {\r\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center).round();\r\n\r\n\t\tthis._setPos(pos);\r\n\t},\r\n\r\n\t_initInteraction: function () {\r\n\r\n\t\tif (!this.options.interactive) { return; }\r\n\r\n\t\tL.DomUtil.addClass(this._icon, 'leaflet-interactive');\r\n\r\n\t\tthis.addInteractiveTarget(this._icon);\r\n\r\n\t\tif (L.Handler.MarkerDrag) {\r\n\t\t\tvar draggable = this.options.draggable;\r\n\t\t\tif (this.dragging) {\r\n\t\t\t\tdraggable = this.dragging.enabled();\r\n\t\t\t\tthis.dragging.disable();\r\n\t\t\t}\r\n\r\n\t\t\tthis.dragging = new L.Handler.MarkerDrag(this);\r\n\r\n\t\t\tif (draggable) {\r\n\t\t\t\tthis.dragging.enable();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// @method setOpacity(opacity: Number): this\r\n\t// Changes the opacity of the marker.\r\n\tsetOpacity: function (opacity) {\r\n\t\tthis.options.opacity = opacity;\r\n\t\tif (this._map) {\r\n\t\t\tthis._updateOpacity();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_updateOpacity: function () {\r\n\t\tvar opacity = this.options.opacity;\r\n\r\n\t\tL.DomUtil.setOpacity(this._icon, opacity);\r\n\r\n\t\tif (this._shadow) {\r\n\t\t\tL.DomUtil.setOpacity(this._shadow, opacity);\r\n\t\t}\r\n\t},\r\n\r\n\t_bringToFront: function () {\r\n\t\tthis._updateZIndex(this.options.riseOffset);\r\n\t},\r\n\r\n\t_resetZIndex: function () {\r\n\t\tthis._updateZIndex(0);\r\n\t}\r\n});\r\n\r\n\r\n// factory L.marker(latlng: LatLng, options? : Marker options)\r\n\r\n// @factory L.marker(latlng: LatLng, options? : Marker options)\r\n// Instantiates a Marker object given a geographical point and optionally an options object.\r\nL.marker = function (latlng, options) {\r\n\treturn new L.Marker(latlng, options);\r\n};\r\n\n/*\n * @class DivIcon\n * @aka L.DivIcon\n * @inherits Icon\n *\n * Represents a lightweight icon for markers that uses a simple `<div>`\n * element instead of an image. Inherits from `Icon` but ignores the `iconUrl` and shadow options.\n *\n * @example\n * ```js\n * var myIcon = L.divIcon({className: 'my-div-icon'});\n * // you can set .my-div-icon styles in CSS\n *\n * L.marker([50.505, 30.57], {icon: myIcon}).addTo(map);\n * ```\n *\n * By default, it has a 'leaflet-div-icon' CSS class and is styled as a little white square with a shadow.\n */\n\nL.DivIcon = L.Icon.extend({\n\toptions: {\n\t\t// @section\n\t\t// @aka DivIcon options\n\t\ticonSize: [12, 12], // also can be set through CSS\n\n\t\t// iconAnchor: (Point),\n\t\t// popupAnchor: (Point),\n\n\t\t// @option html: String = ''\n\t\t// Custom HTML code to put inside the div element, empty by default.\n\t\thtml: false,\n\n\t\t// @option bgPos: Point = [0, 0]\n\t\t// Optional relative position of the background, in pixels\n\t\tbgPos: null,\n\n\t\tclassName: 'leaflet-div-icon'\n\t},\n\n\tcreateIcon: function (oldIcon) {\n\t\tvar div = (oldIcon && oldIcon.tagName === 'DIV') ? oldIcon : document.createElement('div'),\n\t\t    options = this.options;\n\n\t\tdiv.innerHTML = options.html !== false ? options.html : '';\n\n\t\tif (options.bgPos) {\n\t\t\tvar bgPos = L.point(options.bgPos);\n\t\t\tdiv.style.backgroundPosition = (-bgPos.x) + 'px ' + (-bgPos.y) + 'px';\n\t\t}\n\t\tthis._setIconStyles(div, 'icon');\n\n\t\treturn div;\n\t},\n\n\tcreateShadow: function () {\n\t\treturn null;\n\t}\n});\n\n// @factory L.divIcon(options: DivIcon options)\n// Creates a `DivIcon` instance with the given options.\nL.divIcon = function (options) {\n\treturn new L.DivIcon(options);\n};\n\n/*\r\n * @class DivOverlay\r\n * @inherits Layer\r\n * @aka L.DivOverlay\r\n * Base model for L.Popup and L.Tooltip. Inherit from it for custom popup like plugins.\r\n */\r\n\r\n// @namespace DivOverlay\r\nL.DivOverlay = L.Layer.extend({\r\n\r\n\t// @section\r\n\t// @aka DivOverlay options\r\n\toptions: {\r\n\t\t// @option offset: Point = Point(0, 7)\r\n\t\t// The offset of the popup position. Useful to control the anchor\r\n\t\t// of the popup when opening it on some overlays.\r\n\t\toffset: [0, 7],\r\n\r\n\t\t// @option className: String = ''\r\n\t\t// A custom CSS class name to assign to the popup.\r\n\t\tclassName: '',\r\n\r\n\t\t// @option pane: String = 'popupPane'\r\n\t\t// `Map pane` where the popup will be added.\r\n\t\tpane: 'popupPane'\r\n\t},\r\n\r\n\tinitialize: function (options, source) {\r\n\t\tL.setOptions(this, options);\r\n\r\n\t\tthis._source = source;\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._zoomAnimated = map._zoomAnimated;\r\n\r\n\t\tif (!this._container) {\r\n\t\t\tthis._initLayout();\r\n\t\t}\r\n\r\n\t\tif (map._fadeAnimated) {\r\n\t\t\tL.DomUtil.setOpacity(this._container, 0);\r\n\t\t}\r\n\r\n\t\tclearTimeout(this._removeTimeout);\r\n\t\tthis.getPane().appendChild(this._container);\r\n\t\tthis.update();\r\n\r\n\t\tif (map._fadeAnimated) {\r\n\t\t\tL.DomUtil.setOpacity(this._container, 1);\r\n\t\t}\r\n\r\n\t\tthis.bringToFront();\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tif (map._fadeAnimated) {\r\n\t\t\tL.DomUtil.setOpacity(this._container, 0);\r\n\t\t\tthis._removeTimeout = setTimeout(L.bind(L.DomUtil.remove, L.DomUtil, this._container), 200);\r\n\t\t} else {\r\n\t\t\tL.DomUtil.remove(this._container);\r\n\t\t}\r\n\t},\r\n\r\n\t// @namespace Popup\r\n\t// @method getLatLng: LatLng\r\n\t// Returns the geographical point of popup.\r\n\tgetLatLng: function () {\r\n\t\treturn this._latlng;\r\n\t},\r\n\r\n\t// @method setLatLng(latlng: LatLng): this\r\n\t// Sets the geographical point where the popup will open.\r\n\tsetLatLng: function (latlng) {\r\n\t\tthis._latlng = L.latLng(latlng);\r\n\t\tif (this._map) {\r\n\t\t\tthis._updatePosition();\r\n\t\t\tthis._adjustPan();\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getContent: String|HTMLElement\r\n\t// Returns the content of the popup.\r\n\tgetContent: function () {\r\n\t\treturn this._content;\r\n\t},\r\n\r\n\t// @method setContent(htmlContent: String|HTMLElement|Function): this\r\n\t// Sets the HTML content of the popup. If a function is passed the source layer will be passed to the function. The function should return a `String` or `HTMLElement` to be used in the popup.\r\n\tsetContent: function (content) {\r\n\t\tthis._content = content;\r\n\t\tthis.update();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getElement: String|HTMLElement\r\n\t// Alias for [getContent()](#popup-getcontent)\r\n\tgetElement: function () {\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\t// @method update: null\r\n\t// Updates the popup content, layout and position. Useful for updating the popup after something inside changed, e.g. image loaded.\r\n\tupdate: function () {\r\n\t\tif (!this._map) { return; }\r\n\r\n\t\tthis._container.style.visibility = 'hidden';\r\n\r\n\t\tthis._updateContent();\r\n\t\tthis._updateLayout();\r\n\t\tthis._updatePosition();\r\n\r\n\t\tthis._container.style.visibility = '';\r\n\r\n\t\tthis._adjustPan();\r\n\t},\r\n\r\n\tgetEvents: function () {\r\n\t\tvar events = {\r\n\t\t\tzoom: this._updatePosition,\r\n\t\t\tviewreset: this._updatePosition\r\n\t\t};\r\n\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tevents.zoomanim = this._animateZoom;\r\n\t\t}\r\n\t\treturn events;\r\n\t},\r\n\r\n\t// @method isOpen: Boolean\r\n\t// Returns `true` when the popup is visible on the map.\r\n\tisOpen: function () {\r\n\t\treturn !!this._map && this._map.hasLayer(this);\r\n\t},\r\n\r\n\t// @method bringToFront: this\r\n\t// Brings this popup in front of other popups (in the same map pane).\r\n\tbringToFront: function () {\r\n\t\tif (this._map) {\r\n\t\t\tL.DomUtil.toFront(this._container);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method bringToBack: this\r\n\t// Brings this popup to the back of other popups (in the same map pane).\r\n\tbringToBack: function () {\r\n\t\tif (this._map) {\r\n\t\t\tL.DomUtil.toBack(this._container);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_updateContent: function () {\r\n\t\tif (!this._content) { return; }\r\n\r\n\t\tvar node = this._contentNode;\r\n\t\tvar content = (typeof this._content === 'function') ? this._content(this._source || this) : this._content;\r\n\r\n\t\tif (typeof content === 'string') {\r\n\t\t\tnode.innerHTML = content;\r\n\t\t} else {\r\n\t\t\twhile (node.hasChildNodes()) {\r\n\t\t\t\tnode.removeChild(node.firstChild);\r\n\t\t\t}\r\n\t\t\tnode.appendChild(content);\r\n\t\t}\r\n\t\tthis.fire('contentupdate');\r\n\t},\r\n\r\n\t_updatePosition: function () {\r\n\t\tif (!this._map) { return; }\r\n\r\n\t\tvar pos = this._map.latLngToLayerPoint(this._latlng),\r\n\t\t    offset = L.point(this.options.offset),\r\n\t\t    anchor = this._getAnchor();\r\n\r\n\t\tif (this._zoomAnimated) {\r\n\t\t\tL.DomUtil.setPosition(this._container, pos.add(anchor));\r\n\t\t} else {\r\n\t\t\toffset = offset.add(pos).add(anchor);\r\n\t\t}\r\n\r\n\t\tvar bottom = this._containerBottom = -offset.y,\r\n\t\t    left = this._containerLeft = -Math.round(this._containerWidth / 2) + offset.x;\r\n\r\n\t\t// bottom position the popup in case the height of the popup changes (images loading etc)\r\n\t\tthis._container.style.bottom = bottom + 'px';\r\n\t\tthis._container.style.left = left + 'px';\r\n\t},\r\n\r\n\t_getAnchor: function () {\r\n\t\treturn [0, 0];\r\n\t}\r\n\r\n});\r\n\n/*\r\n * @class Popup\r\n * @inherits DivOverlay\r\n * @aka L.Popup\r\n * Used to open popups in certain places of the map. Use [Map.openPopup](#map-openpopup) to\r\n * open popups while making sure that only one popup is open at one time\r\n * (recommended for usability), or use [Map.addLayer](#map-addlayer) to open as many as you want.\r\n *\r\n * @example\r\n *\r\n * If you want to just bind a popup to marker click and then open it, it's really easy:\r\n *\r\n * ```js\r\n * marker.bindPopup(popupContent).openPopup();\r\n * ```\r\n * Path overlays like polylines also have a `bindPopup` method.\r\n * Here's a more complicated way to open a popup on a map:\r\n *\r\n * ```js\r\n * var popup = L.popup()\r\n * \t.setLatLng(latlng)\r\n * \t.setContent('<p>Hello world!<br />This is a nice popup.</p>')\r\n * \t.openOn(map);\r\n * ```\r\n */\r\n\r\n\r\n// @namespace Popup\r\nL.Popup = L.DivOverlay.extend({\r\n\r\n\t// @section\r\n\t// @aka Popup options\r\n\toptions: {\r\n\t\t// @option maxWidth: Number = 300\r\n\t\t// Max width of the popup, in pixels.\r\n\t\tmaxWidth: 300,\r\n\r\n\t\t// @option minWidth: Number = 50\r\n\t\t// Min width of the popup, in pixels.\r\n\t\tminWidth: 50,\r\n\r\n\t\t// @option maxHeight: Number = null\r\n\t\t// If set, creates a scrollable container of the given height\r\n\t\t// inside a popup if its content exceeds it.\r\n\t\tmaxHeight: null,\r\n\r\n\t\t// @option autoPan: Boolean = true\r\n\t\t// Set it to `false` if you don't want the map to do panning animation\r\n\t\t// to fit the opened popup.\r\n\t\tautoPan: true,\r\n\r\n\t\t// @option autoPanPaddingTopLeft: Point = null\r\n\t\t// The margin between the popup and the top left corner of the map\r\n\t\t// view after autopanning was performed.\r\n\t\tautoPanPaddingTopLeft: null,\r\n\r\n\t\t// @option autoPanPaddingBottomRight: Point = null\r\n\t\t// The margin between the popup and the bottom right corner of the map\r\n\t\t// view after autopanning was performed.\r\n\t\tautoPanPaddingBottomRight: null,\r\n\r\n\t\t// @option autoPanPadding: Point = Point(5, 5)\r\n\t\t// Equivalent of setting both top left and bottom right autopan padding to the same value.\r\n\t\tautoPanPadding: [5, 5],\r\n\r\n\t\t// @option keepInView: Boolean = false\r\n\t\t// Set it to `true` if you want to prevent users from panning the popup\r\n\t\t// off of the screen while it is open.\r\n\t\tkeepInView: false,\r\n\r\n\t\t// @option closeButton: Boolean = true\r\n\t\t// Controls the presence of a close button in the popup.\r\n\t\tcloseButton: true,\r\n\r\n\t\t// @option autoClose: Boolean = true\r\n\t\t// Set it to `false` if you want to override the default behavior of\r\n\t\t// the popup closing when user clicks the map (set globally by\r\n\t\t// the Map's [closePopupOnClick](#map-closepopuponclick) option).\r\n\t\tautoClose: true,\r\n\r\n\t\t// @option className: String = ''\r\n\t\t// A custom CSS class name to assign to the popup.\r\n\t\tclassName: ''\r\n\t},\r\n\r\n\t// @namespace Popup\r\n\t// @method openOn(map: Map): this\r\n\t// Adds the popup to the map and closes the previous one. The same as `map.openPopup(popup)`.\r\n\topenOn: function (map) {\r\n\t\tmap.openPopup(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tL.DivOverlay.prototype.onAdd.call(this, map);\r\n\r\n\t\t// @namespace Map\r\n\t\t// @section Popup events\r\n\t\t// @event popupopen: PopupEvent\r\n\t\t// Fired when a popup is opened in the map\r\n\t\tmap.fire('popupopen', {popup: this});\r\n\r\n\t\tif (this._source) {\r\n\t\t\t// @namespace Layer\r\n\t\t\t// @section Popup events\r\n\t\t\t// @event popupopen: PopupEvent\r\n\t\t\t// Fired when a popup bound to this layer is opened\r\n\t\t\tthis._source.fire('popupopen', {popup: this}, true);\r\n\t\t\t// For non-path layers, we toggle the popup when clicking\r\n\t\t\t// again the layer, so prevent the map to reopen it.\r\n\t\t\tif (!(this._source instanceof L.Path)) {\r\n\t\t\t\tthis._source.on('preclick', L.DomEvent.stopPropagation);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tL.DivOverlay.prototype.onRemove.call(this, map);\r\n\r\n\t\t// @namespace Map\r\n\t\t// @section Popup events\r\n\t\t// @event popupclose: PopupEvent\r\n\t\t// Fired when a popup in the map is closed\r\n\t\tmap.fire('popupclose', {popup: this});\r\n\r\n\t\tif (this._source) {\r\n\t\t\t// @namespace Layer\r\n\t\t\t// @section Popup events\r\n\t\t\t// @event popupclose: PopupEvent\r\n\t\t\t// Fired when a popup bound to this layer is closed\r\n\t\t\tthis._source.fire('popupclose', {popup: this}, true);\r\n\t\t\tif (!(this._source instanceof L.Path)) {\r\n\t\t\t\tthis._source.off('preclick', L.DomEvent.stopPropagation);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tgetEvents: function () {\r\n\t\tvar events = L.DivOverlay.prototype.getEvents.call(this);\r\n\r\n\t\tif ('closeOnClick' in this.options ? this.options.closeOnClick : this._map.options.closePopupOnClick) {\r\n\t\t\tevents.preclick = this._close;\r\n\t\t}\r\n\r\n\t\tif (this.options.keepInView) {\r\n\t\t\tevents.moveend = this._adjustPan;\r\n\t\t}\r\n\r\n\t\treturn events;\r\n\t},\r\n\r\n\t_close: function () {\r\n\t\tif (this._map) {\r\n\t\t\tthis._map.closePopup(this);\r\n\t\t}\r\n\t},\r\n\r\n\t_initLayout: function () {\r\n\t\tvar prefix = 'leaflet-popup',\r\n\t\t    container = this._container = L.DomUtil.create('div',\r\n\t\t\tprefix + ' ' + (this.options.className || '') +\r\n\t\t\t' leaflet-zoom-animated');\r\n\r\n\t\tif (this.options.closeButton) {\r\n\t\t\tvar closeButton = this._closeButton = L.DomUtil.create('a', prefix + '-close-button', container);\r\n\t\t\tcloseButton.href = '#close';\r\n\t\t\tcloseButton.innerHTML = '&#215;';\r\n\r\n\t\t\tL.DomEvent.on(closeButton, 'click', this._onCloseButtonClick, this);\r\n\t\t}\r\n\r\n\t\tvar wrapper = this._wrapper = L.DomUtil.create('div', prefix + '-content-wrapper', container);\r\n\t\tthis._contentNode = L.DomUtil.create('div', prefix + '-content', wrapper);\r\n\r\n\t\tL.DomEvent\r\n\t\t\t.disableClickPropagation(wrapper)\r\n\t\t\t.disableScrollPropagation(this._contentNode)\r\n\t\t\t.on(wrapper, 'contextmenu', L.DomEvent.stopPropagation);\r\n\r\n\t\tthis._tipContainer = L.DomUtil.create('div', prefix + '-tip-container', container);\r\n\t\tthis._tip = L.DomUtil.create('div', prefix + '-tip', this._tipContainer);\r\n\t},\r\n\r\n\t_updateLayout: function () {\r\n\t\tvar container = this._contentNode,\r\n\t\t    style = container.style;\r\n\r\n\t\tstyle.width = '';\r\n\t\tstyle.whiteSpace = 'nowrap';\r\n\r\n\t\tvar width = container.offsetWidth;\r\n\t\twidth = Math.min(width, this.options.maxWidth);\r\n\t\twidth = Math.max(width, this.options.minWidth);\r\n\r\n\t\tstyle.width = (width + 1) + 'px';\r\n\t\tstyle.whiteSpace = '';\r\n\r\n\t\tstyle.height = '';\r\n\r\n\t\tvar height = container.offsetHeight,\r\n\t\t    maxHeight = this.options.maxHeight,\r\n\t\t    scrolledClass = 'leaflet-popup-scrolled';\r\n\r\n\t\tif (maxHeight && height > maxHeight) {\r\n\t\t\tstyle.height = maxHeight + 'px';\r\n\t\t\tL.DomUtil.addClass(container, scrolledClass);\r\n\t\t} else {\r\n\t\t\tL.DomUtil.removeClass(container, scrolledClass);\r\n\t\t}\r\n\r\n\t\tthis._containerWidth = this._container.offsetWidth;\r\n\t},\r\n\r\n\t_animateZoom: function (e) {\r\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center),\r\n\t\t    anchor = this._getAnchor();\r\n\t\tL.DomUtil.setPosition(this._container, pos.add(anchor));\r\n\t},\r\n\r\n\t_adjustPan: function () {\r\n\t\tif (!this.options.autoPan || (this._map._panAnim && this._map._panAnim._inProgress)) { return; }\r\n\r\n\t\tvar map = this._map,\r\n\t\t    marginBottom = parseInt(L.DomUtil.getStyle(this._container, 'marginBottom'), 10) || 0,\r\n\t\t    containerHeight = this._container.offsetHeight + marginBottom,\r\n\t\t    containerWidth = this._containerWidth,\r\n\t\t    layerPos = new L.Point(this._containerLeft, -containerHeight - this._containerBottom);\r\n\r\n\t\tlayerPos._add(L.DomUtil.getPosition(this._container));\r\n\r\n\t\tvar containerPos = map.layerPointToContainerPoint(layerPos),\r\n\t\t    padding = L.point(this.options.autoPanPadding),\r\n\t\t    paddingTL = L.point(this.options.autoPanPaddingTopLeft || padding),\r\n\t\t    paddingBR = L.point(this.options.autoPanPaddingBottomRight || padding),\r\n\t\t    size = map.getSize(),\r\n\t\t    dx = 0,\r\n\t\t    dy = 0;\r\n\r\n\t\tif (containerPos.x + containerWidth + paddingBR.x > size.x) { // right\r\n\t\t\tdx = containerPos.x + containerWidth - size.x + paddingBR.x;\r\n\t\t}\r\n\t\tif (containerPos.x - dx - paddingTL.x < 0) { // left\r\n\t\t\tdx = containerPos.x - paddingTL.x;\r\n\t\t}\r\n\t\tif (containerPos.y + containerHeight + paddingBR.y > size.y) { // bottom\r\n\t\t\tdy = containerPos.y + containerHeight - size.y + paddingBR.y;\r\n\t\t}\r\n\t\tif (containerPos.y - dy - paddingTL.y < 0) { // top\r\n\t\t\tdy = containerPos.y - paddingTL.y;\r\n\t\t}\r\n\r\n\t\t// @namespace Map\r\n\t\t// @section Popup events\r\n\t\t// @event autopanstart: Event\r\n\t\t// Fired when the map starts autopanning when opening a popup.\r\n\t\tif (dx || dy) {\r\n\t\t\tmap\r\n\t\t\t    .fire('autopanstart')\r\n\t\t\t    .panBy([dx, dy]);\r\n\t\t}\r\n\t},\r\n\r\n\t_onCloseButtonClick: function (e) {\r\n\t\tthis._close();\r\n\t\tL.DomEvent.stop(e);\r\n\t},\r\n\r\n\t_getAnchor: function () {\r\n\t\t// Where should we anchor the popup on the source layer?\r\n\t\treturn L.point(this._source && this._source._getPopupAnchor ? this._source._getPopupAnchor() : [0, 0]);\r\n\t}\r\n\r\n});\r\n\r\n// @namespace Popup\r\n// @factory L.popup(options?: Popup options, source?: Layer)\r\n// Instantiates a `Popup` object given an optional `options` object that describes its appearance and location and an optional `source` object that is used to tag the popup with a reference to the Layer to which it refers.\r\nL.popup = function (options, source) {\r\n\treturn new L.Popup(options, source);\r\n};\r\n\r\n\r\n/* @namespace Map\r\n * @section Interaction Options\r\n * @option closePopupOnClick: Boolean = true\r\n * Set it to `false` if you don't want popups to close when user clicks the map.\r\n */\r\nL.Map.mergeOptions({\r\n\tclosePopupOnClick: true\r\n});\r\n\r\n\r\n// @namespace Map\r\n// @section Methods for Layers and Controls\r\nL.Map.include({\r\n\t// @method openPopup(popup: Popup): this\r\n\t// Opens the specified popup while closing the previously opened (to make sure only one is opened at one time for usability).\r\n\t// @alternative\r\n\t// @method openPopup(content: String|HTMLElement, latlng: LatLng, options?: Popup options): this\r\n\t// Creates a popup with the specified content and options and opens it in the given point on a map.\r\n\topenPopup: function (popup, latlng, options) {\r\n\t\tif (!(popup instanceof L.Popup)) {\r\n\t\t\tpopup = new L.Popup(options).setContent(popup);\r\n\t\t}\r\n\r\n\t\tif (latlng) {\r\n\t\t\tpopup.setLatLng(latlng);\r\n\t\t}\r\n\r\n\t\tif (this.hasLayer(popup)) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tif (this._popup && this._popup.options.autoClose) {\r\n\t\t\tthis.closePopup();\r\n\t\t}\r\n\r\n\t\tthis._popup = popup;\r\n\t\treturn this.addLayer(popup);\r\n\t},\r\n\r\n\t// @method closePopup(popup?: Popup): this\r\n\t// Closes the popup previously opened with [openPopup](#map-openpopup) (or the given one).\r\n\tclosePopup: function (popup) {\r\n\t\tif (!popup || popup === this._popup) {\r\n\t\t\tpopup = this._popup;\r\n\t\t\tthis._popup = null;\r\n\t\t}\r\n\t\tif (popup) {\r\n\t\t\tthis.removeLayer(popup);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n});\r\n\n/*\n * @namespace Layer\n * @section Popup methods example\n *\n * All layers share a set of methods convenient for binding popups to it.\n *\n * ```js\n * var layer = L.Polygon(latlngs).bindPopup('Hi There!').addTo(map);\n * layer.openPopup();\n * layer.closePopup();\n * ```\n *\n * Popups will also be automatically opened when the layer is clicked on and closed when the layer is removed from the map or another popup is opened.\n */\n\n// @section Popup methods\nL.Layer.include({\n\n\t// @method bindPopup(content: String|HTMLElement|Function|Popup, options?: Popup options): this\n\t// Binds a popup to the layer with the passed `content` and sets up the\n\t// neccessary event listeners. If a `Function` is passed it will receive\n\t// the layer as the first argument and should return a `String` or `HTMLElement`.\n\tbindPopup: function (content, options) {\n\n\t\tif (content instanceof L.Popup) {\n\t\t\tL.setOptions(content, options);\n\t\t\tthis._popup = content;\n\t\t\tcontent._source = this;\n\t\t} else {\n\t\t\tif (!this._popup || options) {\n\t\t\t\tthis._popup = new L.Popup(options, this);\n\t\t\t}\n\t\t\tthis._popup.setContent(content);\n\t\t}\n\n\t\tif (!this._popupHandlersAdded) {\n\t\t\tthis.on({\n\t\t\t\tclick: this._openPopup,\n\t\t\t\tremove: this.closePopup,\n\t\t\t\tmove: this._movePopup\n\t\t\t});\n\t\t\tthis._popupHandlersAdded = true;\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// @method unbindPopup(): this\n\t// Removes the popup previously bound with `bindPopup`.\n\tunbindPopup: function () {\n\t\tif (this._popup) {\n\t\t\tthis.off({\n\t\t\t\tclick: this._openPopup,\n\t\t\t\tremove: this.closePopup,\n\t\t\t\tmove: this._movePopup\n\t\t\t});\n\t\t\tthis._popupHandlersAdded = false;\n\t\t\tthis._popup = null;\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method openPopup(latlng?: LatLng): this\n\t// Opens the bound popup at the specificed `latlng` or at the default popup anchor if no `latlng` is passed.\n\topenPopup: function (layer, latlng) {\n\t\tif (!(layer instanceof L.Layer)) {\n\t\t\tlatlng = layer;\n\t\t\tlayer = this;\n\t\t}\n\n\t\tif (layer instanceof L.FeatureGroup) {\n\t\t\tfor (var id in this._layers) {\n\t\t\t\tlayer = this._layers[id];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!latlng) {\n\t\t\tlatlng = layer.getCenter ? layer.getCenter() : layer.getLatLng();\n\t\t}\n\n\t\tif (this._popup && this._map) {\n\t\t\t// set popup source to this layer\n\t\t\tthis._popup._source = layer;\n\n\t\t\t// update the popup (content, layout, ect...)\n\t\t\tthis._popup.update();\n\n\t\t\t// open the popup on the map\n\t\t\tthis._map.openPopup(this._popup, latlng);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// @method closePopup(): this\n\t// Closes the popup bound to this layer if it is open.\n\tclosePopup: function () {\n\t\tif (this._popup) {\n\t\t\tthis._popup._close();\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method togglePopup(): this\n\t// Opens or closes the popup bound to this layer depending on its current state.\n\ttogglePopup: function (target) {\n\t\tif (this._popup) {\n\t\t\tif (this._popup._map) {\n\t\t\t\tthis.closePopup();\n\t\t\t} else {\n\t\t\t\tthis.openPopup(target);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method isPopupOpen(): boolean\n\t// Returns `true` if the popup bound to this layer is currently open.\n\tisPopupOpen: function () {\n\t\treturn this._popup.isOpen();\n\t},\n\n\t// @method setPopupContent(content: String|HTMLElement|Popup): this\n\t// Sets the content of the popup bound to this layer.\n\tsetPopupContent: function (content) {\n\t\tif (this._popup) {\n\t\t\tthis._popup.setContent(content);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method getPopup(): Popup\n\t// Returns the popup bound to this layer.\n\tgetPopup: function () {\n\t\treturn this._popup;\n\t},\n\n\t_openPopup: function (e) {\n\t\tvar layer = e.layer || e.target;\n\n\t\tif (!this._popup) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._map) {\n\t\t\treturn;\n\t\t}\n\n\t\t// prevent map click\n\t\tL.DomEvent.stop(e);\n\n\t\t// if this inherits from Path its a vector and we can just\n\t\t// open the popup at the new location\n\t\tif (layer instanceof L.Path) {\n\t\t\tthis.openPopup(e.layer || e.target, e.latlng);\n\t\t\treturn;\n\t\t}\n\n\t\t// otherwise treat it like a marker and figure out\n\t\t// if we should toggle it open/closed\n\t\tif (this._map.hasLayer(this._popup) && this._popup._source === layer) {\n\t\t\tthis.closePopup();\n\t\t} else {\n\t\t\tthis.openPopup(layer, e.latlng);\n\t\t}\n\t},\n\n\t_movePopup: function (e) {\n\t\tthis._popup.setLatLng(e.latlng);\n\t}\n});\n\n/*\r\n * Popup extension to L.Marker, adding popup-related methods.\r\n */\r\n\r\nL.Marker.include({\r\n\t_getPopupAnchor: function () {\r\n\t\treturn this.options.icon.options.popupAnchor || [0, 0];\r\n\t}\r\n});\r\n\n/*\n * @class Tooltip\n * @inherits DivOverlay\n * @aka L.Tooltip\n * Used to display small texts on top of map layers.\n *\n * @example\n *\n * ```js\n * marker.bindTooltip(\"my tooltip text\").openTooltip();\n * ```\n * Note about tooltip offset. Leaflet takes two options in consideration\n * for computing tooltip offseting:\n * - the `offset` Tooltip option: it defaults to [0, 0], and it's specific to one tooltip.\n *   Add a positive x offset to move the tooltip to the right, and a positive y offset to\n *   move it to the bottom. Negatives will move to the left and top.\n * - the `tooltipAnchor` Icon option: this will only be considered for Marker. You\n *   should adapt this value if you use a custom icon.\n */\n\n\n// @namespace Tooltip\nL.Tooltip = L.DivOverlay.extend({\n\n\t// @section\n\t// @aka Tooltip options\n\toptions: {\n\t\t// @option pane: String = 'tooltipPane'\n\t\t// `Map pane` where the tooltip will be added.\n\t\tpane: 'tooltipPane',\n\n\t\t// @option offset: Point = Point(0, 0)\n\t\t// Optional offset of the tooltip position.\n\t\toffset: [0, 0],\n\n\t\t// @option direction: String = 'auto'\n\t\t// Direction where to open the tooltip. Possible values are: `right`, `left`,\n\t\t// `top`, `bottom`, `center`, `auto`.\n\t\t// `auto` will dynamicaly switch between `right` and `left` according to the tooltip\n\t\t// position on the map.\n\t\tdirection: 'auto',\n\n\t\t// @option permanent: Boolean = false\n\t\t// Whether to open the tooltip permanently or only on mouseover.\n\t\tpermanent: false,\n\n\t\t// @option sticky: Boolean = false\n\t\t// If true, the tooltip will follow the mouse instead of being fixed at the feature center.\n\t\tsticky: false,\n\n\t\t// @option interactive: Boolean = false\n\t\t// If true, the tooltip will listen to the feature events.\n\t\tinteractive: false,\n\n\t\t// @option opacity: Number = 0.9\n\t\t// Tooltip container opacity.\n\t\topacity: 0.9\n\t},\n\n\tonAdd: function (map) {\n\t\tL.DivOverlay.prototype.onAdd.call(this, map);\n\t\tthis.setOpacity(this.options.opacity);\n\n\t\t// @namespace Map\n\t\t// @section Tooltip events\n\t\t// @event tooltipopen: TooltipEvent\n\t\t// Fired when a tooltip is opened in the map.\n\t\tmap.fire('tooltipopen', {tooltip: this});\n\n\t\tif (this._source) {\n\t\t\t// @namespace Layer\n\t\t\t// @section Tooltip events\n\t\t\t// @event tooltipopen: TooltipEvent\n\t\t\t// Fired when a tooltip bound to this layer is opened.\n\t\t\tthis._source.fire('tooltipopen', {tooltip: this}, true);\n\t\t}\n\t},\n\n\tonRemove: function (map) {\n\t\tL.DivOverlay.prototype.onRemove.call(this, map);\n\n\t\t// @namespace Map\n\t\t// @section Tooltip events\n\t\t// @event tooltipclose: TooltipEvent\n\t\t// Fired when a tooltip in the map is closed.\n\t\tmap.fire('tooltipclose', {tooltip: this});\n\n\t\tif (this._source) {\n\t\t\t// @namespace Layer\n\t\t\t// @section Tooltip events\n\t\t\t// @event tooltipclose: TooltipEvent\n\t\t\t// Fired when a tooltip bound to this layer is closed.\n\t\t\tthis._source.fire('tooltipclose', {tooltip: this}, true);\n\t\t}\n\t},\n\n\tgetEvents: function () {\n\t\tvar events = L.DivOverlay.prototype.getEvents.call(this);\n\n\t\tif (L.Browser.touch && !this.options.permanent) {\n\t\t\tevents.preclick = this._close;\n\t\t}\n\n\t\treturn events;\n\t},\n\n\t_close: function () {\n\t\tif (this._map) {\n\t\t\tthis._map.closeTooltip(this);\n\t\t}\n\t},\n\n\t_initLayout: function () {\n\t\tvar prefix = 'leaflet-tooltip',\n\t\t    className = prefix + ' ' + (this.options.className || '') + ' leaflet-zoom-' + (this._zoomAnimated ? 'animated' : 'hide');\n\n\t\tthis._contentNode = this._container = L.DomUtil.create('div', className);\n\t},\n\n\t_updateLayout: function () {},\n\n\t_adjustPan: function () {},\n\n\t_setPosition: function (pos) {\n\t\tvar map = this._map,\n\t\t    container = this._container,\n\t\t    centerPoint = map.latLngToContainerPoint(map.getCenter()),\n\t\t    tooltipPoint = map.layerPointToContainerPoint(pos),\n\t\t    direction = this.options.direction,\n\t\t    tooltipWidth = container.offsetWidth,\n\t\t    tooltipHeight = container.offsetHeight,\n\t\t    offset = L.point(this.options.offset),\n\t\t    anchor = this._getAnchor();\n\n\t\tif (direction === 'top') {\n\t\t\tpos = pos.add(L.point(-tooltipWidth / 2 + offset.x, -tooltipHeight + offset.y + anchor.y));\n\t\t} else if (direction === 'bottom') {\n\t\t\tpos = pos.subtract(L.point(tooltipWidth / 2 - offset.x, -offset.y));\n\t\t} else if (direction === 'center') {\n\t\t\tpos = pos.subtract(L.point(tooltipWidth / 2 + offset.x, tooltipHeight / 2 - anchor.y + offset.y));\n\t\t} else if (direction === 'right' || direction === 'auto' && tooltipPoint.x < centerPoint.x) {\n\t\t\tdirection = 'right';\n\t\t\tpos = pos.add([offset.x + anchor.x, anchor.y - tooltipHeight / 2 + offset.y]);\n\t\t} else {\n\t\t\tdirection = 'left';\n\t\t\tpos = pos.subtract(L.point(tooltipWidth + anchor.x - offset.x, tooltipHeight / 2 - anchor.y - offset.y));\n\t\t}\n\n\t\tL.DomUtil.removeClass(container, 'leaflet-tooltip-right');\n\t\tL.DomUtil.removeClass(container, 'leaflet-tooltip-left');\n\t\tL.DomUtil.removeClass(container, 'leaflet-tooltip-top');\n\t\tL.DomUtil.removeClass(container, 'leaflet-tooltip-bottom');\n\t\tL.DomUtil.addClass(container, 'leaflet-tooltip-' + direction);\n\t\tL.DomUtil.setPosition(container, pos);\n\t},\n\n\t_updatePosition: function () {\n\t\tvar pos = this._map.latLngToLayerPoint(this._latlng);\n\t\tthis._setPosition(pos);\n\t},\n\n\tsetOpacity: function (opacity) {\n\t\tthis.options.opacity = opacity;\n\n\t\tif (this._container) {\n\t\t\tL.DomUtil.setOpacity(this._container, opacity);\n\t\t}\n\t},\n\n\t_animateZoom: function (e) {\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, e.zoom, e.center);\n\t\tthis._setPosition(pos);\n\t},\n\n\t_getAnchor: function () {\n\t\t// Where should we anchor the tooltip on the source layer?\n\t\treturn L.point(this._source && this._source._getTooltipAnchor && !this.options.sticky ? this._source._getTooltipAnchor() : [0, 0]);\n\t}\n\n});\n\n// @namespace Tooltip\n// @factory L.tooltip(options?: Tooltip options, source?: Layer)\n// Instantiates a Tooltip object given an optional `options` object that describes its appearance and location and an optional `source` object that is used to tag the tooltip with a reference to the Layer to which it refers.\nL.tooltip = function (options, source) {\n\treturn new L.Tooltip(options, source);\n};\n\n// @namespace Map\n// @section Methods for Layers and Controls\nL.Map.include({\n\n\t// @method openTooltip(tooltip: Tooltip): this\n\t// Opens the specified tooltip.\n\t// @alternative\n\t// @method openTooltip(content: String|HTMLElement, latlng: LatLng, options?: Tooltip options): this\n\t// Creates a tooltip with the specified content and options and open it.\n\topenTooltip: function (tooltip, latlng, options) {\n\t\tif (!(tooltip instanceof L.Tooltip)) {\n\t\t\ttooltip = new L.Tooltip(options).setContent(tooltip);\n\t\t}\n\n\t\tif (latlng) {\n\t\t\ttooltip.setLatLng(latlng);\n\t\t}\n\n\t\tif (this.hasLayer(tooltip)) {\n\t\t\treturn this;\n\t\t}\n\n\t\treturn this.addLayer(tooltip);\n\t},\n\n\t// @method closeTooltip(tooltip?: Tooltip): this\n\t// Closes the tooltip given as parameter.\n\tcloseTooltip: function (tooltip) {\n\t\tif (tooltip) {\n\t\t\tthis.removeLayer(tooltip);\n\t\t}\n\t\treturn this;\n\t}\n\n});\n\n/*\n * @namespace Layer\n * @section Tooltip methods example\n *\n * All layers share a set of methods convenient for binding tooltips to it.\n *\n * ```js\n * var layer = L.Polygon(latlngs).bindTooltip('Hi There!').addTo(map);\n * layer.openTooltip();\n * layer.closeTooltip();\n * ```\n */\n\n// @section Tooltip methods\nL.Layer.include({\n\n\t// @method bindTooltip(content: String|HTMLElement|Function|Tooltip, options?: Tooltip options): this\n\t// Binds a tooltip to the layer with the passed `content` and sets up the\n\t// neccessary event listeners. If a `Function` is passed it will receive\n\t// the layer as the first argument and should return a `String` or `HTMLElement`.\n\tbindTooltip: function (content, options) {\n\n\t\tif (content instanceof L.Tooltip) {\n\t\t\tL.setOptions(content, options);\n\t\t\tthis._tooltip = content;\n\t\t\tcontent._source = this;\n\t\t} else {\n\t\t\tif (!this._tooltip || options) {\n\t\t\t\tthis._tooltip = L.tooltip(options, this);\n\t\t\t}\n\t\t\tthis._tooltip.setContent(content);\n\n\t\t}\n\n\t\tthis._initTooltipInteractions();\n\n\t\tif (this._tooltip.options.permanent && this._map && this._map.hasLayer(this)) {\n\t\t\tthis.openTooltip();\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// @method unbindTooltip(): this\n\t// Removes the tooltip previously bound with `bindTooltip`.\n\tunbindTooltip: function () {\n\t\tif (this._tooltip) {\n\t\t\tthis._initTooltipInteractions(true);\n\t\t\tthis.closeTooltip();\n\t\t\tthis._tooltip = null;\n\t\t}\n\t\treturn this;\n\t},\n\n\t_initTooltipInteractions: function (remove) {\n\t\tif (!remove && this._tooltipHandlersAdded) { return; }\n\t\tvar onOff = remove ? 'off' : 'on',\n\t\t    events = {\n\t\t\tremove: this.closeTooltip,\n\t\t\tmove: this._moveTooltip\n\t\t    };\n\t\tif (!this._tooltip.options.permanent) {\n\t\t\tevents.mouseover = this._openTooltip;\n\t\t\tevents.mouseout = this.closeTooltip;\n\t\t\tif (this._tooltip.options.sticky) {\n\t\t\t\tevents.mousemove = this._moveTooltip;\n\t\t\t}\n\t\t\tif (L.Browser.touch) {\n\t\t\t\tevents.click = this._openTooltip;\n\t\t\t}\n\t\t} else {\n\t\t\tevents.add = this._openTooltip;\n\t\t}\n\t\tthis[onOff](events);\n\t\tthis._tooltipHandlersAdded = !remove;\n\t},\n\n\t// @method openTooltip(latlng?: LatLng): this\n\t// Opens the bound tooltip at the specificed `latlng` or at the default tooltip anchor if no `latlng` is passed.\n\topenTooltip: function (layer, latlng) {\n\t\tif (!(layer instanceof L.Layer)) {\n\t\t\tlatlng = layer;\n\t\t\tlayer = this;\n\t\t}\n\n\t\tif (layer instanceof L.FeatureGroup) {\n\t\t\tfor (var id in this._layers) {\n\t\t\t\tlayer = this._layers[id];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!latlng) {\n\t\t\tlatlng = layer.getCenter ? layer.getCenter() : layer.getLatLng();\n\t\t}\n\n\t\tif (this._tooltip && this._map) {\n\n\t\t\t// set tooltip source to this layer\n\t\t\tthis._tooltip._source = layer;\n\n\t\t\t// update the tooltip (content, layout, ect...)\n\t\t\tthis._tooltip.update();\n\n\t\t\t// open the tooltip on the map\n\t\t\tthis._map.openTooltip(this._tooltip, latlng);\n\n\t\t\t// Tooltip container may not be defined if not permanent and never\n\t\t\t// opened.\n\t\t\tif (this._tooltip.options.interactive && this._tooltip._container) {\n\t\t\t\tL.DomUtil.addClass(this._tooltip._container, 'leaflet-clickable');\n\t\t\t\tthis.addInteractiveTarget(this._tooltip._container);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t// @method closeTooltip(): this\n\t// Closes the tooltip bound to this layer if it is open.\n\tcloseTooltip: function () {\n\t\tif (this._tooltip) {\n\t\t\tthis._tooltip._close();\n\t\t\tif (this._tooltip.options.interactive && this._tooltip._container) {\n\t\t\t\tL.DomUtil.removeClass(this._tooltip._container, 'leaflet-clickable');\n\t\t\t\tthis.removeInteractiveTarget(this._tooltip._container);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method toggleTooltip(): this\n\t// Opens or closes the tooltip bound to this layer depending on its current state.\n\ttoggleTooltip: function (target) {\n\t\tif (this._tooltip) {\n\t\t\tif (this._tooltip._map) {\n\t\t\t\tthis.closeTooltip();\n\t\t\t} else {\n\t\t\t\tthis.openTooltip(target);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method isTooltipOpen(): boolean\n\t// Returns `true` if the tooltip bound to this layer is currently open.\n\tisTooltipOpen: function () {\n\t\treturn this._tooltip.isOpen();\n\t},\n\n\t// @method setTooltipContent(content: String|HTMLElement|Tooltip): this\n\t// Sets the content of the tooltip bound to this layer.\n\tsetTooltipContent: function (content) {\n\t\tif (this._tooltip) {\n\t\t\tthis._tooltip.setContent(content);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method getTooltip(): Tooltip\n\t// Returns the tooltip bound to this layer.\n\tgetTooltip: function () {\n\t\treturn this._tooltip;\n\t},\n\n\t_openTooltip: function (e) {\n\t\tvar layer = e.layer || e.target;\n\n\t\tif (!this._tooltip || !this._map) {\n\t\t\treturn;\n\t\t}\n\t\tthis.openTooltip(layer, this._tooltip.options.sticky ? e.latlng : undefined);\n\t},\n\n\t_moveTooltip: function (e) {\n\t\tvar latlng = e.latlng, containerPoint, layerPoint;\n\t\tif (this._tooltip.options.sticky && e.originalEvent) {\n\t\t\tcontainerPoint = this._map.mouseEventToContainerPoint(e.originalEvent);\n\t\t\tlayerPoint = this._map.containerPointToLayerPoint(containerPoint);\n\t\t\tlatlng = this._map.layerPointToLatLng(layerPoint);\n\t\t}\n\t\tthis._tooltip.setLatLng(latlng);\n\t}\n});\n\n/*\r\n * Tooltip extension to L.Marker, adding tooltip-related methods.\r\n */\r\n\r\nL.Marker.include({\r\n\t_getTooltipAnchor: function () {\r\n\t\treturn this.options.icon.options.tooltipAnchor || [0, 0];\r\n\t}\r\n});\r\n\n/*\r\n * @class LayerGroup\r\n * @aka L.LayerGroup\r\n * @inherits Layer\r\n *\r\n * Used to group several layers and handle them as one. If you add it to the map,\r\n * any layers added or removed from the group will be added/removed on the map as\r\n * well. Extends `Layer`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * L.layerGroup([marker1, marker2])\r\n * \t.addLayer(polyline)\r\n * \t.addTo(map);\r\n * ```\r\n */\r\n\r\nL.LayerGroup = L.Layer.extend({\r\n\r\n\tinitialize: function (layers) {\r\n\t\tthis._layers = {};\r\n\r\n\t\tvar i, len;\r\n\r\n\t\tif (layers) {\r\n\t\t\tfor (i = 0, len = layers.length; i < len; i++) {\r\n\t\t\t\tthis.addLayer(layers[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// @method addLayer(layer: Layer): this\r\n\t// Adds the given layer to the group.\r\n\taddLayer: function (layer) {\r\n\t\tvar id = this.getLayerId(layer);\r\n\r\n\t\tthis._layers[id] = layer;\r\n\r\n\t\tif (this._map) {\r\n\t\t\tthis._map.addLayer(layer);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method removeLayer(layer: Layer): this\r\n\t// Removes the given layer from the group.\r\n\t// @alternative\r\n\t// @method removeLayer(id: Number): this\r\n\t// Removes the layer with the given internal ID from the group.\r\n\tremoveLayer: function (layer) {\r\n\t\tvar id = layer in this._layers ? layer : this.getLayerId(layer);\r\n\r\n\t\tif (this._map && this._layers[id]) {\r\n\t\t\tthis._map.removeLayer(this._layers[id]);\r\n\t\t}\r\n\r\n\t\tdelete this._layers[id];\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method hasLayer(layer: Layer): Boolean\r\n\t// Returns `true` if the given layer is currently added to the group.\r\n\thasLayer: function (layer) {\r\n\t\treturn !!layer && (layer in this._layers || this.getLayerId(layer) in this._layers);\r\n\t},\r\n\r\n\t// @method clearLayers(): this\r\n\t// Removes all the layers from the group.\r\n\tclearLayers: function () {\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tthis.removeLayer(this._layers[i]);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method invoke(methodName: String, …): this\r\n\t// Calls `methodName` on every layer contained in this group, passing any\r\n\t// additional parameters. Has no effect if the layers contained do not\r\n\t// implement `methodName`.\r\n\tinvoke: function (methodName) {\r\n\t\tvar args = Array.prototype.slice.call(arguments, 1),\r\n\t\t    i, layer;\r\n\r\n\t\tfor (i in this._layers) {\r\n\t\t\tlayer = this._layers[i];\r\n\r\n\t\t\tif (layer[methodName]) {\r\n\t\t\t\tlayer[methodName].apply(layer, args);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tmap.addLayer(this._layers[i]);\r\n\t\t}\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tmap.removeLayer(this._layers[i]);\r\n\t\t}\r\n\t},\r\n\r\n\t// @method eachLayer(fn: Function, context?: Object): this\r\n\t// Iterates over the layers of the group, optionally specifying context of the iterator function.\r\n\t// ```js\r\n\t// group.eachLayer(function (layer) {\r\n\t// \tlayer.bindPopup('Hello');\r\n\t// });\r\n\t// ```\r\n\teachLayer: function (method, context) {\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tmethod.call(context, this._layers[i]);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getLayer(id: Number): Layer\r\n\t// Returns the layer with the given internal ID.\r\n\tgetLayer: function (id) {\r\n\t\treturn this._layers[id];\r\n\t},\r\n\r\n\t// @method getLayers(): Layer[]\r\n\t// Returns an array of all the layers added to the group.\r\n\tgetLayers: function () {\r\n\t\tvar layers = [];\r\n\r\n\t\tfor (var i in this._layers) {\r\n\t\t\tlayers.push(this._layers[i]);\r\n\t\t}\r\n\t\treturn layers;\r\n\t},\r\n\r\n\t// @method setZIndex(zIndex: Number): this\r\n\t// Calls `setZIndex` on every layer contained in this group, passing the z-index.\r\n\tsetZIndex: function (zIndex) {\r\n\t\treturn this.invoke('setZIndex', zIndex);\r\n\t},\r\n\r\n\t// @method getLayerId(layer: Layer): Number\r\n\t// Returns the internal ID for a layer\r\n\tgetLayerId: function (layer) {\r\n\t\treturn L.stamp(layer);\r\n\t}\r\n});\r\n\r\n\r\n// @factory L.layerGroup(layers: Layer[])\r\n// Create a layer group, optionally given an initial set of layers.\r\nL.layerGroup = function (layers) {\r\n\treturn new L.LayerGroup(layers);\r\n};\r\n\n/*\r\n * @class FeatureGroup\r\n * @aka L.FeatureGroup\r\n * @inherits LayerGroup\r\n *\r\n * Extended `LayerGroup` that makes it easier to do the same thing to all its member layers:\r\n *  * [`bindPopup`](#layer-bindpopup) binds a popup to all of the layers at once (likewise with [`bindTooltip`](#layer-bindtooltip))\r\n *  * Events are propagated to the `FeatureGroup`, so if the group has an event\r\n * handler, it will handle events from any of the layers. This includes mouse events\r\n * and custom events.\r\n *  * Has `layeradd` and `layerremove` events\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * L.featureGroup([marker1, marker2, polyline])\r\n * \t.bindPopup('Hello world!')\r\n * \t.on('click', function() { alert('Clicked on a member of the group!'); })\r\n * \t.addTo(map);\r\n * ```\r\n */\r\n\r\nL.FeatureGroup = L.LayerGroup.extend({\r\n\r\n\taddLayer: function (layer) {\r\n\t\tif (this.hasLayer(layer)) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tlayer.addEventParent(this);\r\n\r\n\t\tL.LayerGroup.prototype.addLayer.call(this, layer);\r\n\r\n\t\t// @event layeradd: LayerEvent\r\n\t\t// Fired when a layer is added to this `FeatureGroup`\r\n\t\treturn this.fire('layeradd', {layer: layer});\r\n\t},\r\n\r\n\tremoveLayer: function (layer) {\r\n\t\tif (!this.hasLayer(layer)) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tif (layer in this._layers) {\r\n\t\t\tlayer = this._layers[layer];\r\n\t\t}\r\n\r\n\t\tlayer.removeEventParent(this);\r\n\r\n\t\tL.LayerGroup.prototype.removeLayer.call(this, layer);\r\n\r\n\t\t// @event layerremove: LayerEvent\r\n\t\t// Fired when a layer is removed from this `FeatureGroup`\r\n\t\treturn this.fire('layerremove', {layer: layer});\r\n\t},\r\n\r\n\t// @method setStyle(style: Path options): this\r\n\t// Sets the given path options to each layer of the group that has a `setStyle` method.\r\n\tsetStyle: function (style) {\r\n\t\treturn this.invoke('setStyle', style);\r\n\t},\r\n\r\n\t// @method bringToFront(): this\r\n\t// Brings the layer group to the top of all other layers\r\n\tbringToFront: function () {\r\n\t\treturn this.invoke('bringToFront');\r\n\t},\r\n\r\n\t// @method bringToBack(): this\r\n\t// Brings the layer group to the top of all other layers\r\n\tbringToBack: function () {\r\n\t\treturn this.invoke('bringToBack');\r\n\t},\r\n\r\n\t// @method getBounds(): LatLngBounds\r\n\t// Returns the LatLngBounds of the Feature Group (created from bounds and coordinates of its children).\r\n\tgetBounds: function () {\r\n\t\tvar bounds = new L.LatLngBounds();\r\n\r\n\t\tfor (var id in this._layers) {\r\n\t\t\tvar layer = this._layers[id];\r\n\t\t\tbounds.extend(layer.getBounds ? layer.getBounds() : layer.getLatLng());\r\n\t\t}\r\n\t\treturn bounds;\r\n\t}\r\n});\r\n\r\n// @factory L.featureGroup(layers: Layer[])\r\n// Create a feature group, optionally given an initial set of layers.\r\nL.featureGroup = function (layers) {\r\n\treturn new L.FeatureGroup(layers);\r\n};\r\n\n/*\n * @class Renderer\n * @inherits Layer\n * @aka L.Renderer\n *\n * Base class for vector renderer implementations (`SVG`, `Canvas`). Handles the\n * DOM container of the renderer, its bounds, and its zoom animation.\n *\n * A `Renderer` works as an implicit layer group for all `Path`s - the renderer\n * itself can be added or removed to the map. All paths use a renderer, which can\n * be implicit (the map will decide the type of renderer and use it automatically)\n * or explicit (using the [`renderer`](#path-renderer) option of the path).\n *\n * Do not use this class directly, use `SVG` and `Canvas` instead.\n *\n * @event update: Event\n * Fired when the renderer updates its bounds, center and zoom, for example when\n * its map has moved\n */\n\nL.Renderer = L.Layer.extend({\n\n\t// @section\n\t// @aka Renderer options\n\toptions: {\n\t\t// @option padding: Number = 0.1\n\t\t// How much to extend the clip area around the map view (relative to its size)\n\t\t// e.g. 0.1 would be 10% of map view in each direction\n\t\tpadding: 0.1\n\t},\n\n\tinitialize: function (options) {\n\t\tL.setOptions(this, options);\n\t\tL.stamp(this);\n\t},\n\n\tonAdd: function () {\n\t\tif (!this._container) {\n\t\t\tthis._initContainer(); // defined by renderer implementations\n\n\t\t\tif (this._zoomAnimated) {\n\t\t\t\tL.DomUtil.addClass(this._container, 'leaflet-zoom-animated');\n\t\t\t}\n\t\t}\n\n\t\tthis.getPane().appendChild(this._container);\n\t\tthis._update();\n\t},\n\n\tonRemove: function () {\n\t\tL.DomUtil.remove(this._container);\n\t},\n\n\tgetEvents: function () {\n\t\tvar events = {\n\t\t\tviewreset: this._reset,\n\t\t\tzoom: this._onZoom,\n\t\t\tmoveend: this._update\n\t\t};\n\t\tif (this._zoomAnimated) {\n\t\t\tevents.zoomanim = this._onAnimZoom;\n\t\t}\n\t\treturn events;\n\t},\n\n\t_onAnimZoom: function (ev) {\n\t\tthis._updateTransform(ev.center, ev.zoom);\n\t},\n\n\t_onZoom: function () {\n\t\tthis._updateTransform(this._map.getCenter(), this._map.getZoom());\n\t},\n\n\t_updateTransform: function (center, zoom) {\n\t\tvar scale = this._map.getZoomScale(zoom, this._zoom),\n\t\t    position = L.DomUtil.getPosition(this._container),\n\t\t    viewHalf = this._map.getSize().multiplyBy(0.5 + this.options.padding),\n\t\t    currentCenterPoint = this._map.project(this._center, zoom),\n\t\t    destCenterPoint = this._map.project(center, zoom),\n\t\t    centerOffset = destCenterPoint.subtract(currentCenterPoint),\n\n\t\t    topLeftOffset = viewHalf.multiplyBy(-scale).add(position).add(viewHalf).subtract(centerOffset);\n\n\t\tif (L.Browser.any3d) {\n\t\t\tL.DomUtil.setTransform(this._container, topLeftOffset, scale);\n\t\t} else {\n\t\t\tL.DomUtil.setPosition(this._container, topLeftOffset);\n\t\t}\n\t},\n\n\t_reset: function () {\n\t\tthis._update();\n\t\tthis._updateTransform(this._center, this._zoom);\n\t},\n\n\t_update: function () {\n\t\t// Update pixel bounds of renderer container (for positioning/sizing/clipping later)\n\t\t// Subclasses are responsible of firing the 'update' event.\n\t\tvar p = this.options.padding,\n\t\t    size = this._map.getSize(),\n\t\t    min = this._map.containerPointToLayerPoint(size.multiplyBy(-p)).round();\n\n\t\tthis._bounds = new L.Bounds(min, min.add(size.multiplyBy(1 + p * 2)).round());\n\n\t\tthis._center = this._map.getCenter();\n\t\tthis._zoom = this._map.getZoom();\n\t}\n});\n\n\nL.Map.include({\n\t// @namespace Map; @method getRenderer(layer: Path): Renderer\n\t// Returns the instance of `Renderer` that should be used to render the given\n\t// `Path`. It will ensure that the `renderer` options of the map and paths\n\t// are respected, and that the renderers do exist on the map.\n\tgetRenderer: function (layer) {\n\t\t// @namespace Path; @option renderer: Renderer\n\t\t// Use this specific instance of `Renderer` for this path. Takes\n\t\t// precedence over the map's [default renderer](#map-renderer).\n\t\tvar renderer = layer.options.renderer || this._getPaneRenderer(layer.options.pane) || this.options.renderer || this._renderer;\n\n\t\tif (!renderer) {\n\t\t\t// @namespace Map; @option preferCanvas: Boolean = false\n\t\t\t// Whether `Path`s should be rendered on a `Canvas` renderer.\n\t\t\t// By default, all `Path`s are rendered in a `SVG` renderer.\n\t\t\trenderer = this._renderer = (this.options.preferCanvas && L.canvas()) || L.svg();\n\t\t}\n\n\t\tif (!this.hasLayer(renderer)) {\n\t\t\tthis.addLayer(renderer);\n\t\t}\n\t\treturn renderer;\n\t},\n\n\t_getPaneRenderer: function (name) {\n\t\tif (name === 'overlayPane' || name === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar renderer = this._paneRenderers[name];\n\t\tif (renderer === undefined) {\n\t\t\trenderer = (L.SVG && L.svg({pane: name})) || (L.Canvas && L.canvas({pane: name}));\n\t\t\tthis._paneRenderers[name] = renderer;\n\t\t}\n\t\treturn renderer;\n\t}\n});\n\n/*\n * @class Path\n * @aka L.Path\n * @inherits Interactive layer\n *\n * An abstract class that contains options and constants shared between vector\n * overlays (Polygon, Polyline, Circle). Do not use it directly. Extends `Layer`.\n */\n\nL.Path = L.Layer.extend({\n\n\t// @section\n\t// @aka Path options\n\toptions: {\n\t\t// @option stroke: Boolean = true\n\t\t// Whether to draw stroke along the path. Set it to `false` to disable borders on polygons or circles.\n\t\tstroke: true,\n\n\t\t// @option color: String = '#3388ff'\n\t\t// Stroke color\n\t\tcolor: '#3388ff',\n\n\t\t// @option weight: Number = 3\n\t\t// Stroke width in pixels\n\t\tweight: 3,\n\n\t\t// @option opacity: Number = 1.0\n\t\t// Stroke opacity\n\t\topacity: 1,\n\n\t\t// @option lineCap: String= 'round'\n\t\t// A string that defines [shape to be used at the end](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linecap) of the stroke.\n\t\tlineCap: 'round',\n\n\t\t// @option lineJoin: String = 'round'\n\t\t// A string that defines [shape to be used at the corners](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-linejoin) of the stroke.\n\t\tlineJoin: 'round',\n\n\t\t// @option dashArray: String = null\n\t\t// A string that defines the stroke [dash pattern](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dasharray). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).\n\t\tdashArray: null,\n\n\t\t// @option dashOffset: String = null\n\t\t// A string that defines the [distance into the dash pattern to start the dash](https://developer.mozilla.org/docs/Web/SVG/Attribute/stroke-dashoffset). Doesn't work on `Canvas`-powered layers in [some old browsers](https://developer.mozilla.org/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility).\n\t\tdashOffset: null,\n\n\t\t// @option fill: Boolean = depends\n\t\t// Whether to fill the path with color. Set it to `false` to disable filling on polygons or circles.\n\t\tfill: false,\n\n\t\t// @option fillColor: String = *\n\t\t// Fill color. Defaults to the value of the [`color`](#path-color) option\n\t\tfillColor: null,\n\n\t\t// @option fillOpacity: Number = 0.2\n\t\t// Fill opacity.\n\t\tfillOpacity: 0.2,\n\n\t\t// @option fillRule: String = 'evenodd'\n\t\t// A string that defines [how the inside of a shape](https://developer.mozilla.org/docs/Web/SVG/Attribute/fill-rule) is determined.\n\t\tfillRule: 'evenodd',\n\n\t\t// className: '',\n\n\t\t// Option inherited from \"Interactive layer\" abstract class\n\t\tinteractive: true\n\t},\n\n\tbeforeAdd: function (map) {\n\t\t// Renderer is set here because we need to call renderer.getEvents\n\t\t// before this.getEvents.\n\t\tthis._renderer = map.getRenderer(this);\n\t},\n\n\tonAdd: function () {\n\t\tthis._renderer._initPath(this);\n\t\tthis._reset();\n\t\tthis._renderer._addPath(this);\n\t\tthis._renderer.on('update', this._update, this);\n\t},\n\n\tonRemove: function () {\n\t\tthis._renderer._removePath(this);\n\t\tthis._renderer.off('update', this._update, this);\n\t},\n\n\tgetEvents: function () {\n\t\treturn {\n\t\t\tzoomend: this._project,\n\t\t\tviewreset: this._reset\n\t\t};\n\t},\n\n\t// @method redraw(): this\n\t// Redraws the layer. Sometimes useful after you changed the coordinates that the path uses.\n\tredraw: function () {\n\t\tif (this._map) {\n\t\t\tthis._renderer._updatePath(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method setStyle(style: Path options): this\n\t// Changes the appearance of a Path based on the options in the `Path options` object.\n\tsetStyle: function (style) {\n\t\tL.setOptions(this, style);\n\t\tif (this._renderer) {\n\t\t\tthis._renderer._updateStyle(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method bringToFront(): this\n\t// Brings the layer to the top of all path layers.\n\tbringToFront: function () {\n\t\tif (this._renderer) {\n\t\t\tthis._renderer._bringToFront(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// @method bringToBack(): this\n\t// Brings the layer to the bottom of all path layers.\n\tbringToBack: function () {\n\t\tif (this._renderer) {\n\t\t\tthis._renderer._bringToBack(this);\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetElement: function () {\n\t\treturn this._path;\n\t},\n\n\t_reset: function () {\n\t\t// defined in children classes\n\t\tthis._project();\n\t\tthis._update();\n\t},\n\n\t_clickTolerance: function () {\n\t\t// used when doing hit detection for Canvas layers\n\t\treturn (this.options.stroke ? this.options.weight / 2 : 0) + (L.Browser.touch ? 10 : 0);\n\t}\n});\n\n/*\r\n * @namespace LineUtil\r\n *\r\n * Various utility functions for polyine points processing, used by Leaflet internally to make polylines lightning-fast.\r\n */\r\n\r\nL.LineUtil = {\r\n\r\n\t// Simplify polyline with vertex reduction and Douglas-Peucker simplification.\r\n\t// Improves rendering performance dramatically by lessening the number of points to draw.\r\n\r\n\t// @function simplify(points: Point[], tolerance: Number): Point[]\r\n\t// Dramatically reduces the number of points in a polyline while retaining\r\n\t// its shape and returns a new array of simplified points, using the\r\n\t// [Douglas-Peucker algorithm](http://en.wikipedia.org/wiki/Douglas-Peucker_algorithm).\r\n\t// Used for a huge performance boost when processing/displaying Leaflet polylines for\r\n\t// each zoom level and also reducing visual noise. tolerance affects the amount of\r\n\t// simplification (lesser value means higher quality but slower and with more points).\r\n\t// Also released as a separated micro-library [Simplify.js](http://mourner.github.com/simplify-js/).\r\n\tsimplify: function (points, tolerance) {\r\n\t\tif (!tolerance || !points.length) {\r\n\t\t\treturn points.slice();\r\n\t\t}\r\n\r\n\t\tvar sqTolerance = tolerance * tolerance;\r\n\r\n\t\t// stage 1: vertex reduction\r\n\t\tpoints = this._reducePoints(points, sqTolerance);\r\n\r\n\t\t// stage 2: Douglas-Peucker simplification\r\n\t\tpoints = this._simplifyDP(points, sqTolerance);\r\n\r\n\t\treturn points;\r\n\t},\r\n\r\n\t// @function pointToSegmentDistance(p: Point, p1: Point, p2: Point): Number\r\n\t// Returns the distance between point `p` and segment `p1` to `p2`.\r\n\tpointToSegmentDistance:  function (p, p1, p2) {\r\n\t\treturn Math.sqrt(this._sqClosestPointOnSegment(p, p1, p2, true));\r\n\t},\r\n\r\n\t// @function closestPointOnSegment(p: Point, p1: Point, p2: Point): Number\r\n\t// Returns the closest point from a point `p` on a segment `p1` to `p2`.\r\n\tclosestPointOnSegment: function (p, p1, p2) {\r\n\t\treturn this._sqClosestPointOnSegment(p, p1, p2);\r\n\t},\r\n\r\n\t// Douglas-Peucker simplification, see http://en.wikipedia.org/wiki/Douglas-Peucker_algorithm\r\n\t_simplifyDP: function (points, sqTolerance) {\r\n\r\n\t\tvar len = points.length,\r\n\t\t    ArrayConstructor = typeof Uint8Array !== undefined + '' ? Uint8Array : Array,\r\n\t\t    markers = new ArrayConstructor(len);\r\n\r\n\t\tmarkers[0] = markers[len - 1] = 1;\r\n\r\n\t\tthis._simplifyDPStep(points, markers, sqTolerance, 0, len - 1);\r\n\r\n\t\tvar i,\r\n\t\t    newPoints = [];\r\n\r\n\t\tfor (i = 0; i < len; i++) {\r\n\t\t\tif (markers[i]) {\r\n\t\t\t\tnewPoints.push(points[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn newPoints;\r\n\t},\r\n\r\n\t_simplifyDPStep: function (points, markers, sqTolerance, first, last) {\r\n\r\n\t\tvar maxSqDist = 0,\r\n\t\t    index, i, sqDist;\r\n\r\n\t\tfor (i = first + 1; i <= last - 1; i++) {\r\n\t\t\tsqDist = this._sqClosestPointOnSegment(points[i], points[first], points[last], true);\r\n\r\n\t\t\tif (sqDist > maxSqDist) {\r\n\t\t\t\tindex = i;\r\n\t\t\t\tmaxSqDist = sqDist;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (maxSqDist > sqTolerance) {\r\n\t\t\tmarkers[index] = 1;\r\n\r\n\t\t\tthis._simplifyDPStep(points, markers, sqTolerance, first, index);\r\n\t\t\tthis._simplifyDPStep(points, markers, sqTolerance, index, last);\r\n\t\t}\r\n\t},\r\n\r\n\t// reduce points that are too close to each other to a single point\r\n\t_reducePoints: function (points, sqTolerance) {\r\n\t\tvar reducedPoints = [points[0]];\r\n\r\n\t\tfor (var i = 1, prev = 0, len = points.length; i < len; i++) {\r\n\t\t\tif (this._sqDist(points[i], points[prev]) > sqTolerance) {\r\n\t\t\t\treducedPoints.push(points[i]);\r\n\t\t\t\tprev = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (prev < len - 1) {\r\n\t\t\treducedPoints.push(points[len - 1]);\r\n\t\t}\r\n\t\treturn reducedPoints;\r\n\t},\r\n\r\n\r\n\t// @function clipSegment(a: Point, b: Point, bounds: Bounds, useLastCode?: Boolean, round?: Boolean): Point[]|Boolean\r\n\t// Clips the segment a to b by rectangular bounds with the\r\n\t// [Cohen-Sutherland algorithm](https://en.wikipedia.org/wiki/Cohen%E2%80%93Sutherland_algorithm)\r\n\t// (modifying the segment points directly!). Used by Leaflet to only show polyline\r\n\t// points that are on the screen or near, increasing performance.\r\n\tclipSegment: function (a, b, bounds, useLastCode, round) {\r\n\t\tvar codeA = useLastCode ? this._lastCode : this._getBitCode(a, bounds),\r\n\t\t    codeB = this._getBitCode(b, bounds),\r\n\r\n\t\t    codeOut, p, newCode;\r\n\r\n\t\t// save 2nd code to avoid calculating it on the next segment\r\n\t\tthis._lastCode = codeB;\r\n\r\n\t\twhile (true) {\r\n\t\t\t// if a,b is inside the clip window (trivial accept)\r\n\t\t\tif (!(codeA | codeB)) {\r\n\t\t\t\treturn [a, b];\r\n\t\t\t}\r\n\r\n\t\t\t// if a,b is outside the clip window (trivial reject)\r\n\t\t\tif (codeA & codeB) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// other cases\r\n\t\t\tcodeOut = codeA || codeB;\r\n\t\t\tp = this._getEdgeIntersection(a, b, codeOut, bounds, round);\r\n\t\t\tnewCode = this._getBitCode(p, bounds);\r\n\r\n\t\t\tif (codeOut === codeA) {\r\n\t\t\t\ta = p;\r\n\t\t\t\tcodeA = newCode;\r\n\t\t\t} else {\r\n\t\t\t\tb = p;\r\n\t\t\t\tcodeB = newCode;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_getEdgeIntersection: function (a, b, code, bounds, round) {\r\n\t\tvar dx = b.x - a.x,\r\n\t\t    dy = b.y - a.y,\r\n\t\t    min = bounds.min,\r\n\t\t    max = bounds.max,\r\n\t\t    x, y;\r\n\r\n\t\tif (code & 8) { // top\r\n\t\t\tx = a.x + dx * (max.y - a.y) / dy;\r\n\t\t\ty = max.y;\r\n\r\n\t\t} else if (code & 4) { // bottom\r\n\t\t\tx = a.x + dx * (min.y - a.y) / dy;\r\n\t\t\ty = min.y;\r\n\r\n\t\t} else if (code & 2) { // right\r\n\t\t\tx = max.x;\r\n\t\t\ty = a.y + dy * (max.x - a.x) / dx;\r\n\r\n\t\t} else if (code & 1) { // left\r\n\t\t\tx = min.x;\r\n\t\t\ty = a.y + dy * (min.x - a.x) / dx;\r\n\t\t}\r\n\r\n\t\treturn new L.Point(x, y, round);\r\n\t},\r\n\r\n\t_getBitCode: function (p, bounds) {\r\n\t\tvar code = 0;\r\n\r\n\t\tif (p.x < bounds.min.x) { // left\r\n\t\t\tcode |= 1;\r\n\t\t} else if (p.x > bounds.max.x) { // right\r\n\t\t\tcode |= 2;\r\n\t\t}\r\n\r\n\t\tif (p.y < bounds.min.y) { // bottom\r\n\t\t\tcode |= 4;\r\n\t\t} else if (p.y > bounds.max.y) { // top\r\n\t\t\tcode |= 8;\r\n\t\t}\r\n\r\n\t\treturn code;\r\n\t},\r\n\r\n\t// square distance (to avoid unnecessary Math.sqrt calls)\r\n\t_sqDist: function (p1, p2) {\r\n\t\tvar dx = p2.x - p1.x,\r\n\t\t    dy = p2.y - p1.y;\r\n\t\treturn dx * dx + dy * dy;\r\n\t},\r\n\r\n\t// return closest point on segment or distance to that point\r\n\t_sqClosestPointOnSegment: function (p, p1, p2, sqDist) {\r\n\t\tvar x = p1.x,\r\n\t\t    y = p1.y,\r\n\t\t    dx = p2.x - x,\r\n\t\t    dy = p2.y - y,\r\n\t\t    dot = dx * dx + dy * dy,\r\n\t\t    t;\r\n\r\n\t\tif (dot > 0) {\r\n\t\t\tt = ((p.x - x) * dx + (p.y - y) * dy) / dot;\r\n\r\n\t\t\tif (t > 1) {\r\n\t\t\t\tx = p2.x;\r\n\t\t\t\ty = p2.y;\r\n\t\t\t} else if (t > 0) {\r\n\t\t\t\tx += dx * t;\r\n\t\t\t\ty += dy * t;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdx = p.x - x;\r\n\t\tdy = p.y - y;\r\n\r\n\t\treturn sqDist ? dx * dx + dy * dy : new L.Point(x, y);\r\n\t}\r\n};\r\n\n/*\n * @class Polyline\n * @aka L.Polyline\n * @inherits Path\n *\n * A class for drawing polyline overlays on a map. Extends `Path`.\n *\n * @example\n *\n * ```js\n * // create a red polyline from an array of LatLng points\n * var latlngs = [\n * \t[-122.68, 45.51],\n * \t[-122.43, 37.77],\n * \t[-118.2, 34.04]\n * ];\n *\n * var polyline = L.polyline(latlngs, {color: 'red'}).addTo(map);\n *\n * // zoom the map to the polyline\n * map.fitBounds(polyline.getBounds());\n * ```\n *\n * You can also pass a multi-dimensional array to represent a `MultiPolyline` shape:\n *\n * ```js\n * // create a red polyline from an array of arrays of LatLng points\n * var latlngs = [\n * \t[[-122.68, 45.51],\n * \t [-122.43, 37.77],\n * \t [-118.2, 34.04]],\n * \t[[-73.91, 40.78],\n * \t [-87.62, 41.83],\n * \t [-96.72, 32.76]]\n * ];\n * ```\n */\n\nL.Polyline = L.Path.extend({\n\n\t// @section\n\t// @aka Polyline options\n\toptions: {\n\t\t// @option smoothFactor: Number = 1.0\n\t\t// How much to simplify the polyline on each zoom level. More means\n\t\t// better performance and smoother look, and less means more accurate representation.\n\t\tsmoothFactor: 1.0,\n\n\t\t// @option noClip: Boolean = false\n\t\t// Disable polyline clipping.\n\t\tnoClip: false\n\t},\n\n\tinitialize: function (latlngs, options) {\n\t\tL.setOptions(this, options);\n\t\tthis._setLatLngs(latlngs);\n\t},\n\n\t// @method getLatLngs(): LatLng[]\n\t// Returns an array of the points in the path, or nested arrays of points in case of multi-polyline.\n\tgetLatLngs: function () {\n\t\treturn this._latlngs;\n\t},\n\n\t// @method setLatLngs(latlngs: LatLng[]): this\n\t// Replaces all the points in the polyline with the given array of geographical points.\n\tsetLatLngs: function (latlngs) {\n\t\tthis._setLatLngs(latlngs);\n\t\treturn this.redraw();\n\t},\n\n\t// @method isEmpty(): Boolean\n\t// Returns `true` if the Polyline has no LatLngs.\n\tisEmpty: function () {\n\t\treturn !this._latlngs.length;\n\t},\n\n\tclosestLayerPoint: function (p) {\n\t\tvar minDistance = Infinity,\n\t\t    minPoint = null,\n\t\t    closest = L.LineUtil._sqClosestPointOnSegment,\n\t\t    p1, p2;\n\n\t\tfor (var j = 0, jLen = this._parts.length; j < jLen; j++) {\n\t\t\tvar points = this._parts[j];\n\n\t\t\tfor (var i = 1, len = points.length; i < len; i++) {\n\t\t\t\tp1 = points[i - 1];\n\t\t\t\tp2 = points[i];\n\n\t\t\t\tvar sqDist = closest(p, p1, p2, true);\n\n\t\t\t\tif (sqDist < minDistance) {\n\t\t\t\t\tminDistance = sqDist;\n\t\t\t\t\tminPoint = closest(p, p1, p2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (minPoint) {\n\t\t\tminPoint.distance = Math.sqrt(minDistance);\n\t\t}\n\t\treturn minPoint;\n\t},\n\n\t// @method getCenter(): LatLng\n\t// Returns the center ([centroid](http://en.wikipedia.org/wiki/Centroid)) of the polyline.\n\tgetCenter: function () {\n\t\t// throws error when not yet added to map as this center calculation requires projected coordinates\n\t\tif (!this._map) {\n\t\t\tthrow new Error('Must add layer to map before using getCenter()');\n\t\t}\n\n\t\tvar i, halfDist, segDist, dist, p1, p2, ratio,\n\t\t    points = this._rings[0],\n\t\t    len = points.length;\n\n\t\tif (!len) { return null; }\n\n\t\t// polyline centroid algorithm; only uses the first ring if there are multiple\n\n\t\tfor (i = 0, halfDist = 0; i < len - 1; i++) {\n\t\t\thalfDist += points[i].distanceTo(points[i + 1]) / 2;\n\t\t}\n\n\t\t// The line is so small in the current view that all points are on the same pixel.\n\t\tif (halfDist === 0) {\n\t\t\treturn this._map.layerPointToLatLng(points[0]);\n\t\t}\n\n\t\tfor (i = 0, dist = 0; i < len - 1; i++) {\n\t\t\tp1 = points[i];\n\t\t\tp2 = points[i + 1];\n\t\t\tsegDist = p1.distanceTo(p2);\n\t\t\tdist += segDist;\n\n\t\t\tif (dist > halfDist) {\n\t\t\t\tratio = (dist - halfDist) / segDist;\n\t\t\t\treturn this._map.layerPointToLatLng([\n\t\t\t\t\tp2.x - ratio * (p2.x - p1.x),\n\t\t\t\t\tp2.y - ratio * (p2.y - p1.y)\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\t},\n\n\t// @method getBounds(): LatLngBounds\n\t// Returns the `LatLngBounds` of the path.\n\tgetBounds: function () {\n\t\treturn this._bounds;\n\t},\n\n\t// @method addLatLng(latlng: LatLng, latlngs? LatLng[]): this\n\t// Adds a given point to the polyline. By default, adds to the first ring of\n\t// the polyline in case of a multi-polyline, but can be overridden by passing\n\t// a specific ring as a LatLng array (that you can earlier access with [`getLatLngs`](#polyline-getlatlngs)).\n\taddLatLng: function (latlng, latlngs) {\n\t\tlatlngs = latlngs || this._defaultShape();\n\t\tlatlng = L.latLng(latlng);\n\t\tlatlngs.push(latlng);\n\t\tthis._bounds.extend(latlng);\n\t\treturn this.redraw();\n\t},\n\n\t_setLatLngs: function (latlngs) {\n\t\tthis._bounds = new L.LatLngBounds();\n\t\tthis._latlngs = this._convertLatLngs(latlngs);\n\t},\n\n\t_defaultShape: function () {\n\t\treturn L.Polyline._flat(this._latlngs) ? this._latlngs : this._latlngs[0];\n\t},\n\n\t// recursively convert latlngs input into actual LatLng instances; calculate bounds along the way\n\t_convertLatLngs: function (latlngs) {\n\t\tvar result = [],\n\t\t    flat = L.Polyline._flat(latlngs);\n\n\t\tfor (var i = 0, len = latlngs.length; i < len; i++) {\n\t\t\tif (flat) {\n\t\t\t\tresult[i] = L.latLng(latlngs[i]);\n\t\t\t\tthis._bounds.extend(result[i]);\n\t\t\t} else {\n\t\t\t\tresult[i] = this._convertLatLngs(latlngs[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t_project: function () {\n\t\tvar pxBounds = new L.Bounds();\n\t\tthis._rings = [];\n\t\tthis._projectLatlngs(this._latlngs, this._rings, pxBounds);\n\n\t\tvar w = this._clickTolerance(),\n\t\t    p = new L.Point(w, w);\n\n\t\tif (this._bounds.isValid() && pxBounds.isValid()) {\n\t\t\tpxBounds.min._subtract(p);\n\t\t\tpxBounds.max._add(p);\n\t\t\tthis._pxBounds = pxBounds;\n\t\t}\n\t},\n\n\t// recursively turns latlngs into a set of rings with projected coordinates\n\t_projectLatlngs: function (latlngs, result, projectedBounds) {\n\t\tvar flat = latlngs[0] instanceof L.LatLng,\n\t\t    len = latlngs.length,\n\t\t    i, ring;\n\n\t\tif (flat) {\n\t\t\tring = [];\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tring[i] = this._map.latLngToLayerPoint(latlngs[i]);\n\t\t\t\tprojectedBounds.extend(ring[i]);\n\t\t\t}\n\t\t\tresult.push(ring);\n\t\t} else {\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tthis._projectLatlngs(latlngs[i], result, projectedBounds);\n\t\t\t}\n\t\t}\n\t},\n\n\t// clip polyline by renderer bounds so that we have less to render for performance\n\t_clipPoints: function () {\n\t\tvar bounds = this._renderer._bounds;\n\n\t\tthis._parts = [];\n\t\tif (!this._pxBounds || !this._pxBounds.intersects(bounds)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.options.noClip) {\n\t\t\tthis._parts = this._rings;\n\t\t\treturn;\n\t\t}\n\n\t\tvar parts = this._parts,\n\t\t    i, j, k, len, len2, segment, points;\n\n\t\tfor (i = 0, k = 0, len = this._rings.length; i < len; i++) {\n\t\t\tpoints = this._rings[i];\n\n\t\t\tfor (j = 0, len2 = points.length; j < len2 - 1; j++) {\n\t\t\t\tsegment = L.LineUtil.clipSegment(points[j], points[j + 1], bounds, j, true);\n\n\t\t\t\tif (!segment) { continue; }\n\n\t\t\t\tparts[k] = parts[k] || [];\n\t\t\t\tparts[k].push(segment[0]);\n\n\t\t\t\t// if segment goes out of screen, or it's the last one, it's the end of the line part\n\t\t\t\tif ((segment[1] !== points[j + 1]) || (j === len2 - 2)) {\n\t\t\t\t\tparts[k].push(segment[1]);\n\t\t\t\t\tk++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// simplify each clipped part of the polyline for performance\n\t_simplifyPoints: function () {\n\t\tvar parts = this._parts,\n\t\t    tolerance = this.options.smoothFactor;\n\n\t\tfor (var i = 0, len = parts.length; i < len; i++) {\n\t\t\tparts[i] = L.LineUtil.simplify(parts[i], tolerance);\n\t\t}\n\t},\n\n\t_update: function () {\n\t\tif (!this._map) { return; }\n\n\t\tthis._clipPoints();\n\t\tthis._simplifyPoints();\n\t\tthis._updatePath();\n\t},\n\n\t_updatePath: function () {\n\t\tthis._renderer._updatePoly(this);\n\t}\n});\n\n// @factory L.polyline(latlngs: LatLng[], options?: Polyline options)\n// Instantiates a polyline object given an array of geographical points and\n// optionally an options object. You can create a `Polyline` object with\n// multiple separate lines (`MultiPolyline`) by passing an array of arrays\n// of geographic points.\nL.polyline = function (latlngs, options) {\n\treturn new L.Polyline(latlngs, options);\n};\n\nL.Polyline._flat = function (latlngs) {\n\t// true if it's a flat array of latlngs; false if nested\n\treturn !L.Util.isArray(latlngs[0]) || (typeof latlngs[0][0] !== 'object' && typeof latlngs[0][0] !== 'undefined');\n};\n\n/*\r\n * @namespace PolyUtil\r\n * Various utility functions for polygon geometries.\r\n */\r\n\r\nL.PolyUtil = {};\r\n\r\n/* @function clipPolygon(points: Point[], bounds: Bounds, round?: Boolean): Point[]\r\n * Clips the polygon geometry defined by the given `points` by the given bounds (using the [Sutherland-Hodgeman algorithm](https://en.wikipedia.org/wiki/Sutherland%E2%80%93Hodgman_algorithm)).\r\n * Used by Leaflet to only show polygon points that are on the screen or near, increasing\r\n * performance. Note that polygon points needs different algorithm for clipping\r\n * than polyline, so there's a seperate method for it.\r\n */\r\nL.PolyUtil.clipPolygon = function (points, bounds, round) {\r\n\tvar clippedPoints,\r\n\t    edges = [1, 4, 2, 8],\r\n\t    i, j, k,\r\n\t    a, b,\r\n\t    len, edge, p,\r\n\t    lu = L.LineUtil;\r\n\r\n\tfor (i = 0, len = points.length; i < len; i++) {\r\n\t\tpoints[i]._code = lu._getBitCode(points[i], bounds);\r\n\t}\r\n\r\n\t// for each edge (left, bottom, right, top)\r\n\tfor (k = 0; k < 4; k++) {\r\n\t\tedge = edges[k];\r\n\t\tclippedPoints = [];\r\n\r\n\t\tfor (i = 0, len = points.length, j = len - 1; i < len; j = i++) {\r\n\t\t\ta = points[i];\r\n\t\t\tb = points[j];\r\n\r\n\t\t\t// if a is inside the clip window\r\n\t\t\tif (!(a._code & edge)) {\r\n\t\t\t\t// if b is outside the clip window (a->b goes out of screen)\r\n\t\t\t\tif (b._code & edge) {\r\n\t\t\t\t\tp = lu._getEdgeIntersection(b, a, edge, bounds, round);\r\n\t\t\t\t\tp._code = lu._getBitCode(p, bounds);\r\n\t\t\t\t\tclippedPoints.push(p);\r\n\t\t\t\t}\r\n\t\t\t\tclippedPoints.push(a);\r\n\r\n\t\t\t// else if b is inside the clip window (a->b enters the screen)\r\n\t\t\t} else if (!(b._code & edge)) {\r\n\t\t\t\tp = lu._getEdgeIntersection(b, a, edge, bounds, round);\r\n\t\t\t\tp._code = lu._getBitCode(p, bounds);\r\n\t\t\t\tclippedPoints.push(p);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpoints = clippedPoints;\r\n\t}\r\n\r\n\treturn points;\r\n};\r\n\n/*\n * @class Polygon\n * @aka L.Polygon\n * @inherits Polyline\n *\n * A class for drawing polygon overlays on a map. Extends `Polyline`.\n *\n * Note that points you pass when creating a polygon shouldn't have an additional last point equal to the first one — it's better to filter out such points.\n *\n *\n * @example\n *\n * ```js\n * // create a red polygon from an array of LatLng points\n * var latlngs = [[-111.03, 41],[-111.04, 45],[-104.05, 45],[-104.05, 41]];\n *\n * var polygon = L.polygon(latlngs, {color: 'red'}).addTo(map);\n *\n * // zoom the map to the polygon\n * map.fitBounds(polygon.getBounds());\n * ```\n *\n * You can also pass an array of arrays of latlngs, with the first array representing the outer shape and the other arrays representing holes in the outer shape:\n *\n * ```js\n * var latlngs = [\n *   [[-111.03, 41],[-111.04, 45],[-104.05, 45],[-104.05, 41]], // outer ring\n *   [[-108.58,37.29],[-108.58,40.71],[-102.50,40.71],[-102.50,37.29]] // hole\n * ];\n * ```\n *\n * Additionally, you can pass a multi-dimensional array to represent a MultiPolygon shape.\n *\n * ```js\n * var latlngs = [\n *   [ // first polygon\n *     [[-111.03, 41],[-111.04, 45],[-104.05, 45],[-104.05, 41]], // outer ring\n *     [[-108.58,37.29],[-108.58,40.71],[-102.50,40.71],[-102.50,37.29]] // hole\n *   ],\n *   [ // second polygon\n *     [[-109.05, 37],[-109.03, 41],[-102.05, 41],[-102.04, 37],[-109.05, 38]]\n *   ]\n * ];\n * ```\n */\n\nL.Polygon = L.Polyline.extend({\n\n\toptions: {\n\t\tfill: true\n\t},\n\n\tisEmpty: function () {\n\t\treturn !this._latlngs.length || !this._latlngs[0].length;\n\t},\n\n\tgetCenter: function () {\n\t\t// throws error when not yet added to map as this center calculation requires projected coordinates\n\t\tif (!this._map) {\n\t\t\tthrow new Error('Must add layer to map before using getCenter()');\n\t\t}\n\n\t\tvar i, j, p1, p2, f, area, x, y, center,\n\t\t    points = this._rings[0],\n\t\t    len = points.length;\n\n\t\tif (!len) { return null; }\n\n\t\t// polygon centroid algorithm; only uses the first ring if there are multiple\n\n\t\tarea = x = y = 0;\n\n\t\tfor (i = 0, j = len - 1; i < len; j = i++) {\n\t\t\tp1 = points[i];\n\t\t\tp2 = points[j];\n\n\t\t\tf = p1.y * p2.x - p2.y * p1.x;\n\t\t\tx += (p1.x + p2.x) * f;\n\t\t\ty += (p1.y + p2.y) * f;\n\t\t\tarea += f * 3;\n\t\t}\n\n\t\tif (area === 0) {\n\t\t\t// Polygon is so small that all points are on same pixel.\n\t\t\tcenter = points[0];\n\t\t} else {\n\t\t\tcenter = [x / area, y / area];\n\t\t}\n\t\treturn this._map.layerPointToLatLng(center);\n\t},\n\n\t_convertLatLngs: function (latlngs) {\n\t\tvar result = L.Polyline.prototype._convertLatLngs.call(this, latlngs),\n\t\t    len = result.length;\n\n\t\t// remove last point if it equals first one\n\t\tif (len >= 2 && result[0] instanceof L.LatLng && result[0].equals(result[len - 1])) {\n\t\t\tresult.pop();\n\t\t}\n\t\treturn result;\n\t},\n\n\t_setLatLngs: function (latlngs) {\n\t\tL.Polyline.prototype._setLatLngs.call(this, latlngs);\n\t\tif (L.Polyline._flat(this._latlngs)) {\n\t\t\tthis._latlngs = [this._latlngs];\n\t\t}\n\t},\n\n\t_defaultShape: function () {\n\t\treturn L.Polyline._flat(this._latlngs[0]) ? this._latlngs[0] : this._latlngs[0][0];\n\t},\n\n\t_clipPoints: function () {\n\t\t// polygons need a different clipping algorithm so we redefine that\n\n\t\tvar bounds = this._renderer._bounds,\n\t\t    w = this.options.weight,\n\t\t    p = new L.Point(w, w);\n\n\t\t// increase clip padding by stroke width to avoid stroke on clip edges\n\t\tbounds = new L.Bounds(bounds.min.subtract(p), bounds.max.add(p));\n\n\t\tthis._parts = [];\n\t\tif (!this._pxBounds || !this._pxBounds.intersects(bounds)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.options.noClip) {\n\t\t\tthis._parts = this._rings;\n\t\t\treturn;\n\t\t}\n\n\t\tfor (var i = 0, len = this._rings.length, clipped; i < len; i++) {\n\t\t\tclipped = L.PolyUtil.clipPolygon(this._rings[i], bounds, true);\n\t\t\tif (clipped.length) {\n\t\t\t\tthis._parts.push(clipped);\n\t\t\t}\n\t\t}\n\t},\n\n\t_updatePath: function () {\n\t\tthis._renderer._updatePoly(this, true);\n\t}\n});\n\n\n// @factory L.polygon(latlngs: LatLng[], options?: Polyline options)\nL.polygon = function (latlngs, options) {\n\treturn new L.Polygon(latlngs, options);\n};\n\n/*\n * L.Rectangle extends Polygon and creates a rectangle when passed a LatLngBounds object.\n */\n\n/*\n * @class Rectangle\n * @aka L.Retangle\n * @inherits Polygon\n *\n * A class for drawing rectangle overlays on a map. Extends `Polygon`.\n *\n * @example\n *\n * ```js\n * // define rectangle geographical bounds\n * var bounds = [[54.559322, -5.767822], [56.1210604, -3.021240]];\n *\n * // create an orange rectangle\n * L.rectangle(bounds, {color: \"#ff7800\", weight: 1}).addTo(map);\n *\n * // zoom the map to the rectangle bounds\n * map.fitBounds(bounds);\n * ```\n *\n */\n\n\nL.Rectangle = L.Polygon.extend({\n\tinitialize: function (latLngBounds, options) {\n\t\tL.Polygon.prototype.initialize.call(this, this._boundsToLatLngs(latLngBounds), options);\n\t},\n\n\t// @method setBounds(latLngBounds: LatLngBounds): this\n\t// Redraws the rectangle with the passed bounds.\n\tsetBounds: function (latLngBounds) {\n\t\treturn this.setLatLngs(this._boundsToLatLngs(latLngBounds));\n\t},\n\n\t_boundsToLatLngs: function (latLngBounds) {\n\t\tlatLngBounds = L.latLngBounds(latLngBounds);\n\t\treturn [\n\t\t\tlatLngBounds.getSouthWest(),\n\t\t\tlatLngBounds.getNorthWest(),\n\t\t\tlatLngBounds.getNorthEast(),\n\t\t\tlatLngBounds.getSouthEast()\n\t\t];\n\t}\n});\n\n\n// @factory L.rectangle(latLngBounds: LatLngBounds, options?: Polyline options)\nL.rectangle = function (latLngBounds, options) {\n\treturn new L.Rectangle(latLngBounds, options);\n};\n\n/*\n * @class CircleMarker\n * @aka L.CircleMarker\n * @inherits Path\n *\n * A circle of a fixed size with radius specified in pixels. Extends `Path`.\n */\n\nL.CircleMarker = L.Path.extend({\n\n\t// @section\n\t// @aka CircleMarker options\n\toptions: {\n\t\tfill: true,\n\n\t\t// @option radius: Number = 10\n\t\t// Radius of the circle marker, in pixels\n\t\tradius: 10\n\t},\n\n\tinitialize: function (latlng, options) {\n\t\tL.setOptions(this, options);\n\t\tthis._latlng = L.latLng(latlng);\n\t\tthis._radius = this.options.radius;\n\t},\n\n\t// @method setLatLng(latLng: LatLng): this\n\t// Sets the position of a circle marker to a new location.\n\tsetLatLng: function (latlng) {\n\t\tthis._latlng = L.latLng(latlng);\n\t\tthis.redraw();\n\t\treturn this.fire('move', {latlng: this._latlng});\n\t},\n\n\t// @method getLatLng(): LatLng\n\t// Returns the current geographical position of the circle marker\n\tgetLatLng: function () {\n\t\treturn this._latlng;\n\t},\n\n\t// @method setRadius(radius: Number): this\n\t// Sets the radius of a circle marker. Units are in pixels.\n\tsetRadius: function (radius) {\n\t\tthis.options.radius = this._radius = radius;\n\t\treturn this.redraw();\n\t},\n\n\t// @method getRadius(): Number\n\t// Returns the current radius of the circle\n\tgetRadius: function () {\n\t\treturn this._radius;\n\t},\n\n\tsetStyle : function (options) {\n\t\tvar radius = options && options.radius || this._radius;\n\t\tL.Path.prototype.setStyle.call(this, options);\n\t\tthis.setRadius(radius);\n\t\treturn this;\n\t},\n\n\t_project: function () {\n\t\tthis._point = this._map.latLngToLayerPoint(this._latlng);\n\t\tthis._updateBounds();\n\t},\n\n\t_updateBounds: function () {\n\t\tvar r = this._radius,\n\t\t    r2 = this._radiusY || r,\n\t\t    w = this._clickTolerance(),\n\t\t    p = [r + w, r2 + w];\n\t\tthis._pxBounds = new L.Bounds(this._point.subtract(p), this._point.add(p));\n\t},\n\n\t_update: function () {\n\t\tif (this._map) {\n\t\t\tthis._updatePath();\n\t\t}\n\t},\n\n\t_updatePath: function () {\n\t\tthis._renderer._updateCircle(this);\n\t},\n\n\t_empty: function () {\n\t\treturn this._radius && !this._renderer._bounds.intersects(this._pxBounds);\n\t}\n});\n\n\n// @factory L.circleMarker(latlng: LatLng, options?: CircleMarker options)\n// Instantiates a circle marker object given a geographical point, and an optional options object.\nL.circleMarker = function (latlng, options) {\n\treturn new L.CircleMarker(latlng, options);\n};\n\n/*\n * @class Circle\n * @aka L.Circle\n * @inherits CircleMarker\n *\n * A class for drawing circle overlays on a map. Extends `CircleMarker`.\n *\n * It's an approximation and starts to diverge from a real circle closer to poles (due to projection distortion).\n *\n * @example\n *\n * ```js\n * L.circle([50.5, 30.5], {radius: 200}).addTo(map);\n * ```\n */\n\nL.Circle = L.CircleMarker.extend({\n\n\tinitialize: function (latlng, options, legacyOptions) {\n\t\tif (typeof options === 'number') {\n\t\t\t// Backwards compatibility with 0.7.x factory (latlng, radius, options?)\n\t\t\toptions = L.extend({}, legacyOptions, {radius: options});\n\t\t}\n\t\tL.setOptions(this, options);\n\t\tthis._latlng = L.latLng(latlng);\n\n\t\tif (isNaN(this.options.radius)) { throw new Error('Circle radius cannot be NaN'); }\n\n\t\t// @section\n\t\t// @aka Circle options\n\t\t// @option radius: Number; Radius of the circle, in meters.\n\t\tthis._mRadius = this.options.radius;\n\t},\n\n\t// @method setRadius(radius: Number): this\n\t// Sets the radius of a circle. Units are in meters.\n\tsetRadius: function (radius) {\n\t\tthis._mRadius = radius;\n\t\treturn this.redraw();\n\t},\n\n\t// @method getRadius(): Number\n\t// Returns the current radius of a circle. Units are in meters.\n\tgetRadius: function () {\n\t\treturn this._mRadius;\n\t},\n\n\t// @method getBounds(): LatLngBounds\n\t// Returns the `LatLngBounds` of the path.\n\tgetBounds: function () {\n\t\tvar half = [this._radius, this._radiusY || this._radius];\n\n\t\treturn new L.LatLngBounds(\n\t\t\tthis._map.layerPointToLatLng(this._point.subtract(half)),\n\t\t\tthis._map.layerPointToLatLng(this._point.add(half)));\n\t},\n\n\tsetStyle: L.Path.prototype.setStyle,\n\n\t_project: function () {\n\n\t\tvar lng = this._latlng.lng,\n\t\t    lat = this._latlng.lat,\n\t\t    map = this._map,\n\t\t    crs = map.options.crs;\n\n\t\tif (crs.distance === L.CRS.Earth.distance) {\n\t\t\tvar d = Math.PI / 180,\n\t\t\t    latR = (this._mRadius / L.CRS.Earth.R) / d,\n\t\t\t    top = map.project([lat + latR, lng]),\n\t\t\t    bottom = map.project([lat - latR, lng]),\n\t\t\t    p = top.add(bottom).divideBy(2),\n\t\t\t    lat2 = map.unproject(p).lat,\n\t\t\t    lngR = Math.acos((Math.cos(latR * d) - Math.sin(lat * d) * Math.sin(lat2 * d)) /\n\t\t\t            (Math.cos(lat * d) * Math.cos(lat2 * d))) / d;\n\n\t\t\tif (isNaN(lngR) || lngR === 0) {\n\t\t\t\tlngR = latR / Math.cos(Math.PI / 180 * lat); // Fallback for edge case, #2425\n\t\t\t}\n\n\t\t\tthis._point = p.subtract(map.getPixelOrigin());\n\t\t\tthis._radius = isNaN(lngR) ? 0 : Math.max(Math.round(p.x - map.project([lat2, lng - lngR]).x), 1);\n\t\t\tthis._radiusY = Math.max(Math.round(p.y - top.y), 1);\n\n\t\t} else {\n\t\t\tvar latlng2 = crs.unproject(crs.project(this._latlng).subtract([this._mRadius, 0]));\n\n\t\t\tthis._point = map.latLngToLayerPoint(this._latlng);\n\t\t\tthis._radius = this._point.x - map.latLngToLayerPoint(latlng2).x;\n\t\t}\n\n\t\tthis._updateBounds();\n\t}\n});\n\n// @factory L.circle(latlng: LatLng, options?: Circle options)\n// Instantiates a circle object given a geographical point, and an options object\n// which contains the circle radius.\n// @alternative\n// @factory L.circle(latlng: LatLng, radius: Number, options?: Circle options)\n// Obsolete way of instantiating a circle, for compatibility with 0.7.x code.\n// Do not use in new applications or plugins.\nL.circle = function (latlng, options, legacyOptions) {\n\treturn new L.Circle(latlng, options, legacyOptions);\n};\n\n/*\n * @class SVG\n * @inherits Renderer\n * @aka L.SVG\n *\n * Allows vector layers to be displayed with [SVG](https://developer.mozilla.org/docs/Web/SVG).\n * Inherits `Renderer`.\n *\n * Due to [technical limitations](http://caniuse.com/#search=svg), SVG is not\n * available in all web browsers, notably Android 2.x and 3.x.\n *\n * Although SVG is not available on IE7 and IE8, these browsers support\n * [VML](https://en.wikipedia.org/wiki/Vector_Markup_Language)\n * (a now deprecated technology), and the SVG renderer will fall back to VML in\n * this case.\n *\n * @example\n *\n * Use SVG by default for all paths in the map:\n *\n * ```js\n * var map = L.map('map', {\n * \trenderer: L.svg()\n * });\n * ```\n *\n * Use a SVG renderer with extra padding for specific vector geometries:\n *\n * ```js\n * var map = L.map('map');\n * var myRenderer = L.svg({ padding: 0.5 });\n * var line = L.polyline( coordinates, { renderer: myRenderer } );\n * var circle = L.circle( center, { renderer: myRenderer } );\n * ```\n */\n\nL.SVG = L.Renderer.extend({\n\n\tgetEvents: function () {\n\t\tvar events = L.Renderer.prototype.getEvents.call(this);\n\t\tevents.zoomstart = this._onZoomStart;\n\t\treturn events;\n\t},\n\n\t_initContainer: function () {\n\t\tthis._container = L.SVG.create('svg');\n\n\t\t// makes it possible to click through svg root; we'll reset it back in individual paths\n\t\tthis._container.setAttribute('pointer-events', 'none');\n\n\t\tthis._rootGroup = L.SVG.create('g');\n\t\tthis._container.appendChild(this._rootGroup);\n\t},\n\n\t_onZoomStart: function () {\n\t\t// Drag-then-pinch interactions might mess up the center and zoom.\n\t\t// In this case, the easiest way to prevent this is re-do the renderer\n\t\t//   bounds and padding when the zooming starts.\n\t\tthis._update();\n\t},\n\n\t_update: function () {\n\t\tif (this._map._animatingZoom && this._bounds) { return; }\n\n\t\tL.Renderer.prototype._update.call(this);\n\n\t\tvar b = this._bounds,\n\t\t    size = b.getSize(),\n\t\t    container = this._container;\n\n\t\t// set size of svg-container if changed\n\t\tif (!this._svgSize || !this._svgSize.equals(size)) {\n\t\t\tthis._svgSize = size;\n\t\t\tcontainer.setAttribute('width', size.x);\n\t\t\tcontainer.setAttribute('height', size.y);\n\t\t}\n\n\t\t// movement: update container viewBox so that we don't have to change coordinates of individual layers\n\t\tL.DomUtil.setPosition(container, b.min);\n\t\tcontainer.setAttribute('viewBox', [b.min.x, b.min.y, size.x, size.y].join(' '));\n\n\t\tthis.fire('update');\n\t},\n\n\t// methods below are called by vector layers implementations\n\n\t_initPath: function (layer) {\n\t\tvar path = layer._path = L.SVG.create('path');\n\n\t\t// @namespace Path\n\t\t// @option className: String = null\n\t\t// Custom class name set on an element. Only for SVG renderer.\n\t\tif (layer.options.className) {\n\t\t\tL.DomUtil.addClass(path, layer.options.className);\n\t\t}\n\n\t\tif (layer.options.interactive) {\n\t\t\tL.DomUtil.addClass(path, 'leaflet-interactive');\n\t\t}\n\n\t\tthis._updateStyle(layer);\n\t},\n\n\t_addPath: function (layer) {\n\t\tthis._rootGroup.appendChild(layer._path);\n\t\tlayer.addInteractiveTarget(layer._path);\n\t},\n\n\t_removePath: function (layer) {\n\t\tL.DomUtil.remove(layer._path);\n\t\tlayer.removeInteractiveTarget(layer._path);\n\t},\n\n\t_updatePath: function (layer) {\n\t\tlayer._project();\n\t\tlayer._update();\n\t},\n\n\t_updateStyle: function (layer) {\n\t\tvar path = layer._path,\n\t\t    options = layer.options;\n\n\t\tif (!path) { return; }\n\n\t\tif (options.stroke) {\n\t\t\tpath.setAttribute('stroke', options.color);\n\t\t\tpath.setAttribute('stroke-opacity', options.opacity);\n\t\t\tpath.setAttribute('stroke-width', options.weight);\n\t\t\tpath.setAttribute('stroke-linecap', options.lineCap);\n\t\t\tpath.setAttribute('stroke-linejoin', options.lineJoin);\n\n\t\t\tif (options.dashArray) {\n\t\t\t\tpath.setAttribute('stroke-dasharray', options.dashArray);\n\t\t\t} else {\n\t\t\t\tpath.removeAttribute('stroke-dasharray');\n\t\t\t}\n\n\t\t\tif (options.dashOffset) {\n\t\t\t\tpath.setAttribute('stroke-dashoffset', options.dashOffset);\n\t\t\t} else {\n\t\t\t\tpath.removeAttribute('stroke-dashoffset');\n\t\t\t}\n\t\t} else {\n\t\t\tpath.setAttribute('stroke', 'none');\n\t\t}\n\n\t\tif (options.fill) {\n\t\t\tpath.setAttribute('fill', options.fillColor || options.color);\n\t\t\tpath.setAttribute('fill-opacity', options.fillOpacity);\n\t\t\tpath.setAttribute('fill-rule', options.fillRule || 'evenodd');\n\t\t} else {\n\t\t\tpath.setAttribute('fill', 'none');\n\t\t}\n\t},\n\n\t_updatePoly: function (layer, closed) {\n\t\tthis._setPath(layer, L.SVG.pointsToPath(layer._parts, closed));\n\t},\n\n\t_updateCircle: function (layer) {\n\t\tvar p = layer._point,\n\t\t    r = layer._radius,\n\t\t    r2 = layer._radiusY || r,\n\t\t    arc = 'a' + r + ',' + r2 + ' 0 1,0 ';\n\n\t\t// drawing a circle with two half-arcs\n\t\tvar d = layer._empty() ? 'M0 0' :\n\t\t\t\t'M' + (p.x - r) + ',' + p.y +\n\t\t\t\tarc + (r * 2) + ',0 ' +\n\t\t\t\tarc + (-r * 2) + ',0 ';\n\n\t\tthis._setPath(layer, d);\n\t},\n\n\t_setPath: function (layer, path) {\n\t\tlayer._path.setAttribute('d', path);\n\t},\n\n\t// SVG does not have the concept of zIndex so we resort to changing the DOM order of elements\n\t_bringToFront: function (layer) {\n\t\tL.DomUtil.toFront(layer._path);\n\t},\n\n\t_bringToBack: function (layer) {\n\t\tL.DomUtil.toBack(layer._path);\n\t}\n});\n\n\n// @namespace SVG; @section\n// There are several static functions which can be called without instantiating L.SVG:\nL.extend(L.SVG, {\n\t// @function create(name: String): SVGElement\n\t// Returns a instance of [SVGElement](https://developer.mozilla.org/docs/Web/API/SVGElement),\n\t// corresponding to the class name passed. For example, using 'line' will return\n\t// an instance of [SVGLineElement](https://developer.mozilla.org/docs/Web/API/SVGLineElement).\n\tcreate: function (name) {\n\t\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n\t},\n\n\t// @function pointsToPath(rings: Point[], closed: Boolean): String\n\t// Generates a SVG path string for multiple rings, with each ring turning\n\t// into \"M..L..L..\" instructions\n\tpointsToPath: function (rings, closed) {\n\t\tvar str = '',\n\t\t    i, j, len, len2, points, p;\n\n\t\tfor (i = 0, len = rings.length; i < len; i++) {\n\t\t\tpoints = rings[i];\n\n\t\t\tfor (j = 0, len2 = points.length; j < len2; j++) {\n\t\t\t\tp = points[j];\n\t\t\t\tstr += (j ? 'L' : 'M') + p.x + ' ' + p.y;\n\t\t\t}\n\n\t\t\t// closes the ring for polygons; \"x\" is VML syntax\n\t\t\tstr += closed ? (L.Browser.svg ? 'z' : 'x') : '';\n\t\t}\n\n\t\t// SVG complains about empty path strings\n\t\treturn str || 'M0 0';\n\t}\n});\n\n// @namespace Browser; @property svg: Boolean\n// `true` when the browser supports [SVG](https://developer.mozilla.org/docs/Web/SVG).\nL.Browser.svg = !!(document.createElementNS && L.SVG.create('svg').createSVGRect);\n\n\n// @namespace SVG\n// @factory L.svg(options?: Renderer options)\n// Creates a SVG renderer with the given options.\nL.svg = function (options) {\n\treturn L.Browser.svg || L.Browser.vml ? new L.SVG(options) : null;\n};\n\n/*\n * Thanks to Dmitry Baranovsky and his Raphael library for inspiration!\n */\n\n/*\n * @class SVG\n *\n * Although SVG is not available on IE7 and IE8, these browsers support [VML](https://en.wikipedia.org/wiki/Vector_Markup_Language), and the SVG renderer will fall back to VML in this case.\n *\n * VML was deprecated in 2012, which means VML functionality exists only for backwards compatibility\n * with old versions of Internet Explorer.\n */\n\n// @namespace Browser; @property vml: Boolean\n// `true` if the browser supports [VML](https://en.wikipedia.org/wiki/Vector_Markup_Language).\nL.Browser.vml = !L.Browser.svg && (function () {\n\ttry {\n\t\tvar div = document.createElement('div');\n\t\tdiv.innerHTML = '<v:shape adj=\"1\"/>';\n\n\t\tvar shape = div.firstChild;\n\t\tshape.style.behavior = 'url(#default#VML)';\n\n\t\treturn shape && (typeof shape.adj === 'object');\n\n\t} catch (e) {\n\t\treturn false;\n\t}\n}());\n\n// redefine some SVG methods to handle VML syntax which is similar but with some differences\nL.SVG.include(!L.Browser.vml ? {} : {\n\n\t_initContainer: function () {\n\t\tthis._container = L.DomUtil.create('div', 'leaflet-vml-container');\n\t},\n\n\t_update: function () {\n\t\tif (this._map._animatingZoom) { return; }\n\t\tL.Renderer.prototype._update.call(this);\n\t\tthis.fire('update');\n\t},\n\n\t_initPath: function (layer) {\n\t\tvar container = layer._container = L.SVG.create('shape');\n\n\t\tL.DomUtil.addClass(container, 'leaflet-vml-shape ' + (this.options.className || ''));\n\n\t\tcontainer.coordsize = '1 1';\n\n\t\tlayer._path = L.SVG.create('path');\n\t\tcontainer.appendChild(layer._path);\n\n\t\tthis._updateStyle(layer);\n\t},\n\n\t_addPath: function (layer) {\n\t\tvar container = layer._container;\n\t\tthis._container.appendChild(container);\n\n\t\tif (layer.options.interactive) {\n\t\t\tlayer.addInteractiveTarget(container);\n\t\t}\n\t},\n\n\t_removePath: function (layer) {\n\t\tvar container = layer._container;\n\t\tL.DomUtil.remove(container);\n\t\tlayer.removeInteractiveTarget(container);\n\t},\n\n\t_updateStyle: function (layer) {\n\t\tvar stroke = layer._stroke,\n\t\t    fill = layer._fill,\n\t\t    options = layer.options,\n\t\t    container = layer._container;\n\n\t\tcontainer.stroked = !!options.stroke;\n\t\tcontainer.filled = !!options.fill;\n\n\t\tif (options.stroke) {\n\t\t\tif (!stroke) {\n\t\t\t\tstroke = layer._stroke = L.SVG.create('stroke');\n\t\t\t}\n\t\t\tcontainer.appendChild(stroke);\n\t\t\tstroke.weight = options.weight + 'px';\n\t\t\tstroke.color = options.color;\n\t\t\tstroke.opacity = options.opacity;\n\n\t\t\tif (options.dashArray) {\n\t\t\t\tstroke.dashStyle = L.Util.isArray(options.dashArray) ?\n\t\t\t\t    options.dashArray.join(' ') :\n\t\t\t\t    options.dashArray.replace(/( *, *)/g, ' ');\n\t\t\t} else {\n\t\t\t\tstroke.dashStyle = '';\n\t\t\t}\n\t\t\tstroke.endcap = options.lineCap.replace('butt', 'flat');\n\t\t\tstroke.joinstyle = options.lineJoin;\n\n\t\t} else if (stroke) {\n\t\t\tcontainer.removeChild(stroke);\n\t\t\tlayer._stroke = null;\n\t\t}\n\n\t\tif (options.fill) {\n\t\t\tif (!fill) {\n\t\t\t\tfill = layer._fill = L.SVG.create('fill');\n\t\t\t}\n\t\t\tcontainer.appendChild(fill);\n\t\t\tfill.color = options.fillColor || options.color;\n\t\t\tfill.opacity = options.fillOpacity;\n\n\t\t} else if (fill) {\n\t\t\tcontainer.removeChild(fill);\n\t\t\tlayer._fill = null;\n\t\t}\n\t},\n\n\t_updateCircle: function (layer) {\n\t\tvar p = layer._point.round(),\n\t\t    r = Math.round(layer._radius),\n\t\t    r2 = Math.round(layer._radiusY || r);\n\n\t\tthis._setPath(layer, layer._empty() ? 'M0 0' :\n\t\t\t\t'AL ' + p.x + ',' + p.y + ' ' + r + ',' + r2 + ' 0,' + (65535 * 360));\n\t},\n\n\t_setPath: function (layer, path) {\n\t\tlayer._path.v = path;\n\t},\n\n\t_bringToFront: function (layer) {\n\t\tL.DomUtil.toFront(layer._container);\n\t},\n\n\t_bringToBack: function (layer) {\n\t\tL.DomUtil.toBack(layer._container);\n\t}\n});\n\nif (L.Browser.vml) {\n\tL.SVG.create = (function () {\n\t\ttry {\n\t\t\tdocument.namespaces.add('lvml', 'urn:schemas-microsoft-com:vml');\n\t\t\treturn function (name) {\n\t\t\t\treturn document.createElement('<lvml:' + name + ' class=\"lvml\">');\n\t\t\t};\n\t\t} catch (e) {\n\t\t\treturn function (name) {\n\t\t\t\treturn document.createElement('<' + name + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\">');\n\t\t\t};\n\t\t}\n\t})();\n}\n\n/*\n * @class Canvas\n * @inherits Renderer\n * @aka L.Canvas\n *\n * Allows vector layers to be displayed with [`<canvas>`](https://developer.mozilla.org/docs/Web/API/Canvas_API).\n * Inherits `Renderer`.\n *\n * Due to [technical limitations](http://caniuse.com/#search=canvas), Canvas is not\n * available in all web browsers, notably IE8, and overlapping geometries might\n * not display properly in some edge cases.\n *\n * @example\n *\n * Use Canvas by default for all paths in the map:\n *\n * ```js\n * var map = L.map('map', {\n * \trenderer: L.canvas()\n * });\n * ```\n *\n * Use a Canvas renderer with extra padding for specific vector geometries:\n *\n * ```js\n * var map = L.map('map');\n * var myRenderer = L.canvas({ padding: 0.5 });\n * var line = L.polyline( coordinates, { renderer: myRenderer } );\n * var circle = L.circle( center, { renderer: myRenderer } );\n * ```\n */\n\nL.Canvas = L.Renderer.extend({\n\n\tonAdd: function () {\n\t\tL.Renderer.prototype.onAdd.call(this);\n\n\t\tthis._layers = this._layers || {};\n\n\t\t// Redraw vectors since canvas is cleared upon removal,\n\t\t// in case of removing the renderer itself from the map.\n\t\tthis._draw();\n\t},\n\n\t_initContainer: function () {\n\t\tvar container = this._container = document.createElement('canvas');\n\n\t\tL.DomEvent\n\t\t\t.on(container, 'mousemove', L.Util.throttle(this._onMouseMove, 32, this), this)\n\t\t\t.on(container, 'click dblclick mousedown mouseup contextmenu', this._onClick, this)\n\t\t\t.on(container, 'mouseout', this._handleMouseOut, this);\n\n\t\tthis._ctx = container.getContext('2d');\n\t},\n\n\t_update: function () {\n\t\tif (this._map._animatingZoom && this._bounds) { return; }\n\n\t\tthis._drawnLayers = {};\n\n\t\tL.Renderer.prototype._update.call(this);\n\n\t\tvar b = this._bounds,\n\t\t    container = this._container,\n\t\t    size = b.getSize(),\n\t\t    m = L.Browser.retina ? 2 : 1;\n\n\t\tL.DomUtil.setPosition(container, b.min);\n\n\t\t// set canvas size (also clearing it); use double size on retina\n\t\tcontainer.width = m * size.x;\n\t\tcontainer.height = m * size.y;\n\t\tcontainer.style.width = size.x + 'px';\n\t\tcontainer.style.height = size.y + 'px';\n\n\t\tif (L.Browser.retina) {\n\t\t\tthis._ctx.scale(2, 2);\n\t\t}\n\n\t\t// translate so we use the same path coordinates after canvas element moves\n\t\tthis._ctx.translate(-b.min.x, -b.min.y);\n\n\t\t// Tell paths to redraw themselves\n\t\tthis.fire('update');\n\t},\n\n\t_initPath: function (layer) {\n\t\tthis._updateDashArray(layer);\n\t\tthis._layers[L.stamp(layer)] = layer;\n\t},\n\n\t_addPath: L.Util.falseFn,\n\n\t_removePath: function (layer) {\n\t\tlayer._removed = true;\n\t\tthis._requestRedraw(layer);\n\t},\n\n\t_updatePath: function (layer) {\n\t\tthis._redrawBounds = layer._pxBounds;\n\t\tthis._draw(true);\n\t\tlayer._project();\n\t\tlayer._update();\n\t\tthis._draw();\n\t\tthis._redrawBounds = null;\n\t},\n\n\t_updateStyle: function (layer) {\n\t\tthis._updateDashArray(layer);\n\t\tthis._requestRedraw(layer);\n\t},\n\n\t_updateDashArray: function (layer) {\n\t\tif (layer.options.dashArray) {\n\t\t\tvar parts = layer.options.dashArray.split(','),\n\t\t\t    dashArray = [],\n\t\t\t    i;\n\t\t\tfor (i = 0; i < parts.length; i++) {\n\t\t\t\tdashArray.push(Number(parts[i]));\n\t\t\t}\n\t\t\tlayer.options._dashArray = dashArray;\n\t\t}\n\t},\n\n\t_requestRedraw: function (layer) {\n\t\tif (!this._map) { return; }\n\n\t\tvar padding = (layer.options.weight || 0) + 1;\n\t\tthis._redrawBounds = this._redrawBounds || new L.Bounds();\n\t\tthis._redrawBounds.extend(layer._pxBounds.min.subtract([padding, padding]));\n\t\tthis._redrawBounds.extend(layer._pxBounds.max.add([padding, padding]));\n\n\t\tthis._redrawRequest = this._redrawRequest || L.Util.requestAnimFrame(this._redraw, this);\n\t},\n\n\t_redraw: function () {\n\t\tthis._redrawRequest = null;\n\n\t\tthis._draw(true); // clear layers in redraw bounds\n\t\tthis._draw(); // draw layers\n\n\t\tthis._redrawBounds = null;\n\t},\n\n\t_draw: function (clear) {\n\t\tthis._clear = clear;\n\t\tvar layer, bounds = this._redrawBounds;\n\t\tthis._ctx.save();\n\t\tif (bounds) {\n\t\t\tthis._ctx.beginPath();\n\t\t\tthis._ctx.rect(bounds.min.x, bounds.min.y, bounds.max.x - bounds.min.x, bounds.max.y - bounds.min.y);\n\t\t\tthis._ctx.clip();\n\t\t}\n\n\t\tfor (var id in this._layers) {\n\t\t\tlayer = this._layers[id];\n\t\t\tif (!bounds || (layer._pxBounds && layer._pxBounds.intersects(bounds))) {\n\t\t\t\tlayer._updatePath();\n\t\t\t}\n\t\t\tif (clear && layer._removed) {\n\t\t\t\tdelete layer._removed;\n\t\t\t\tdelete this._layers[id];\n\t\t\t}\n\t\t}\n\t\tthis._ctx.restore();  // Restore state before clipping.\n\t},\n\n\t_updatePoly: function (layer, closed) {\n\n\t\tvar i, j, len2, p,\n\t\t    parts = layer._parts,\n\t\t    len = parts.length,\n\t\t    ctx = this._ctx;\n\n\t\tif (!len) { return; }\n\n\t\tthis._drawnLayers[layer._leaflet_id] = layer;\n\n\t\tctx.beginPath();\n\n\t\tif (ctx.setLineDash) {\n\t\t\tctx.setLineDash(layer.options && layer.options._dashArray || []);\n\t\t}\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tfor (j = 0, len2 = parts[i].length; j < len2; j++) {\n\t\t\t\tp = parts[i][j];\n\t\t\t\tctx[j ? 'lineTo' : 'moveTo'](p.x, p.y);\n\t\t\t}\n\t\t\tif (closed) {\n\t\t\t\tctx.closePath();\n\t\t\t}\n\t\t}\n\n\t\tthis._fillStroke(ctx, layer);\n\n\t\t// TODO optimization: 1 fill/stroke for all features with equal style instead of 1 for each feature\n\t},\n\n\t_updateCircle: function (layer) {\n\n\t\tif (layer._empty()) { return; }\n\n\t\tvar p = layer._point,\n\t\t    ctx = this._ctx,\n\t\t    r = layer._radius,\n\t\t    s = (layer._radiusY || r) / r;\n\n\t\tthis._drawnLayers[layer._leaflet_id] = layer;\n\n\t\tif (s !== 1) {\n\t\t\tctx.save();\n\t\t\tctx.scale(1, s);\n\t\t}\n\n\t\tctx.beginPath();\n\t\tctx.arc(p.x, p.y / s, r, 0, Math.PI * 2, false);\n\n\t\tif (s !== 1) {\n\t\t\tctx.restore();\n\t\t}\n\n\t\tthis._fillStroke(ctx, layer);\n\t},\n\n\t_fillStroke: function (ctx, layer) {\n\t\tvar clear = this._clear,\n\t\t    options = layer.options;\n\n\t\tctx.globalCompositeOperation = clear ? 'destination-out' : 'source-over';\n\n\t\tif (options.fill) {\n\t\t\tctx.globalAlpha = clear ? 1 : options.fillOpacity;\n\t\t\tctx.fillStyle = options.fillColor || options.color;\n\t\t\tctx.fill(options.fillRule || 'evenodd');\n\t\t}\n\n\t\tif (options.stroke && options.weight !== 0) {\n\t\t\tctx.globalAlpha = clear ? 1 : options.opacity;\n\n\t\t\t// if clearing shape, do it with the previously drawn line width\n\t\t\tlayer._prevWeight = ctx.lineWidth = clear ? layer._prevWeight + 1 : options.weight;\n\n\t\t\tctx.strokeStyle = options.color;\n\t\t\tctx.lineCap = options.lineCap;\n\t\t\tctx.lineJoin = options.lineJoin;\n\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t// Canvas obviously doesn't have mouse events for individual drawn objects,\n\t// so we emulate that by calculating what's under the mouse on mousemove/click manually\n\n\t_onClick: function (e) {\n\t\tvar point = this._map.mouseEventToLayerPoint(e), layers = [], layer;\n\n\t\tfor (var id in this._layers) {\n\t\t\tlayer = this._layers[id];\n\t\t\tif (layer.options.interactive && layer._containsPoint(point) && !this._map._draggableMoved(layer)) {\n\t\t\t\tL.DomEvent._fakeStop(e);\n\t\t\t\tlayers.push(layer);\n\t\t\t}\n\t\t}\n\t\tif (layers.length)  {\n\t\t\tthis._fireEvent(layers, e);\n\t\t}\n\t},\n\n\t_onMouseMove: function (e) {\n\t\tif (!this._map || this._map.dragging.moving() || this._map._animatingZoom) { return; }\n\n\t\tvar point = this._map.mouseEventToLayerPoint(e);\n\t\tthis._handleMouseOut(e, point);\n\t\tthis._handleMouseHover(e, point);\n\t},\n\n\n\t_handleMouseOut: function (e, point) {\n\t\tvar layer = this._hoveredLayer;\n\t\tif (layer && (e.type === 'mouseout' || !layer._containsPoint(point))) {\n\t\t\t// if we're leaving the layer, fire mouseout\n\t\t\tL.DomUtil.removeClass(this._container, 'leaflet-interactive');\n\t\t\tthis._fireEvent([layer], e, 'mouseout');\n\t\t\tthis._hoveredLayer = null;\n\t\t}\n\t},\n\n\t_handleMouseHover: function (e, point) {\n\t\tvar id, layer;\n\n\t\tfor (id in this._drawnLayers) {\n\t\t\tlayer = this._drawnLayers[id];\n\t\t\tif (layer.options.interactive && layer._containsPoint(point)) {\n\t\t\t\tL.DomUtil.addClass(this._container, 'leaflet-interactive'); // change cursor\n\t\t\t\tthis._fireEvent([layer], e, 'mouseover');\n\t\t\t\tthis._hoveredLayer = layer;\n\t\t\t}\n\t\t}\n\n\t\tif (this._hoveredLayer) {\n\t\t\tthis._fireEvent([this._hoveredLayer], e);\n\t\t}\n\t},\n\n\t_fireEvent: function (layers, e, type) {\n\t\tthis._map._fireDOMEvent(e, type || e.type, layers);\n\t},\n\n\t// TODO _bringToFront & _bringToBack, pretty tricky\n\n\t_bringToFront: L.Util.falseFn,\n\t_bringToBack: L.Util.falseFn\n});\n\n// @namespace Browser; @property canvas: Boolean\n// `true` when the browser supports [`<canvas>`](https://developer.mozilla.org/docs/Web/API/Canvas_API).\nL.Browser.canvas = (function () {\n\treturn !!document.createElement('canvas').getContext;\n}());\n\n// @namespace Canvas\n// @factory L.canvas(options?: Renderer options)\n// Creates a Canvas renderer with the given options.\nL.canvas = function (options) {\n\treturn L.Browser.canvas ? new L.Canvas(options) : null;\n};\n\nL.Polyline.prototype._containsPoint = function (p, closed) {\n\tvar i, j, k, len, len2, part,\n\t    w = this._clickTolerance();\n\n\tif (!this._pxBounds.contains(p)) { return false; }\n\n\t// hit detection for polylines\n\tfor (i = 0, len = this._parts.length; i < len; i++) {\n\t\tpart = this._parts[i];\n\n\t\tfor (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {\n\t\t\tif (!closed && (j === 0)) { continue; }\n\n\t\t\tif (L.LineUtil.pointToSegmentDistance(p, part[k], part[j]) <= w) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n};\n\nL.Polygon.prototype._containsPoint = function (p) {\n\tvar inside = false,\n\t    part, p1, p2, i, j, k, len, len2;\n\n\tif (!this._pxBounds.contains(p)) { return false; }\n\n\t// ray casting algorithm for detecting if point is in polygon\n\tfor (i = 0, len = this._parts.length; i < len; i++) {\n\t\tpart = this._parts[i];\n\n\t\tfor (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {\n\t\t\tp1 = part[j];\n\t\t\tp2 = part[k];\n\n\t\t\tif (((p1.y > p.y) !== (p2.y > p.y)) && (p.x < (p2.x - p1.x) * (p.y - p1.y) / (p2.y - p1.y) + p1.x)) {\n\t\t\t\tinside = !inside;\n\t\t\t}\n\t\t}\n\t}\n\n\t// also check if it's on polygon stroke\n\treturn inside || L.Polyline.prototype._containsPoint.call(this, p, true);\n};\n\nL.CircleMarker.prototype._containsPoint = function (p) {\n\treturn p.distanceTo(this._point) <= this._radius + this._clickTolerance();\n};\n\n/*\r\n * @class GeoJSON\r\n * @aka L.GeoJSON\r\n * @inherits FeatureGroup\r\n *\r\n * Represents a GeoJSON object or an array of GeoJSON objects. Allows you to parse\r\n * GeoJSON data and display it on the map. Extends `FeatureGroup`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * L.geoJSON(data, {\r\n * \tstyle: function (feature) {\r\n * \t\treturn {color: feature.properties.color};\r\n * \t}\r\n * }).bindPopup(function (layer) {\r\n * \treturn layer.feature.properties.description;\r\n * }).addTo(map);\r\n * ```\r\n */\r\n\r\nL.GeoJSON = L.FeatureGroup.extend({\r\n\r\n\t/* @section\r\n\t * @aka GeoJSON options\r\n\t *\r\n\t * @option pointToLayer: Function = *\r\n\t * A `Function` defining how GeoJSON points spawn Leaflet layers. It is internally\r\n\t * called when data is added, passing the GeoJSON point feature and its `LatLng`.\r\n\t * The default is to spawn a default `Marker`:\r\n\t * ```js\r\n\t * function(geoJsonPoint, latlng) {\r\n\t * \treturn L.marker(latlng);\r\n\t * }\r\n\t * ```\r\n\t *\r\n\t * @option style: Function = *\r\n\t * A `Function` defining the `Path options` for styling GeoJSON lines and polygons,\r\n\t * called internally when data is added.\r\n\t * The default value is to not override any defaults:\r\n\t * ```js\r\n\t * function (geoJsonFeature) {\r\n\t * \treturn {}\r\n\t * }\r\n\t * ```\r\n\t *\r\n\t * @option onEachFeature: Function = *\r\n\t * A `Function` that will be called once for each created `Feature`, after it has\r\n\t * been created and styled. Useful for attaching events and popups to features.\r\n\t * The default is to do nothing with the newly created layers:\r\n\t * ```js\r\n\t * function (feature, layer) {}\r\n\t * ```\r\n\t *\r\n\t * @option filter: Function = *\r\n\t * A `Function` that will be used to decide whether to include a feature or not.\r\n\t * The default is to include all features:\r\n\t * ```js\r\n\t * function (geoJsonFeature) {\r\n\t * \treturn true;\r\n\t * }\r\n\t * ```\r\n\t * Note: dynamically changing the `filter` option will have effect only on newly\r\n\t * added data. It will _not_ re-evaluate already included features.\r\n\t *\r\n\t * @option coordsToLatLng: Function = *\r\n\t * A `Function` that will be used for converting GeoJSON coordinates to `LatLng`s.\r\n\t * The default is the `coordsToLatLng` static method.\r\n\t */\r\n\r\n\tinitialize: function (geojson, options) {\r\n\t\tL.setOptions(this, options);\r\n\r\n\t\tthis._layers = {};\r\n\r\n\t\tif (geojson) {\r\n\t\t\tthis.addData(geojson);\r\n\t\t}\r\n\t},\r\n\r\n\t// @method addData( <GeoJSON> data ): Layer\r\n\t// Adds a GeoJSON object to the layer.\r\n\taddData: function (geojson) {\r\n\t\tvar features = L.Util.isArray(geojson) ? geojson : geojson.features,\r\n\t\t    i, len, feature;\r\n\r\n\t\tif (features) {\r\n\t\t\tfor (i = 0, len = features.length; i < len; i++) {\r\n\t\t\t\t// only add this if geometry or geometries are set and not null\r\n\t\t\t\tfeature = features[i];\r\n\t\t\t\tif (feature.geometries || feature.geometry || feature.features || feature.coordinates) {\r\n\t\t\t\t\tthis.addData(feature);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar options = this.options;\r\n\r\n\t\tif (options.filter && !options.filter(geojson)) { return this; }\r\n\r\n\t\tvar layer = L.GeoJSON.geometryToLayer(geojson, options);\r\n\t\tif (!layer) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tlayer.feature = L.GeoJSON.asFeature(geojson);\r\n\r\n\t\tlayer.defaultOptions = layer.options;\r\n\t\tthis.resetStyle(layer);\r\n\r\n\t\tif (options.onEachFeature) {\r\n\t\t\toptions.onEachFeature(geojson, layer);\r\n\t\t}\r\n\r\n\t\treturn this.addLayer(layer);\r\n\t},\r\n\r\n\t// @method resetStyle( <Path> layer ): Layer\r\n\t// Resets the given vector layer's style to the original GeoJSON style, useful for resetting style after hover events.\r\n\tresetStyle: function (layer) {\r\n\t\t// reset any custom styles\r\n\t\tlayer.options = L.Util.extend({}, layer.defaultOptions);\r\n\t\tthis._setLayerStyle(layer, this.options.style);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method setStyle( <Function> style ): Layer\r\n\t// Changes styles of GeoJSON vector layers with the given style function.\r\n\tsetStyle: function (style) {\r\n\t\treturn this.eachLayer(function (layer) {\r\n\t\t\tthis._setLayerStyle(layer, style);\r\n\t\t}, this);\r\n\t},\r\n\r\n\t_setLayerStyle: function (layer, style) {\r\n\t\tif (typeof style === 'function') {\r\n\t\t\tstyle = style(layer.feature);\r\n\t\t}\r\n\t\tif (layer.setStyle) {\r\n\t\t\tlayer.setStyle(style);\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// @section\r\n// There are several static functions which can be called without instantiating L.GeoJSON:\r\nL.extend(L.GeoJSON, {\r\n\t// @function geometryToLayer(featureData: Object, options?: GeoJSON options): Layer\r\n\t// Creates a `Layer` from a given GeoJSON feature. Can use a custom\r\n\t// [`pointToLayer`](#geojson-pointtolayer) and/or [`coordsToLatLng`](#geojson-coordstolatlng)\r\n\t// functions if provided as options.\r\n\tgeometryToLayer: function (geojson, options) {\r\n\r\n\t\tvar geometry = geojson.type === 'Feature' ? geojson.geometry : geojson,\r\n\t\t    coords = geometry ? geometry.coordinates : null,\r\n\t\t    layers = [],\r\n\t\t    pointToLayer = options && options.pointToLayer,\r\n\t\t    coordsToLatLng = options && options.coordsToLatLng || this.coordsToLatLng,\r\n\t\t    latlng, latlngs, i, len;\r\n\r\n\t\tif (!coords && !geometry) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tswitch (geometry.type) {\r\n\t\tcase 'Point':\r\n\t\t\tlatlng = coordsToLatLng(coords);\r\n\t\t\treturn pointToLayer ? pointToLayer(geojson, latlng) : new L.Marker(latlng);\r\n\r\n\t\tcase 'MultiPoint':\r\n\t\t\tfor (i = 0, len = coords.length; i < len; i++) {\r\n\t\t\t\tlatlng = coordsToLatLng(coords[i]);\r\n\t\t\t\tlayers.push(pointToLayer ? pointToLayer(geojson, latlng) : new L.Marker(latlng));\r\n\t\t\t}\r\n\t\t\treturn new L.FeatureGroup(layers);\r\n\r\n\t\tcase 'LineString':\r\n\t\tcase 'MultiLineString':\r\n\t\t\tlatlngs = this.coordsToLatLngs(coords, geometry.type === 'LineString' ? 0 : 1, coordsToLatLng);\r\n\t\t\treturn new L.Polyline(latlngs, options);\r\n\r\n\t\tcase 'Polygon':\r\n\t\tcase 'MultiPolygon':\r\n\t\t\tlatlngs = this.coordsToLatLngs(coords, geometry.type === 'Polygon' ? 1 : 2, coordsToLatLng);\r\n\t\t\treturn new L.Polygon(latlngs, options);\r\n\r\n\t\tcase 'GeometryCollection':\r\n\t\t\tfor (i = 0, len = geometry.geometries.length; i < len; i++) {\r\n\t\t\t\tvar layer = this.geometryToLayer({\r\n\t\t\t\t\tgeometry: geometry.geometries[i],\r\n\t\t\t\t\ttype: 'Feature',\r\n\t\t\t\t\tproperties: geojson.properties\r\n\t\t\t\t}, options);\r\n\r\n\t\t\t\tif (layer) {\r\n\t\t\t\t\tlayers.push(layer);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn new L.FeatureGroup(layers);\r\n\r\n\t\tdefault:\r\n\t\t\tthrow new Error('Invalid GeoJSON object.');\r\n\t\t}\r\n\t},\r\n\r\n\t// @function coordsToLatLng(coords: Array): LatLng\r\n\t// Creates a `LatLng` object from an array of 2 numbers (longitude, latitude)\r\n\t// or 3 numbers (longitude, latitude, altitude) used in GeoJSON for points.\r\n\tcoordsToLatLng: function (coords) {\r\n\t\treturn new L.LatLng(coords[1], coords[0], coords[2]);\r\n\t},\r\n\r\n\t// @function coordsToLatLngs(coords: Array, levelsDeep?: Number, coordsToLatLng?: Function): Array\r\n\t// Creates a multidimensional array of `LatLng`s from a GeoJSON coordinates array.\r\n\t// `levelsDeep` specifies the nesting level (0 is for an array of points, 1 for an array of arrays of points, etc., 0 by default).\r\n\t// Can use a custom [`coordsToLatLng`](#geojson-coordstolatlng) function.\r\n\tcoordsToLatLngs: function (coords, levelsDeep, coordsToLatLng) {\r\n\t\tvar latlngs = [];\r\n\r\n\t\tfor (var i = 0, len = coords.length, latlng; i < len; i++) {\r\n\t\t\tlatlng = levelsDeep ?\r\n\t\t\t        this.coordsToLatLngs(coords[i], levelsDeep - 1, coordsToLatLng) :\r\n\t\t\t        (coordsToLatLng || this.coordsToLatLng)(coords[i]);\r\n\r\n\t\t\tlatlngs.push(latlng);\r\n\t\t}\r\n\r\n\t\treturn latlngs;\r\n\t},\r\n\r\n\t// @function latLngToCoords(latlng: LatLng): Array\r\n\t// Reverse of [`coordsToLatLng`](#geojson-coordstolatlng)\r\n\tlatLngToCoords: function (latlng) {\r\n\t\treturn latlng.alt !== undefined ?\r\n\t\t\t\t[latlng.lng, latlng.lat, latlng.alt] :\r\n\t\t\t\t[latlng.lng, latlng.lat];\r\n\t},\r\n\r\n\t// @function latLngsToCoords(latlngs: Array, levelsDeep?: Number, closed?: Boolean): Array\r\n\t// Reverse of [`coordsToLatLngs`](#geojson-coordstolatlngs)\r\n\t// `closed` determines whether the first point should be appended to the end of the array to close the feature, only used when `levelsDeep` is 0. False by default.\r\n\tlatLngsToCoords: function (latlngs, levelsDeep, closed) {\r\n\t\tvar coords = [];\r\n\r\n\t\tfor (var i = 0, len = latlngs.length; i < len; i++) {\r\n\t\t\tcoords.push(levelsDeep ?\r\n\t\t\t\tL.GeoJSON.latLngsToCoords(latlngs[i], levelsDeep - 1, closed) :\r\n\t\t\t\tL.GeoJSON.latLngToCoords(latlngs[i]));\r\n\t\t}\r\n\r\n\t\tif (!levelsDeep && closed) {\r\n\t\t\tcoords.push(coords[0]);\r\n\t\t}\r\n\r\n\t\treturn coords;\r\n\t},\r\n\r\n\tgetFeature: function (layer, newGeometry) {\r\n\t\treturn layer.feature ?\r\n\t\t\t\tL.extend({}, layer.feature, {geometry: newGeometry}) :\r\n\t\t\t\tL.GeoJSON.asFeature(newGeometry);\r\n\t},\r\n\r\n\t// @function asFeature(geojson: Object): Object\r\n\t// Normalize GeoJSON geometries/features into GeoJSON features.\r\n\tasFeature: function (geojson) {\r\n\t\tif (geojson.type === 'Feature') {\r\n\t\t\treturn geojson;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttype: 'Feature',\r\n\t\t\tproperties: {},\r\n\t\t\tgeometry: geojson\r\n\t\t};\r\n\t}\r\n});\r\n\r\nvar PointToGeoJSON = {\r\n\ttoGeoJSON: function () {\r\n\t\treturn L.GeoJSON.getFeature(this, {\r\n\t\t\ttype: 'Point',\r\n\t\t\tcoordinates: L.GeoJSON.latLngToCoords(this.getLatLng())\r\n\t\t});\r\n\t}\r\n};\r\n\r\nL.Marker.include(PointToGeoJSON);\r\n\r\n// @namespace CircleMarker\r\n// @method toGeoJSON(): Object\r\n// Returns a [`GeoJSON`](http://en.wikipedia.org/wiki/GeoJSON) representation of the circle marker (as a GeoJSON `Point` Feature).\r\nL.Circle.include(PointToGeoJSON);\r\nL.CircleMarker.include(PointToGeoJSON);\r\n\r\n\r\n// @namespace Polyline\r\n// @method toGeoJSON(): Object\r\n// Returns a [`GeoJSON`](http://en.wikipedia.org/wiki/GeoJSON) representation of the polyline (as a GeoJSON `LineString` or `MultiLineString` Feature).\r\nL.Polyline.prototype.toGeoJSON = function () {\r\n\tvar multi = !L.Polyline._flat(this._latlngs);\r\n\r\n\tvar coords = L.GeoJSON.latLngsToCoords(this._latlngs, multi ? 1 : 0);\r\n\r\n\treturn L.GeoJSON.getFeature(this, {\r\n\t\ttype: (multi ? 'Multi' : '') + 'LineString',\r\n\t\tcoordinates: coords\r\n\t});\r\n};\r\n\r\n// @namespace Polygon\r\n// @method toGeoJSON(): Object\r\n// Returns a [`GeoJSON`](http://en.wikipedia.org/wiki/GeoJSON) representation of the polygon (as a GeoJSON `Polygon` or `MultiPolygon` Feature).\r\nL.Polygon.prototype.toGeoJSON = function () {\r\n\tvar holes = !L.Polyline._flat(this._latlngs),\r\n\t    multi = holes && !L.Polyline._flat(this._latlngs[0]);\r\n\r\n\tvar coords = L.GeoJSON.latLngsToCoords(this._latlngs, multi ? 2 : holes ? 1 : 0, true);\r\n\r\n\tif (!holes) {\r\n\t\tcoords = [coords];\r\n\t}\r\n\r\n\treturn L.GeoJSON.getFeature(this, {\r\n\t\ttype: (multi ? 'Multi' : '') + 'Polygon',\r\n\t\tcoordinates: coords\r\n\t});\r\n};\r\n\r\n\r\n// @namespace LayerGroup\r\nL.LayerGroup.include({\r\n\ttoMultiPoint: function () {\r\n\t\tvar coords = [];\r\n\r\n\t\tthis.eachLayer(function (layer) {\r\n\t\t\tcoords.push(layer.toGeoJSON().geometry.coordinates);\r\n\t\t});\r\n\r\n\t\treturn L.GeoJSON.getFeature(this, {\r\n\t\t\ttype: 'MultiPoint',\r\n\t\t\tcoordinates: coords\r\n\t\t});\r\n\t},\r\n\r\n\t// @method toGeoJSON(): Object\r\n\t// Returns a [`GeoJSON`](http://en.wikipedia.org/wiki/GeoJSON) representation of the layer group (as a GeoJSON `GeometryCollection`).\r\n\ttoGeoJSON: function () {\r\n\r\n\t\tvar type = this.feature && this.feature.geometry && this.feature.geometry.type;\r\n\r\n\t\tif (type === 'MultiPoint') {\r\n\t\t\treturn this.toMultiPoint();\r\n\t\t}\r\n\r\n\t\tvar isGeometryCollection = type === 'GeometryCollection',\r\n\t\t    jsons = [];\r\n\r\n\t\tthis.eachLayer(function (layer) {\r\n\t\t\tif (layer.toGeoJSON) {\r\n\t\t\t\tvar json = layer.toGeoJSON();\r\n\t\t\t\tjsons.push(isGeometryCollection ? json.geometry : L.GeoJSON.asFeature(json));\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (isGeometryCollection) {\r\n\t\t\treturn L.GeoJSON.getFeature(this, {\r\n\t\t\t\tgeometries: jsons,\r\n\t\t\t\ttype: 'GeometryCollection'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttype: 'FeatureCollection',\r\n\t\t\tfeatures: jsons\r\n\t\t};\r\n\t}\r\n});\r\n\r\n// @namespace GeoJSON\r\n// @factory L.geoJSON(geojson?: Object, options?: GeoJSON options)\r\n// Creates a GeoJSON layer. Optionally accepts an object in\r\n// [GeoJSON format](http://geojson.org/geojson-spec.html) to display on the map\r\n// (you can alternatively add it later with `addData` method) and an `options` object.\r\nL.geoJSON = function (geojson, options) {\r\n\treturn new L.GeoJSON(geojson, options);\r\n};\r\n// Backward compatibility.\r\nL.geoJson = L.geoJSON;\r\n\n/*\r\n * @namespace DomEvent\r\n * Utility functions to work with the [DOM events](https://developer.mozilla.org/docs/Web/API/Event), used by Leaflet internally.\r\n */\r\n\r\n// Inspired by John Resig, Dean Edwards and YUI addEvent implementations.\r\n\r\n\r\n\r\nvar eventsKey = '_leaflet_events';\r\n\r\nL.DomEvent = {\r\n\r\n\t// @function on(el: HTMLElement, types: String, fn: Function, context?: Object): this\r\n\t// Adds a listener function (`fn`) to a particular DOM event type of the\r\n\t// element `el`. You can optionally specify the context of the listener\r\n\t// (object the `this` keyword will point to). You can also pass several\r\n\t// space-separated types (e.g. `'click dblclick'`).\r\n\r\n\t// @alternative\r\n\t// @function on(el: HTMLElement, eventMap: Object, context?: Object): this\r\n\t// Adds a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`\r\n\ton: function (obj, types, fn, context) {\r\n\r\n\t\tif (typeof types === 'object') {\r\n\t\t\tfor (var type in types) {\r\n\t\t\t\tthis._on(obj, type, types[type], fn);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttypes = L.Util.splitWords(types);\r\n\r\n\t\t\tfor (var i = 0, len = types.length; i < len; i++) {\r\n\t\t\t\tthis._on(obj, types[i], fn, context);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @function off(el: HTMLElement, types: String, fn: Function, context?: Object): this\r\n\t// Removes a previously added listener function. If no function is specified,\r\n\t// it will remove all the listeners of that particular DOM event from the element.\r\n\t// Note that if you passed a custom context to on, you must pass the same\r\n\t// context to `off` in order to remove the listener.\r\n\r\n\t// @alternative\r\n\t// @function off(el: HTMLElement, eventMap: Object, context?: Object): this\r\n\t// Removes a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`\r\n\toff: function (obj, types, fn, context) {\r\n\r\n\t\tif (typeof types === 'object') {\r\n\t\t\tfor (var type in types) {\r\n\t\t\t\tthis._off(obj, type, types[type], fn);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttypes = L.Util.splitWords(types);\r\n\r\n\t\t\tfor (var i = 0, len = types.length; i < len; i++) {\r\n\t\t\t\tthis._off(obj, types[i], fn, context);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_on: function (obj, type, fn, context) {\r\n\t\tvar id = type + L.stamp(fn) + (context ? '_' + L.stamp(context) : '');\r\n\r\n\t\tif (obj[eventsKey] && obj[eventsKey][id]) { return this; }\r\n\r\n\t\tvar handler = function (e) {\r\n\t\t\treturn fn.call(context || obj, e || window.event);\r\n\t\t};\r\n\r\n\t\tvar originalHandler = handler;\r\n\r\n\t\tif (L.Browser.pointer && type.indexOf('touch') === 0) {\r\n\t\t\tthis.addPointerListener(obj, type, handler, id);\r\n\r\n\t\t} else if (L.Browser.touch && (type === 'dblclick') && this.addDoubleTapListener) {\r\n\t\t\tthis.addDoubleTapListener(obj, handler, id);\r\n\r\n\t\t} else if ('addEventListener' in obj) {\r\n\r\n\t\t\tif (type === 'mousewheel') {\r\n\t\t\t\tobj.addEventListener('onwheel' in obj ? 'wheel' : 'mousewheel', handler, false);\r\n\r\n\t\t\t} else if ((type === 'mouseenter') || (type === 'mouseleave')) {\r\n\t\t\t\thandler = function (e) {\r\n\t\t\t\t\te = e || window.event;\r\n\t\t\t\t\tif (L.DomEvent._isExternalTarget(obj, e)) {\r\n\t\t\t\t\t\toriginalHandler(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tobj.addEventListener(type === 'mouseenter' ? 'mouseover' : 'mouseout', handler, false);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tif (type === 'click' && L.Browser.android) {\r\n\t\t\t\t\thandler = function (e) {\r\n\t\t\t\t\t\treturn L.DomEvent._filterClick(e, originalHandler);\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tobj.addEventListener(type, handler, false);\r\n\t\t\t}\r\n\r\n\t\t} else if ('attachEvent' in obj) {\r\n\t\t\tobj.attachEvent('on' + type, handler);\r\n\t\t}\r\n\r\n\t\tobj[eventsKey] = obj[eventsKey] || {};\r\n\t\tobj[eventsKey][id] = handler;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_off: function (obj, type, fn, context) {\r\n\r\n\t\tvar id = type + L.stamp(fn) + (context ? '_' + L.stamp(context) : ''),\r\n\t\t    handler = obj[eventsKey] && obj[eventsKey][id];\r\n\r\n\t\tif (!handler) { return this; }\r\n\r\n\t\tif (L.Browser.pointer && type.indexOf('touch') === 0) {\r\n\t\t\tthis.removePointerListener(obj, type, id);\r\n\r\n\t\t} else if (L.Browser.touch && (type === 'dblclick') && this.removeDoubleTapListener) {\r\n\t\t\tthis.removeDoubleTapListener(obj, id);\r\n\r\n\t\t} else if ('removeEventListener' in obj) {\r\n\r\n\t\t\tif (type === 'mousewheel') {\r\n\t\t\t\tobj.removeEventListener('onwheel' in obj ? 'wheel' : 'mousewheel', handler, false);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tobj.removeEventListener(\r\n\t\t\t\t\ttype === 'mouseenter' ? 'mouseover' :\r\n\t\t\t\t\ttype === 'mouseleave' ? 'mouseout' : type, handler, false);\r\n\t\t\t}\r\n\r\n\t\t} else if ('detachEvent' in obj) {\r\n\t\t\tobj.detachEvent('on' + type, handler);\r\n\t\t}\r\n\r\n\t\tobj[eventsKey][id] = null;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @function stopPropagation(ev: DOMEvent): this\r\n\t// Stop the given event from propagation to parent elements. Used inside the listener functions:\r\n\t// ```js\r\n\t// L.DomEvent.on(div, 'click', function (ev) {\r\n\t// \tL.DomEvent.stopPropagation(ev);\r\n\t// });\r\n\t// ```\r\n\tstopPropagation: function (e) {\r\n\r\n\t\tif (e.stopPropagation) {\r\n\t\t\te.stopPropagation();\r\n\t\t} else if (e.originalEvent) {  // In case of Leaflet event.\r\n\t\t\te.originalEvent._stopped = true;\r\n\t\t} else {\r\n\t\t\te.cancelBubble = true;\r\n\t\t}\r\n\t\tL.DomEvent._skipped(e);\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @function disableScrollPropagation(el: HTMLElement): this\r\n\t// Adds `stopPropagation` to the element's `'mousewheel'` events (plus browser variants).\r\n\tdisableScrollPropagation: function (el) {\r\n\t\treturn L.DomEvent.on(el, 'mousewheel', L.DomEvent.stopPropagation);\r\n\t},\r\n\r\n\t// @function disableClickPropagation(el: HTMLElement): this\r\n\t// Adds `stopPropagation` to the element's `'click'`, `'doubleclick'`,\r\n\t// `'mousedown'` and `'touchstart'` events (plus browser variants).\r\n\tdisableClickPropagation: function (el) {\r\n\t\tvar stop = L.DomEvent.stopPropagation;\r\n\r\n\t\tL.DomEvent.on(el, L.Draggable.START.join(' '), stop);\r\n\r\n\t\treturn L.DomEvent.on(el, {\r\n\t\t\tclick: L.DomEvent._fakeStop,\r\n\t\t\tdblclick: stop\r\n\t\t});\r\n\t},\r\n\r\n\t// @function preventDefault(ev: DOMEvent): this\r\n\t// Prevents the default action of the DOM Event `ev` from happening (such as\r\n\t// following a link in the href of the a element, or doing a POST request\r\n\t// with page reload when a `<form>` is submitted).\r\n\t// Use it inside listener functions.\r\n\tpreventDefault: function (e) {\r\n\r\n\t\tif (e.preventDefault) {\r\n\t\t\te.preventDefault();\r\n\t\t} else {\r\n\t\t\te.returnValue = false;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @function stop(ev): this\r\n\t// Does `stopPropagation` and `preventDefault` at the same time.\r\n\tstop: function (e) {\r\n\t\treturn L.DomEvent\r\n\t\t\t.preventDefault(e)\r\n\t\t\t.stopPropagation(e);\r\n\t},\r\n\r\n\t// @function getMousePosition(ev: DOMEvent, container?: HTMLElement): Point\r\n\t// Gets normalized mouse position from a DOM event relative to the\r\n\t// `container` or to the whole page if not specified.\r\n\tgetMousePosition: function (e, container) {\r\n\t\tif (!container) {\r\n\t\t\treturn new L.Point(e.clientX, e.clientY);\r\n\t\t}\r\n\r\n\t\tvar rect = container.getBoundingClientRect();\r\n\r\n\t\treturn new L.Point(\r\n\t\t\te.clientX - rect.left - container.clientLeft,\r\n\t\t\te.clientY - rect.top - container.clientTop);\r\n\t},\r\n\r\n\t// Chrome on Win scrolls double the pixels as in other platforms (see #4538),\r\n\t// and Firefox scrolls device pixels, not CSS pixels\r\n\t_wheelPxFactor: (L.Browser.win && L.Browser.chrome) ? 2 :\r\n\t                L.Browser.gecko ? window.devicePixelRatio :\r\n\t                1,\r\n\r\n\t// @function getWheelDelta(ev: DOMEvent): Number\r\n\t// Gets normalized wheel delta from a mousewheel DOM event, in vertical\r\n\t// pixels scrolled (negative if scrolling down).\r\n\t// Events from pointing devices without precise scrolling are mapped to\r\n\t// a best guess of 60 pixels.\r\n\tgetWheelDelta: function (e) {\r\n\t\treturn (L.Browser.edge) ? e.wheelDeltaY / 2 : // Don't trust window-geometry-based delta\r\n\t\t       (e.deltaY && e.deltaMode === 0) ? -e.deltaY / L.DomEvent._wheelPxFactor : // Pixels\r\n\t\t       (e.deltaY && e.deltaMode === 1) ? -e.deltaY * 20 : // Lines\r\n\t\t       (e.deltaY && e.deltaMode === 2) ? -e.deltaY * 60 : // Pages\r\n\t\t       (e.deltaX || e.deltaZ) ? 0 :\t// Skip horizontal/depth wheel events\r\n\t\t       e.wheelDelta ? (e.wheelDeltaY || e.wheelDelta) / 2 : // Legacy IE pixels\r\n\t\t       (e.detail && Math.abs(e.detail) < 32765) ? -e.detail * 20 : // Legacy Moz lines\r\n\t\t       e.detail ? e.detail / -32765 * 60 : // Legacy Moz pages\r\n\t\t       0;\r\n\t},\r\n\r\n\t_skipEvents: {},\r\n\r\n\t_fakeStop: function (e) {\r\n\t\t// fakes stopPropagation by setting a special event flag, checked/reset with L.DomEvent._skipped(e)\r\n\t\tL.DomEvent._skipEvents[e.type] = true;\r\n\t},\r\n\r\n\t_skipped: function (e) {\r\n\t\tvar skipped = this._skipEvents[e.type];\r\n\t\t// reset when checking, as it's only used in map container and propagates outside of the map\r\n\t\tthis._skipEvents[e.type] = false;\r\n\t\treturn skipped;\r\n\t},\r\n\r\n\t// check if element really left/entered the event target (for mouseenter/mouseleave)\r\n\t_isExternalTarget: function (el, e) {\r\n\r\n\t\tvar related = e.relatedTarget;\r\n\r\n\t\tif (!related) { return true; }\r\n\r\n\t\ttry {\r\n\t\t\twhile (related && (related !== el)) {\r\n\t\t\t\trelated = related.parentNode;\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn (related !== el);\r\n\t},\r\n\r\n\t// this is a horrible workaround for a bug in Android where a single touch triggers two click events\r\n\t_filterClick: function (e, handler) {\r\n\t\tvar timeStamp = (e.timeStamp || (e.originalEvent && e.originalEvent.timeStamp)),\r\n\t\t    elapsed = L.DomEvent._lastClick && (timeStamp - L.DomEvent._lastClick);\r\n\r\n\t\t// are they closer together than 500ms yet more than 100ms?\r\n\t\t// Android typically triggers them ~300ms apart while multiple listeners\r\n\t\t// on the same event should be triggered far faster;\r\n\t\t// or check if click is simulated on the element, and if it is, reject any non-simulated events\r\n\r\n\t\tif ((elapsed && elapsed > 100 && elapsed < 500) || (e.target._simulatedClick && !e._simulated)) {\r\n\t\t\tL.DomEvent.stop(e);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tL.DomEvent._lastClick = timeStamp;\r\n\r\n\t\thandler(e);\r\n\t}\r\n};\r\n\r\n// @function addListener(…): this\r\n// Alias to [`L.DomEvent.on`](#domevent-on)\r\nL.DomEvent.addListener = L.DomEvent.on;\r\n\r\n// @function removeListener(…): this\r\n// Alias to [`L.DomEvent.off`](#domevent-off)\r\nL.DomEvent.removeListener = L.DomEvent.off;\r\n\n/*\r\n * @class Draggable\r\n * @aka L.Draggable\r\n * @inherits Evented\r\n *\r\n * A class for making DOM elements draggable (including touch support).\r\n * Used internally for map and marker dragging. Only works for elements\r\n * that were positioned with [`L.DomUtil.setPosition`](#domutil-setposition).\r\n *\r\n * @example\r\n * ```js\r\n * var draggable = new L.Draggable(elementToDrag);\r\n * draggable.enable();\r\n * ```\r\n */\r\n\r\nL.Draggable = L.Evented.extend({\r\n\r\n\toptions: {\r\n\t\t// @option clickTolerance: Number = 3\r\n\t\t// The max number of pixels a user can shift the mouse pointer during a click\r\n\t\t// for it to be considered a valid click (as opposed to a mouse drag).\r\n\t\tclickTolerance: 3\r\n\t},\r\n\r\n\tstatics: {\r\n\t\tSTART: L.Browser.touch ? ['touchstart', 'mousedown'] : ['mousedown'],\r\n\t\tEND: {\r\n\t\t\tmousedown: 'mouseup',\r\n\t\t\ttouchstart: 'touchend',\r\n\t\t\tpointerdown: 'touchend',\r\n\t\t\tMSPointerDown: 'touchend'\r\n\t\t},\r\n\t\tMOVE: {\r\n\t\t\tmousedown: 'mousemove',\r\n\t\t\ttouchstart: 'touchmove',\r\n\t\t\tpointerdown: 'touchmove',\r\n\t\t\tMSPointerDown: 'touchmove'\r\n\t\t}\r\n\t},\r\n\r\n\t// @constructor L.Draggable(el: HTMLElement, dragHandle?: HTMLElement, preventOutline: Boolean)\r\n\t// Creates a `Draggable` object for moving `el` when you start dragging the `dragHandle` element (equals `el` itself by default).\r\n\tinitialize: function (element, dragStartTarget, preventOutline) {\r\n\t\tthis._element = element;\r\n\t\tthis._dragStartTarget = dragStartTarget || element;\r\n\t\tthis._preventOutline = preventOutline;\r\n\t},\r\n\r\n\t// @method enable()\r\n\t// Enables the dragging ability\r\n\tenable: function () {\r\n\t\tif (this._enabled) { return; }\r\n\r\n\t\tL.DomEvent.on(this._dragStartTarget, L.Draggable.START.join(' '), this._onDown, this);\r\n\r\n\t\tthis._enabled = true;\r\n\t},\r\n\r\n\t// @method disable()\r\n\t// Disables the dragging ability\r\n\tdisable: function () {\r\n\t\tif (!this._enabled) { return; }\r\n\r\n\t\tL.DomEvent.off(this._dragStartTarget, L.Draggable.START.join(' '), this._onDown, this);\r\n\r\n\t\tthis._enabled = false;\r\n\t\tthis._moved = false;\r\n\t},\r\n\r\n\t_onDown: function (e) {\r\n\t\t// Ignore simulated events, since we handle both touch and\r\n\t\t// mouse explicitly; otherwise we risk getting duplicates of\r\n\t\t// touch events, see #4315.\r\n\t\t// Also ignore the event if disabled; this happens in IE11\r\n\t\t// under some circumstances, see #3666.\r\n\t\tif (e._simulated || !this._enabled) { return; }\r\n\r\n\t\tthis._moved = false;\r\n\r\n\t\tif (L.DomUtil.hasClass(this._element, 'leaflet-zoom-anim')) { return; }\r\n\r\n\t\tif (L.Draggable._dragging || e.shiftKey || ((e.which !== 1) && (e.button !== 1) && !e.touches) || !this._enabled) { return; }\r\n\t\tL.Draggable._dragging = true;  // Prevent dragging multiple objects at once.\r\n\r\n\t\tif (this._preventOutline) {\r\n\t\t\tL.DomUtil.preventOutline(this._element);\r\n\t\t}\r\n\r\n\t\tL.DomUtil.disableImageDrag();\r\n\t\tL.DomUtil.disableTextSelection();\r\n\r\n\t\tif (this._moving) { return; }\r\n\r\n\t\t// @event down: Event\r\n\t\t// Fired when a drag is about to start.\r\n\t\tthis.fire('down');\r\n\r\n\t\tvar first = e.touches ? e.touches[0] : e;\r\n\r\n\t\tthis._startPoint = new L.Point(first.clientX, first.clientY);\r\n\r\n\t\tL.DomEvent\r\n\t\t\t.on(document, L.Draggable.MOVE[e.type], this._onMove, this)\r\n\t\t\t.on(document, L.Draggable.END[e.type], this._onUp, this);\r\n\t},\r\n\r\n\t_onMove: function (e) {\r\n\t\t// Ignore simulated events, since we handle both touch and\r\n\t\t// mouse explicitly; otherwise we risk getting duplicates of\r\n\t\t// touch events, see #4315.\r\n\t\t// Also ignore the event if disabled; this happens in IE11\r\n\t\t// under some circumstances, see #3666.\r\n\t\tif (e._simulated || !this._enabled) { return; }\r\n\r\n\t\tif (e.touches && e.touches.length > 1) {\r\n\t\t\tthis._moved = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar first = (e.touches && e.touches.length === 1 ? e.touches[0] : e),\r\n\t\t    newPoint = new L.Point(first.clientX, first.clientY),\r\n\t\t    offset = newPoint.subtract(this._startPoint);\r\n\r\n\t\tif (!offset.x && !offset.y) { return; }\r\n\t\tif (Math.abs(offset.x) + Math.abs(offset.y) < this.options.clickTolerance) { return; }\r\n\r\n\t\tL.DomEvent.preventDefault(e);\r\n\r\n\t\tif (!this._moved) {\r\n\t\t\t// @event dragstart: Event\r\n\t\t\t// Fired when a drag starts\r\n\t\t\tthis.fire('dragstart');\r\n\r\n\t\t\tthis._moved = true;\r\n\t\t\tthis._startPos = L.DomUtil.getPosition(this._element).subtract(offset);\r\n\r\n\t\t\tL.DomUtil.addClass(document.body, 'leaflet-dragging');\r\n\r\n\t\t\tthis._lastTarget = e.target || e.srcElement;\r\n\t\t\t// IE and Edge do not give the <use> element, so fetch it\r\n\t\t\t// if necessary\r\n\t\t\tif ((window.SVGElementInstance) && (this._lastTarget instanceof SVGElementInstance)) {\r\n\t\t\t\tthis._lastTarget = this._lastTarget.correspondingUseElement;\r\n\t\t\t}\r\n\t\t\tL.DomUtil.addClass(this._lastTarget, 'leaflet-drag-target');\r\n\t\t}\r\n\r\n\t\tthis._newPos = this._startPos.add(offset);\r\n\t\tthis._moving = true;\r\n\r\n\t\tL.Util.cancelAnimFrame(this._animRequest);\r\n\t\tthis._lastEvent = e;\r\n\t\tthis._animRequest = L.Util.requestAnimFrame(this._updatePosition, this, true);\r\n\t},\r\n\r\n\t_updatePosition: function () {\r\n\t\tvar e = {originalEvent: this._lastEvent};\r\n\r\n\t\t// @event predrag: Event\r\n\t\t// Fired continuously during dragging *before* each corresponding\r\n\t\t// update of the element's position.\r\n\t\tthis.fire('predrag', e);\r\n\t\tL.DomUtil.setPosition(this._element, this._newPos);\r\n\r\n\t\t// @event drag: Event\r\n\t\t// Fired continuously during dragging.\r\n\t\tthis.fire('drag', e);\r\n\t},\r\n\r\n\t_onUp: function (e) {\r\n\t\t// Ignore simulated events, since we handle both touch and\r\n\t\t// mouse explicitly; otherwise we risk getting duplicates of\r\n\t\t// touch events, see #4315.\r\n\t\t// Also ignore the event if disabled; this happens in IE11\r\n\t\t// under some circumstances, see #3666.\r\n\t\tif (e._simulated || !this._enabled) { return; }\r\n\r\n\t\tL.DomUtil.removeClass(document.body, 'leaflet-dragging');\r\n\r\n\t\tif (this._lastTarget) {\r\n\t\t\tL.DomUtil.removeClass(this._lastTarget, 'leaflet-drag-target');\r\n\t\t\tthis._lastTarget = null;\r\n\t\t}\r\n\r\n\t\tfor (var i in L.Draggable.MOVE) {\r\n\t\t\tL.DomEvent\r\n\t\t\t\t.off(document, L.Draggable.MOVE[i], this._onMove, this)\r\n\t\t\t\t.off(document, L.Draggable.END[i], this._onUp, this);\r\n\t\t}\r\n\r\n\t\tL.DomUtil.enableImageDrag();\r\n\t\tL.DomUtil.enableTextSelection();\r\n\r\n\t\tif (this._moved && this._moving) {\r\n\t\t\t// ensure drag is not fired after dragend\r\n\t\t\tL.Util.cancelAnimFrame(this._animRequest);\r\n\r\n\t\t\t// @event dragend: DragEndEvent\r\n\t\t\t// Fired when the drag ends.\r\n\t\t\tthis.fire('dragend', {\r\n\t\t\t\tdistance: this._newPos.distanceTo(this._startPos)\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis._moving = false;\r\n\t\tL.Draggable._dragging = false;\r\n\t}\r\n});\r\n\n/*\n\tL.Handler is a base class for handler classes that are used internally to inject\n\tinteraction features like dragging to classes like Map and Marker.\n*/\n\n// @class Handler\n// @aka L.Handler\n// Abstract class for map interaction handlers\n\nL.Handler = L.Class.extend({\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\t},\n\n\t// @method enable(): this\n\t// Enables the handler\n\tenable: function () {\n\t\tif (this._enabled) { return this; }\n\n\t\tthis._enabled = true;\n\t\tthis.addHooks();\n\t\treturn this;\n\t},\n\n\t// @method disable(): this\n\t// Disables the handler\n\tdisable: function () {\n\t\tif (!this._enabled) { return this; }\n\n\t\tthis._enabled = false;\n\t\tthis.removeHooks();\n\t\treturn this;\n\t},\n\n\t// @method enabled(): Boolean\n\t// Returns `true` if the handler is enabled\n\tenabled: function () {\n\t\treturn !!this._enabled;\n\t}\n\n\t// @section Extension methods\n\t// Classes inheriting from `Handler` must implement the two following methods:\n\t// @method addHooks()\n\t// Called when the handler is enabled, should add event hooks.\n\t// @method removeHooks()\n\t// Called when the handler is disabled, should remove the event hooks added previously.\n});\n\n/*\n * L.Handler.MapDrag is used to make the map draggable (with panning inertia), enabled by default.\n */\n\n// @namespace Map\n// @section Interaction Options\nL.Map.mergeOptions({\n\t// @option dragging: Boolean = true\n\t// Whether the map be draggable with mouse/touch or not.\n\tdragging: true,\n\n\t// @section Panning Inertia Options\n\t// @option inertia: Boolean = *\n\t// If enabled, panning of the map will have an inertia effect where\n\t// the map builds momentum while dragging and continues moving in\n\t// the same direction for some time. Feels especially nice on touch\n\t// devices. Enabled by default unless running on old Android devices.\n\tinertia: !L.Browser.android23,\n\n\t// @option inertiaDeceleration: Number = 3000\n\t// The rate with which the inertial movement slows down, in pixels/second².\n\tinertiaDeceleration: 3400, // px/s^2\n\n\t// @option inertiaMaxSpeed: Number = Infinity\n\t// Max speed of the inertial movement, in pixels/second.\n\tinertiaMaxSpeed: Infinity, // px/s\n\n\t// @option easeLinearity: Number = 0.2\n\teaseLinearity: 0.2,\n\n\t// TODO refactor, move to CRS\n\t// @option worldCopyJump: Boolean = false\n\t// With this option enabled, the map tracks when you pan to another \"copy\"\n\t// of the world and seamlessly jumps to the original one so that all overlays\n\t// like markers and vector layers are still visible.\n\tworldCopyJump: false,\n\n\t// @option maxBoundsViscosity: Number = 0.0\n\t// If `maxBounds` is set, this option will control how solid the bounds\n\t// are when dragging the map around. The default value of `0.0` allows the\n\t// user to drag outside the bounds at normal speed, higher values will\n\t// slow down map dragging outside bounds, and `1.0` makes the bounds fully\n\t// solid, preventing the user from dragging outside the bounds.\n\tmaxBoundsViscosity: 0.0\n});\n\nL.Map.Drag = L.Handler.extend({\n\taddHooks: function () {\n\t\tif (!this._draggable) {\n\t\t\tvar map = this._map;\n\n\t\t\tthis._draggable = new L.Draggable(map._mapPane, map._container);\n\n\t\t\tthis._draggable.on({\n\t\t\t\tdown: this._onDown,\n\t\t\t\tdragstart: this._onDragStart,\n\t\t\t\tdrag: this._onDrag,\n\t\t\t\tdragend: this._onDragEnd\n\t\t\t}, this);\n\n\t\t\tthis._draggable.on('predrag', this._onPreDragLimit, this);\n\t\t\tif (map.options.worldCopyJump) {\n\t\t\t\tthis._draggable.on('predrag', this._onPreDragWrap, this);\n\t\t\t\tmap.on('zoomend', this._onZoomEnd, this);\n\n\t\t\t\tmap.whenReady(this._onZoomEnd, this);\n\t\t\t}\n\t\t}\n\t\tL.DomUtil.addClass(this._map._container, 'leaflet-grab leaflet-touch-drag');\n\t\tthis._draggable.enable();\n\t\tthis._positions = [];\n\t\tthis._times = [];\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomUtil.removeClass(this._map._container, 'leaflet-grab');\n\t\tL.DomUtil.removeClass(this._map._container, 'leaflet-touch-drag');\n\t\tthis._draggable.disable();\n\t},\n\n\tmoved: function () {\n\t\treturn this._draggable && this._draggable._moved;\n\t},\n\n\tmoving: function () {\n\t\treturn this._draggable && this._draggable._moving;\n\t},\n\n\t_onDown: function () {\n\t\tthis._map._stop();\n\t},\n\n\t_onDragStart: function () {\n\t\tvar map = this._map;\n\n\t\tif (this._map.options.maxBounds && this._map.options.maxBoundsViscosity) {\n\t\t\tvar bounds = L.latLngBounds(this._map.options.maxBounds);\n\n\t\t\tthis._offsetLimit = L.bounds(\n\t\t\t\tthis._map.latLngToContainerPoint(bounds.getNorthWest()).multiplyBy(-1),\n\t\t\t\tthis._map.latLngToContainerPoint(bounds.getSouthEast()).multiplyBy(-1)\n\t\t\t\t\t.add(this._map.getSize()));\n\n\t\t\tthis._viscosity = Math.min(1.0, Math.max(0.0, this._map.options.maxBoundsViscosity));\n\t\t} else {\n\t\t\tthis._offsetLimit = null;\n\t\t}\n\n\t\tmap\n\t\t    .fire('movestart')\n\t\t    .fire('dragstart');\n\n\t\tif (map.options.inertia) {\n\t\t\tthis._positions = [];\n\t\t\tthis._times = [];\n\t\t}\n\t},\n\n\t_onDrag: function (e) {\n\t\tif (this._map.options.inertia) {\n\t\t\tvar time = this._lastTime = +new Date(),\n\t\t\t    pos = this._lastPos = this._draggable._absPos || this._draggable._newPos;\n\n\t\t\tthis._positions.push(pos);\n\t\t\tthis._times.push(time);\n\n\t\t\tif (time - this._times[0] > 50) {\n\t\t\t\tthis._positions.shift();\n\t\t\t\tthis._times.shift();\n\t\t\t}\n\t\t}\n\n\t\tthis._map\n\t\t    .fire('move', e)\n\t\t    .fire('drag', e);\n\t},\n\n\t_onZoomEnd: function () {\n\t\tvar pxCenter = this._map.getSize().divideBy(2),\n\t\t    pxWorldCenter = this._map.latLngToLayerPoint([0, 0]);\n\n\t\tthis._initialWorldOffset = pxWorldCenter.subtract(pxCenter).x;\n\t\tthis._worldWidth = this._map.getPixelWorldBounds().getSize().x;\n\t},\n\n\t_viscousLimit: function (value, threshold) {\n\t\treturn value - (value - threshold) * this._viscosity;\n\t},\n\n\t_onPreDragLimit: function () {\n\t\tif (!this._viscosity || !this._offsetLimit) { return; }\n\n\t\tvar offset = this._draggable._newPos.subtract(this._draggable._startPos);\n\n\t\tvar limit = this._offsetLimit;\n\t\tif (offset.x < limit.min.x) { offset.x = this._viscousLimit(offset.x, limit.min.x); }\n\t\tif (offset.y < limit.min.y) { offset.y = this._viscousLimit(offset.y, limit.min.y); }\n\t\tif (offset.x > limit.max.x) { offset.x = this._viscousLimit(offset.x, limit.max.x); }\n\t\tif (offset.y > limit.max.y) { offset.y = this._viscousLimit(offset.y, limit.max.y); }\n\n\t\tthis._draggable._newPos = this._draggable._startPos.add(offset);\n\t},\n\n\t_onPreDragWrap: function () {\n\t\t// TODO refactor to be able to adjust map pane position after zoom\n\t\tvar worldWidth = this._worldWidth,\n\t\t    halfWidth = Math.round(worldWidth / 2),\n\t\t    dx = this._initialWorldOffset,\n\t\t    x = this._draggable._newPos.x,\n\t\t    newX1 = (x - halfWidth + dx) % worldWidth + halfWidth - dx,\n\t\t    newX2 = (x + halfWidth + dx) % worldWidth - halfWidth - dx,\n\t\t    newX = Math.abs(newX1 + dx) < Math.abs(newX2 + dx) ? newX1 : newX2;\n\n\t\tthis._draggable._absPos = this._draggable._newPos.clone();\n\t\tthis._draggable._newPos.x = newX;\n\t},\n\n\t_onDragEnd: function (e) {\n\t\tvar map = this._map,\n\t\t    options = map.options,\n\n\t\t    noInertia = !options.inertia || this._times.length < 2;\n\n\t\tmap.fire('dragend', e);\n\n\t\tif (noInertia) {\n\t\t\tmap.fire('moveend');\n\n\t\t} else {\n\n\t\t\tvar direction = this._lastPos.subtract(this._positions[0]),\n\t\t\t    duration = (this._lastTime - this._times[0]) / 1000,\n\t\t\t    ease = options.easeLinearity,\n\n\t\t\t    speedVector = direction.multiplyBy(ease / duration),\n\t\t\t    speed = speedVector.distanceTo([0, 0]),\n\n\t\t\t    limitedSpeed = Math.min(options.inertiaMaxSpeed, speed),\n\t\t\t    limitedSpeedVector = speedVector.multiplyBy(limitedSpeed / speed),\n\n\t\t\t    decelerationDuration = limitedSpeed / (options.inertiaDeceleration * ease),\n\t\t\t    offset = limitedSpeedVector.multiplyBy(-decelerationDuration / 2).round();\n\n\t\t\tif (!offset.x && !offset.y) {\n\t\t\t\tmap.fire('moveend');\n\n\t\t\t} else {\n\t\t\t\toffset = map._limitOffset(offset, map.options.maxBounds);\n\n\t\t\t\tL.Util.requestAnimFrame(function () {\n\t\t\t\t\tmap.panBy(offset, {\n\t\t\t\t\t\tduration: decelerationDuration,\n\t\t\t\t\t\teaseLinearity: ease,\n\t\t\t\t\t\tnoMoveStart: true,\n\t\t\t\t\t\tanimate: true\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n});\n\n// @section Handlers\n// @property dragging: Handler\n// Map dragging handler (by both mouse and touch).\nL.Map.addInitHook('addHandler', 'dragging', L.Map.Drag);\n\n/*\n * L.Handler.DoubleClickZoom is used to handle double-click zoom on the map, enabled by default.\n */\n\n// @namespace Map\n// @section Interaction Options\n\nL.Map.mergeOptions({\n\t// @option doubleClickZoom: Boolean|String = true\n\t// Whether the map can be zoomed in by double clicking on it and\n\t// zoomed out by double clicking while holding shift. If passed\n\t// `'center'`, double-click zoom will zoom to the center of the\n\t//  view regardless of where the mouse was.\n\tdoubleClickZoom: true\n});\n\nL.Map.DoubleClickZoom = L.Handler.extend({\n\taddHooks: function () {\n\t\tthis._map.on('dblclick', this._onDoubleClick, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._map.off('dblclick', this._onDoubleClick, this);\n\t},\n\n\t_onDoubleClick: function (e) {\n\t\tvar map = this._map,\n\t\t    oldZoom = map.getZoom(),\n\t\t    delta = map.options.zoomDelta,\n\t\t    zoom = e.originalEvent.shiftKey ? oldZoom - delta : oldZoom + delta;\n\n\t\tif (map.options.doubleClickZoom === 'center') {\n\t\t\tmap.setZoom(zoom);\n\t\t} else {\n\t\t\tmap.setZoomAround(e.containerPoint, zoom);\n\t\t}\n\t}\n});\n\n// @section Handlers\n//\n// Map properties include interaction handlers that allow you to control\n// interaction behavior in runtime, enabling or disabling certain features such\n// as dragging or touch zoom (see `Handler` methods). For example:\n//\n// ```js\n// map.doubleClickZoom.disable();\n// ```\n//\n// @property doubleClickZoom: Handler\n// Double click zoom handler.\nL.Map.addInitHook('addHandler', 'doubleClickZoom', L.Map.DoubleClickZoom);\n\n/*\n * L.Handler.ScrollWheelZoom is used by L.Map to enable mouse scroll wheel zoom on the map.\n */\n\n// @namespace Map\n// @section Interaction Options\nL.Map.mergeOptions({\n\t// @section Mousewheel options\n\t// @option scrollWheelZoom: Boolean|String = true\n\t// Whether the map can be zoomed by using the mouse wheel. If passed `'center'`,\n\t// it will zoom to the center of the view regardless of where the mouse was.\n\tscrollWheelZoom: true,\n\n\t// @option wheelDebounceTime: Number = 40\n\t// Limits the rate at which a wheel can fire (in milliseconds). By default\n\t// user can't zoom via wheel more often than once per 40 ms.\n\twheelDebounceTime: 40,\n\n\t// @option wheelPxPerZoomLevel: Number = 60\n\t// How many scroll pixels (as reported by [L.DomEvent.getWheelDelta](#domevent-getwheeldelta))\n\t// mean a change of one full zoom level. Smaller values will make wheel-zooming\n\t// faster (and vice versa).\n\twheelPxPerZoomLevel: 60\n});\n\nL.Map.ScrollWheelZoom = L.Handler.extend({\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._map._container, 'mousewheel', this._onWheelScroll, this);\n\n\t\tthis._delta = 0;\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._map._container, 'mousewheel', this._onWheelScroll, this);\n\t},\n\n\t_onWheelScroll: function (e) {\n\t\tvar delta = L.DomEvent.getWheelDelta(e);\n\n\t\tvar debounce = this._map.options.wheelDebounceTime;\n\n\t\tthis._delta += delta;\n\t\tthis._lastMousePos = this._map.mouseEventToContainerPoint(e);\n\n\t\tif (!this._startTime) {\n\t\t\tthis._startTime = +new Date();\n\t\t}\n\n\t\tvar left = Math.max(debounce - (+new Date() - this._startTime), 0);\n\n\t\tclearTimeout(this._timer);\n\t\tthis._timer = setTimeout(L.bind(this._performZoom, this), left);\n\n\t\tL.DomEvent.stop(e);\n\t},\n\n\t_performZoom: function () {\n\t\tvar map = this._map,\n\t\t    zoom = map.getZoom(),\n\t\t    snap = this._map.options.zoomSnap || 0;\n\n\t\tmap._stop(); // stop panning and fly animations if any\n\n\t\t// map the delta with a sigmoid function to -4..4 range leaning on -1..1\n\t\tvar d2 = this._delta / (this._map.options.wheelPxPerZoomLevel * 4),\n\t\t    d3 = 4 * Math.log(2 / (1 + Math.exp(-Math.abs(d2)))) / Math.LN2,\n\t\t    d4 = snap ? Math.ceil(d3 / snap) * snap : d3,\n\t\t    delta = map._limitZoom(zoom + (this._delta > 0 ? d4 : -d4)) - zoom;\n\n\t\tthis._delta = 0;\n\t\tthis._startTime = null;\n\n\t\tif (!delta) { return; }\n\n\t\tif (map.options.scrollWheelZoom === 'center') {\n\t\t\tmap.setZoom(zoom + delta);\n\t\t} else {\n\t\t\tmap.setZoomAround(this._lastMousePos, zoom + delta);\n\t\t}\n\t}\n});\n\n// @section Handlers\n// @property scrollWheelZoom: Handler\n// Scroll wheel zoom handler.\nL.Map.addInitHook('addHandler', 'scrollWheelZoom', L.Map.ScrollWheelZoom);\n\n/*\n * @class PosAnimation\n * @aka L.PosAnimation\n * @inherits Evented\n * Used internally for panning animations, utilizing CSS3 Transitions for modern browsers and a timer fallback for IE6-9.\n *\n * @example\n * ```js\n * var fx = new L.PosAnimation();\n * fx.run(el, [300, 500], 0.5);\n * ```\n *\n * @constructor L.PosAnimation()\n * Creates a `PosAnimation` object.\n *\n */\n\nL.PosAnimation = L.Evented.extend({\n\n\t// @method run(el: HTMLElement, newPos: Point, duration?: Number, easeLinearity?: Number)\n\t// Run an animation of a given element to a new position, optionally setting\n\t// duration in seconds (`0.25` by default) and easing linearity factor (3rd\n\t// argument of the [cubic bezier curve](http://cubic-bezier.com/#0,0,.5,1),\n\t// `0.5` by default).\n\trun: function (el, newPos, duration, easeLinearity) {\n\t\tthis.stop();\n\n\t\tthis._el = el;\n\t\tthis._inProgress = true;\n\t\tthis._duration = duration || 0.25;\n\t\tthis._easeOutPower = 1 / Math.max(easeLinearity || 0.5, 0.2);\n\n\t\tthis._startPos = L.DomUtil.getPosition(el);\n\t\tthis._offset = newPos.subtract(this._startPos);\n\t\tthis._startTime = +new Date();\n\n\t\t// @event start: Event\n\t\t// Fired when the animation starts\n\t\tthis.fire('start');\n\n\t\tthis._animate();\n\t},\n\n\t// @method stop()\n\t// Stops the animation (if currently running).\n\tstop: function () {\n\t\tif (!this._inProgress) { return; }\n\n\t\tthis._step(true);\n\t\tthis._complete();\n\t},\n\n\t_animate: function () {\n\t\t// animation loop\n\t\tthis._animId = L.Util.requestAnimFrame(this._animate, this);\n\t\tthis._step();\n\t},\n\n\t_step: function (round) {\n\t\tvar elapsed = (+new Date()) - this._startTime,\n\t\t    duration = this._duration * 1000;\n\n\t\tif (elapsed < duration) {\n\t\t\tthis._runFrame(this._easeOut(elapsed / duration), round);\n\t\t} else {\n\t\t\tthis._runFrame(1);\n\t\t\tthis._complete();\n\t\t}\n\t},\n\n\t_runFrame: function (progress, round) {\n\t\tvar pos = this._startPos.add(this._offset.multiplyBy(progress));\n\t\tif (round) {\n\t\t\tpos._round();\n\t\t}\n\t\tL.DomUtil.setPosition(this._el, pos);\n\n\t\t// @event step: Event\n\t\t// Fired continuously during the animation.\n\t\tthis.fire('step');\n\t},\n\n\t_complete: function () {\n\t\tL.Util.cancelAnimFrame(this._animId);\n\n\t\tthis._inProgress = false;\n\t\t// @event end: Event\n\t\t// Fired when the animation ends.\n\t\tthis.fire('end');\n\t},\n\n\t_easeOut: function (t) {\n\t\treturn 1 - Math.pow(1 - t, this._easeOutPower);\n\t}\n});\n\n/*\n * Extends L.Map to handle panning animations.\n */\n\nL.Map.include({\n\n\tsetView: function (center, zoom, options) {\n\n\t\tzoom = zoom === undefined ? this._zoom : this._limitZoom(zoom);\n\t\tcenter = this._limitCenter(L.latLng(center), zoom, this.options.maxBounds);\n\t\toptions = options || {};\n\n\t\tthis._stop();\n\n\t\tif (this._loaded && !options.reset && options !== true) {\n\n\t\t\tif (options.animate !== undefined) {\n\t\t\t\toptions.zoom = L.extend({animate: options.animate}, options.zoom);\n\t\t\t\toptions.pan = L.extend({animate: options.animate, duration: options.duration}, options.pan);\n\t\t\t}\n\n\t\t\t// try animating pan or zoom\n\t\t\tvar moved = (this._zoom !== zoom) ?\n\t\t\t\tthis._tryAnimatedZoom && this._tryAnimatedZoom(center, zoom, options.zoom) :\n\t\t\t\tthis._tryAnimatedPan(center, options.pan);\n\n\t\t\tif (moved) {\n\t\t\t\t// prevent resize handler call, the view will refresh after animation anyway\n\t\t\t\tclearTimeout(this._sizeTimer);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\n\t\t// animation didn't start, just reset the map view\n\t\tthis._resetView(center, zoom);\n\n\t\treturn this;\n\t},\n\n\tpanBy: function (offset, options) {\n\t\toffset = L.point(offset).round();\n\t\toptions = options || {};\n\n\t\tif (!offset.x && !offset.y) {\n\t\t\treturn this.fire('moveend');\n\t\t}\n\t\t// If we pan too far, Chrome gets issues with tiles\n\t\t// and makes them disappear or appear in the wrong place (slightly offset) #2602\n\t\tif (options.animate !== true && !this.getSize().contains(offset)) {\n\t\t\tthis._resetView(this.unproject(this.project(this.getCenter()).add(offset)), this.getZoom());\n\t\t\treturn this;\n\t\t}\n\n\t\tif (!this._panAnim) {\n\t\t\tthis._panAnim = new L.PosAnimation();\n\n\t\t\tthis._panAnim.on({\n\t\t\t\t'step': this._onPanTransitionStep,\n\t\t\t\t'end': this._onPanTransitionEnd\n\t\t\t}, this);\n\t\t}\n\n\t\t// don't fire movestart if animating inertia\n\t\tif (!options.noMoveStart) {\n\t\t\tthis.fire('movestart');\n\t\t}\n\n\t\t// animate pan unless animate: false specified\n\t\tif (options.animate !== false) {\n\t\t\tL.DomUtil.addClass(this._mapPane, 'leaflet-pan-anim');\n\n\t\t\tvar newPos = this._getMapPanePos().subtract(offset).round();\n\t\t\tthis._panAnim.run(this._mapPane, newPos, options.duration || 0.25, options.easeLinearity);\n\t\t} else {\n\t\t\tthis._rawPanBy(offset);\n\t\t\tthis.fire('move').fire('moveend');\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_onPanTransitionStep: function () {\n\t\tthis.fire('move');\n\t},\n\n\t_onPanTransitionEnd: function () {\n\t\tL.DomUtil.removeClass(this._mapPane, 'leaflet-pan-anim');\n\t\tthis.fire('moveend');\n\t},\n\n\t_tryAnimatedPan: function (center, options) {\n\t\t// difference between the new and current centers in pixels\n\t\tvar offset = this._getCenterOffset(center)._floor();\n\n\t\t// don't animate too far unless animate: true specified in options\n\t\tif ((options && options.animate) !== true && !this.getSize().contains(offset)) { return false; }\n\n\t\tthis.panBy(offset, options);\n\n\t\treturn true;\n\t}\n});\n\n/*\n * Extends L.Map to handle zoom animations.\n */\n\n// @namespace Map\n// @section Animation Options\nL.Map.mergeOptions({\n\t// @option zoomAnimation: Boolean = true\n\t// Whether the map zoom animation is enabled. By default it's enabled\n\t// in all browsers that support CSS3 Transitions except Android.\n\tzoomAnimation: true,\n\n\t// @option zoomAnimationThreshold: Number = 4\n\t// Won't animate zoom if the zoom difference exceeds this value.\n\tzoomAnimationThreshold: 4\n});\n\nvar zoomAnimated = L.DomUtil.TRANSITION && L.Browser.any3d && !L.Browser.mobileOpera;\n\nif (zoomAnimated) {\n\n\tL.Map.addInitHook(function () {\n\t\t// don't animate on browsers without hardware-accelerated transitions or old Android/Opera\n\t\tthis._zoomAnimated = this.options.zoomAnimation;\n\n\t\t// zoom transitions run with the same duration for all layers, so if one of transitionend events\n\t\t// happens after starting zoom animation (propagating to the map pane), we know that it ended globally\n\t\tif (this._zoomAnimated) {\n\n\t\t\tthis._createAnimProxy();\n\n\t\t\tL.DomEvent.on(this._proxy, L.DomUtil.TRANSITION_END, this._catchTransitionEnd, this);\n\t\t}\n\t});\n}\n\nL.Map.include(!zoomAnimated ? {} : {\n\n\t_createAnimProxy: function () {\n\n\t\tvar proxy = this._proxy = L.DomUtil.create('div', 'leaflet-proxy leaflet-zoom-animated');\n\t\tthis._panes.mapPane.appendChild(proxy);\n\n\t\tthis.on('zoomanim', function (e) {\n\t\t\tvar prop = L.DomUtil.TRANSFORM,\n\t\t\t    transform = proxy.style[prop];\n\n\t\t\tL.DomUtil.setTransform(proxy, this.project(e.center, e.zoom), this.getZoomScale(e.zoom, 1));\n\n\t\t\t// workaround for case when transform is the same and so transitionend event is not fired\n\t\t\tif (transform === proxy.style[prop] && this._animatingZoom) {\n\t\t\t\tthis._onZoomTransitionEnd();\n\t\t\t}\n\t\t}, this);\n\n\t\tthis.on('load moveend', function () {\n\t\t\tvar c = this.getCenter(),\n\t\t\t    z = this.getZoom();\n\t\t\tL.DomUtil.setTransform(proxy, this.project(c, z), this.getZoomScale(z, 1));\n\t\t}, this);\n\t},\n\n\t_catchTransitionEnd: function (e) {\n\t\tif (this._animatingZoom && e.propertyName.indexOf('transform') >= 0) {\n\t\t\tthis._onZoomTransitionEnd();\n\t\t}\n\t},\n\n\t_nothingToAnimate: function () {\n\t\treturn !this._container.getElementsByClassName('leaflet-zoom-animated').length;\n\t},\n\n\t_tryAnimatedZoom: function (center, zoom, options) {\n\n\t\tif (this._animatingZoom) { return true; }\n\n\t\toptions = options || {};\n\n\t\t// don't animate if disabled, not supported or zoom difference is too large\n\t\tif (!this._zoomAnimated || options.animate === false || this._nothingToAnimate() ||\n\t\t        Math.abs(zoom - this._zoom) > this.options.zoomAnimationThreshold) { return false; }\n\n\t\t// offset is the pixel coords of the zoom origin relative to the current center\n\t\tvar scale = this.getZoomScale(zoom),\n\t\t    offset = this._getCenterOffset(center)._divideBy(1 - 1 / scale);\n\n\t\t// don't animate if the zoom origin isn't within one screen from the current center, unless forced\n\t\tif (options.animate !== true && !this.getSize().contains(offset)) { return false; }\n\n\t\tL.Util.requestAnimFrame(function () {\n\t\t\tthis\n\t\t\t    ._moveStart(true)\n\t\t\t    ._animateZoom(center, zoom, true);\n\t\t}, this);\n\n\t\treturn true;\n\t},\n\n\t_animateZoom: function (center, zoom, startAnim, noUpdate) {\n\t\tif (startAnim) {\n\t\t\tthis._animatingZoom = true;\n\n\t\t\t// remember what center/zoom to set after animation\n\t\t\tthis._animateToCenter = center;\n\t\t\tthis._animateToZoom = zoom;\n\n\t\t\tL.DomUtil.addClass(this._mapPane, 'leaflet-zoom-anim');\n\t\t}\n\n\t\t// @event zoomanim: ZoomAnimEvent\n\t\t// Fired on every frame of a zoom animation\n\t\tthis.fire('zoomanim', {\n\t\t\tcenter: center,\n\t\t\tzoom: zoom,\n\t\t\tnoUpdate: noUpdate\n\t\t});\n\n\t\t// Work around webkit not firing 'transitionend', see https://github.com/Leaflet/Leaflet/issues/3689, 2693\n\t\tsetTimeout(L.bind(this._onZoomTransitionEnd, this), 250);\n\t},\n\n\t_onZoomTransitionEnd: function () {\n\t\tif (!this._animatingZoom) { return; }\n\n\t\tL.DomUtil.removeClass(this._mapPane, 'leaflet-zoom-anim');\n\n\t\tthis._animatingZoom = false;\n\n\t\tthis._move(this._animateToCenter, this._animateToZoom);\n\n\t\t// This anim frame should prevent an obscure iOS webkit tile loading race condition.\n\t\tL.Util.requestAnimFrame(function () {\n\t\t\tthis._moveEnd(true);\n\t\t}, this);\n\t}\n});\n\n// @namespace Map\n// @section Methods for modifying map state\nL.Map.include({\n\n\t// @method flyTo(latlng: LatLng, zoom?: Number, options?: Zoom/pan options): this\n\t// Sets the view of the map (geographical center and zoom) performing a smooth\n\t// pan-zoom animation.\n\tflyTo: function (targetCenter, targetZoom, options) {\n\n\t\toptions = options || {};\n\t\tif (options.animate === false || !L.Browser.any3d) {\n\t\t\treturn this.setView(targetCenter, targetZoom, options);\n\t\t}\n\n\t\tthis._stop();\n\n\t\tvar from = this.project(this.getCenter()),\n\t\t    to = this.project(targetCenter),\n\t\t    size = this.getSize(),\n\t\t    startZoom = this._zoom;\n\n\t\ttargetCenter = L.latLng(targetCenter);\n\t\ttargetZoom = targetZoom === undefined ? startZoom : targetZoom;\n\n\t\tvar w0 = Math.max(size.x, size.y),\n\t\t    w1 = w0 * this.getZoomScale(startZoom, targetZoom),\n\t\t    u1 = (to.distanceTo(from)) || 1,\n\t\t    rho = 1.42,\n\t\t    rho2 = rho * rho;\n\n\t\tfunction r(i) {\n\t\t\tvar s1 = i ? -1 : 1,\n\t\t\t    s2 = i ? w1 : w0,\n\t\t\t    t1 = w1 * w1 - w0 * w0 + s1 * rho2 * rho2 * u1 * u1,\n\t\t\t    b1 = 2 * s2 * rho2 * u1,\n\t\t\t    b = t1 / b1,\n\t\t\t    sq = Math.sqrt(b * b + 1) - b;\n\n\t\t\t    // workaround for floating point precision bug when sq = 0, log = -Infinite,\n\t\t\t    // thus triggering an infinite loop in flyTo\n\t\t\t    var log = sq < 0.000000001 ? -18 : Math.log(sq);\n\n\t\t\treturn log;\n\t\t}\n\n\t\tfunction sinh(n) { return (Math.exp(n) - Math.exp(-n)) / 2; }\n\t\tfunction cosh(n) { return (Math.exp(n) + Math.exp(-n)) / 2; }\n\t\tfunction tanh(n) { return sinh(n) / cosh(n); }\n\n\t\tvar r0 = r(0);\n\n\t\tfunction w(s) { return w0 * (cosh(r0) / cosh(r0 + rho * s)); }\n\t\tfunction u(s) { return w0 * (cosh(r0) * tanh(r0 + rho * s) - sinh(r0)) / rho2; }\n\n\t\tfunction easeOut(t) { return 1 - Math.pow(1 - t, 1.5); }\n\n\t\tvar start = Date.now(),\n\t\t    S = (r(1) - r0) / rho,\n\t\t    duration = options.duration ? 1000 * options.duration : 1000 * S * 0.8;\n\n\t\tfunction frame() {\n\t\t\tvar t = (Date.now() - start) / duration,\n\t\t\t    s = easeOut(t) * S;\n\n\t\t\tif (t <= 1) {\n\t\t\t\tthis._flyToFrame = L.Util.requestAnimFrame(frame, this);\n\n\t\t\t\tthis._move(\n\t\t\t\t\tthis.unproject(from.add(to.subtract(from).multiplyBy(u(s) / u1)), startZoom),\n\t\t\t\t\tthis.getScaleZoom(w0 / w(s), startZoom),\n\t\t\t\t\t{flyTo: true});\n\n\t\t\t} else {\n\t\t\t\tthis\n\t\t\t\t\t._move(targetCenter, targetZoom)\n\t\t\t\t\t._moveEnd(true);\n\t\t\t}\n\t\t}\n\n\t\tthis._moveStart(true);\n\n\t\tframe.call(this);\n\t\treturn this;\n\t},\n\n\t// @method flyToBounds(bounds: LatLngBounds, options?: fitBounds options): this\n\t// Sets the view of the map with a smooth animation like [`flyTo`](#map-flyto),\n\t// but takes a bounds parameter like [`fitBounds`](#map-fitbounds).\n\tflyToBounds: function (bounds, options) {\n\t\tvar target = this._getBoundsCenterZoom(bounds, options);\n\t\treturn this.flyTo(target.center, target.zoom, options);\n\t}\n});\n\n/*\r\n * Extends the event handling code with double tap support for mobile browsers.\r\n */\r\n\r\nL.extend(L.DomEvent, {\r\n\r\n\t_touchstart: L.Browser.msPointer ? 'MSPointerDown' : L.Browser.pointer ? 'pointerdown' : 'touchstart',\r\n\t_touchend: L.Browser.msPointer ? 'MSPointerUp' : L.Browser.pointer ? 'pointerup' : 'touchend',\r\n\r\n\t// inspired by Zepto touch code by Thomas Fuchs\r\n\taddDoubleTapListener: function (obj, handler, id) {\r\n\t\tvar last, touch,\r\n\t\t    doubleTap = false,\r\n\t\t    delay = 250;\r\n\r\n\t\tfunction onTouchStart(e) {\r\n\t\t\tvar count;\r\n\r\n\t\t\tif (L.Browser.pointer) {\r\n\t\t\t\tcount = L.DomEvent._pointersCount;\r\n\t\t\t} else {\r\n\t\t\t\tcount = e.touches.length;\r\n\t\t\t}\r\n\r\n\t\t\tif (count > 1) { return; }\r\n\r\n\t\t\tvar now = Date.now(),\r\n\t\t\t    delta = now - (last || now);\r\n\r\n\t\t\ttouch = e.touches ? e.touches[0] : e;\r\n\t\t\tdoubleTap = (delta > 0 && delta <= delay);\r\n\t\t\tlast = now;\r\n\t\t}\r\n\r\n\t\tfunction onTouchEnd() {\r\n\t\t\tif (doubleTap && !touch.cancelBubble) {\r\n\t\t\t\tif (L.Browser.pointer) {\r\n\t\t\t\t\t// work around .type being readonly with MSPointer* events\r\n\t\t\t\t\tvar newTouch = {},\r\n\t\t\t\t\t    prop, i;\r\n\r\n\t\t\t\t\tfor (i in touch) {\r\n\t\t\t\t\t\tprop = touch[i];\r\n\t\t\t\t\t\tnewTouch[i] = prop && prop.bind ? prop.bind(touch) : prop;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttouch = newTouch;\r\n\t\t\t\t}\r\n\t\t\t\ttouch.type = 'dblclick';\r\n\t\t\t\thandler(touch);\r\n\t\t\t\tlast = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar pre = '_leaflet_',\r\n\t\t    touchstart = this._touchstart,\r\n\t\t    touchend = this._touchend;\r\n\r\n\t\tobj[pre + touchstart + id] = onTouchStart;\r\n\t\tobj[pre + touchend + id] = onTouchEnd;\r\n\t\tobj[pre + 'dblclick' + id] = handler;\r\n\r\n\t\tobj.addEventListener(touchstart, onTouchStart, false);\r\n\t\tobj.addEventListener(touchend, onTouchEnd, false);\r\n\r\n\t\t// On some platforms (notably, chrome on win10 + touchscreen + mouse),\r\n\t\t// the browser doesn't fire touchend/pointerup events but does fire\r\n\t\t// native dblclicks. See #4127.\r\n\t\tif (!L.Browser.edge) {\r\n\t\t\tobj.addEventListener('dblclick', handler, false);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tremoveDoubleTapListener: function (obj, id) {\r\n\t\tvar pre = '_leaflet_',\r\n\t\t    touchstart = obj[pre + this._touchstart + id],\r\n\t\t    touchend = obj[pre + this._touchend + id],\r\n\t\t    dblclick = obj[pre + 'dblclick' + id];\r\n\r\n\t\tobj.removeEventListener(this._touchstart, touchstart, false);\r\n\t\tobj.removeEventListener(this._touchend, touchend, false);\r\n\t\tif (!L.Browser.edge) {\r\n\t\t\tobj.removeEventListener('dblclick', dblclick, false);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n});\r\n\n/*\n * Extends L.DomEvent to provide touch support for Internet Explorer and Windows-based devices.\n */\n\nL.extend(L.DomEvent, {\n\n\tPOINTER_DOWN:   L.Browser.msPointer ? 'MSPointerDown'   : 'pointerdown',\n\tPOINTER_MOVE:   L.Browser.msPointer ? 'MSPointerMove'   : 'pointermove',\n\tPOINTER_UP:     L.Browser.msPointer ? 'MSPointerUp'     : 'pointerup',\n\tPOINTER_CANCEL: L.Browser.msPointer ? 'MSPointerCancel' : 'pointercancel',\n\tTAG_WHITE_LIST: ['INPUT', 'SELECT', 'OPTION'],\n\n\t_pointers: {},\n\t_pointersCount: 0,\n\n\t// Provides a touch events wrapper for (ms)pointer events.\n\t// ref http://www.w3.org/TR/pointerevents/ https://www.w3.org/Bugs/Public/show_bug.cgi?id=22890\n\n\taddPointerListener: function (obj, type, handler, id) {\n\n\t\tif (type === 'touchstart') {\n\t\t\tthis._addPointerStart(obj, handler, id);\n\n\t\t} else if (type === 'touchmove') {\n\t\t\tthis._addPointerMove(obj, handler, id);\n\n\t\t} else if (type === 'touchend') {\n\t\t\tthis._addPointerEnd(obj, handler, id);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremovePointerListener: function (obj, type, id) {\n\t\tvar handler = obj['_leaflet_' + type + id];\n\n\t\tif (type === 'touchstart') {\n\t\t\tobj.removeEventListener(this.POINTER_DOWN, handler, false);\n\n\t\t} else if (type === 'touchmove') {\n\t\t\tobj.removeEventListener(this.POINTER_MOVE, handler, false);\n\n\t\t} else if (type === 'touchend') {\n\t\t\tobj.removeEventListener(this.POINTER_UP, handler, false);\n\t\t\tobj.removeEventListener(this.POINTER_CANCEL, handler, false);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_addPointerStart: function (obj, handler, id) {\n\t\tvar onDown = L.bind(function (e) {\n\t\t\tif (e.pointerType !== 'mouse' && e.pointerType !== e.MSPOINTER_TYPE_MOUSE) {\n\t\t\t\t// In IE11, some touch events needs to fire for form controls, or\n\t\t\t\t// the controls will stop working. We keep a whitelist of tag names that\n\t\t\t\t// need these events. For other target tags, we prevent default on the event.\n\t\t\t\tif (this.TAG_WHITE_LIST.indexOf(e.target.tagName) < 0) {\n\t\t\t\t\tL.DomEvent.preventDefault(e);\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._handlePointer(e, handler);\n\t\t}, this);\n\n\t\tobj['_leaflet_touchstart' + id] = onDown;\n\t\tobj.addEventListener(this.POINTER_DOWN, onDown, false);\n\n\t\t// need to keep track of what pointers and how many are active to provide e.touches emulation\n\t\tif (!this._pointerDocListener) {\n\t\t\tvar pointerUp = L.bind(this._globalPointerUp, this);\n\n\t\t\t// we listen documentElement as any drags that end by moving the touch off the screen get fired there\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_DOWN, L.bind(this._globalPointerDown, this), true);\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_MOVE, L.bind(this._globalPointerMove, this), true);\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_UP, pointerUp, true);\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_CANCEL, pointerUp, true);\n\n\t\t\tthis._pointerDocListener = true;\n\t\t}\n\t},\n\n\t_globalPointerDown: function (e) {\n\t\tthis._pointers[e.pointerId] = e;\n\t\tthis._pointersCount++;\n\t},\n\n\t_globalPointerMove: function (e) {\n\t\tif (this._pointers[e.pointerId]) {\n\t\t\tthis._pointers[e.pointerId] = e;\n\t\t}\n\t},\n\n\t_globalPointerUp: function (e) {\n\t\tdelete this._pointers[e.pointerId];\n\t\tthis._pointersCount--;\n\t},\n\n\t_handlePointer: function (e, handler) {\n\t\te.touches = [];\n\t\tfor (var i in this._pointers) {\n\t\t\te.touches.push(this._pointers[i]);\n\t\t}\n\t\te.changedTouches = [e];\n\n\t\thandler(e);\n\t},\n\n\t_addPointerMove: function (obj, handler, id) {\n\t\tvar onMove = L.bind(function (e) {\n\t\t\t// don't fire touch moves when mouse isn't down\n\t\t\tif ((e.pointerType === e.MSPOINTER_TYPE_MOUSE || e.pointerType === 'mouse') && e.buttons === 0) { return; }\n\n\t\t\tthis._handlePointer(e, handler);\n\t\t}, this);\n\n\t\tobj['_leaflet_touchmove' + id] = onMove;\n\t\tobj.addEventListener(this.POINTER_MOVE, onMove, false);\n\t},\n\n\t_addPointerEnd: function (obj, handler, id) {\n\t\tvar onUp = L.bind(function (e) {\n\t\t\tthis._handlePointer(e, handler);\n\t\t}, this);\n\n\t\tobj['_leaflet_touchend' + id] = onUp;\n\t\tobj.addEventListener(this.POINTER_UP, onUp, false);\n\t\tobj.addEventListener(this.POINTER_CANCEL, onUp, false);\n\t}\n});\n\n/*\n * L.Handler.TouchZoom is used by L.Map to add pinch zoom on supported mobile browsers.\n */\n\n// @namespace Map\n// @section Interaction Options\nL.Map.mergeOptions({\n\t// @section Touch interaction options\n\t// @option touchZoom: Boolean|String = *\n\t// Whether the map can be zoomed by touch-dragging with two fingers. If\n\t// passed `'center'`, it will zoom to the center of the view regardless of\n\t// where the touch events (fingers) were. Enabled for touch-capable web\n\t// browsers except for old Androids.\n\ttouchZoom: L.Browser.touch && !L.Browser.android23,\n\n\t// @option bounceAtZoomLimits: Boolean = true\n\t// Set it to false if you don't want the map to zoom beyond min/max zoom\n\t// and then bounce back when pinch-zooming.\n\tbounceAtZoomLimits: true\n});\n\nL.Map.TouchZoom = L.Handler.extend({\n\taddHooks: function () {\n\t\tL.DomUtil.addClass(this._map._container, 'leaflet-touch-zoom');\n\t\tL.DomEvent.on(this._map._container, 'touchstart', this._onTouchStart, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomUtil.removeClass(this._map._container, 'leaflet-touch-zoom');\n\t\tL.DomEvent.off(this._map._container, 'touchstart', this._onTouchStart, this);\n\t},\n\n\t_onTouchStart: function (e) {\n\t\tvar map = this._map;\n\t\tif (!e.touches || e.touches.length !== 2 || map._animatingZoom || this._zooming) { return; }\n\n\t\tvar p1 = map.mouseEventToContainerPoint(e.touches[0]),\n\t\t    p2 = map.mouseEventToContainerPoint(e.touches[1]);\n\n\t\tthis._centerPoint = map.getSize()._divideBy(2);\n\t\tthis._startLatLng = map.containerPointToLatLng(this._centerPoint);\n\t\tif (map.options.touchZoom !== 'center') {\n\t\t\tthis._pinchStartLatLng = map.containerPointToLatLng(p1.add(p2)._divideBy(2));\n\t\t}\n\n\t\tthis._startDist = p1.distanceTo(p2);\n\t\tthis._startZoom = map.getZoom();\n\n\t\tthis._moved = false;\n\t\tthis._zooming = true;\n\n\t\tmap._stop();\n\n\t\tL.DomEvent\n\t\t    .on(document, 'touchmove', this._onTouchMove, this)\n\t\t    .on(document, 'touchend', this._onTouchEnd, this);\n\n\t\tL.DomEvent.preventDefault(e);\n\t},\n\n\t_onTouchMove: function (e) {\n\t\tif (!e.touches || e.touches.length !== 2 || !this._zooming) { return; }\n\n\t\tvar map = this._map,\n\t\t    p1 = map.mouseEventToContainerPoint(e.touches[0]),\n\t\t    p2 = map.mouseEventToContainerPoint(e.touches[1]),\n\t\t    scale = p1.distanceTo(p2) / this._startDist;\n\n\n\t\tthis._zoom = map.getScaleZoom(scale, this._startZoom);\n\n\t\tif (!map.options.bounceAtZoomLimits && (\n\t\t\t(this._zoom < map.getMinZoom() && scale < 1) ||\n\t\t\t(this._zoom > map.getMaxZoom() && scale > 1))) {\n\t\t\tthis._zoom = map._limitZoom(this._zoom);\n\t\t}\n\n\t\tif (map.options.touchZoom === 'center') {\n\t\t\tthis._center = this._startLatLng;\n\t\t\tif (scale === 1) { return; }\n\t\t} else {\n\t\t\t// Get delta from pinch to center, so centerLatLng is delta applied to initial pinchLatLng\n\t\t\tvar delta = p1._add(p2)._divideBy(2)._subtract(this._centerPoint);\n\t\t\tif (scale === 1 && delta.x === 0 && delta.y === 0) { return; }\n\t\t\tthis._center = map.unproject(map.project(this._pinchStartLatLng, this._zoom).subtract(delta), this._zoom);\n\t\t}\n\n\t\tif (!this._moved) {\n\t\t\tmap._moveStart(true);\n\t\t\tthis._moved = true;\n\t\t}\n\n\t\tL.Util.cancelAnimFrame(this._animRequest);\n\n\t\tvar moveFn = L.bind(map._move, map, this._center, this._zoom, {pinch: true, round: false});\n\t\tthis._animRequest = L.Util.requestAnimFrame(moveFn, this, true);\n\n\t\tL.DomEvent.preventDefault(e);\n\t},\n\n\t_onTouchEnd: function () {\n\t\tif (!this._moved || !this._zooming) {\n\t\t\tthis._zooming = false;\n\t\t\treturn;\n\t\t}\n\n\t\tthis._zooming = false;\n\t\tL.Util.cancelAnimFrame(this._animRequest);\n\n\t\tL.DomEvent\n\t\t    .off(document, 'touchmove', this._onTouchMove)\n\t\t    .off(document, 'touchend', this._onTouchEnd);\n\n\t\t// Pinch updates GridLayers' levels only when zoomSnap is off, so zoomSnap becomes noUpdate.\n\t\tif (this._map.options.zoomAnimation) {\n\t\t\tthis._map._animateZoom(this._center, this._map._limitZoom(this._zoom), true, this._map.options.zoomSnap);\n\t\t} else {\n\t\t\tthis._map._resetView(this._center, this._map._limitZoom(this._zoom));\n\t\t}\n\t}\n});\n\n// @section Handlers\n// @property touchZoom: Handler\n// Touch zoom handler.\nL.Map.addInitHook('addHandler', 'touchZoom', L.Map.TouchZoom);\n\n/*\n * L.Map.Tap is used to enable mobile hacks like quick taps and long hold.\n */\n\n// @namespace Map\n// @section Interaction Options\nL.Map.mergeOptions({\n\t// @section Touch interaction options\n\t// @option tap: Boolean = true\n\t// Enables mobile hacks for supporting instant taps (fixing 200ms click\n\t// delay on iOS/Android) and touch holds (fired as `contextmenu` events).\n\ttap: true,\n\n\t// @option tapTolerance: Number = 15\n\t// The max number of pixels a user can shift his finger during touch\n\t// for it to be considered a valid tap.\n\ttapTolerance: 15\n});\n\nL.Map.Tap = L.Handler.extend({\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._map._container, 'touchstart', this._onDown, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._map._container, 'touchstart', this._onDown, this);\n\t},\n\n\t_onDown: function (e) {\n\t\tif (!e.touches) { return; }\n\n\t\tL.DomEvent.preventDefault(e);\n\n\t\tthis._fireClick = true;\n\n\t\t// don't simulate click or track longpress if more than 1 touch\n\t\tif (e.touches.length > 1) {\n\t\t\tthis._fireClick = false;\n\t\t\tclearTimeout(this._holdTimeout);\n\t\t\treturn;\n\t\t}\n\n\t\tvar first = e.touches[0],\n\t\t    el = first.target;\n\n\t\tthis._startPos = this._newPos = new L.Point(first.clientX, first.clientY);\n\n\t\t// if touching a link, highlight it\n\t\tif (el.tagName && el.tagName.toLowerCase() === 'a') {\n\t\t\tL.DomUtil.addClass(el, 'leaflet-active');\n\t\t}\n\n\t\t// simulate long hold but setting a timeout\n\t\tthis._holdTimeout = setTimeout(L.bind(function () {\n\t\t\tif (this._isTapValid()) {\n\t\t\t\tthis._fireClick = false;\n\t\t\t\tthis._onUp();\n\t\t\t\tthis._simulateEvent('contextmenu', first);\n\t\t\t}\n\t\t}, this), 1000);\n\n\t\tthis._simulateEvent('mousedown', first);\n\n\t\tL.DomEvent.on(document, {\n\t\t\ttouchmove: this._onMove,\n\t\t\ttouchend: this._onUp\n\t\t}, this);\n\t},\n\n\t_onUp: function (e) {\n\t\tclearTimeout(this._holdTimeout);\n\n\t\tL.DomEvent.off(document, {\n\t\t\ttouchmove: this._onMove,\n\t\t\ttouchend: this._onUp\n\t\t}, this);\n\n\t\tif (this._fireClick && e && e.changedTouches) {\n\n\t\t\tvar first = e.changedTouches[0],\n\t\t\t    el = first.target;\n\n\t\t\tif (el && el.tagName && el.tagName.toLowerCase() === 'a') {\n\t\t\t\tL.DomUtil.removeClass(el, 'leaflet-active');\n\t\t\t}\n\n\t\t\tthis._simulateEvent('mouseup', first);\n\n\t\t\t// simulate click if the touch didn't move too much\n\t\t\tif (this._isTapValid()) {\n\t\t\t\tthis._simulateEvent('click', first);\n\t\t\t}\n\t\t}\n\t},\n\n\t_isTapValid: function () {\n\t\treturn this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;\n\t},\n\n\t_onMove: function (e) {\n\t\tvar first = e.touches[0];\n\t\tthis._newPos = new L.Point(first.clientX, first.clientY);\n\t\tthis._simulateEvent('mousemove', first);\n\t},\n\n\t_simulateEvent: function (type, e) {\n\t\tvar simulatedEvent = document.createEvent('MouseEvents');\n\n\t\tsimulatedEvent._simulated = true;\n\t\te.target._simulatedClick = true;\n\n\t\tsimulatedEvent.initMouseEvent(\n\t\t        type, true, true, window, 1,\n\t\t        e.screenX, e.screenY,\n\t\t        e.clientX, e.clientY,\n\t\t        false, false, false, false, 0, null);\n\n\t\te.target.dispatchEvent(simulatedEvent);\n\t}\n});\n\n// @section Handlers\n// @property tap: Handler\n// Mobile touch hacks (quick tap and touch hold) handler.\nif (L.Browser.touch && !L.Browser.pointer) {\n\tL.Map.addInitHook('addHandler', 'tap', L.Map.Tap);\n}\n\n/*\n * L.Handler.BoxZoom is used to add shift-drag zoom interaction to the map\n * (zoom to a selected bounding box), enabled by default.\n */\n\n// @namespace Map\n// @section Interaction Options\nL.Map.mergeOptions({\n\t// @option boxZoom: Boolean = true\n\t// Whether the map can be zoomed to a rectangular area specified by\n\t// dragging the mouse while pressing the shift key.\n\tboxZoom: true\n});\n\nL.Map.BoxZoom = L.Handler.extend({\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\t\tthis._container = map._container;\n\t\tthis._pane = map._panes.overlayPane;\n\t},\n\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._container, 'mousedown', this._onMouseDown, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._container, 'mousedown', this._onMouseDown, this);\n\t},\n\n\tmoved: function () {\n\t\treturn this._moved;\n\t},\n\n\t_resetState: function () {\n\t\tthis._moved = false;\n\t},\n\n\t_onMouseDown: function (e) {\n\t\tif (!e.shiftKey || ((e.which !== 1) && (e.button !== 1))) { return false; }\n\n\t\tthis._resetState();\n\n\t\tL.DomUtil.disableTextSelection();\n\t\tL.DomUtil.disableImageDrag();\n\n\t\tthis._startPoint = this._map.mouseEventToContainerPoint(e);\n\n\t\tL.DomEvent.on(document, {\n\t\t\tcontextmenu: L.DomEvent.stop,\n\t\t\tmousemove: this._onMouseMove,\n\t\t\tmouseup: this._onMouseUp,\n\t\t\tkeydown: this._onKeyDown\n\t\t}, this);\n\t},\n\n\t_onMouseMove: function (e) {\n\t\tif (!this._moved) {\n\t\t\tthis._moved = true;\n\n\t\t\tthis._box = L.DomUtil.create('div', 'leaflet-zoom-box', this._container);\n\t\t\tL.DomUtil.addClass(this._container, 'leaflet-crosshair');\n\n\t\t\tthis._map.fire('boxzoomstart');\n\t\t}\n\n\t\tthis._point = this._map.mouseEventToContainerPoint(e);\n\n\t\tvar bounds = new L.Bounds(this._point, this._startPoint),\n\t\t    size = bounds.getSize();\n\n\t\tL.DomUtil.setPosition(this._box, bounds.min);\n\n\t\tthis._box.style.width  = size.x + 'px';\n\t\tthis._box.style.height = size.y + 'px';\n\t},\n\n\t_finish: function () {\n\t\tif (this._moved) {\n\t\t\tL.DomUtil.remove(this._box);\n\t\t\tL.DomUtil.removeClass(this._container, 'leaflet-crosshair');\n\t\t}\n\n\t\tL.DomUtil.enableTextSelection();\n\t\tL.DomUtil.enableImageDrag();\n\n\t\tL.DomEvent.off(document, {\n\t\t\tcontextmenu: L.DomEvent.stop,\n\t\t\tmousemove: this._onMouseMove,\n\t\t\tmouseup: this._onMouseUp,\n\t\t\tkeydown: this._onKeyDown\n\t\t}, this);\n\t},\n\n\t_onMouseUp: function (e) {\n\t\tif ((e.which !== 1) && (e.button !== 1)) { return; }\n\n\t\tthis._finish();\n\n\t\tif (!this._moved) { return; }\n\t\t// Postpone to next JS tick so internal click event handling\n\t\t// still see it as \"moved\".\n\t\tsetTimeout(L.bind(this._resetState, this), 0);\n\n\t\tvar bounds = new L.LatLngBounds(\n\t\t        this._map.containerPointToLatLng(this._startPoint),\n\t\t        this._map.containerPointToLatLng(this._point));\n\n\t\tthis._map\n\t\t\t.fitBounds(bounds)\n\t\t\t.fire('boxzoomend', {boxZoomBounds: bounds});\n\t},\n\n\t_onKeyDown: function (e) {\n\t\tif (e.keyCode === 27) {\n\t\t\tthis._finish();\n\t\t}\n\t}\n});\n\n// @section Handlers\n// @property boxZoom: Handler\n// Box (shift-drag with mouse) zoom handler.\nL.Map.addInitHook('addHandler', 'boxZoom', L.Map.BoxZoom);\n\n/*\n * L.Map.Keyboard is handling keyboard interaction with the map, enabled by default.\n */\n\n// @namespace Map\n// @section Keyboard Navigation Options\nL.Map.mergeOptions({\n\t// @option keyboard: Boolean = true\n\t// Makes the map focusable and allows users to navigate the map with keyboard\n\t// arrows and `+`/`-` keys.\n\tkeyboard: true,\n\n\t// @option keyboardPanDelta: Number = 80\n\t// Amount of pixels to pan when pressing an arrow key.\n\tkeyboardPanDelta: 80\n});\n\nL.Map.Keyboard = L.Handler.extend({\n\n\tkeyCodes: {\n\t\tleft:    [37],\n\t\tright:   [39],\n\t\tdown:    [40],\n\t\tup:      [38],\n\t\tzoomIn:  [187, 107, 61, 171],\n\t\tzoomOut: [189, 109, 54, 173]\n\t},\n\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\n\t\tthis._setPanDelta(map.options.keyboardPanDelta);\n\t\tthis._setZoomDelta(map.options.zoomDelta);\n\t},\n\n\taddHooks: function () {\n\t\tvar container = this._map._container;\n\n\t\t// make the container focusable by tabbing\n\t\tif (container.tabIndex <= 0) {\n\t\t\tcontainer.tabIndex = '0';\n\t\t}\n\n\t\tL.DomEvent.on(container, {\n\t\t\tfocus: this._onFocus,\n\t\t\tblur: this._onBlur,\n\t\t\tmousedown: this._onMouseDown\n\t\t}, this);\n\n\t\tthis._map.on({\n\t\t\tfocus: this._addHooks,\n\t\t\tblur: this._removeHooks\n\t\t}, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._removeHooks();\n\n\t\tL.DomEvent.off(this._map._container, {\n\t\t\tfocus: this._onFocus,\n\t\t\tblur: this._onBlur,\n\t\t\tmousedown: this._onMouseDown\n\t\t}, this);\n\n\t\tthis._map.off({\n\t\t\tfocus: this._addHooks,\n\t\t\tblur: this._removeHooks\n\t\t}, this);\n\t},\n\n\t_onMouseDown: function () {\n\t\tif (this._focused) { return; }\n\n\t\tvar body = document.body,\n\t\t    docEl = document.documentElement,\n\t\t    top = body.scrollTop || docEl.scrollTop,\n\t\t    left = body.scrollLeft || docEl.scrollLeft;\n\n\t\tthis._map._container.focus();\n\n\t\twindow.scrollTo(left, top);\n\t},\n\n\t_onFocus: function () {\n\t\tthis._focused = true;\n\t\tthis._map.fire('focus');\n\t},\n\n\t_onBlur: function () {\n\t\tthis._focused = false;\n\t\tthis._map.fire('blur');\n\t},\n\n\t_setPanDelta: function (panDelta) {\n\t\tvar keys = this._panKeys = {},\n\t\t    codes = this.keyCodes,\n\t\t    i, len;\n\n\t\tfor (i = 0, len = codes.left.length; i < len; i++) {\n\t\t\tkeys[codes.left[i]] = [-1 * panDelta, 0];\n\t\t}\n\t\tfor (i = 0, len = codes.right.length; i < len; i++) {\n\t\t\tkeys[codes.right[i]] = [panDelta, 0];\n\t\t}\n\t\tfor (i = 0, len = codes.down.length; i < len; i++) {\n\t\t\tkeys[codes.down[i]] = [0, panDelta];\n\t\t}\n\t\tfor (i = 0, len = codes.up.length; i < len; i++) {\n\t\t\tkeys[codes.up[i]] = [0, -1 * panDelta];\n\t\t}\n\t},\n\n\t_setZoomDelta: function (zoomDelta) {\n\t\tvar keys = this._zoomKeys = {},\n\t\t    codes = this.keyCodes,\n\t\t    i, len;\n\n\t\tfor (i = 0, len = codes.zoomIn.length; i < len; i++) {\n\t\t\tkeys[codes.zoomIn[i]] = zoomDelta;\n\t\t}\n\t\tfor (i = 0, len = codes.zoomOut.length; i < len; i++) {\n\t\t\tkeys[codes.zoomOut[i]] = -zoomDelta;\n\t\t}\n\t},\n\n\t_addHooks: function () {\n\t\tL.DomEvent.on(document, 'keydown', this._onKeyDown, this);\n\t},\n\n\t_removeHooks: function () {\n\t\tL.DomEvent.off(document, 'keydown', this._onKeyDown, this);\n\t},\n\n\t_onKeyDown: function (e) {\n\t\tif (e.altKey || e.ctrlKey || e.metaKey) { return; }\n\n\t\tvar key = e.keyCode,\n\t\t    map = this._map,\n\t\t    offset;\n\n\t\tif (key in this._panKeys) {\n\n\t\t\tif (map._panAnim && map._panAnim._inProgress) { return; }\n\n\t\t\toffset = this._panKeys[key];\n\t\t\tif (e.shiftKey) {\n\t\t\t\toffset = L.point(offset).multiplyBy(3);\n\t\t\t}\n\n\t\t\tmap.panBy(offset);\n\n\t\t\tif (map.options.maxBounds) {\n\t\t\t\tmap.panInsideBounds(map.options.maxBounds);\n\t\t\t}\n\n\t\t} else if (key in this._zoomKeys) {\n\t\t\tmap.setZoom(map.getZoom() + (e.shiftKey ? 3 : 1) * this._zoomKeys[key]);\n\n\t\t} else if (key === 27) {\n\t\t\tmap.closePopup();\n\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tL.DomEvent.stop(e);\n\t}\n});\n\n// @section Handlers\n// @section Handlers\n// @property keyboard: Handler\n// Keyboard navigation handler.\nL.Map.addInitHook('addHandler', 'keyboard', L.Map.Keyboard);\n\n/*\n * L.Handler.MarkerDrag is used internally by L.Marker to make the markers draggable.\n */\n\n\n/* @namespace Marker\n * @section Interaction handlers\n *\n * Interaction handlers are properties of a marker instance that allow you to control interaction behavior in runtime, enabling or disabling certain features such as dragging (see `Handler` methods). Example:\n *\n * ```js\n * marker.dragging.disable();\n * ```\n *\n * @property dragging: Handler\n * Marker dragging handler (by both mouse and touch).\n */\n\nL.Handler.MarkerDrag = L.Handler.extend({\n\tinitialize: function (marker) {\n\t\tthis._marker = marker;\n\t},\n\n\taddHooks: function () {\n\t\tvar icon = this._marker._icon;\n\n\t\tif (!this._draggable) {\n\t\t\tthis._draggable = new L.Draggable(icon, icon, true);\n\t\t}\n\n\t\tthis._draggable.on({\n\t\t\tdragstart: this._onDragStart,\n\t\t\tdrag: this._onDrag,\n\t\t\tdragend: this._onDragEnd\n\t\t}, this).enable();\n\n\t\tL.DomUtil.addClass(icon, 'leaflet-marker-draggable');\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._draggable.off({\n\t\t\tdragstart: this._onDragStart,\n\t\t\tdrag: this._onDrag,\n\t\t\tdragend: this._onDragEnd\n\t\t}, this).disable();\n\n\t\tif (this._marker._icon) {\n\t\t\tL.DomUtil.removeClass(this._marker._icon, 'leaflet-marker-draggable');\n\t\t}\n\t},\n\n\tmoved: function () {\n\t\treturn this._draggable && this._draggable._moved;\n\t},\n\n\t_onDragStart: function () {\n\t\t// @section Dragging events\n\t\t// @event dragstart: Event\n\t\t// Fired when the user starts dragging the marker.\n\n\t\t// @event movestart: Event\n\t\t// Fired when the marker starts moving (because of dragging).\n\n\t\tthis._oldLatLng = this._marker.getLatLng();\n\t\tthis._marker\n\t\t    .closePopup()\n\t\t    .fire('movestart')\n\t\t    .fire('dragstart');\n\t},\n\n\t_onDrag: function (e) {\n\t\tvar marker = this._marker,\n\t\t    shadow = marker._shadow,\n\t\t    iconPos = L.DomUtil.getPosition(marker._icon),\n\t\t    latlng = marker._map.layerPointToLatLng(iconPos);\n\n\t\t// update shadow position\n\t\tif (shadow) {\n\t\t\tL.DomUtil.setPosition(shadow, iconPos);\n\t\t}\n\n\t\tmarker._latlng = latlng;\n\t\te.latlng = latlng;\n\t\te.oldLatLng = this._oldLatLng;\n\n\t\t// @event drag: Event\n\t\t// Fired repeatedly while the user drags the marker.\n\t\tmarker\n\t\t    .fire('move', e)\n\t\t    .fire('drag', e);\n\t},\n\n\t_onDragEnd: function (e) {\n\t\t// @event dragend: DragEndEvent\n\t\t// Fired when the user stops dragging the marker.\n\n\t\t// @event moveend: Event\n\t\t// Fired when the marker stops moving (because of dragging).\n\t\tdelete this._oldLatLng;\n\t\tthis._marker\n\t\t    .fire('moveend')\n\t\t    .fire('dragend', e);\n\t}\n});\n\n/*\r\n * @class Control\r\n * @aka L.Control\r\n *\r\n * L.Control is a base class for implementing map controls. Handles positioning.\r\n * All other controls extend from this class.\r\n */\r\n\r\nL.Control = L.Class.extend({\r\n\t// @section\r\n\t// @aka Control options\r\n\toptions: {\r\n\t\t// @option position: String = 'topright'\r\n\t\t// The position of the control (one of the map corners). Possible values are `'topleft'`,\r\n\t\t// `'topright'`, `'bottomleft'` or `'bottomright'`\r\n\t\tposition: 'topright'\r\n\t},\r\n\r\n\tinitialize: function (options) {\r\n\t\tL.setOptions(this, options);\r\n\t},\r\n\r\n\t/* @section\r\n\t * Classes extending L.Control will inherit the following methods:\r\n\t *\r\n\t * @method getPosition: string\r\n\t * Returns the position of the control.\r\n\t */\r\n\tgetPosition: function () {\r\n\t\treturn this.options.position;\r\n\t},\r\n\r\n\t// @method setPosition(position: string): this\r\n\t// Sets the position of the control.\r\n\tsetPosition: function (position) {\r\n\t\tvar map = this._map;\r\n\r\n\t\tif (map) {\r\n\t\t\tmap.removeControl(this);\r\n\t\t}\r\n\r\n\t\tthis.options.position = position;\r\n\r\n\t\tif (map) {\r\n\t\t\tmap.addControl(this);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method getContainer: HTMLElement\r\n\t// Returns the HTMLElement that contains the control.\r\n\tgetContainer: function () {\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\t// @method addTo(map: Map): this\r\n\t// Adds the control to the given map.\r\n\taddTo: function (map) {\r\n\t\tthis.remove();\r\n\t\tthis._map = map;\r\n\r\n\t\tvar container = this._container = this.onAdd(map),\r\n\t\t    pos = this.getPosition(),\r\n\t\t    corner = map._controlCorners[pos];\r\n\r\n\t\tL.DomUtil.addClass(container, 'leaflet-control');\r\n\r\n\t\tif (pos.indexOf('bottom') !== -1) {\r\n\t\t\tcorner.insertBefore(container, corner.firstChild);\r\n\t\t} else {\r\n\t\t\tcorner.appendChild(container);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method remove: this\r\n\t// Removes the control from the map it is currently active on.\r\n\tremove: function () {\r\n\t\tif (!this._map) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tL.DomUtil.remove(this._container);\r\n\r\n\t\tif (this.onRemove) {\r\n\t\t\tthis.onRemove(this._map);\r\n\t\t}\r\n\r\n\t\tthis._map = null;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_refocusOnMap: function (e) {\r\n\t\t// if map exists and event is not a keyboard event\r\n\t\tif (this._map && e && e.screenX > 0 && e.screenY > 0) {\r\n\t\t\tthis._map.getContainer().focus();\r\n\t\t}\r\n\t}\r\n});\r\n\r\nL.control = function (options) {\r\n\treturn new L.Control(options);\r\n};\r\n\r\n/* @section Extension methods\r\n * @uninheritable\r\n *\r\n * Every control should extend from `L.Control` and (re-)implement the following methods.\r\n *\r\n * @method onAdd(map: Map): HTMLElement\r\n * Should return the container DOM element for the control and add listeners on relevant map events. Called on [`control.addTo(map)`](#control-addTo).\r\n *\r\n * @method onRemove(map: Map)\r\n * Optional method. Should contain all clean up code that removes the listeners previously added in [`onAdd`](#control-onadd). Called on [`control.remove()`](#control-remove).\r\n */\r\n\r\n/* @namespace Map\r\n * @section Methods for Layers and Controls\r\n */\r\nL.Map.include({\r\n\t// @method addControl(control: Control): this\r\n\t// Adds the given control to the map\r\n\taddControl: function (control) {\r\n\t\tcontrol.addTo(this);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method removeControl(control: Control): this\r\n\t// Removes the given control from the map\r\n\tremoveControl: function (control) {\r\n\t\tcontrol.remove();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_initControlPos: function () {\r\n\t\tvar corners = this._controlCorners = {},\r\n\t\t    l = 'leaflet-',\r\n\t\t    container = this._controlContainer =\r\n\t\t            L.DomUtil.create('div', l + 'control-container', this._container);\r\n\r\n\t\tfunction createCorner(vSide, hSide) {\r\n\t\t\tvar className = l + vSide + ' ' + l + hSide;\r\n\r\n\t\t\tcorners[vSide + hSide] = L.DomUtil.create('div', className, container);\r\n\t\t}\r\n\r\n\t\tcreateCorner('top', 'left');\r\n\t\tcreateCorner('top', 'right');\r\n\t\tcreateCorner('bottom', 'left');\r\n\t\tcreateCorner('bottom', 'right');\r\n\t},\r\n\r\n\t_clearControlPos: function () {\r\n\t\tL.DomUtil.remove(this._controlContainer);\r\n\t}\r\n});\r\n\n/*\r\n * @class Control.Zoom\r\n * @aka L.Control.Zoom\r\n * @inherits Control\r\n *\r\n * A basic zoom control with two buttons (zoom in and zoom out). It is put on the map by default unless you set its [`zoomControl` option](#map-zoomcontrol) to `false`. Extends `Control`.\r\n */\r\n\r\nL.Control.Zoom = L.Control.extend({\r\n\t// @section\r\n\t// @aka Control.Zoom options\r\n\toptions: {\r\n\t\tposition: 'topleft',\r\n\r\n\t\t// @option zoomInText: String = '+'\r\n\t\t// The text set on the 'zoom in' button.\r\n\t\tzoomInText: '+',\r\n\r\n\t\t// @option zoomInTitle: String = 'Zoom in'\r\n\t\t// The title set on the 'zoom in' button.\r\n\t\tzoomInTitle: 'Zoom in',\r\n\r\n\t\t// @option zoomOutText: String = '-'\r\n\t\t// The text set on the 'zoom out' button.\r\n\t\tzoomOutText: '-',\r\n\r\n\t\t// @option zoomOutTitle: String = 'Zoom out'\r\n\t\t// The title set on the 'zoom out' button.\r\n\t\tzoomOutTitle: 'Zoom out'\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tvar zoomName = 'leaflet-control-zoom',\r\n\t\t    container = L.DomUtil.create('div', zoomName + ' leaflet-bar'),\r\n\t\t    options = this.options;\r\n\r\n\t\tthis._zoomInButton  = this._createButton(options.zoomInText, options.zoomInTitle,\r\n\t\t        zoomName + '-in',  container, this._zoomIn);\r\n\t\tthis._zoomOutButton = this._createButton(options.zoomOutText, options.zoomOutTitle,\r\n\t\t        zoomName + '-out', container, this._zoomOut);\r\n\r\n\t\tthis._updateDisabled();\r\n\t\tmap.on('zoomend zoomlevelschange', this._updateDisabled, this);\r\n\r\n\t\treturn container;\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tmap.off('zoomend zoomlevelschange', this._updateDisabled, this);\r\n\t},\r\n\r\n\tdisable: function () {\r\n\t\tthis._disabled = true;\r\n\t\tthis._updateDisabled();\r\n\t\treturn this;\r\n\t},\r\n\r\n\tenable: function () {\r\n\t\tthis._disabled = false;\r\n\t\tthis._updateDisabled();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_zoomIn: function (e) {\r\n\t\tif (!this._disabled && this._map._zoom < this._map.getMaxZoom()) {\r\n\t\t\tthis._map.zoomIn(this._map.options.zoomDelta * (e.shiftKey ? 3 : 1));\r\n\t\t}\r\n\t},\r\n\r\n\t_zoomOut: function (e) {\r\n\t\tif (!this._disabled && this._map._zoom > this._map.getMinZoom()) {\r\n\t\t\tthis._map.zoomOut(this._map.options.zoomDelta * (e.shiftKey ? 3 : 1));\r\n\t\t}\r\n\t},\r\n\r\n\t_createButton: function (html, title, className, container, fn) {\r\n\t\tvar link = L.DomUtil.create('a', className, container);\r\n\t\tlink.innerHTML = html;\r\n\t\tlink.href = '#';\r\n\t\tlink.title = title;\r\n\r\n\t\tL.DomEvent\r\n\t\t    .on(link, 'mousedown dblclick', L.DomEvent.stopPropagation)\r\n\t\t    .on(link, 'click', L.DomEvent.stop)\r\n\t\t    .on(link, 'click', fn, this)\r\n\t\t    .on(link, 'click', this._refocusOnMap, this);\r\n\r\n\t\treturn link;\r\n\t},\r\n\r\n\t_updateDisabled: function () {\r\n\t\tvar map = this._map,\r\n\t\t    className = 'leaflet-disabled';\r\n\r\n\t\tL.DomUtil.removeClass(this._zoomInButton, className);\r\n\t\tL.DomUtil.removeClass(this._zoomOutButton, className);\r\n\r\n\t\tif (this._disabled || map._zoom === map.getMinZoom()) {\r\n\t\t\tL.DomUtil.addClass(this._zoomOutButton, className);\r\n\t\t}\r\n\t\tif (this._disabled || map._zoom === map.getMaxZoom()) {\r\n\t\t\tL.DomUtil.addClass(this._zoomInButton, className);\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// @namespace Map\r\n// @section Control options\r\n// @option zoomControl: Boolean = true\r\n// Whether a [zoom control](#control-zoom) is added to the map by default.\r\nL.Map.mergeOptions({\r\n\tzoomControl: true\r\n});\r\n\r\nL.Map.addInitHook(function () {\r\n\tif (this.options.zoomControl) {\r\n\t\tthis.zoomControl = new L.Control.Zoom();\r\n\t\tthis.addControl(this.zoomControl);\r\n\t}\r\n});\r\n\r\n// @namespace Control.Zoom\r\n// @factory L.control.zoom(options: Control.Zoom options)\r\n// Creates a zoom control\r\nL.control.zoom = function (options) {\r\n\treturn new L.Control.Zoom(options);\r\n};\r\n\n/*\r\n * @class Control.Attribution\r\n * @aka L.Control.Attribution\r\n * @inherits Control\r\n *\r\n * The attribution control allows you to display attribution data in a small text box on a map. It is put on the map by default unless you set its [`attributionControl` option](#map-attributioncontrol) to `false`, and it fetches attribution texts from layers with the [`getAttribution` method](#layer-getattribution) automatically. Extends Control.\r\n */\r\n\r\nL.Control.Attribution = L.Control.extend({\r\n\t// @section\r\n\t// @aka Control.Attribution options\r\n\toptions: {\r\n\t\tposition: 'bottomright',\r\n\r\n\t\t// @option prefix: String = 'Leaflet'\r\n\t\t// The HTML text shown before the attributions. Pass `false` to disable.\r\n\t\tprefix: '<a href=\"http://leafletjs.com\" title=\"A JS library for interactive maps\">Leaflet</a>'\r\n\t},\r\n\r\n\tinitialize: function (options) {\r\n\t\tL.setOptions(this, options);\r\n\r\n\t\tthis._attributions = {};\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tmap.attributionControl = this;\r\n\t\tthis._container = L.DomUtil.create('div', 'leaflet-control-attribution');\r\n\t\tif (L.DomEvent) {\r\n\t\t\tL.DomEvent.disableClickPropagation(this._container);\r\n\t\t}\r\n\r\n\t\t// TODO ugly, refactor\r\n\t\tfor (var i in map._layers) {\r\n\t\t\tif (map._layers[i].getAttribution) {\r\n\t\t\t\tthis.addAttribution(map._layers[i].getAttribution());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._update();\r\n\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\t// @method setPrefix(prefix: String): this\r\n\t// Sets the text before the attributions.\r\n\tsetPrefix: function (prefix) {\r\n\t\tthis.options.prefix = prefix;\r\n\t\tthis._update();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method addAttribution(text: String): this\r\n\t// Adds an attribution text (e.g. `'Vector data &copy; Mapbox'`).\r\n\taddAttribution: function (text) {\r\n\t\tif (!text) { return this; }\r\n\r\n\t\tif (!this._attributions[text]) {\r\n\t\t\tthis._attributions[text] = 0;\r\n\t\t}\r\n\t\tthis._attributions[text]++;\r\n\r\n\t\tthis._update();\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method removeAttribution(text: String): this\r\n\t// Removes an attribution text.\r\n\tremoveAttribution: function (text) {\r\n\t\tif (!text) { return this; }\r\n\r\n\t\tif (this._attributions[text]) {\r\n\t\t\tthis._attributions[text]--;\r\n\t\t\tthis._update();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_update: function () {\r\n\t\tif (!this._map) { return; }\r\n\r\n\t\tvar attribs = [];\r\n\r\n\t\tfor (var i in this._attributions) {\r\n\t\t\tif (this._attributions[i]) {\r\n\t\t\t\tattribs.push(i);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar prefixAndAttribs = [];\r\n\r\n\t\tif (this.options.prefix) {\r\n\t\t\tprefixAndAttribs.push(this.options.prefix);\r\n\t\t}\r\n\t\tif (attribs.length) {\r\n\t\t\tprefixAndAttribs.push(attribs.join(', '));\r\n\t\t}\r\n\r\n\t\tthis._container.innerHTML = prefixAndAttribs.join(' | ');\r\n\t}\r\n});\r\n\r\n// @namespace Map\r\n// @section Control options\r\n// @option attributionControl: Boolean = true\r\n// Whether a [attribution control](#control-attribution) is added to the map by default.\r\nL.Map.mergeOptions({\r\n\tattributionControl: true\r\n});\r\n\r\nL.Map.addInitHook(function () {\r\n\tif (this.options.attributionControl) {\r\n\t\tnew L.Control.Attribution().addTo(this);\r\n\t}\r\n});\r\n\r\n// @namespace Control.Attribution\r\n// @factory L.control.attribution(options: Control.Attribution options)\r\n// Creates an attribution control.\r\nL.control.attribution = function (options) {\r\n\treturn new L.Control.Attribution(options);\r\n};\r\n\n/*\n * @class Control.Scale\n * @aka L.Control.Scale\n * @inherits Control\n *\n * A simple scale control that shows the scale of the current center of screen in metric (m/km) and imperial (mi/ft) systems. Extends `Control`.\n *\n * @example\n *\n * ```js\n * L.control.scale().addTo(map);\n * ```\n */\n\nL.Control.Scale = L.Control.extend({\n\t// @section\n\t// @aka Control.Scale options\n\toptions: {\n\t\tposition: 'bottomleft',\n\n\t\t// @option maxWidth: Number = 100\n\t\t// Maximum width of the control in pixels. The width is set dynamically to show round values (e.g. 100, 200, 500).\n\t\tmaxWidth: 100,\n\n\t\t// @option metric: Boolean = True\n\t\t// Whether to show the metric scale line (m/km).\n\t\tmetric: true,\n\n\t\t// @option imperial: Boolean = True\n\t\t// Whether to show the imperial scale line (mi/ft).\n\t\timperial: true\n\n\t\t// @option updateWhenIdle: Boolean = false\n\t\t// If `true`, the control is updated on [`moveend`](#map-moveend), otherwise it's always up-to-date (updated on [`move`](#map-move)).\n\t},\n\n\tonAdd: function (map) {\n\t\tvar className = 'leaflet-control-scale',\n\t\t    container = L.DomUtil.create('div', className),\n\t\t    options = this.options;\n\n\t\tthis._addScales(options, className + '-line', container);\n\n\t\tmap.on(options.updateWhenIdle ? 'moveend' : 'move', this._update, this);\n\t\tmap.whenReady(this._update, this);\n\n\t\treturn container;\n\t},\n\n\tonRemove: function (map) {\n\t\tmap.off(this.options.updateWhenIdle ? 'moveend' : 'move', this._update, this);\n\t},\n\n\t_addScales: function (options, className, container) {\n\t\tif (options.metric) {\n\t\t\tthis._mScale = L.DomUtil.create('div', className, container);\n\t\t}\n\t\tif (options.imperial) {\n\t\t\tthis._iScale = L.DomUtil.create('div', className, container);\n\t\t}\n\t},\n\n\t_update: function () {\n\t\tvar map = this._map,\n\t\t    y = map.getSize().y / 2;\n\n\t\tvar maxMeters = map.distance(\n\t\t\t\tmap.containerPointToLatLng([0, y]),\n\t\t\t\tmap.containerPointToLatLng([this.options.maxWidth, y]));\n\n\t\tthis._updateScales(maxMeters);\n\t},\n\n\t_updateScales: function (maxMeters) {\n\t\tif (this.options.metric && maxMeters) {\n\t\t\tthis._updateMetric(maxMeters);\n\t\t}\n\t\tif (this.options.imperial && maxMeters) {\n\t\t\tthis._updateImperial(maxMeters);\n\t\t}\n\t},\n\n\t_updateMetric: function (maxMeters) {\n\t\tvar meters = this._getRoundNum(maxMeters),\n\t\t    label = meters < 1000 ? meters + ' m' : (meters / 1000) + ' km';\n\n\t\tthis._updateScale(this._mScale, label, meters / maxMeters);\n\t},\n\n\t_updateImperial: function (maxMeters) {\n\t\tvar maxFeet = maxMeters * 3.2808399,\n\t\t    maxMiles, miles, feet;\n\n\t\tif (maxFeet > 5280) {\n\t\t\tmaxMiles = maxFeet / 5280;\n\t\t\tmiles = this._getRoundNum(maxMiles);\n\t\t\tthis._updateScale(this._iScale, miles + ' mi', miles / maxMiles);\n\n\t\t} else {\n\t\t\tfeet = this._getRoundNum(maxFeet);\n\t\t\tthis._updateScale(this._iScale, feet + ' ft', feet / maxFeet);\n\t\t}\n\t},\n\n\t_updateScale: function (scale, text, ratio) {\n\t\tscale.style.width = Math.round(this.options.maxWidth * ratio) + 'px';\n\t\tscale.innerHTML = text;\n\t},\n\n\t_getRoundNum: function (num) {\n\t\tvar pow10 = Math.pow(10, (Math.floor(num) + '').length - 1),\n\t\t    d = num / pow10;\n\n\t\td = d >= 10 ? 10 :\n\t\t    d >= 5 ? 5 :\n\t\t    d >= 3 ? 3 :\n\t\t    d >= 2 ? 2 : 1;\n\n\t\treturn pow10 * d;\n\t}\n});\n\n\n// @factory L.control.scale(options?: Control.Scale options)\n// Creates an scale control with the given options.\nL.control.scale = function (options) {\n\treturn new L.Control.Scale(options);\n};\n\n/*\r\n * @class Control.Layers\r\n * @aka L.Control.Layers\r\n * @inherits Control\r\n *\r\n * The layers control gives users the ability to switch between different base layers and switch overlays on/off (check out the [detailed example](http://leafletjs.com/examples/layers-control.html)). Extends `Control`.\r\n *\r\n * @example\r\n *\r\n * ```js\r\n * var baseLayers = {\r\n * \t\"Mapbox\": mapbox,\r\n * \t\"OpenStreetMap\": osm\r\n * };\r\n *\r\n * var overlays = {\r\n * \t\"Marker\": marker,\r\n * \t\"Roads\": roadsLayer\r\n * };\r\n *\r\n * L.control.layers(baseLayers, overlays).addTo(map);\r\n * ```\r\n *\r\n * The `baseLayers` and `overlays` parameters are object literals with layer names as keys and `Layer` objects as values:\r\n *\r\n * ```js\r\n * {\r\n *     \"<someName1>\": layer1,\r\n *     \"<someName2>\": layer2\r\n * }\r\n * ```\r\n *\r\n * The layer names can contain HTML, which allows you to add additional styling to the items:\r\n *\r\n * ```js\r\n * {\"<img src='my-layer-icon' /> <span class='my-layer-item'>My Layer</span>\": myLayer}\r\n * ```\r\n */\r\n\r\n\r\nL.Control.Layers = L.Control.extend({\r\n\t// @section\r\n\t// @aka Control.Layers options\r\n\toptions: {\r\n\t\t// @option collapsed: Boolean = true\r\n\t\t// If `true`, the control will be collapsed into an icon and expanded on mouse hover or touch.\r\n\t\tcollapsed: true,\r\n\t\tposition: 'topright',\r\n\r\n\t\t// @option autoZIndex: Boolean = true\r\n\t\t// If `true`, the control will assign zIndexes in increasing order to all of its layers so that the order is preserved when switching them on/off.\r\n\t\tautoZIndex: true,\r\n\r\n\t\t// @option hideSingleBase: Boolean = false\r\n\t\t// If `true`, the base layers in the control will be hidden when there is only one.\r\n\t\thideSingleBase: false\r\n\t},\r\n\r\n\tinitialize: function (baseLayers, overlays, options) {\r\n\t\tL.setOptions(this, options);\r\n\r\n\t\tthis._layers = [];\r\n\t\tthis._lastZIndex = 0;\r\n\t\tthis._handlingClick = false;\r\n\r\n\t\tfor (var i in baseLayers) {\r\n\t\t\tthis._addLayer(baseLayers[i], i);\r\n\t\t}\r\n\r\n\t\tfor (i in overlays) {\r\n\t\t\tthis._addLayer(overlays[i], i, true);\r\n\t\t}\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis._initLayout();\r\n\t\tthis._update();\r\n\r\n\t\tthis._map = map;\r\n\t\tmap.on('zoomend', this._checkDisabledLayers, this);\r\n\r\n\t\treturn this._container;\r\n\t},\r\n\r\n\tonRemove: function () {\r\n\t\tthis._map.off('zoomend', this._checkDisabledLayers, this);\r\n\r\n\t\tfor (var i = 0; i < this._layers.length; i++) {\r\n\t\t\tthis._layers[i].layer.off('add remove', this._onLayerChange, this);\r\n\t\t}\r\n\t},\r\n\r\n\t// @method addBaseLayer(layer: Layer, name: String): this\r\n\t// Adds a base layer (radio button entry) with the given name to the control.\r\n\taddBaseLayer: function (layer, name) {\r\n\t\tthis._addLayer(layer, name);\r\n\t\treturn (this._map) ? this._update() : this;\r\n\t},\r\n\r\n\t// @method addOverlay(layer: Layer, name: String): this\r\n\t// Adds an overlay (checkbox entry) with the given name to the control.\r\n\taddOverlay: function (layer, name) {\r\n\t\tthis._addLayer(layer, name, true);\r\n\t\treturn (this._map) ? this._update() : this;\r\n\t},\r\n\r\n\t// @method removeLayer(layer: Layer): this\r\n\t// Remove the given layer from the control.\r\n\tremoveLayer: function (layer) {\r\n\t\tlayer.off('add remove', this._onLayerChange, this);\r\n\r\n\t\tvar obj = this._getLayer(L.stamp(layer));\r\n\t\tif (obj) {\r\n\t\t\tthis._layers.splice(this._layers.indexOf(obj), 1);\r\n\t\t}\r\n\t\treturn (this._map) ? this._update() : this;\r\n\t},\r\n\r\n\t// @method expand(): this\r\n\t// Expand the control container if collapsed.\r\n\texpand: function () {\r\n\t\tL.DomUtil.addClass(this._container, 'leaflet-control-layers-expanded');\r\n\t\tthis._form.style.height = null;\r\n\t\tvar acceptableHeight = this._map.getSize().y - (this._container.offsetTop + 50);\r\n\t\tif (acceptableHeight < this._form.clientHeight) {\r\n\t\t\tL.DomUtil.addClass(this._form, 'leaflet-control-layers-scrollbar');\r\n\t\t\tthis._form.style.height = acceptableHeight + 'px';\r\n\t\t} else {\r\n\t\t\tL.DomUtil.removeClass(this._form, 'leaflet-control-layers-scrollbar');\r\n\t\t}\r\n\t\tthis._checkDisabledLayers();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method collapse(): this\r\n\t// Collapse the control container if expanded.\r\n\tcollapse: function () {\r\n\t\tL.DomUtil.removeClass(this._container, 'leaflet-control-layers-expanded');\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_initLayout: function () {\r\n\t\tvar className = 'leaflet-control-layers',\r\n\t\t    container = this._container = L.DomUtil.create('div', className);\r\n\r\n\t\t// makes this work on IE touch devices by stopping it from firing a mouseout event when the touch is released\r\n\t\tcontainer.setAttribute('aria-haspopup', true);\r\n\r\n\t\tL.DomEvent.disableClickPropagation(container);\r\n\t\tif (!L.Browser.touch) {\r\n\t\t\tL.DomEvent.disableScrollPropagation(container);\r\n\t\t}\r\n\r\n\t\tvar form = this._form = L.DomUtil.create('form', className + '-list');\r\n\r\n\t\tif (this.options.collapsed) {\r\n\t\t\tif (!L.Browser.android) {\r\n\t\t\t\tL.DomEvent.on(container, {\r\n\t\t\t\t\tmouseenter: this.expand,\r\n\t\t\t\t\tmouseleave: this.collapse\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\r\n\t\t\tvar link = this._layersLink = L.DomUtil.create('a', className + '-toggle', container);\r\n\t\t\tlink.href = '#';\r\n\t\t\tlink.title = 'Layers';\r\n\r\n\t\t\tif (L.Browser.touch) {\r\n\t\t\t\tL.DomEvent\r\n\t\t\t\t    .on(link, 'click', L.DomEvent.stop)\r\n\t\t\t\t    .on(link, 'click', this.expand, this);\r\n\t\t\t} else {\r\n\t\t\t\tL.DomEvent.on(link, 'focus', this.expand, this);\r\n\t\t\t}\r\n\r\n\t\t\t// work around for Firefox Android issue https://github.com/Leaflet/Leaflet/issues/2033\r\n\t\t\tL.DomEvent.on(form, 'click', function () {\r\n\t\t\t\tsetTimeout(L.bind(this._onInputClick, this), 0);\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis._map.on('click', this.collapse, this);\r\n\t\t\t// TODO keyboard accessibility\r\n\t\t} else {\r\n\t\t\tthis.expand();\r\n\t\t}\r\n\r\n\t\tthis._baseLayersList = L.DomUtil.create('div', className + '-base', form);\r\n\t\tthis._separator = L.DomUtil.create('div', className + '-separator', form);\r\n\t\tthis._overlaysList = L.DomUtil.create('div', className + '-overlays', form);\r\n\r\n\t\tcontainer.appendChild(form);\r\n\t},\r\n\r\n\t_getLayer: function (id) {\r\n\t\tfor (var i = 0; i < this._layers.length; i++) {\r\n\r\n\t\t\tif (this._layers[i] && L.stamp(this._layers[i].layer) === id) {\r\n\t\t\t\treturn this._layers[i];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_addLayer: function (layer, name, overlay) {\r\n\t\tlayer.on('add remove', this._onLayerChange, this);\r\n\r\n\t\tthis._layers.push({\r\n\t\t\tlayer: layer,\r\n\t\t\tname: name,\r\n\t\t\toverlay: overlay\r\n\t\t});\r\n\r\n\t\tif (this.options.autoZIndex && layer.setZIndex) {\r\n\t\t\tthis._lastZIndex++;\r\n\t\t\tlayer.setZIndex(this._lastZIndex);\r\n\t\t}\r\n\t},\r\n\r\n\t_update: function () {\r\n\t\tif (!this._container) { return this; }\r\n\r\n\t\tL.DomUtil.empty(this._baseLayersList);\r\n\t\tL.DomUtil.empty(this._overlaysList);\r\n\r\n\t\tvar baseLayersPresent, overlaysPresent, i, obj, baseLayersCount = 0;\r\n\r\n\t\tfor (i = 0; i < this._layers.length; i++) {\r\n\t\t\tobj = this._layers[i];\r\n\t\t\tthis._addItem(obj);\r\n\t\t\toverlaysPresent = overlaysPresent || obj.overlay;\r\n\t\t\tbaseLayersPresent = baseLayersPresent || !obj.overlay;\r\n\t\t\tbaseLayersCount += !obj.overlay ? 1 : 0;\r\n\t\t}\r\n\r\n\t\t// Hide base layers section if there's only one layer.\r\n\t\tif (this.options.hideSingleBase) {\r\n\t\t\tbaseLayersPresent = baseLayersPresent && baseLayersCount > 1;\r\n\t\t\tthis._baseLayersList.style.display = baseLayersPresent ? '' : 'none';\r\n\t\t}\r\n\r\n\t\tthis._separator.style.display = overlaysPresent && baseLayersPresent ? '' : 'none';\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_onLayerChange: function (e) {\r\n\t\tif (!this._handlingClick) {\r\n\t\t\tthis._update();\r\n\t\t}\r\n\r\n\t\tvar obj = this._getLayer(L.stamp(e.target));\r\n\r\n\t\t// @namespace Map\r\n\t\t// @section Layer events\r\n\t\t// @event baselayerchange: LayersControlEvent\r\n\t\t// Fired when the base layer is changed through the [layer control](#control-layers).\r\n\t\t// @event overlayadd: LayersControlEvent\r\n\t\t// Fired when an overlay is selected through the [layer control](#control-layers).\r\n\t\t// @event overlayremove: LayersControlEvent\r\n\t\t// Fired when an overlay is deselected through the [layer control](#control-layers).\r\n\t\t// @namespace Control.Layers\r\n\t\tvar type = obj.overlay ?\r\n\t\t\t(e.type === 'add' ? 'overlayadd' : 'overlayremove') :\r\n\t\t\t(e.type === 'add' ? 'baselayerchange' : null);\r\n\r\n\t\tif (type) {\r\n\t\t\tthis._map.fire(type, obj);\r\n\t\t}\r\n\t},\r\n\r\n\t// IE7 bugs out if you create a radio dynamically, so you have to do it this hacky way (see http://bit.ly/PqYLBe)\r\n\t_createRadioElement: function (name, checked) {\r\n\r\n\t\tvar radioHtml = '<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\"' +\r\n\t\t\t\tname + '\"' + (checked ? ' checked=\"checked\"' : '') + '/>';\r\n\r\n\t\tvar radioFragment = document.createElement('div');\r\n\t\tradioFragment.innerHTML = radioHtml;\r\n\r\n\t\treturn radioFragment.firstChild;\r\n\t},\r\n\r\n\t_addItem: function (obj) {\r\n\t\tvar label = document.createElement('label'),\r\n\t\t    checked = this._map.hasLayer(obj.layer),\r\n\t\t    input;\r\n\r\n\t\tif (obj.overlay) {\r\n\t\t\tinput = document.createElement('input');\r\n\t\t\tinput.type = 'checkbox';\r\n\t\t\tinput.className = 'leaflet-control-layers-selector';\r\n\t\t\tinput.defaultChecked = checked;\r\n\t\t} else {\r\n\t\t\tinput = this._createRadioElement('leaflet-base-layers', checked);\r\n\t\t}\r\n\r\n\t\tinput.layerId = L.stamp(obj.layer);\r\n\r\n\t\tL.DomEvent.on(input, 'click', this._onInputClick, this);\r\n\r\n\t\tvar name = document.createElement('span');\r\n\t\tname.innerHTML = ' ' + obj.name;\r\n\r\n\t\t// Helps from preventing layer control flicker when checkboxes are disabled\r\n\t\t// https://github.com/Leaflet/Leaflet/issues/2771\r\n\t\tvar holder = document.createElement('div');\r\n\r\n\t\tlabel.appendChild(holder);\r\n\t\tholder.appendChild(input);\r\n\t\tholder.appendChild(name);\r\n\r\n\t\tvar container = obj.overlay ? this._overlaysList : this._baseLayersList;\r\n\t\tcontainer.appendChild(label);\r\n\r\n\t\tthis._checkDisabledLayers();\r\n\t\treturn label;\r\n\t},\r\n\r\n\t_onInputClick: function () {\r\n\t\tvar inputs = this._form.getElementsByTagName('input'),\r\n\t\t    input, layer, hasLayer;\r\n\t\tvar addedLayers = [],\r\n\t\t    removedLayers = [];\r\n\r\n\t\tthis._handlingClick = true;\r\n\r\n\t\tfor (var i = inputs.length - 1; i >= 0; i--) {\r\n\t\t\tinput = inputs[i];\r\n\t\t\tlayer = this._getLayer(input.layerId).layer;\r\n\t\t\thasLayer = this._map.hasLayer(layer);\r\n\r\n\t\t\tif (input.checked && !hasLayer) {\r\n\t\t\t\taddedLayers.push(layer);\r\n\r\n\t\t\t} else if (!input.checked && hasLayer) {\r\n\t\t\t\tremovedLayers.push(layer);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Bugfix issue 2318: Should remove all old layers before readding new ones\r\n\t\tfor (i = 0; i < removedLayers.length; i++) {\r\n\t\t\tthis._map.removeLayer(removedLayers[i]);\r\n\t\t}\r\n\t\tfor (i = 0; i < addedLayers.length; i++) {\r\n\t\t\tthis._map.addLayer(addedLayers[i]);\r\n\t\t}\r\n\r\n\t\tthis._handlingClick = false;\r\n\r\n\t\tthis._refocusOnMap();\r\n\t},\r\n\r\n\t_checkDisabledLayers: function () {\r\n\t\tvar inputs = this._form.getElementsByTagName('input'),\r\n\t\t    input,\r\n\t\t    layer,\r\n\t\t    zoom = this._map.getZoom();\r\n\r\n\t\tfor (var i = inputs.length - 1; i >= 0; i--) {\r\n\t\t\tinput = inputs[i];\r\n\t\t\tlayer = this._getLayer(input.layerId).layer;\r\n\t\t\tinput.disabled = (layer.options.minZoom !== undefined && zoom < layer.options.minZoom) ||\r\n\t\t\t                 (layer.options.maxZoom !== undefined && zoom > layer.options.maxZoom);\r\n\r\n\t\t}\r\n\t},\r\n\r\n\t_expand: function () {\r\n\t\t// Backward compatibility, remove me in 1.1.\r\n\t\treturn this.expand();\r\n\t},\r\n\r\n\t_collapse: function () {\r\n\t\t// Backward compatibility, remove me in 1.1.\r\n\t\treturn this.collapse();\r\n\t}\r\n\r\n});\r\n\r\n\r\n// @factory L.control.layers(baselayers?: Object, overlays?: Object, options?: Control.Layers options)\r\n// Creates an attribution control with the given layers. Base layers will be switched with radio buttons, while overlays will be switched with checkboxes. Note that all base layers should be passed in the base layers object, but only one should be added to the map during map instantiation.\r\nL.control.layers = function (baseLayers, overlays, options) {\r\n\treturn new L.Control.Layers(baseLayers, overlays, options);\r\n};\r\n\n/*\r\n * Provides L.Map with convenient shortcuts for using browser geolocation features.\r\n */\r\n\r\n// @namespace Map\r\n\r\nL.Map.include({\r\n\t// @section Geolocation methods\r\n\t_defaultLocateOptions: {\r\n\t\ttimeout: 10000,\r\n\t\twatch: false\r\n\t\t// setView: false\r\n\t\t// maxZoom: <Number>\r\n\t\t// maximumAge: 0\r\n\t\t// enableHighAccuracy: false\r\n\t},\r\n\r\n\t// @method locate(options?: Locate options): this\r\n\t// Tries to locate the user using the Geolocation API, firing a [`locationfound`](#map-locationfound)\r\n\t// event with location data on success or a [`locationerror`](#map-locationerror) event on failure,\r\n\t// and optionally sets the map view to the user's location with respect to\r\n\t// detection accuracy (or to the world view if geolocation failed).\r\n\t// Note that, if your page doesn't use HTTPS, this method will fail in\r\n\t// modern browsers ([Chrome 50 and newer](https://sites.google.com/a/chromium.org/dev/Home/chromium-security/deprecating-powerful-features-on-insecure-origins))\r\n\t// See `Locate options` for more details.\r\n\tlocate: function (options) {\r\n\r\n\t\toptions = this._locateOptions = L.extend({}, this._defaultLocateOptions, options);\r\n\r\n\t\tif (!('geolocation' in navigator)) {\r\n\t\t\tthis._handleGeolocationError({\r\n\t\t\t\tcode: 0,\r\n\t\t\t\tmessage: 'Geolocation not supported.'\r\n\t\t\t});\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar onResponse = L.bind(this._handleGeolocationResponse, this),\r\n\t\t    onError = L.bind(this._handleGeolocationError, this);\r\n\r\n\t\tif (options.watch) {\r\n\t\t\tthis._locationWatchId =\r\n\t\t\t        navigator.geolocation.watchPosition(onResponse, onError, options);\r\n\t\t} else {\r\n\t\t\tnavigator.geolocation.getCurrentPosition(onResponse, onError, options);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// @method stopLocate(): this\r\n\t// Stops watching location previously initiated by `map.locate({watch: true})`\r\n\t// and aborts resetting the map view if map.locate was called with\r\n\t// `{setView: true}`.\r\n\tstopLocate: function () {\r\n\t\tif (navigator.geolocation && navigator.geolocation.clearWatch) {\r\n\t\t\tnavigator.geolocation.clearWatch(this._locationWatchId);\r\n\t\t}\r\n\t\tif (this._locateOptions) {\r\n\t\t\tthis._locateOptions.setView = false;\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_handleGeolocationError: function (error) {\r\n\t\tvar c = error.code,\r\n\t\t    message = error.message ||\r\n\t\t            (c === 1 ? 'permission denied' :\r\n\t\t            (c === 2 ? 'position unavailable' : 'timeout'));\r\n\r\n\t\tif (this._locateOptions.setView && !this._loaded) {\r\n\t\t\tthis.fitWorld();\r\n\t\t}\r\n\r\n\t\t// @section Location events\r\n\t\t// @event locationerror: ErrorEvent\r\n\t\t// Fired when geolocation (using the [`locate`](#map-locate) method) failed.\r\n\t\tthis.fire('locationerror', {\r\n\t\t\tcode: c,\r\n\t\t\tmessage: 'Geolocation error: ' + message + '.'\r\n\t\t});\r\n\t},\r\n\r\n\t_handleGeolocationResponse: function (pos) {\r\n\t\tvar lat = pos.coords.latitude,\r\n\t\t    lng = pos.coords.longitude,\r\n\t\t    latlng = new L.LatLng(lat, lng),\r\n\t\t    bounds = latlng.toBounds(pos.coords.accuracy),\r\n\t\t    options = this._locateOptions;\r\n\r\n\t\tif (options.setView) {\r\n\t\t\tvar zoom = this.getBoundsZoom(bounds);\r\n\t\t\tthis.setView(latlng, options.maxZoom ? Math.min(zoom, options.maxZoom) : zoom);\r\n\t\t}\r\n\r\n\t\tvar data = {\r\n\t\t\tlatlng: latlng,\r\n\t\t\tbounds: bounds,\r\n\t\t\ttimestamp: pos.timestamp\r\n\t\t};\r\n\r\n\t\tfor (var i in pos.coords) {\r\n\t\t\tif (typeof pos.coords[i] === 'number') {\r\n\t\t\t\tdata[i] = pos.coords[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// @event locationfound: LocationEvent\r\n\t\t// Fired when geolocation (using the [`locate`](#map-locate) method)\r\n\t\t// went successfully.\r\n\t\tthis.fire('locationfound', data);\r\n\t}\r\n});\r\n\n},{}],8:[function(_dereq_,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],9:[function(_dereq_,module,exports){\n(function(window, undefined) {\n    'use strict';\n\n    if (!window) return; // Server side\n\nvar\n    _baron = window.baron, // Stored baron value for noConflict usage\n    $ = window.jQuery, // Trying to use jQuery\n    origin = {\n        v: { // Vertical\n            x: 'Y', pos: 'top', crossPos: 'left', size: 'height', crossSize: 'width',\n            client: 'clientHeight', crossClient: 'clientWidth', offset: 'offsetHeight', crossOffset: 'offsetWidth', offsetPos: 'offsetTop',\n            scroll: 'scrollTop', scrollSize: 'scrollHeight'\n        },\n        h: { // Horizontal\n            x: 'X', pos: 'left', crossPos: 'top', size: 'width', crossSize: 'height',\n            client: 'clientWidth', crossClient: 'clientHeight', offset: 'offsetWidth', crossOffset: 'offsetHeight', offsetPos: 'offsetLeft',\n            scroll: 'scrollLeft', scrollSize: 'scrollWidth'\n        }\n    },\n\n    each = function(obj, iterator) {\n        var i = 0;\n\n        if (obj.length === undefined || obj === window) obj = [obj];\n\n        while (obj[i]) {\n            iterator.call(this, obj[i], i);\n            i++;\n        }\n    },\n\n    baron = function(params) { // this - window or jQuery instance\n        var jQueryMode = false,//(this && this[0] && this[0].nodeType),\n            roots,\n            $;\n\n        params = params || {};\n        $ = params.$ || window.jQuery;\n\n        if (jQueryMode) {\n            params.root = roots = this;\n        } else {\n            roots = $(params.root || params.scroller);\n        }\n\n        return new baron.fn.constructor(roots, params, $);\n    };\n\n    baron.fn = {\n        constructor: function(roots, input, $) {\n            var params = validate(input);\n\n            params.$ = $;\n            each.call(this, roots, function(root, i) {\n                var localParams = clone(params);\n\n                if (params.root && params.scroller) {\n                    localParams.scroller = params.$(params.scroller, root);\n                    if (!localParams.scroller.length) {\n                        localParams.scroller = root;\n                    }\n                } else {\n                    localParams.scroller = root;\n                }\n\n                localParams.root = root;\n                this[i] = init(localParams);\n                this.length = i + 1;\n            });\n\n            this.params = params;\n        },\n\n        dispose: function() {\n            var params = this.params;\n\n            each(this, function(item) {\n                item.dispose(params);\n            });\n            this.params = null;\n        },\n\n        update: function() {\n            var i = 0;\n\n            while (this[i]) {\n                this[i].update.apply(this[i], arguments);\n                i++;\n            }\n        },\n\n        baron: function(params) {\n            params.root = [];\n            params.scroller = this.params.scroller;\n\n            each.call(this, this, function(elem) {\n                params.root.push(elem.root);\n            });\n            params.direction = (this.params.direction == 'v') ? 'h' : 'v';\n            params._chain = true;\n\n            return baron(params);\n        }\n    };\n\n    function manageEvents(item, eventManager, mode) {\n        item._eventHandlers = item._eventHandlers || [ // Creating new functions for one baron item only one time\n            {\n                // onScroll:\n                element: item.scroller,\n\n                handler: function(e) {\n                    item.scroll(e);\n                },\n\n                type: 'scroll'\n            }, {\n                // onMouseDown:\n                element: item.bar,\n\n                handler: function(e) {\n                    e.preventDefault ? e.preventDefault() : e.returnValue = false; // Text selection disabling in Opera... and all other browsers?\n                    item.selection(); // Disable text selection in ie8\n                    item.drag.now = 1; // Save private byte\n                },\n\n                type: 'touchstart mousedown'\n            }, {\n                // onMouseUp:\n                element: document,\n\n                handler: function() {\n                    item.selection(1); // Enable text selection\n                    item.drag.now = 0;\n                },\n\n                type: 'mouseup blur touchend'\n            }, {\n                // onCoordinateReset:\n                element: item.bar,\n\n                handler: function(e) {\n                    if (e.button != 2) { // Not RM\n                        item._pos0(e);\n                    }\n                },\n\n                type: 'touchstart mousedown'\n            }, {\n                // onMouseMove:\n                element: document,\n\n                handler: function(e) {\n                    if (item.drag.now) {\n                        item.drag(e);\n                    }\n                },\n\n                type: 'mousemove touchmove'\n            }, {\n                // onResize:\n                element: window,\n\n                handler: function() {\n                    item.update();\n                },\n\n                type: 'resize'\n            }, {\n                // sizeChange:\n                element: item.root,\n\n                handler: function() {\n                    item.update();\n                },\n\n                type: 'sizeChange'\n            }\n        ];\n\n        each(item._eventHandlers, function(event) {\n            if (event.element) {\n                eventManager(event.element, event.type, event.handler, mode);\n            }\n        });\n\n        // if (item.scroller) {\n        //     event(item.scroller, 'scroll', item._eventHandlers.onScroll, mode);\n        // }\n        // if (item.bar) {\n        //     event(item.bar, 'touchstart mousedown', item._eventHandlers.onMouseDown, mode);\n        // }\n        // event(document, 'mouseup blur touchend', item._eventHandlers.onMouseUp, mode);\n        // event(document, 'touchstart mousedown', item._eventHandlers.onCoordinateReset, mode);\n        // event(document, 'mousemove touchmove', item._eventHandlers.onMouseMove, mode);\n        // event(window, 'resize', item._eventHandlers.onResize, mode);\n        // if (item.root) {\n        //     event(item.root, 'sizeChange', item._eventHandlers.onResize, mode); // Custon event for alternate baron update mechanism\n        // }\n    }\n\n    function manageAttr(node, direction, mode) {\n        var attrName = 'data-baron-' + direction;\n\n        if (mode == 'on') {\n            node.setAttribute(attrName, 'inited');\n        } else if (mode == 'off') {\n            node.removeAttribute(attrName);\n        } else {\n            return node.getAttribute(attrName);\n        }\n    }\n\n    function init(params) {\n        if (manageAttr(params.root, params.direction)) return;\n\n        var out = new item.prototype.constructor(params); // __proto__ of returning object is baron.prototype\n\n        manageEvents(out, params.event, 'on');\n\n        manageAttr(out.root, params.direction, 'on');\n\n        out.update();\n\n        return out;\n    }\n\n    function clone(input) {\n        var output = {};\n\n        input = input || {};\n\n        for (var key in input) {\n            if (input.hasOwnProperty(key)) {\n                output[key] = input[key];\n            }\n        }\n\n        return output;\n    }\n\n    function validate(input) {\n        var output = clone(input);\n\n        output.direction = output.direction || 'v';\n\n        var event = input.event || function(elem, event, func, mode) {\n            output.$(elem)[mode || 'on'](event, func);\n        };\n\n        output.event = function(elems, e, func, mode) {\n            each(elems, function(elem) {\n                event(elem, e, func, mode);\n            });\n        };\n\n        return output;\n    }\n\n    function fire(eventName) {\n        /* jshint validthis:true */\n        if (this.events && this.events[eventName]) {\n            for (var i = 0 ; i < this.events[eventName].length ; i++) {\n                var args = Array.prototype.slice.call( arguments, 1 );\n\n                this.events[eventName][i].apply(this, args);\n            }\n        }\n    }\n\n    var item = {};\n\n    item.prototype = {\n        constructor: function(params) {\n            var $,\n                barPos,\n                scrollerPos0,\n                track,\n                resizePauseTimer,\n                scrollPauseTimer,\n                pause,\n                scrollLastFire,\n                resizeLastFire;\n\n            resizeLastFire = scrollLastFire = new Date().getTime();\n\n            $ = this.$ = params.$;\n            this.event = params.event;\n            this.events = {};\n\n            function getNode(sel, context) {\n                return $(sel, context)[0]; // Can be undefined\n            }\n\n            // DOM elements\n            this.root = params.root; // Always html node, not just selector\n            this.scroller = getNode(params.scroller); // (params.scroller) ? getNode(params.scroller, this.root) : this.root;\n            this.bar = getNode(params.bar, this.root);\n            track = this.track = getNode(params.track, this.root);\n            if (!this.track && this.bar) {\n                track = this.bar.parentNode;\n            }\n            this.clipper = this.scroller.parentNode;\n\n            // Parameters\n            this.direction = params.direction;\n            this.origin = origin[this.direction];\n            this.barOnCls = params.barOnCls;\n            this.barTopLimit = 0;\n            pause = params.pause * 1000 || 0;\n\n            // Updating height or width of bar\n            function setBarSize(size) {\n                /* jshint validthis:true */\n                var barMinSize = this.barMinSize || 20;\n\n                if (size > 0 && size < barMinSize) {\n                    size = barMinSize;\n                }\n\n                if (this.bar) {\n                    $(this.bar).css(this.origin.size, parseInt(size, 10) + 'px');\n                }\n            }\n\n            // Updating top or left bar position\n            function posBar(pos) {\n                /* jshint validthis:true */\n                if (this.bar) {\n                    $(this.bar).css(this.origin.pos, +pos + 'px');\n                }\n            }\n\n            // Free path for bar\n            function k() {\n                /* jshint validthis:true */\n                return track[this.origin.client] - this.barTopLimit - this.bar[this.origin.offset];\n            }\n\n            // Relative content top position to bar top position\n            function relToPos(r) {\n                /* jshint validthis:true */\n                return r * k.call(this) + this.barTopLimit;\n            }\n\n            // Bar position to relative content position\n            function posToRel(t) {\n                /* jshint validthis:true */\n                return (t - this.barTopLimit) / k.call(this);\n            }\n\n            // Cursor position in main direction in px // Now with iOs support\n            this.cursor = function(e) {\n                return e['client' + this.origin.x] || (((e.originalEvent || e).touches || {})[0] || {})['page' + this.origin.x];\n            };\n\n            // Text selection pos preventing\n            function dontPosSelect() {\n                return false;\n            }\n\n            this.pos = function(x) { // Absolute scroller position in px\n                var ie = 'page' + this.origin.x + 'Offset',\n                    key = (this.scroller[ie]) ? ie : this.origin.scroll;\n\n                if (x !== undefined) this.scroller[key] = x;\n\n                return this.scroller[key];\n            };\n\n            this.rpos = function(r) { // Relative scroller position (0..1)\n                var free = this.scroller[this.origin.scrollSize] - this.scroller[this.origin.client],\n                    x;\n\n                if (r) x = this.pos(r * free);\n                else x = this.pos();\n\n                return x / (free || 1);\n            };\n\n            // Switch on the bar by adding user-defined CSS classname to scroller\n            this.barOn = function(dispose) {\n                if (this.barOnCls) {\n                    if (dispose || this.scroller[this.origin.client] >= this.scroller[this.origin.scrollSize]) {\n                        $(this.root).removeClass(this.barOnCls);\n                    } else {\n                        $(this.root).addClass(this.barOnCls);\n                    }\n                }\n            };\n\n            this._pos0 = function(e) {\n                scrollerPos0 = this.cursor(e) - barPos;\n            };\n\n            this.drag = function(e) {\n                this.scroller[this.origin.scroll] = posToRel.call(this, this.cursor(e) - scrollerPos0) * (this.scroller[this.origin.scrollSize] - this.scroller[this.origin.client]);\n            };\n\n            // Text selection preventing on drag\n            this.selection = function(enable) {\n                this.event(document, 'selectpos selectstart', dontPosSelect, enable ? 'off' : 'on');\n            };\n\n            // onResize & DOM modified handler\n            this.resize = function() {\n                var self = this,\n                    delay = 0;\n\n                if (new Date().getTime() - resizeLastFire < pause) {\n                    clearTimeout(resizePauseTimer);\n                    delay = pause;\n                }\n\n                function upd() {\n                    var delta = self.scroller[self.origin.crossOffset] - self.scroller[self.origin.crossClient];\n\n                    if (params.freeze && !self.clipper.style[self.origin.crossSize]) { // Sould fire only once\n                        $(self.clipper).css(self.origin.crossSize, self.clipper[self.origin.crossClient] - delta + 'px');\n                    }\n                    $(self.scroller).css(self.origin.crossSize, self.clipper[self.origin.crossClient] + delta + 'px');\n\n                    Array.prototype.unshift.call(arguments, 'resize');\n                    fire.apply(self, arguments);\n\n                    resizeLastFire = new Date().getTime();\n                }\n\n                if (delay) {\n                    resizePauseTimer = setTimeout(upd, delay);\n                } else {\n                    upd();\n                }\n            };\n\n            // onScroll handler\n            this.scroll = function() {\n                var oldBarSize, newBarSize,\n                    delay = 0,\n                    self = this;\n\n                if (new Date().getTime() - scrollLastFire < pause) {\n                    clearTimeout(scrollPauseTimer);\n                    delay = pause;\n                }\n\n                function upd() {\n                    if (self.bar) {\n                        newBarSize = (track[self.origin.client] - self.barTopLimit) * self.scroller[self.origin.client] / self.scroller[self.origin.scrollSize];\n\n                        // Positioning bar\n                        if (oldBarSize != newBarSize) {\n                            setBarSize.call(self, newBarSize);\n                            oldBarSize = newBarSize;\n                        }\n\n                        barPos = relToPos.call(self, self.rpos());\n\n                        posBar.call(self, barPos);\n                    }\n\n                    Array.prototype.unshift.call( arguments, 'scroll' );\n                    fire.apply(self, arguments);\n\n                    scrollLastFire = new Date().getTime();\n                }\n\n                if (delay) {\n                    scrollPauseTimer = setTimeout(upd, delay);\n                } else {\n                    upd();\n                }\n\n            };\n\n            return this;\n        },\n\n        update: function(params) {\n            fire.call(this, 'upd', params); // Обновляем параметры всех плагинов\n\n            this.resize(1);\n            this.barOn();\n            this.scroll();\n\n            return this;\n        },\n\n        dispose: function(params) {\n            manageEvents(this, this.event, 'off');\n            manageAttr(this.root, params.direction, 'off');\n            $(this.scroller).css(this.origin.crossSize, '');\n            this.barOn(true);\n            fire.call(this, 'dispose');\n        },\n\n        on: function(eventName, func, arg) {\n            var names = eventName.split(' ');\n\n            for (var i = 0 ; i < names.length ; i++) {\n                if (names[i] == 'init') {\n                    func.call(this, arg);\n                } else {\n                    this.events[names[i]] = this.events[names[i]] || [];\n\n                    this.events[names[i]].push(function(userArg) {\n                        func.call(this, userArg || arg);\n                    });\n                }\n            }\n        }\n    };\n\n    baron.fn.constructor.prototype = baron.fn;\n    item.prototype.constructor.prototype = item.prototype;\n\n    // Use when you need \"baron\" global var for another purposes\n    baron.noConflict = function() {\n        window.baron = _baron; // Restoring original value of \"baron\" global var\n        return baron;\n    };\n\n    baron.version = '0.6.6';\n\n    if ($ && $.fn) { // Adding baron to jQuery as plugin\n        $.fn.baron = baron;\n    }\n    window.baron = baron; // Use noConflict method if you need window.baron var for another purposes\n\n    var fix = function(userParams) {\n        var elements, viewPortSize,\n            params = { // Default params\n                outside: '',\n                before: '',\n                after: '',\n                past: '',\n                future: '',\n                radius: 0,\n                minView: 0\n            },\n            topFixHeights = [], // inline style for element\n            topRealHeights = [], // real offset position when not fixed\n            headerTops = [],\n            scroller = this.scroller,\n            eventManager = this.event,\n            $ = this.$,\n            self = this;\n\n        function fixElement(i, pos) {\n            if (viewPortSize < (params.minView || 0)) { // No headers fixing when no enought space for viewport\n                pos = undefined;\n            }\n\n            if (pos !== undefined) {\n                pos += 'px';\n                this.$(elements[i]).css(this.origin.pos, pos).addClass(params.outside);\n            } else {\n                this.$(elements[i]).css(this.origin.pos, '').removeClass(params.outside);\n            }\n        }\n\n        function bubbleWheel(e) {\n            try {\n                i = document.createEvent('WheelEvent'); // i - for extra byte\n                // evt.initWebKitWheelEvent(deltaX, deltaY, window, screenX, screenY, clientX, clientY, ctrlKey, altKey, shiftKey, metaKey);\n                i.initWebKitWheelEvent(e.originalEvent.wheelDeltaX, e.originalEvent.wheelDeltaY);\n                scroller.dispatchEvent(i);\n                e.preventDefault();\n            } catch (e) {}\n        }\n\n        function init(_params) {\n            var pos;\n\n            for (var key in _params) {\n                params[key] = _params[key];\n            }\n\n            elements = this.$(params.elements, this.scroller);\n\n            if (elements) {\n                viewPortSize = this.scroller[this.origin.client];\n                for (var i = 0 ; i < elements.length ; i++) {\n                    // Variable header heights\n                    pos = {};\n                    pos[this.origin.size] = elements[i][this.origin.offset];\n                    if (elements[i].parentNode !== this.scroller) {\n                        this.$(elements[i].parentNode).css(pos);\n                    }\n                    pos = {};\n                    pos[this.origin.crossSize] = elements[i].parentNode[this.origin.crossClient];\n                    this.$(elements[i]).css(pos);\n\n                    // Between fixed headers\n                    viewPortSize -= elements[i][this.origin.offset];\n\n                    headerTops[i] = elements[i].parentNode[this.origin.offsetPos]; // No paddings for parentNode\n\n                    // Summary elements height above current\n                    topFixHeights[i] = (topFixHeights[i - 1] || 0); // Not zero because of negative margins\n                    topRealHeights[i] = (topRealHeights[i - 1] || Math.min(headerTops[i], 0));\n\n                    if (elements[i - 1]) {\n                        topFixHeights[i] += elements[i - 1][this.origin.offset];\n                        topRealHeights[i] += elements[i - 1][this.origin.offset];\n                    }\n\n                    if ( !(i == 0 && headerTops[i] == 0)/* && force */) {\n                        this.event(elements[i], 'mousewheel', bubbleWheel, 'off');\n                        this.event(elements[i], 'mousewheel', bubbleWheel);\n                    }\n                }\n\n                if (params.limiter && elements[0]) { // Bottom edge of first header as top limit for track\n                    if (this.track && this.track != this.scroller) {\n                        pos = {};\n                        pos[this.origin.pos] = elements[0].parentNode[this.origin.offset];\n                        this.$(this.track).css(pos);\n                    } else {\n                        this.barTopLimit = elements[0].parentNode[this.origin.offset];\n                    }\n                    // this.barTopLimit = elements[0].parentNode[this.origin.offset];\n                    this.scroll();\n                }\n\n                if (params.limiter === false) { // undefined (in second fix instance) should have no influence on bar limit\n                    this.barTopLimit = 0;\n                }\n            }\n\n            var event = {\n                element: elements,\n\n                handler: function() {\n                    var parent = $(this)[0].parentNode,\n                        top = parent.offsetTop,\n                        num;\n\n                    // finding num -> elements[num] === this\n                    for (var i = 0 ; i < elements.length ; i++ ) {\n                        if (elements[i] === this) num = i;\n                    }\n\n                    var pos = top - topFixHeights[num];\n\n                    if (params.scroll) { // User defined callback\n                        params.scroll({\n                            x1: self.scroller.scrollTop,\n                            x2: pos\n                        });\n                    } else {\n                        self.scroller.scrollTop = pos;\n                    }\n                },\n\n                type: 'click'\n            };\n\n            if (params.clickable) {\n                this._eventHandlers.push(event); // For auto-dispose\n                eventManager(event.element, event.type, event.handler, 'off');\n                eventManager(event.element, event.type, event.handler, 'on');\n            }\n        }\n\n        this.on('init', init, userParams);\n\n        this.on('init scroll', function() {\n            var fixState, hTop,\n                fixFlag = []; // 1 - past, 2 - future, 3 - current (not fixed)\n\n            if (elements) {\n                var change;\n\n                // fixFlag update\n                for (var i = 0 ; i < elements.length ; i++) {\n                    fixState = 0;\n                    if (headerTops[i] - this.pos() < topRealHeights[i] + params.radius) {\n                        // Header trying to go up\n                        fixState = 1;\n                        hTop = topFixHeights[i];\n                    } else if (headerTops[i] - this.pos() > topRealHeights[i] + viewPortSize - params.radius) {\n                        // Header trying to go down\n                        fixState = 2;\n                        hTop = topFixHeights[i] + viewPortSize;\n                    } else {\n                        // Header in viewport\n                        fixState = 3;\n                        hTop = undefined;\n                    }\n                    if (fixState != fixFlag[i]) {\n                        fixElement.call(this, i, hTop);\n                        fixFlag[i] = fixState;\n                        change = true;\n                    }\n                }\n\n                // Adding positioning classes (on last top and first bottom header)\n                if (change) { // At leats one change in elements flag structure occured\n                    for (i = 0 ; i < elements.length ; i++) {\n                        if (fixFlag[i] == 1 && params.past) {\n                            this.$(elements[i]).addClass(params.past).removeClass(params.future);\n                        }\n\n                        if (fixFlag[i] == 2 && params.future) {\n                            this.$(elements[i]).addClass(params.future).removeClass(params.past);\n                        }\n\n                        if (fixFlag[i] == 3 && (params.future || params.past)) {\n                            this.$(elements[i]).removeClass(params.past).removeClass(params.future);\n                        }\n\n                        if (fixFlag[i] != fixFlag[i + 1] && fixFlag[i] == 1 && params.before) {\n                            this.$(elements[i]).addClass(params.before).removeClass(params.after); // Last top fixed header\n                        } else if (fixFlag[i] != fixFlag[i - 1] && fixFlag[i] == 2 && params.after) {\n                            this.$(elements[i]).addClass(params.after).removeClass(params.before); // First bottom fixed header\n                        } else {\n                            this.$(elements[i]).removeClass(params.before).removeClass(params.after);\n                        }\n                    }\n                }\n            }\n        });\n\n        this.on('resize upd', function(updParams) {\n            init.call(this, updParams && updParams.fix);\n        });\n    };\n\n    baron.fn.fix = function(params) {\n        var i = 0;\n\n        while (this[i]) {\n            fix.call(this[i], params);\n            i++;\n        }\n\n        return this;\n    };\n\n    var controls = function(params) {\n        var forward, backward, track, screen,\n            self = this; // AAAAAA!!!!!11\n\n        screen = params.screen || 0.9;\n\n        if (params.forward) {\n            forward = this.$(params.forward, this.clipper);\n\n            this.event(forward, 'click', function() {\n                var y = self.pos() - params.delta || 30;\n\n                self.pos(y);\n            });\n        }\n\n        if (params.backward) {\n            backward = this.$(params.backward, this.clipper);\n\n            this.event(backward, 'click', function() {\n                var y = self.pos() + params.delta || 30;\n\n                self.pos(y);\n            });\n        }\n\n        if (params.track) {\n            if (params.track === true) {\n                track = this.track;\n            } else {\n                track = this.$(params.track, this.clipper)[0];\n            }\n\n            if (track) {\n                this.event(track, 'mousedown', function(e) {\n                    var x = e['offset' + self.origin.x],\n                        xBar = self.bar[self.origin.offsetPos],\n                        sign = 0;\n\n                    if (x < xBar) {\n                        sign = -1;\n                    } else if (x > xBar + self.bar[self.origin.offset]) {\n                        sign = 1;\n                    }\n\n                    var y = self.pos() + sign * screen * self.scroller[self.origin.client];\n                    self.pos(y);\n                });\n            }\n        }\n\n    };\n\n    baron.fn.controls = function(params) {\n        var i = 0;\n\n        while (this[i]) {\n            controls.call(this[i], params);\n            i++;\n        }\n\n        return this;\n    };\n\n    var pull = function(params) {\n        var block = this.$(params.block),\n            size = params.size || this.origin.size,\n            limit = params.limit || 80,\n            onExpand = params.onExpand,\n            elements = params.elements || [],\n            inProgress = params.inProgress || '',\n            self = this,\n            _insistence = 0,\n            _zeroXCount = 0,\n            _interval,\n            _timer,\n            _x = 0,\n            _onExpandCalled,\n            _waiting = params.waiting || 500,\n            _on;\n\n        function getSize() {\n            return self.scroller[self.origin.scroll] + self.scroller[self.origin.offset];\n        }\n\n        // Scroller content height\n        function getContentSize() {\n            return self.scroller[self.origin.scrollSize];\n        }\n\n        // Scroller height\n        function getScrollerSize() {\n            return self.scroller[self.origin.client];\n        }\n\n        function step(x, force) {\n            var k = x * 0.0005;\n\n            return Math.floor(force - k * (x + 550));\n        }\n\n        function toggle(on) {\n            _on = on;\n\n            if (on) {\n                update(); // First time with no delay\n                _interval = setInterval(update, 200);\n            } else {\n                clearInterval(_interval);\n            }\n        }\n\n        function update() {\n            var pos = {},\n                height = getSize(),\n                scrollHeight = getContentSize(),\n                dx,\n                op4,\n                scrollInProgress = _insistence == 1;\n\n            op4 = 0; // Возвращающая сила\n            if (_insistence > 0) {\n                op4 = 40;\n            }\n            //if (_insistence > -1) {\n                dx = step(_x, op4);\n                if (height >= scrollHeight - _x && _insistence > -1) {\n                    if (scrollInProgress) {\n                        _x += dx;\n                    }\n                } else {\n                    _x = 0;\n                }\n\n                if (_x < 0) _x = 0;\n\n                pos[size] = _x + 'px';\n                if (getScrollerSize() <= getContentSize()) {\n                    self.$(block).css(pos);\n                    for (var i = 0 ; i < elements.length ; i++) {\n                        self.$(elements[i].self).css(elements[i].property, Math.min(_x / limit * 100, 100) + '%');\n                    }\n                }\n\n                if (inProgress && _x) {\n                    self.$(self.root).addClass(inProgress);\n                }\n\n                if (_x == 0) {\n                    if (params.onCollapse) {\n                        params.onCollapse();\n                    }\n                }\n\n                _insistence = 0;\n                _timer = setTimeout(function() {\n                    _insistence = -1;\n                }, _waiting);\n            //}\n\n            if (onExpand && _x > limit && !_onExpandCalled) {\n                onExpand();\n                _onExpandCalled = true;\n            }\n\n            if (_x == 0) {\n                _zeroXCount++;\n            } else {\n                _zeroXCount = 0;\n\n            }\n            if (_zeroXCount > 1) {\n                toggle(false);\n                _onExpandCalled = false;\n                if (inProgress) {\n                    self.$(self.root).removeClass(inProgress);\n                }\n            }\n        }\n\n        this.on('init', function() {\n            toggle(true);\n        });\n\n        this.on('dispose', function() {\n            toggle(false);\n        });\n\n        this.event(this.scroller, 'mousewheel DOMMouseScroll', function(e) {\n            var down = e.wheelDelta < 0 || (e.originalEvent && e.originalEvent.wheelDelta < 0) || e.detail > 0;\n\n            if (down) {\n                _insistence = 1;\n                clearTimeout(_timer);\n                if (!_on && getSize() >= getContentSize()) {\n                    toggle(true);\n                }\n            }\n            //  else {\n            //     toggle(false);\n            // }\n        });\n    };\n\n    baron.fn.pull = function(params) {\n        var i = 0;\n\n        while (this[i]) {\n            pull.call(this[i], params);\n            i++;\n        }\n\n        return this;\n    };\n})(window);\n\n},{}]},{},[2])(2)\n});\n","import { extend, isArray, isMap, isIntegerKey, hasOwn, isSymbol, isObject, hasChanged, makeMap, capitalize, toRawType, def, isFunction, NOOP } from '@vue/shared';\n\nfunction warn(msg, ...args) {\r\n    console.warn(`[Vue warn] ${msg}`, ...args);\r\n}\n\nlet activeEffectScope;\r\nclass EffectScope {\r\n    constructor(detached = false) {\r\n        /**\r\n         * @internal\r\n         */\r\n        this.active = true;\r\n        /**\r\n         * @internal\r\n         */\r\n        this.effects = [];\r\n        /**\r\n         * @internal\r\n         */\r\n        this.cleanups = [];\r\n        if (!detached && activeEffectScope) {\r\n            this.parent = activeEffectScope;\r\n            this.index =\r\n                (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(this) - 1;\r\n        }\r\n    }\r\n    run(fn) {\r\n        if (this.active) {\r\n            const currentEffectScope = activeEffectScope;\r\n            try {\r\n                activeEffectScope = this;\r\n                return fn();\r\n            }\r\n            finally {\r\n                activeEffectScope = currentEffectScope;\r\n            }\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`cannot run an inactive effect scope.`);\r\n        }\r\n    }\r\n    /**\r\n     * This should only be called on non-detached scopes\r\n     * @internal\r\n     */\r\n    on() {\r\n        activeEffectScope = this;\r\n    }\r\n    /**\r\n     * This should only be called on non-detached scopes\r\n     * @internal\r\n     */\r\n    off() {\r\n        activeEffectScope = this.parent;\r\n    }\r\n    stop(fromParent) {\r\n        if (this.active) {\r\n            let i, l;\r\n            for (i = 0, l = this.effects.length; i < l; i++) {\r\n                this.effects[i].stop();\r\n            }\r\n            for (i = 0, l = this.cleanups.length; i < l; i++) {\r\n                this.cleanups[i]();\r\n            }\r\n            if (this.scopes) {\r\n                for (i = 0, l = this.scopes.length; i < l; i++) {\r\n                    this.scopes[i].stop(true);\r\n                }\r\n            }\r\n            // nested scope, dereference from parent to avoid memory leaks\r\n            if (this.parent && !fromParent) {\r\n                // optimized O(1) removal\r\n                const last = this.parent.scopes.pop();\r\n                if (last && last !== this) {\r\n                    this.parent.scopes[this.index] = last;\r\n                    last.index = this.index;\r\n                }\r\n            }\r\n            this.active = false;\r\n        }\r\n    }\r\n}\r\nfunction effectScope(detached) {\r\n    return new EffectScope(detached);\r\n}\r\nfunction recordEffectScope(effect, scope = activeEffectScope) {\r\n    if (scope && scope.active) {\r\n        scope.effects.push(effect);\r\n    }\r\n}\r\nfunction getCurrentScope() {\r\n    return activeEffectScope;\r\n}\r\nfunction onScopeDispose(fn) {\r\n    if (activeEffectScope) {\r\n        activeEffectScope.cleanups.push(fn);\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`onScopeDispose() is called when there is no active effect scope` +\r\n            ` to be associated with.`);\r\n    }\r\n}\n\nconst createDep = (effects) => {\r\n    const dep = new Set(effects);\r\n    dep.w = 0;\r\n    dep.n = 0;\r\n    return dep;\r\n};\r\nconst wasTracked = (dep) => (dep.w & trackOpBit) > 0;\r\nconst newTracked = (dep) => (dep.n & trackOpBit) > 0;\r\nconst initDepMarkers = ({ deps }) => {\r\n    if (deps.length) {\r\n        for (let i = 0; i < deps.length; i++) {\r\n            deps[i].w |= trackOpBit; // set was tracked\r\n        }\r\n    }\r\n};\r\nconst finalizeDepMarkers = (effect) => {\r\n    const { deps } = effect;\r\n    if (deps.length) {\r\n        let ptr = 0;\r\n        for (let i = 0; i < deps.length; i++) {\r\n            const dep = deps[i];\r\n            if (wasTracked(dep) && !newTracked(dep)) {\r\n                dep.delete(effect);\r\n            }\r\n            else {\r\n                deps[ptr++] = dep;\r\n            }\r\n            // clear bits\r\n            dep.w &= ~trackOpBit;\r\n            dep.n &= ~trackOpBit;\r\n        }\r\n        deps.length = ptr;\r\n    }\r\n};\n\nconst targetMap = new WeakMap();\r\n// The number of effects currently being tracked recursively.\r\nlet effectTrackDepth = 0;\r\nlet trackOpBit = 1;\r\n/**\r\n * The bitwise track markers support at most 30 levels of recursion.\r\n * This value is chosen to enable modern JS engines to use a SMI on all platforms.\r\n * When recursion depth is greater, fall back to using a full cleanup.\r\n */\r\nconst maxMarkerBits = 30;\r\nlet activeEffect;\r\nconst ITERATE_KEY = Symbol((process.env.NODE_ENV !== 'production') ? 'iterate' : '');\r\nconst MAP_KEY_ITERATE_KEY = Symbol((process.env.NODE_ENV !== 'production') ? 'Map key iterate' : '');\r\nclass ReactiveEffect {\r\n    constructor(fn, scheduler = null, scope) {\r\n        this.fn = fn;\r\n        this.scheduler = scheduler;\r\n        this.active = true;\r\n        this.deps = [];\r\n        this.parent = undefined;\r\n        recordEffectScope(this, scope);\r\n    }\r\n    run() {\r\n        if (!this.active) {\r\n            return this.fn();\r\n        }\r\n        let parent = activeEffect;\r\n        let lastShouldTrack = shouldTrack;\r\n        while (parent) {\r\n            if (parent === this) {\r\n                return;\r\n            }\r\n            parent = parent.parent;\r\n        }\r\n        try {\r\n            this.parent = activeEffect;\r\n            activeEffect = this;\r\n            shouldTrack = true;\r\n            trackOpBit = 1 << ++effectTrackDepth;\r\n            if (effectTrackDepth <= maxMarkerBits) {\r\n                initDepMarkers(this);\r\n            }\r\n            else {\r\n                cleanupEffect(this);\r\n            }\r\n            return this.fn();\r\n        }\r\n        finally {\r\n            if (effectTrackDepth <= maxMarkerBits) {\r\n                finalizeDepMarkers(this);\r\n            }\r\n            trackOpBit = 1 << --effectTrackDepth;\r\n            activeEffect = this.parent;\r\n            shouldTrack = lastShouldTrack;\r\n            this.parent = undefined;\r\n            if (this.deferStop) {\r\n                this.stop();\r\n            }\r\n        }\r\n    }\r\n    stop() {\r\n        // stopped while running itself - defer the cleanup\r\n        if (activeEffect === this) {\r\n            this.deferStop = true;\r\n        }\r\n        else if (this.active) {\r\n            cleanupEffect(this);\r\n            if (this.onStop) {\r\n                this.onStop();\r\n            }\r\n            this.active = false;\r\n        }\r\n    }\r\n}\r\nfunction cleanupEffect(effect) {\r\n    const { deps } = effect;\r\n    if (deps.length) {\r\n        for (let i = 0; i < deps.length; i++) {\r\n            deps[i].delete(effect);\r\n        }\r\n        deps.length = 0;\r\n    }\r\n}\r\nfunction effect(fn, options) {\r\n    if (fn.effect) {\r\n        fn = fn.effect.fn;\r\n    }\r\n    const _effect = new ReactiveEffect(fn);\r\n    if (options) {\r\n        extend(_effect, options);\r\n        if (options.scope)\r\n            recordEffectScope(_effect, options.scope);\r\n    }\r\n    if (!options || !options.lazy) {\r\n        _effect.run();\r\n    }\r\n    const runner = _effect.run.bind(_effect);\r\n    runner.effect = _effect;\r\n    return runner;\r\n}\r\nfunction stop(runner) {\r\n    runner.effect.stop();\r\n}\r\nlet shouldTrack = true;\r\nconst trackStack = [];\r\nfunction pauseTracking() {\r\n    trackStack.push(shouldTrack);\r\n    shouldTrack = false;\r\n}\r\nfunction enableTracking() {\r\n    trackStack.push(shouldTrack);\r\n    shouldTrack = true;\r\n}\r\nfunction resetTracking() {\r\n    const last = trackStack.pop();\r\n    shouldTrack = last === undefined ? true : last;\r\n}\r\nfunction track(target, type, key) {\r\n    if (shouldTrack && activeEffect) {\r\n        let depsMap = targetMap.get(target);\r\n        if (!depsMap) {\r\n            targetMap.set(target, (depsMap = new Map()));\r\n        }\r\n        let dep = depsMap.get(key);\r\n        if (!dep) {\r\n            depsMap.set(key, (dep = createDep()));\r\n        }\r\n        const eventInfo = (process.env.NODE_ENV !== 'production')\r\n            ? { effect: activeEffect, target, type, key }\r\n            : undefined;\r\n        trackEffects(dep, eventInfo);\r\n    }\r\n}\r\nfunction trackEffects(dep, debuggerEventExtraInfo) {\r\n    let shouldTrack = false;\r\n    if (effectTrackDepth <= maxMarkerBits) {\r\n        if (!newTracked(dep)) {\r\n            dep.n |= trackOpBit; // set newly tracked\r\n            shouldTrack = !wasTracked(dep);\r\n        }\r\n    }\r\n    else {\r\n        // Full cleanup mode.\r\n        shouldTrack = !dep.has(activeEffect);\r\n    }\r\n    if (shouldTrack) {\r\n        dep.add(activeEffect);\r\n        activeEffect.deps.push(dep);\r\n        if ((process.env.NODE_ENV !== 'production') && activeEffect.onTrack) {\r\n            activeEffect.onTrack(Object.assign({ effect: activeEffect }, debuggerEventExtraInfo));\r\n        }\r\n    }\r\n}\r\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\r\n    const depsMap = targetMap.get(target);\r\n    if (!depsMap) {\r\n        // never been tracked\r\n        return;\r\n    }\r\n    let deps = [];\r\n    if (type === \"clear\" /* TriggerOpTypes.CLEAR */) {\r\n        // collection being cleared\r\n        // trigger all effects for target\r\n        deps = [...depsMap.values()];\r\n    }\r\n    else if (key === 'length' && isArray(target)) {\r\n        depsMap.forEach((dep, key) => {\r\n            if (key === 'length' || key >= newValue) {\r\n                deps.push(dep);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        // schedule runs for SET | ADD | DELETE\r\n        if (key !== void 0) {\r\n            deps.push(depsMap.get(key));\r\n        }\r\n        // also run for iteration key on ADD | DELETE | Map.SET\r\n        switch (type) {\r\n            case \"add\" /* TriggerOpTypes.ADD */:\r\n                if (!isArray(target)) {\r\n                    deps.push(depsMap.get(ITERATE_KEY));\r\n                    if (isMap(target)) {\r\n                        deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\r\n                    }\r\n                }\r\n                else if (isIntegerKey(key)) {\r\n                    // new index added to array -> length changes\r\n                    deps.push(depsMap.get('length'));\r\n                }\r\n                break;\r\n            case \"delete\" /* TriggerOpTypes.DELETE */:\r\n                if (!isArray(target)) {\r\n                    deps.push(depsMap.get(ITERATE_KEY));\r\n                    if (isMap(target)) {\r\n                        deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\r\n                    }\r\n                }\r\n                break;\r\n            case \"set\" /* TriggerOpTypes.SET */:\r\n                if (isMap(target)) {\r\n                    deps.push(depsMap.get(ITERATE_KEY));\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    const eventInfo = (process.env.NODE_ENV !== 'production')\r\n        ? { target, type, key, newValue, oldValue, oldTarget }\r\n        : undefined;\r\n    if (deps.length === 1) {\r\n        if (deps[0]) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                triggerEffects(deps[0], eventInfo);\r\n            }\r\n            else {\r\n                triggerEffects(deps[0]);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        const effects = [];\r\n        for (const dep of deps) {\r\n            if (dep) {\r\n                effects.push(...dep);\r\n            }\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            triggerEffects(createDep(effects), eventInfo);\r\n        }\r\n        else {\r\n            triggerEffects(createDep(effects));\r\n        }\r\n    }\r\n}\r\nfunction triggerEffects(dep, debuggerEventExtraInfo) {\r\n    // spread into array for stabilization\r\n    const effects = isArray(dep) ? dep : [...dep];\r\n    for (const effect of effects) {\r\n        if (effect.computed) {\r\n            triggerEffect(effect, debuggerEventExtraInfo);\r\n        }\r\n    }\r\n    for (const effect of effects) {\r\n        if (!effect.computed) {\r\n            triggerEffect(effect, debuggerEventExtraInfo);\r\n        }\r\n    }\r\n}\r\nfunction triggerEffect(effect, debuggerEventExtraInfo) {\r\n    if (effect !== activeEffect || effect.allowRecurse) {\r\n        if ((process.env.NODE_ENV !== 'production') && effect.onTrigger) {\r\n            effect.onTrigger(extend({ effect }, debuggerEventExtraInfo));\r\n        }\r\n        if (effect.scheduler) {\r\n            effect.scheduler();\r\n        }\r\n        else {\r\n            effect.run();\r\n        }\r\n    }\r\n}\n\nconst isNonTrackableKeys = /*#__PURE__*/ makeMap(`__proto__,__v_isRef,__isVue`);\r\nconst builtInSymbols = new Set(\r\n/*#__PURE__*/\r\nObject.getOwnPropertyNames(Symbol)\r\n    // ios10.x Object.getOwnPropertyNames(Symbol) can enumerate 'arguments' and 'caller'\r\n    // but accessing them on Symbol leads to TypeError because Symbol is a strict mode\r\n    // function\r\n    .filter(key => key !== 'arguments' && key !== 'caller')\r\n    .map(key => Symbol[key])\r\n    .filter(isSymbol));\r\nconst get = /*#__PURE__*/ createGetter();\r\nconst shallowGet = /*#__PURE__*/ createGetter(false, true);\r\nconst readonlyGet = /*#__PURE__*/ createGetter(true);\r\nconst shallowReadonlyGet = /*#__PURE__*/ createGetter(true, true);\r\nconst arrayInstrumentations = /*#__PURE__*/ createArrayInstrumentations();\r\nfunction createArrayInstrumentations() {\r\n    const instrumentations = {};\r\n    ['includes', 'indexOf', 'lastIndexOf'].forEach(key => {\r\n        instrumentations[key] = function (...args) {\r\n            const arr = toRaw(this);\r\n            for (let i = 0, l = this.length; i < l; i++) {\r\n                track(arr, \"get\" /* TrackOpTypes.GET */, i + '');\r\n            }\r\n            // we run the method using the original args first (which may be reactive)\r\n            const res = arr[key](...args);\r\n            if (res === -1 || res === false) {\r\n                // if that didn't work, run it again using raw values.\r\n                return arr[key](...args.map(toRaw));\r\n            }\r\n            else {\r\n                return res;\r\n            }\r\n        };\r\n    });\r\n    ['push', 'pop', 'shift', 'unshift', 'splice'].forEach(key => {\r\n        instrumentations[key] = function (...args) {\r\n            pauseTracking();\r\n            const res = toRaw(this)[key].apply(this, args);\r\n            resetTracking();\r\n            return res;\r\n        };\r\n    });\r\n    return instrumentations;\r\n}\r\nfunction createGetter(isReadonly = false, shallow = false) {\r\n    return function get(target, key, receiver) {\r\n        if (key === \"__v_isReactive\" /* ReactiveFlags.IS_REACTIVE */) {\r\n            return !isReadonly;\r\n        }\r\n        else if (key === \"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */) {\r\n            return isReadonly;\r\n        }\r\n        else if (key === \"__v_isShallow\" /* ReactiveFlags.IS_SHALLOW */) {\r\n            return shallow;\r\n        }\r\n        else if (key === \"__v_raw\" /* ReactiveFlags.RAW */ &&\r\n            receiver ===\r\n                (isReadonly\r\n                    ? shallow\r\n                        ? shallowReadonlyMap\r\n                        : readonlyMap\r\n                    : shallow\r\n                        ? shallowReactiveMap\r\n                        : reactiveMap).get(target)) {\r\n            return target;\r\n        }\r\n        const targetIsArray = isArray(target);\r\n        if (!isReadonly && targetIsArray && hasOwn(arrayInstrumentations, key)) {\r\n            return Reflect.get(arrayInstrumentations, key, receiver);\r\n        }\r\n        const res = Reflect.get(target, key, receiver);\r\n        if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\r\n            return res;\r\n        }\r\n        if (!isReadonly) {\r\n            track(target, \"get\" /* TrackOpTypes.GET */, key);\r\n        }\r\n        if (shallow) {\r\n            return res;\r\n        }\r\n        if (isRef(res)) {\r\n            // ref unwrapping - skip unwrap for Array + integer key.\r\n            return targetIsArray && isIntegerKey(key) ? res : res.value;\r\n        }\r\n        if (isObject(res)) {\r\n            // Convert returned value into a proxy as well. we do the isObject check\r\n            // here to avoid invalid value warning. Also need to lazy access readonly\r\n            // and reactive here to avoid circular dependency.\r\n            return isReadonly ? readonly(res) : reactive(res);\r\n        }\r\n        return res;\r\n    };\r\n}\r\nconst set = /*#__PURE__*/ createSetter();\r\nconst shallowSet = /*#__PURE__*/ createSetter(true);\r\nfunction createSetter(shallow = false) {\r\n    return function set(target, key, value, receiver) {\r\n        let oldValue = target[key];\r\n        if (isReadonly(oldValue) && isRef(oldValue) && !isRef(value)) {\r\n            return false;\r\n        }\r\n        if (!shallow) {\r\n            if (!isShallow(value) && !isReadonly(value)) {\r\n                oldValue = toRaw(oldValue);\r\n                value = toRaw(value);\r\n            }\r\n            if (!isArray(target) && isRef(oldValue) && !isRef(value)) {\r\n                oldValue.value = value;\r\n                return true;\r\n            }\r\n        }\r\n        const hadKey = isArray(target) && isIntegerKey(key)\r\n            ? Number(key) < target.length\r\n            : hasOwn(target, key);\r\n        const result = Reflect.set(target, key, value, receiver);\r\n        // don't trigger if target is something up in the prototype chain of original\r\n        if (target === toRaw(receiver)) {\r\n            if (!hadKey) {\r\n                trigger(target, \"add\" /* TriggerOpTypes.ADD */, key, value);\r\n            }\r\n            else if (hasChanged(value, oldValue)) {\r\n                trigger(target, \"set\" /* TriggerOpTypes.SET */, key, value, oldValue);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n}\r\nfunction deleteProperty(target, key) {\r\n    const hadKey = hasOwn(target, key);\r\n    const oldValue = target[key];\r\n    const result = Reflect.deleteProperty(target, key);\r\n    if (result && hadKey) {\r\n        trigger(target, \"delete\" /* TriggerOpTypes.DELETE */, key, undefined, oldValue);\r\n    }\r\n    return result;\r\n}\r\nfunction has(target, key) {\r\n    const result = Reflect.has(target, key);\r\n    if (!isSymbol(key) || !builtInSymbols.has(key)) {\r\n        track(target, \"has\" /* TrackOpTypes.HAS */, key);\r\n    }\r\n    return result;\r\n}\r\nfunction ownKeys(target) {\r\n    track(target, \"iterate\" /* TrackOpTypes.ITERATE */, isArray(target) ? 'length' : ITERATE_KEY);\r\n    return Reflect.ownKeys(target);\r\n}\r\nconst mutableHandlers = {\r\n    get,\r\n    set,\r\n    deleteProperty,\r\n    has,\r\n    ownKeys\r\n};\r\nconst readonlyHandlers = {\r\n    get: readonlyGet,\r\n    set(target, key) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`Set operation on key \"${String(key)}\" failed: target is readonly.`, target);\r\n        }\r\n        return true;\r\n    },\r\n    deleteProperty(target, key) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`Delete operation on key \"${String(key)}\" failed: target is readonly.`, target);\r\n        }\r\n        return true;\r\n    }\r\n};\r\nconst shallowReactiveHandlers = /*#__PURE__*/ extend({}, mutableHandlers, {\r\n    get: shallowGet,\r\n    set: shallowSet\r\n});\r\n// Props handlers are special in the sense that it should not unwrap top-level\r\n// refs (in order to allow refs to be explicitly passed down), but should\r\n// retain the reactivity of the normal readonly object.\r\nconst shallowReadonlyHandlers = /*#__PURE__*/ extend({}, readonlyHandlers, {\r\n    get: shallowReadonlyGet\r\n});\n\nconst toShallow = (value) => value;\r\nconst getProto = (v) => Reflect.getPrototypeOf(v);\r\nfunction get$1(target, key, isReadonly = false, isShallow = false) {\r\n    // #1772: readonly(reactive(Map)) should return readonly + reactive version\r\n    // of the value\r\n    target = target[\"__v_raw\" /* ReactiveFlags.RAW */];\r\n    const rawTarget = toRaw(target);\r\n    const rawKey = toRaw(key);\r\n    if (!isReadonly) {\r\n        if (key !== rawKey) {\r\n            track(rawTarget, \"get\" /* TrackOpTypes.GET */, key);\r\n        }\r\n        track(rawTarget, \"get\" /* TrackOpTypes.GET */, rawKey);\r\n    }\r\n    const { has } = getProto(rawTarget);\r\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\r\n    if (has.call(rawTarget, key)) {\r\n        return wrap(target.get(key));\r\n    }\r\n    else if (has.call(rawTarget, rawKey)) {\r\n        return wrap(target.get(rawKey));\r\n    }\r\n    else if (target !== rawTarget) {\r\n        // #3602 readonly(reactive(Map))\r\n        // ensure that the nested reactive `Map` can do tracking for itself\r\n        target.get(key);\r\n    }\r\n}\r\nfunction has$1(key, isReadonly = false) {\r\n    const target = this[\"__v_raw\" /* ReactiveFlags.RAW */];\r\n    const rawTarget = toRaw(target);\r\n    const rawKey = toRaw(key);\r\n    if (!isReadonly) {\r\n        if (key !== rawKey) {\r\n            track(rawTarget, \"has\" /* TrackOpTypes.HAS */, key);\r\n        }\r\n        track(rawTarget, \"has\" /* TrackOpTypes.HAS */, rawKey);\r\n    }\r\n    return key === rawKey\r\n        ? target.has(key)\r\n        : target.has(key) || target.has(rawKey);\r\n}\r\nfunction size(target, isReadonly = false) {\r\n    target = target[\"__v_raw\" /* ReactiveFlags.RAW */];\r\n    !isReadonly && track(toRaw(target), \"iterate\" /* TrackOpTypes.ITERATE */, ITERATE_KEY);\r\n    return Reflect.get(target, 'size', target);\r\n}\r\nfunction add(value) {\r\n    value = toRaw(value);\r\n    const target = toRaw(this);\r\n    const proto = getProto(target);\r\n    const hadKey = proto.has.call(target, value);\r\n    if (!hadKey) {\r\n        target.add(value);\r\n        trigger(target, \"add\" /* TriggerOpTypes.ADD */, value, value);\r\n    }\r\n    return this;\r\n}\r\nfunction set$1(key, value) {\r\n    value = toRaw(value);\r\n    const target = toRaw(this);\r\n    const { has, get } = getProto(target);\r\n    let hadKey = has.call(target, key);\r\n    if (!hadKey) {\r\n        key = toRaw(key);\r\n        hadKey = has.call(target, key);\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        checkIdentityKeys(target, has, key);\r\n    }\r\n    const oldValue = get.call(target, key);\r\n    target.set(key, value);\r\n    if (!hadKey) {\r\n        trigger(target, \"add\" /* TriggerOpTypes.ADD */, key, value);\r\n    }\r\n    else if (hasChanged(value, oldValue)) {\r\n        trigger(target, \"set\" /* TriggerOpTypes.SET */, key, value, oldValue);\r\n    }\r\n    return this;\r\n}\r\nfunction deleteEntry(key) {\r\n    const target = toRaw(this);\r\n    const { has, get } = getProto(target);\r\n    let hadKey = has.call(target, key);\r\n    if (!hadKey) {\r\n        key = toRaw(key);\r\n        hadKey = has.call(target, key);\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        checkIdentityKeys(target, has, key);\r\n    }\r\n    const oldValue = get ? get.call(target, key) : undefined;\r\n    // forward the operation before queueing reactions\r\n    const result = target.delete(key);\r\n    if (hadKey) {\r\n        trigger(target, \"delete\" /* TriggerOpTypes.DELETE */, key, undefined, oldValue);\r\n    }\r\n    return result;\r\n}\r\nfunction clear() {\r\n    const target = toRaw(this);\r\n    const hadItems = target.size !== 0;\r\n    const oldTarget = (process.env.NODE_ENV !== 'production')\r\n        ? isMap(target)\r\n            ? new Map(target)\r\n            : new Set(target)\r\n        : undefined;\r\n    // forward the operation before queueing reactions\r\n    const result = target.clear();\r\n    if (hadItems) {\r\n        trigger(target, \"clear\" /* TriggerOpTypes.CLEAR */, undefined, undefined, oldTarget);\r\n    }\r\n    return result;\r\n}\r\nfunction createForEach(isReadonly, isShallow) {\r\n    return function forEach(callback, thisArg) {\r\n        const observed = this;\r\n        const target = observed[\"__v_raw\" /* ReactiveFlags.RAW */];\r\n        const rawTarget = toRaw(target);\r\n        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\r\n        !isReadonly && track(rawTarget, \"iterate\" /* TrackOpTypes.ITERATE */, ITERATE_KEY);\r\n        return target.forEach((value, key) => {\r\n            // important: make sure the callback is\r\n            // 1. invoked with the reactive map as `this` and 3rd arg\r\n            // 2. the value received should be a corresponding reactive/readonly.\r\n            return callback.call(thisArg, wrap(value), wrap(key), observed);\r\n        });\r\n    };\r\n}\r\nfunction createIterableMethod(method, isReadonly, isShallow) {\r\n    return function (...args) {\r\n        const target = this[\"__v_raw\" /* ReactiveFlags.RAW */];\r\n        const rawTarget = toRaw(target);\r\n        const targetIsMap = isMap(rawTarget);\r\n        const isPair = method === 'entries' || (method === Symbol.iterator && targetIsMap);\r\n        const isKeyOnly = method === 'keys' && targetIsMap;\r\n        const innerIterator = target[method](...args);\r\n        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\r\n        !isReadonly &&\r\n            track(rawTarget, \"iterate\" /* TrackOpTypes.ITERATE */, isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);\r\n        // return a wrapped iterator which returns observed versions of the\r\n        // values emitted from the real iterator\r\n        return {\r\n            // iterator protocol\r\n            next() {\r\n                const { value, done } = innerIterator.next();\r\n                return done\r\n                    ? { value, done }\r\n                    : {\r\n                        value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\r\n                        done\r\n                    };\r\n            },\r\n            // iterable protocol\r\n            [Symbol.iterator]() {\r\n                return this;\r\n            }\r\n        };\r\n    };\r\n}\r\nfunction createReadonlyMethod(type) {\r\n    return function (...args) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            const key = args[0] ? `on key \"${args[0]}\" ` : ``;\r\n            console.warn(`${capitalize(type)} operation ${key}failed: target is readonly.`, toRaw(this));\r\n        }\r\n        return type === \"delete\" /* TriggerOpTypes.DELETE */ ? false : this;\r\n    };\r\n}\r\nfunction createInstrumentations() {\r\n    const mutableInstrumentations = {\r\n        get(key) {\r\n            return get$1(this, key);\r\n        },\r\n        get size() {\r\n            return size(this);\r\n        },\r\n        has: has$1,\r\n        add,\r\n        set: set$1,\r\n        delete: deleteEntry,\r\n        clear,\r\n        forEach: createForEach(false, false)\r\n    };\r\n    const shallowInstrumentations = {\r\n        get(key) {\r\n            return get$1(this, key, false, true);\r\n        },\r\n        get size() {\r\n            return size(this);\r\n        },\r\n        has: has$1,\r\n        add,\r\n        set: set$1,\r\n        delete: deleteEntry,\r\n        clear,\r\n        forEach: createForEach(false, true)\r\n    };\r\n    const readonlyInstrumentations = {\r\n        get(key) {\r\n            return get$1(this, key, true);\r\n        },\r\n        get size() {\r\n            return size(this, true);\r\n        },\r\n        has(key) {\r\n            return has$1.call(this, key, true);\r\n        },\r\n        add: createReadonlyMethod(\"add\" /* TriggerOpTypes.ADD */),\r\n        set: createReadonlyMethod(\"set\" /* TriggerOpTypes.SET */),\r\n        delete: createReadonlyMethod(\"delete\" /* TriggerOpTypes.DELETE */),\r\n        clear: createReadonlyMethod(\"clear\" /* TriggerOpTypes.CLEAR */),\r\n        forEach: createForEach(true, false)\r\n    };\r\n    const shallowReadonlyInstrumentations = {\r\n        get(key) {\r\n            return get$1(this, key, true, true);\r\n        },\r\n        get size() {\r\n            return size(this, true);\r\n        },\r\n        has(key) {\r\n            return has$1.call(this, key, true);\r\n        },\r\n        add: createReadonlyMethod(\"add\" /* TriggerOpTypes.ADD */),\r\n        set: createReadonlyMethod(\"set\" /* TriggerOpTypes.SET */),\r\n        delete: createReadonlyMethod(\"delete\" /* TriggerOpTypes.DELETE */),\r\n        clear: createReadonlyMethod(\"clear\" /* TriggerOpTypes.CLEAR */),\r\n        forEach: createForEach(true, true)\r\n    };\r\n    const iteratorMethods = ['keys', 'values', 'entries', Symbol.iterator];\r\n    iteratorMethods.forEach(method => {\r\n        mutableInstrumentations[method] = createIterableMethod(method, false, false);\r\n        readonlyInstrumentations[method] = createIterableMethod(method, true, false);\r\n        shallowInstrumentations[method] = createIterableMethod(method, false, true);\r\n        shallowReadonlyInstrumentations[method] = createIterableMethod(method, true, true);\r\n    });\r\n    return [\r\n        mutableInstrumentations,\r\n        readonlyInstrumentations,\r\n        shallowInstrumentations,\r\n        shallowReadonlyInstrumentations\r\n    ];\r\n}\r\nconst [mutableInstrumentations, readonlyInstrumentations, shallowInstrumentations, shallowReadonlyInstrumentations] = /* #__PURE__*/ createInstrumentations();\r\nfunction createInstrumentationGetter(isReadonly, shallow) {\r\n    const instrumentations = shallow\r\n        ? isReadonly\r\n            ? shallowReadonlyInstrumentations\r\n            : shallowInstrumentations\r\n        : isReadonly\r\n            ? readonlyInstrumentations\r\n            : mutableInstrumentations;\r\n    return (target, key, receiver) => {\r\n        if (key === \"__v_isReactive\" /* ReactiveFlags.IS_REACTIVE */) {\r\n            return !isReadonly;\r\n        }\r\n        else if (key === \"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */) {\r\n            return isReadonly;\r\n        }\r\n        else if (key === \"__v_raw\" /* ReactiveFlags.RAW */) {\r\n            return target;\r\n        }\r\n        return Reflect.get(hasOwn(instrumentations, key) && key in target\r\n            ? instrumentations\r\n            : target, key, receiver);\r\n    };\r\n}\r\nconst mutableCollectionHandlers = {\r\n    get: /*#__PURE__*/ createInstrumentationGetter(false, false)\r\n};\r\nconst shallowCollectionHandlers = {\r\n    get: /*#__PURE__*/ createInstrumentationGetter(false, true)\r\n};\r\nconst readonlyCollectionHandlers = {\r\n    get: /*#__PURE__*/ createInstrumentationGetter(true, false)\r\n};\r\nconst shallowReadonlyCollectionHandlers = {\r\n    get: /*#__PURE__*/ createInstrumentationGetter(true, true)\r\n};\r\nfunction checkIdentityKeys(target, has, key) {\r\n    const rawKey = toRaw(key);\r\n    if (rawKey !== key && has.call(target, rawKey)) {\r\n        const type = toRawType(target);\r\n        console.warn(`Reactive ${type} contains both the raw and reactive ` +\r\n            `versions of the same object${type === `Map` ? ` as keys` : ``}, ` +\r\n            `which can lead to inconsistencies. ` +\r\n            `Avoid differentiating between the raw and reactive versions ` +\r\n            `of an object and only use the reactive version if possible.`);\r\n    }\r\n}\n\nconst reactiveMap = new WeakMap();\r\nconst shallowReactiveMap = new WeakMap();\r\nconst readonlyMap = new WeakMap();\r\nconst shallowReadonlyMap = new WeakMap();\r\nfunction targetTypeMap(rawType) {\r\n    switch (rawType) {\r\n        case 'Object':\r\n        case 'Array':\r\n            return 1 /* TargetType.COMMON */;\r\n        case 'Map':\r\n        case 'Set':\r\n        case 'WeakMap':\r\n        case 'WeakSet':\r\n            return 2 /* TargetType.COLLECTION */;\r\n        default:\r\n            return 0 /* TargetType.INVALID */;\r\n    }\r\n}\r\nfunction getTargetType(value) {\r\n    return value[\"__v_skip\" /* ReactiveFlags.SKIP */] || !Object.isExtensible(value)\r\n        ? 0 /* TargetType.INVALID */\r\n        : targetTypeMap(toRawType(value));\r\n}\r\nfunction reactive(target) {\r\n    // if trying to observe a readonly proxy, return the readonly version.\r\n    if (isReadonly(target)) {\r\n        return target;\r\n    }\r\n    return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);\r\n}\r\n/**\r\n * Return a shallowly-reactive copy of the original object, where only the root\r\n * level properties are reactive. It also does not auto-unwrap refs (even at the\r\n * root level).\r\n */\r\nfunction shallowReactive(target) {\r\n    return createReactiveObject(target, false, shallowReactiveHandlers, shallowCollectionHandlers, shallowReactiveMap);\r\n}\r\n/**\r\n * Creates a readonly copy of the original object. Note the returned copy is not\r\n * made reactive, but `readonly` can be called on an already reactive object.\r\n */\r\nfunction readonly(target) {\r\n    return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);\r\n}\r\n/**\r\n * Returns a reactive-copy of the original object, where only the root level\r\n * properties are readonly, and does NOT unwrap refs nor recursively convert\r\n * returned properties.\r\n * This is used for creating the props proxy object for stateful components.\r\n */\r\nfunction shallowReadonly(target) {\r\n    return createReactiveObject(target, true, shallowReadonlyHandlers, shallowReadonlyCollectionHandlers, shallowReadonlyMap);\r\n}\r\nfunction createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers, proxyMap) {\r\n    if (!isObject(target)) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            console.warn(`value cannot be made reactive: ${String(target)}`);\r\n        }\r\n        return target;\r\n    }\r\n    // target is already a Proxy, return it.\r\n    // exception: calling readonly() on a reactive object\r\n    if (target[\"__v_raw\" /* ReactiveFlags.RAW */] &&\r\n        !(isReadonly && target[\"__v_isReactive\" /* ReactiveFlags.IS_REACTIVE */])) {\r\n        return target;\r\n    }\r\n    // target already has corresponding Proxy\r\n    const existingProxy = proxyMap.get(target);\r\n    if (existingProxy) {\r\n        return existingProxy;\r\n    }\r\n    // only specific value types can be observed.\r\n    const targetType = getTargetType(target);\r\n    if (targetType === 0 /* TargetType.INVALID */) {\r\n        return target;\r\n    }\r\n    const proxy = new Proxy(target, targetType === 2 /* TargetType.COLLECTION */ ? collectionHandlers : baseHandlers);\r\n    proxyMap.set(target, proxy);\r\n    return proxy;\r\n}\r\nfunction isReactive(value) {\r\n    if (isReadonly(value)) {\r\n        return isReactive(value[\"__v_raw\" /* ReactiveFlags.RAW */]);\r\n    }\r\n    return !!(value && value[\"__v_isReactive\" /* ReactiveFlags.IS_REACTIVE */]);\r\n}\r\nfunction isReadonly(value) {\r\n    return !!(value && value[\"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */]);\r\n}\r\nfunction isShallow(value) {\r\n    return !!(value && value[\"__v_isShallow\" /* ReactiveFlags.IS_SHALLOW */]);\r\n}\r\nfunction isProxy(value) {\r\n    return isReactive(value) || isReadonly(value);\r\n}\r\nfunction toRaw(observed) {\r\n    const raw = observed && observed[\"__v_raw\" /* ReactiveFlags.RAW */];\r\n    return raw ? toRaw(raw) : observed;\r\n}\r\nfunction markRaw(value) {\r\n    def(value, \"__v_skip\" /* ReactiveFlags.SKIP */, true);\r\n    return value;\r\n}\r\nconst toReactive = (value) => isObject(value) ? reactive(value) : value;\r\nconst toReadonly = (value) => isObject(value) ? readonly(value) : value;\n\nfunction trackRefValue(ref) {\r\n    if (shouldTrack && activeEffect) {\r\n        ref = toRaw(ref);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            trackEffects(ref.dep || (ref.dep = createDep()), {\r\n                target: ref,\r\n                type: \"get\" /* TrackOpTypes.GET */,\r\n                key: 'value'\r\n            });\r\n        }\r\n        else {\r\n            trackEffects(ref.dep || (ref.dep = createDep()));\r\n        }\r\n    }\r\n}\r\nfunction triggerRefValue(ref, newVal) {\r\n    ref = toRaw(ref);\r\n    if (ref.dep) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            triggerEffects(ref.dep, {\r\n                target: ref,\r\n                type: \"set\" /* TriggerOpTypes.SET */,\r\n                key: 'value',\r\n                newValue: newVal\r\n            });\r\n        }\r\n        else {\r\n            triggerEffects(ref.dep);\r\n        }\r\n    }\r\n}\r\nfunction isRef(r) {\r\n    return !!(r && r.__v_isRef === true);\r\n}\r\nfunction ref(value) {\r\n    return createRef(value, false);\r\n}\r\nfunction shallowRef(value) {\r\n    return createRef(value, true);\r\n}\r\nfunction createRef(rawValue, shallow) {\r\n    if (isRef(rawValue)) {\r\n        return rawValue;\r\n    }\r\n    return new RefImpl(rawValue, shallow);\r\n}\r\nclass RefImpl {\r\n    constructor(value, __v_isShallow) {\r\n        this.__v_isShallow = __v_isShallow;\r\n        this.dep = undefined;\r\n        this.__v_isRef = true;\r\n        this._rawValue = __v_isShallow ? value : toRaw(value);\r\n        this._value = __v_isShallow ? value : toReactive(value);\r\n    }\r\n    get value() {\r\n        trackRefValue(this);\r\n        return this._value;\r\n    }\r\n    set value(newVal) {\r\n        const useDirectValue = this.__v_isShallow || isShallow(newVal) || isReadonly(newVal);\r\n        newVal = useDirectValue ? newVal : toRaw(newVal);\r\n        if (hasChanged(newVal, this._rawValue)) {\r\n            this._rawValue = newVal;\r\n            this._value = useDirectValue ? newVal : toReactive(newVal);\r\n            triggerRefValue(this, newVal);\r\n        }\r\n    }\r\n}\r\nfunction triggerRef(ref) {\r\n    triggerRefValue(ref, (process.env.NODE_ENV !== 'production') ? ref.value : void 0);\r\n}\r\nfunction unref(ref) {\r\n    return isRef(ref) ? ref.value : ref;\r\n}\r\nconst shallowUnwrapHandlers = {\r\n    get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),\r\n    set: (target, key, value, receiver) => {\r\n        const oldValue = target[key];\r\n        if (isRef(oldValue) && !isRef(value)) {\r\n            oldValue.value = value;\r\n            return true;\r\n        }\r\n        else {\r\n            return Reflect.set(target, key, value, receiver);\r\n        }\r\n    }\r\n};\r\nfunction proxyRefs(objectWithRefs) {\r\n    return isReactive(objectWithRefs)\r\n        ? objectWithRefs\r\n        : new Proxy(objectWithRefs, shallowUnwrapHandlers);\r\n}\r\nclass CustomRefImpl {\r\n    constructor(factory) {\r\n        this.dep = undefined;\r\n        this.__v_isRef = true;\r\n        const { get, set } = factory(() => trackRefValue(this), () => triggerRefValue(this));\r\n        this._get = get;\r\n        this._set = set;\r\n    }\r\n    get value() {\r\n        return this._get();\r\n    }\r\n    set value(newVal) {\r\n        this._set(newVal);\r\n    }\r\n}\r\nfunction customRef(factory) {\r\n    return new CustomRefImpl(factory);\r\n}\r\nfunction toRefs(object) {\r\n    if ((process.env.NODE_ENV !== 'production') && !isProxy(object)) {\r\n        console.warn(`toRefs() expects a reactive object but received a plain one.`);\r\n    }\r\n    const ret = isArray(object) ? new Array(object.length) : {};\r\n    for (const key in object) {\r\n        ret[key] = toRef(object, key);\r\n    }\r\n    return ret;\r\n}\r\nclass ObjectRefImpl {\r\n    constructor(_object, _key, _defaultValue) {\r\n        this._object = _object;\r\n        this._key = _key;\r\n        this._defaultValue = _defaultValue;\r\n        this.__v_isRef = true;\r\n    }\r\n    get value() {\r\n        const val = this._object[this._key];\r\n        return val === undefined ? this._defaultValue : val;\r\n    }\r\n    set value(newVal) {\r\n        this._object[this._key] = newVal;\r\n    }\r\n}\r\nfunction toRef(object, key, defaultValue) {\r\n    const val = object[key];\r\n    return isRef(val)\r\n        ? val\r\n        : new ObjectRefImpl(object, key, defaultValue);\r\n}\n\nvar _a;\r\nclass ComputedRefImpl {\r\n    constructor(getter, _setter, isReadonly, isSSR) {\r\n        this._setter = _setter;\r\n        this.dep = undefined;\r\n        this.__v_isRef = true;\r\n        this[_a] = false;\r\n        this._dirty = true;\r\n        this.effect = new ReactiveEffect(getter, () => {\r\n            if (!this._dirty) {\r\n                this._dirty = true;\r\n                triggerRefValue(this);\r\n            }\r\n        });\r\n        this.effect.computed = this;\r\n        this.effect.active = this._cacheable = !isSSR;\r\n        this[\"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */] = isReadonly;\r\n    }\r\n    get value() {\r\n        // the computed ref may get wrapped by other proxies e.g. readonly() #3376\r\n        const self = toRaw(this);\r\n        trackRefValue(self);\r\n        if (self._dirty || !self._cacheable) {\r\n            self._dirty = false;\r\n            self._value = self.effect.run();\r\n        }\r\n        return self._value;\r\n    }\r\n    set value(newValue) {\r\n        this._setter(newValue);\r\n    }\r\n}\r\n_a = \"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */;\r\nfunction computed(getterOrOptions, debugOptions, isSSR = false) {\r\n    let getter;\r\n    let setter;\r\n    const onlyGetter = isFunction(getterOrOptions);\r\n    if (onlyGetter) {\r\n        getter = getterOrOptions;\r\n        setter = (process.env.NODE_ENV !== 'production')\r\n            ? () => {\r\n                console.warn('Write operation failed: computed value is readonly');\r\n            }\r\n            : NOOP;\r\n    }\r\n    else {\r\n        getter = getterOrOptions.get;\r\n        setter = getterOrOptions.set;\r\n    }\r\n    const cRef = new ComputedRefImpl(getter, setter, onlyGetter || !setter, isSSR);\r\n    if ((process.env.NODE_ENV !== 'production') && debugOptions && !isSSR) {\r\n        cRef.effect.onTrack = debugOptions.onTrack;\r\n        cRef.effect.onTrigger = debugOptions.onTrigger;\r\n    }\r\n    return cRef;\r\n}\n\nvar _a$1;\r\nconst tick = /*#__PURE__*/ Promise.resolve();\r\nconst queue = [];\r\nlet queued = false;\r\nconst scheduler = (fn) => {\r\n    queue.push(fn);\r\n    if (!queued) {\r\n        queued = true;\r\n        tick.then(flush);\r\n    }\r\n};\r\nconst flush = () => {\r\n    for (let i = 0; i < queue.length; i++) {\r\n        queue[i]();\r\n    }\r\n    queue.length = 0;\r\n    queued = false;\r\n};\r\nclass DeferredComputedRefImpl {\r\n    constructor(getter) {\r\n        this.dep = undefined;\r\n        this._dirty = true;\r\n        this.__v_isRef = true;\r\n        this[_a$1] = true;\r\n        let compareTarget;\r\n        let hasCompareTarget = false;\r\n        let scheduled = false;\r\n        this.effect = new ReactiveEffect(getter, (computedTrigger) => {\r\n            if (this.dep) {\r\n                if (computedTrigger) {\r\n                    compareTarget = this._value;\r\n                    hasCompareTarget = true;\r\n                }\r\n                else if (!scheduled) {\r\n                    const valueToCompare = hasCompareTarget ? compareTarget : this._value;\r\n                    scheduled = true;\r\n                    hasCompareTarget = false;\r\n                    scheduler(() => {\r\n                        if (this.effect.active && this._get() !== valueToCompare) {\r\n                            triggerRefValue(this);\r\n                        }\r\n                        scheduled = false;\r\n                    });\r\n                }\r\n                // chained upstream computeds are notified synchronously to ensure\r\n                // value invalidation in case of sync access; normal effects are\r\n                // deferred to be triggered in scheduler.\r\n                for (const e of this.dep) {\r\n                    if (e.computed instanceof DeferredComputedRefImpl) {\r\n                        e.scheduler(true /* computedTrigger */);\r\n                    }\r\n                }\r\n            }\r\n            this._dirty = true;\r\n        });\r\n        this.effect.computed = this;\r\n    }\r\n    _get() {\r\n        if (this._dirty) {\r\n            this._dirty = false;\r\n            return (this._value = this.effect.run());\r\n        }\r\n        return this._value;\r\n    }\r\n    get value() {\r\n        trackRefValue(this);\r\n        // the computed ref may get wrapped by other proxies e.g. readonly() #3376\r\n        return toRaw(this)._get();\r\n    }\r\n}\r\n_a$1 = \"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */;\r\nfunction deferredComputed(getter) {\r\n    return new DeferredComputedRefImpl(getter);\r\n}\n\nexport { EffectScope, ITERATE_KEY, ReactiveEffect, computed, customRef, deferredComputed, effect, effectScope, enableTracking, getCurrentScope, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, pauseTracking, proxyRefs, reactive, readonly, ref, resetTracking, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, track, trigger, triggerRef, unref };\n","import { pauseTracking, resetTracking, isRef, toRaw, isShallow as isShallow$1, isReactive, ReactiveEffect, ref, shallowReadonly, track, reactive, shallowReactive, trigger, isProxy, EffectScope, markRaw, proxyRefs, computed as computed$1, isReadonly } from '@vue/reactivity';\nexport { EffectScope, ReactiveEffect, customRef, effect, effectScope, getCurrentScope, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, proxyRefs, reactive, readonly, ref, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, triggerRef, unref } from '@vue/reactivity';\nimport { isString, isFunction, isPromise, isArray, NOOP, getGlobalThis, extend, EMPTY_OBJ, toHandlerKey, toNumber, hyphenate, camelize, isObject, isOn, hasOwn, isModelListener, hasChanged, remove, isSet, isMap, isPlainObject, invokeArrayFns, isBuiltInDirective, capitalize, isGloballyWhitelisted, def, isReservedProp, EMPTY_ARR, toRawType, makeMap, NO, normalizeClass, normalizeStyle } from '@vue/shared';\nexport { camelize, capitalize, normalizeClass, normalizeProps, normalizeStyle, toDisplayString, toHandlerKey } from '@vue/shared';\n\nconst stack = [];\r\nfunction pushWarningContext(vnode) {\r\n    stack.push(vnode);\r\n}\r\nfunction popWarningContext() {\r\n    stack.pop();\r\n}\r\nfunction warn(msg, ...args) {\r\n    // avoid props formatting or warn handler tracking deps that might be mutated\r\n    // during patch, leading to infinite recursion.\r\n    pauseTracking();\r\n    const instance = stack.length ? stack[stack.length - 1].component : null;\r\n    const appWarnHandler = instance && instance.appContext.config.warnHandler;\r\n    const trace = getComponentTrace();\r\n    if (appWarnHandler) {\r\n        callWithErrorHandling(appWarnHandler, instance, 11 /* ErrorCodes.APP_WARN_HANDLER */, [\r\n            msg + args.join(''),\r\n            instance && instance.proxy,\r\n            trace\r\n                .map(({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`)\r\n                .join('\\n'),\r\n            trace\r\n        ]);\r\n    }\r\n    else {\r\n        const warnArgs = [`[Vue warn]: ${msg}`, ...args];\r\n        /* istanbul ignore if */\r\n        if (trace.length &&\r\n            // avoid spamming console during tests\r\n            !false) {\r\n            warnArgs.push(`\\n`, ...formatTrace(trace));\r\n        }\r\n        console.warn(...warnArgs);\r\n    }\r\n    resetTracking();\r\n}\r\nfunction getComponentTrace() {\r\n    let currentVNode = stack[stack.length - 1];\r\n    if (!currentVNode) {\r\n        return [];\r\n    }\r\n    // we can't just use the stack because it will be incomplete during updates\r\n    // that did not start from the root. Re-construct the parent chain using\r\n    // instance parent pointers.\r\n    const normalizedStack = [];\r\n    while (currentVNode) {\r\n        const last = normalizedStack[0];\r\n        if (last && last.vnode === currentVNode) {\r\n            last.recurseCount++;\r\n        }\r\n        else {\r\n            normalizedStack.push({\r\n                vnode: currentVNode,\r\n                recurseCount: 0\r\n            });\r\n        }\r\n        const parentInstance = currentVNode.component && currentVNode.component.parent;\r\n        currentVNode = parentInstance && parentInstance.vnode;\r\n    }\r\n    return normalizedStack;\r\n}\r\n/* istanbul ignore next */\r\nfunction formatTrace(trace) {\r\n    const logs = [];\r\n    trace.forEach((entry, i) => {\r\n        logs.push(...(i === 0 ? [] : [`\\n`]), ...formatTraceEntry(entry));\r\n    });\r\n    return logs;\r\n}\r\nfunction formatTraceEntry({ vnode, recurseCount }) {\r\n    const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;\r\n    const isRoot = vnode.component ? vnode.component.parent == null : false;\r\n    const open = ` at <${formatComponentName(vnode.component, vnode.type, isRoot)}`;\r\n    const close = `>` + postfix;\r\n    return vnode.props\r\n        ? [open, ...formatProps(vnode.props), close]\r\n        : [open + close];\r\n}\r\n/* istanbul ignore next */\r\nfunction formatProps(props) {\r\n    const res = [];\r\n    const keys = Object.keys(props);\r\n    keys.slice(0, 3).forEach(key => {\r\n        res.push(...formatProp(key, props[key]));\r\n    });\r\n    if (keys.length > 3) {\r\n        res.push(` ...`);\r\n    }\r\n    return res;\r\n}\r\n/* istanbul ignore next */\r\nfunction formatProp(key, value, raw) {\r\n    if (isString(value)) {\r\n        value = JSON.stringify(value);\r\n        return raw ? value : [`${key}=${value}`];\r\n    }\r\n    else if (typeof value === 'number' ||\r\n        typeof value === 'boolean' ||\r\n        value == null) {\r\n        return raw ? value : [`${key}=${value}`];\r\n    }\r\n    else if (isRef(value)) {\r\n        value = formatProp(key, toRaw(value.value), true);\r\n        return raw ? value : [`${key}=Ref<`, value, `>`];\r\n    }\r\n    else if (isFunction(value)) {\r\n        return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];\r\n    }\r\n    else {\r\n        value = toRaw(value);\r\n        return raw ? value : [`${key}=`, value];\r\n    }\r\n}\n\nconst ErrorTypeStrings = {\r\n    [\"sp\" /* LifecycleHooks.SERVER_PREFETCH */]: 'serverPrefetch hook',\r\n    [\"bc\" /* LifecycleHooks.BEFORE_CREATE */]: 'beforeCreate hook',\r\n    [\"c\" /* LifecycleHooks.CREATED */]: 'created hook',\r\n    [\"bm\" /* LifecycleHooks.BEFORE_MOUNT */]: 'beforeMount hook',\r\n    [\"m\" /* LifecycleHooks.MOUNTED */]: 'mounted hook',\r\n    [\"bu\" /* LifecycleHooks.BEFORE_UPDATE */]: 'beforeUpdate hook',\r\n    [\"u\" /* LifecycleHooks.UPDATED */]: 'updated',\r\n    [\"bum\" /* LifecycleHooks.BEFORE_UNMOUNT */]: 'beforeUnmount hook',\r\n    [\"um\" /* LifecycleHooks.UNMOUNTED */]: 'unmounted hook',\r\n    [\"a\" /* LifecycleHooks.ACTIVATED */]: 'activated hook',\r\n    [\"da\" /* LifecycleHooks.DEACTIVATED */]: 'deactivated hook',\r\n    [\"ec\" /* LifecycleHooks.ERROR_CAPTURED */]: 'errorCaptured hook',\r\n    [\"rtc\" /* LifecycleHooks.RENDER_TRACKED */]: 'renderTracked hook',\r\n    [\"rtg\" /* LifecycleHooks.RENDER_TRIGGERED */]: 'renderTriggered hook',\r\n    [0 /* ErrorCodes.SETUP_FUNCTION */]: 'setup function',\r\n    [1 /* ErrorCodes.RENDER_FUNCTION */]: 'render function',\r\n    [2 /* ErrorCodes.WATCH_GETTER */]: 'watcher getter',\r\n    [3 /* ErrorCodes.WATCH_CALLBACK */]: 'watcher callback',\r\n    [4 /* ErrorCodes.WATCH_CLEANUP */]: 'watcher cleanup function',\r\n    [5 /* ErrorCodes.NATIVE_EVENT_HANDLER */]: 'native event handler',\r\n    [6 /* ErrorCodes.COMPONENT_EVENT_HANDLER */]: 'component event handler',\r\n    [7 /* ErrorCodes.VNODE_HOOK */]: 'vnode hook',\r\n    [8 /* ErrorCodes.DIRECTIVE_HOOK */]: 'directive hook',\r\n    [9 /* ErrorCodes.TRANSITION_HOOK */]: 'transition hook',\r\n    [10 /* ErrorCodes.APP_ERROR_HANDLER */]: 'app errorHandler',\r\n    [11 /* ErrorCodes.APP_WARN_HANDLER */]: 'app warnHandler',\r\n    [12 /* ErrorCodes.FUNCTION_REF */]: 'ref function',\r\n    [13 /* ErrorCodes.ASYNC_COMPONENT_LOADER */]: 'async component loader',\r\n    [14 /* ErrorCodes.SCHEDULER */]: 'scheduler flush. This is likely a Vue internals bug. ' +\r\n        'Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core'\r\n};\r\nfunction callWithErrorHandling(fn, instance, type, args) {\r\n    let res;\r\n    try {\r\n        res = args ? fn(...args) : fn();\r\n    }\r\n    catch (err) {\r\n        handleError(err, instance, type);\r\n    }\r\n    return res;\r\n}\r\nfunction callWithAsyncErrorHandling(fn, instance, type, args) {\r\n    if (isFunction(fn)) {\r\n        const res = callWithErrorHandling(fn, instance, type, args);\r\n        if (res && isPromise(res)) {\r\n            res.catch(err => {\r\n                handleError(err, instance, type);\r\n            });\r\n        }\r\n        return res;\r\n    }\r\n    const values = [];\r\n    for (let i = 0; i < fn.length; i++) {\r\n        values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));\r\n    }\r\n    return values;\r\n}\r\nfunction handleError(err, instance, type, throwInDev = true) {\r\n    const contextVNode = instance ? instance.vnode : null;\r\n    if (instance) {\r\n        let cur = instance.parent;\r\n        // the exposed instance is the render proxy to keep it consistent with 2.x\r\n        const exposedInstance = instance.proxy;\r\n        // in production the hook receives only the error code\r\n        const errorInfo = (process.env.NODE_ENV !== 'production') ? ErrorTypeStrings[type] : type;\r\n        while (cur) {\r\n            const errorCapturedHooks = cur.ec;\r\n            if (errorCapturedHooks) {\r\n                for (let i = 0; i < errorCapturedHooks.length; i++) {\r\n                    if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            cur = cur.parent;\r\n        }\r\n        // app-level handling\r\n        const appErrorHandler = instance.appContext.config.errorHandler;\r\n        if (appErrorHandler) {\r\n            callWithErrorHandling(appErrorHandler, null, 10 /* ErrorCodes.APP_ERROR_HANDLER */, [err, exposedInstance, errorInfo]);\r\n            return;\r\n        }\r\n    }\r\n    logError(err, type, contextVNode, throwInDev);\r\n}\r\nfunction logError(err, type, contextVNode, throwInDev = true) {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const info = ErrorTypeStrings[type];\r\n        if (contextVNode) {\r\n            pushWarningContext(contextVNode);\r\n        }\r\n        warn(`Unhandled error${info ? ` during execution of ${info}` : ``}`);\r\n        if (contextVNode) {\r\n            popWarningContext();\r\n        }\r\n        // crash in dev by default so it's more noticeable\r\n        if (throwInDev) {\r\n            throw err;\r\n        }\r\n        else {\r\n            console.error(err);\r\n        }\r\n    }\r\n    else {\r\n        // recover in prod to reduce the impact on end-user\r\n        console.error(err);\r\n    }\r\n}\n\nlet isFlushing = false;\r\nlet isFlushPending = false;\r\nconst queue = [];\r\nlet flushIndex = 0;\r\nconst pendingPostFlushCbs = [];\r\nlet activePostFlushCbs = null;\r\nlet postFlushIndex = 0;\r\nconst resolvedPromise = /*#__PURE__*/ Promise.resolve();\r\nlet currentFlushPromise = null;\r\nconst RECURSION_LIMIT = 100;\r\nfunction nextTick(fn) {\r\n    const p = currentFlushPromise || resolvedPromise;\r\n    return fn ? p.then(this ? fn.bind(this) : fn) : p;\r\n}\r\n// #2768\r\n// Use binary-search to find a suitable position in the queue,\r\n// so that the queue maintains the increasing order of job's id,\r\n// which can prevent the job from being skipped and also can avoid repeated patching.\r\nfunction findInsertionIndex(id) {\r\n    // the start index should be `flushIndex + 1`\r\n    let start = flushIndex + 1;\r\n    let end = queue.length;\r\n    while (start < end) {\r\n        const middle = (start + end) >>> 1;\r\n        const middleJobId = getId(queue[middle]);\r\n        middleJobId < id ? (start = middle + 1) : (end = middle);\r\n    }\r\n    return start;\r\n}\r\nfunction queueJob(job) {\r\n    // the dedupe search uses the startIndex argument of Array.includes()\r\n    // by default the search index includes the current job that is being run\r\n    // so it cannot recursively trigger itself again.\r\n    // if the job is a watch() callback, the search will start with a +1 index to\r\n    // allow it recursively trigger itself - it is the user's responsibility to\r\n    // ensure it doesn't end up in an infinite loop.\r\n    if (!queue.length ||\r\n        !queue.includes(job, isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex)) {\r\n        if (job.id == null) {\r\n            queue.push(job);\r\n        }\r\n        else {\r\n            queue.splice(findInsertionIndex(job.id), 0, job);\r\n        }\r\n        queueFlush();\r\n    }\r\n}\r\nfunction queueFlush() {\r\n    if (!isFlushing && !isFlushPending) {\r\n        isFlushPending = true;\r\n        currentFlushPromise = resolvedPromise.then(flushJobs);\r\n    }\r\n}\r\nfunction invalidateJob(job) {\r\n    const i = queue.indexOf(job);\r\n    if (i > flushIndex) {\r\n        queue.splice(i, 1);\r\n    }\r\n}\r\nfunction queuePostFlushCb(cb) {\r\n    if (!isArray(cb)) {\r\n        if (!activePostFlushCbs ||\r\n            !activePostFlushCbs.includes(cb, cb.allowRecurse ? postFlushIndex + 1 : postFlushIndex)) {\r\n            pendingPostFlushCbs.push(cb);\r\n        }\r\n    }\r\n    else {\r\n        // if cb is an array, it is a component lifecycle hook which can only be\r\n        // triggered by a job, which is already deduped in the main queue, so\r\n        // we can skip duplicate check here to improve perf\r\n        pendingPostFlushCbs.push(...cb);\r\n    }\r\n    queueFlush();\r\n}\r\nfunction flushPreFlushCbs(seen, \r\n// if currently flushing, skip the current job itself\r\ni = isFlushing ? flushIndex + 1 : 0) {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        seen = seen || new Map();\r\n    }\r\n    for (; i < queue.length; i++) {\r\n        const cb = queue[i];\r\n        if (cb && cb.pre) {\r\n            if ((process.env.NODE_ENV !== 'production') && checkRecursiveUpdates(seen, cb)) {\r\n                continue;\r\n            }\r\n            queue.splice(i, 1);\r\n            i--;\r\n            cb();\r\n        }\r\n    }\r\n}\r\nfunction flushPostFlushCbs(seen) {\r\n    if (pendingPostFlushCbs.length) {\r\n        const deduped = [...new Set(pendingPostFlushCbs)];\r\n        pendingPostFlushCbs.length = 0;\r\n        // #1947 already has active queue, nested flushPostFlushCbs call\r\n        if (activePostFlushCbs) {\r\n            activePostFlushCbs.push(...deduped);\r\n            return;\r\n        }\r\n        activePostFlushCbs = deduped;\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            seen = seen || new Map();\r\n        }\r\n        activePostFlushCbs.sort((a, b) => getId(a) - getId(b));\r\n        for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                checkRecursiveUpdates(seen, activePostFlushCbs[postFlushIndex])) {\r\n                continue;\r\n            }\r\n            activePostFlushCbs[postFlushIndex]();\r\n        }\r\n        activePostFlushCbs = null;\r\n        postFlushIndex = 0;\r\n    }\r\n}\r\nconst getId = (job) => job.id == null ? Infinity : job.id;\r\nconst comparator = (a, b) => {\r\n    const diff = getId(a) - getId(b);\r\n    if (diff === 0) {\r\n        if (a.pre && !b.pre)\r\n            return -1;\r\n        if (b.pre && !a.pre)\r\n            return 1;\r\n    }\r\n    return diff;\r\n};\r\nfunction flushJobs(seen) {\r\n    isFlushPending = false;\r\n    isFlushing = true;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        seen = seen || new Map();\r\n    }\r\n    // Sort queue before flush.\r\n    // This ensures that:\r\n    // 1. Components are updated from parent to child. (because parent is always\r\n    //    created before the child so its render effect will have smaller\r\n    //    priority number)\r\n    // 2. If a component is unmounted during a parent component's update,\r\n    //    its update can be skipped.\r\n    queue.sort(comparator);\r\n    // conditional usage of checkRecursiveUpdate must be determined out of\r\n    // try ... catch block since Rollup by default de-optimizes treeshaking\r\n    // inside try-catch. This can leave all warning code unshaked. Although\r\n    // they would get eventually shaken by a minifier like terser, some minifiers\r\n    // would fail to do that (e.g. https://github.com/evanw/esbuild/issues/1610)\r\n    const check = (process.env.NODE_ENV !== 'production')\r\n        ? (job) => checkRecursiveUpdates(seen, job)\r\n        : NOOP;\r\n    try {\r\n        for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {\r\n            const job = queue[flushIndex];\r\n            if (job && job.active !== false) {\r\n                if ((process.env.NODE_ENV !== 'production') && check(job)) {\r\n                    continue;\r\n                }\r\n                // console.log(`running:`, job.id)\r\n                callWithErrorHandling(job, null, 14 /* ErrorCodes.SCHEDULER */);\r\n            }\r\n        }\r\n    }\r\n    finally {\r\n        flushIndex = 0;\r\n        queue.length = 0;\r\n        flushPostFlushCbs(seen);\r\n        isFlushing = false;\r\n        currentFlushPromise = null;\r\n        // some postFlushCb queued jobs!\r\n        // keep flushing until it drains.\r\n        if (queue.length || pendingPostFlushCbs.length) {\r\n            flushJobs(seen);\r\n        }\r\n    }\r\n}\r\nfunction checkRecursiveUpdates(seen, fn) {\r\n    if (!seen.has(fn)) {\r\n        seen.set(fn, 1);\r\n    }\r\n    else {\r\n        const count = seen.get(fn);\r\n        if (count > RECURSION_LIMIT) {\r\n            const instance = fn.ownerInstance;\r\n            const componentName = instance && getComponentName(instance.type);\r\n            warn(`Maximum recursive updates exceeded${componentName ? ` in component <${componentName}>` : ``}. ` +\r\n                `This means you have a reactive effect that is mutating its own ` +\r\n                `dependencies and thus recursively triggering itself. Possible sources ` +\r\n                `include component template, render function, updated hook or ` +\r\n                `watcher source function.`);\r\n            return true;\r\n        }\r\n        else {\r\n            seen.set(fn, count + 1);\r\n        }\r\n    }\r\n}\n\n/* eslint-disable no-restricted-globals */\r\nlet isHmrUpdating = false;\r\nconst hmrDirtyComponents = new Set();\r\n// Expose the HMR runtime on the global object\r\n// This makes it entirely tree-shakable without polluting the exports and makes\r\n// it easier to be used in toolings like vue-loader\r\n// Note: for a component to be eligible for HMR it also needs the __hmrId option\r\n// to be set so that its instances can be registered / removed.\r\nif ((process.env.NODE_ENV !== 'production')) {\r\n    getGlobalThis().__VUE_HMR_RUNTIME__ = {\r\n        createRecord: tryWrap(createRecord),\r\n        rerender: tryWrap(rerender),\r\n        reload: tryWrap(reload)\r\n    };\r\n}\r\nconst map = new Map();\r\nfunction registerHMR(instance) {\r\n    const id = instance.type.__hmrId;\r\n    let record = map.get(id);\r\n    if (!record) {\r\n        createRecord(id, instance.type);\r\n        record = map.get(id);\r\n    }\r\n    record.instances.add(instance);\r\n}\r\nfunction unregisterHMR(instance) {\r\n    map.get(instance.type.__hmrId).instances.delete(instance);\r\n}\r\nfunction createRecord(id, initialDef) {\r\n    if (map.has(id)) {\r\n        return false;\r\n    }\r\n    map.set(id, {\r\n        initialDef: normalizeClassComponent(initialDef),\r\n        instances: new Set()\r\n    });\r\n    return true;\r\n}\r\nfunction normalizeClassComponent(component) {\r\n    return isClassComponent(component) ? component.__vccOpts : component;\r\n}\r\nfunction rerender(id, newRender) {\r\n    const record = map.get(id);\r\n    if (!record) {\r\n        return;\r\n    }\r\n    // update initial record (for not-yet-rendered component)\r\n    record.initialDef.render = newRender;\r\n    [...record.instances].forEach(instance => {\r\n        if (newRender) {\r\n            instance.render = newRender;\r\n            normalizeClassComponent(instance.type).render = newRender;\r\n        }\r\n        instance.renderCache = [];\r\n        // this flag forces child components with slot content to update\r\n        isHmrUpdating = true;\r\n        instance.update();\r\n        isHmrUpdating = false;\r\n    });\r\n}\r\nfunction reload(id, newComp) {\r\n    const record = map.get(id);\r\n    if (!record)\r\n        return;\r\n    newComp = normalizeClassComponent(newComp);\r\n    // update initial def (for not-yet-rendered components)\r\n    updateComponentDef(record.initialDef, newComp);\r\n    // create a snapshot which avoids the set being mutated during updates\r\n    const instances = [...record.instances];\r\n    for (const instance of instances) {\r\n        const oldComp = normalizeClassComponent(instance.type);\r\n        if (!hmrDirtyComponents.has(oldComp)) {\r\n            // 1. Update existing comp definition to match new one\r\n            if (oldComp !== record.initialDef) {\r\n                updateComponentDef(oldComp, newComp);\r\n            }\r\n            // 2. mark definition dirty. This forces the renderer to replace the\r\n            // component on patch.\r\n            hmrDirtyComponents.add(oldComp);\r\n        }\r\n        // 3. invalidate options resolution cache\r\n        instance.appContext.optionsCache.delete(instance.type);\r\n        // 4. actually update\r\n        if (instance.ceReload) {\r\n            // custom element\r\n            hmrDirtyComponents.add(oldComp);\r\n            instance.ceReload(newComp.styles);\r\n            hmrDirtyComponents.delete(oldComp);\r\n        }\r\n        else if (instance.parent) {\r\n            // 4. Force the parent instance to re-render. This will cause all updated\r\n            // components to be unmounted and re-mounted. Queue the update so that we\r\n            // don't end up forcing the same parent to re-render multiple times.\r\n            queueJob(instance.parent.update);\r\n            // instance is the inner component of an async custom element\r\n            // invoke to reset styles\r\n            if (instance.parent.type.__asyncLoader &&\r\n                instance.parent.ceReload) {\r\n                instance.parent.ceReload(newComp.styles);\r\n            }\r\n        }\r\n        else if (instance.appContext.reload) {\r\n            // root instance mounted via createApp() has a reload method\r\n            instance.appContext.reload();\r\n        }\r\n        else if (typeof window !== 'undefined') {\r\n            // root instance inside tree created via raw render(). Force reload.\r\n            window.location.reload();\r\n        }\r\n        else {\r\n            console.warn('[HMR] Root or manually mounted instance modified. Full reload required.');\r\n        }\r\n    }\r\n    // 5. make sure to cleanup dirty hmr components after update\r\n    queuePostFlushCb(() => {\r\n        for (const instance of instances) {\r\n            hmrDirtyComponents.delete(normalizeClassComponent(instance.type));\r\n        }\r\n    });\r\n}\r\nfunction updateComponentDef(oldComp, newComp) {\r\n    extend(oldComp, newComp);\r\n    for (const key in oldComp) {\r\n        if (key !== '__file' && !(key in newComp)) {\r\n            delete oldComp[key];\r\n        }\r\n    }\r\n}\r\nfunction tryWrap(fn) {\r\n    return (id, arg) => {\r\n        try {\r\n            return fn(id, arg);\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            console.warn(`[HMR] Something went wrong during Vue component hot-reload. ` +\r\n                `Full reload required.`);\r\n        }\r\n    };\r\n}\n\nlet devtools;\r\nlet buffer = [];\r\nlet devtoolsNotInstalled = false;\r\nfunction emit(event, ...args) {\r\n    if (devtools) {\r\n        devtools.emit(event, ...args);\r\n    }\r\n    else if (!devtoolsNotInstalled) {\r\n        buffer.push({ event, args });\r\n    }\r\n}\r\nfunction setDevtoolsHook(hook, target) {\r\n    var _a, _b;\r\n    devtools = hook;\r\n    if (devtools) {\r\n        devtools.enabled = true;\r\n        buffer.forEach(({ event, args }) => devtools.emit(event, ...args));\r\n        buffer = [];\r\n    }\r\n    else if (\r\n    // handle late devtools injection - only do this if we are in an actual\r\n    // browser environment to avoid the timer handle stalling test runner exit\r\n    // (#4815)\r\n    typeof window !== 'undefined' &&\r\n        // some envs mock window but not fully\r\n        window.HTMLElement &&\r\n        // also exclude jsdom\r\n        !((_b = (_a = window.navigator) === null || _a === void 0 ? void 0 : _a.userAgent) === null || _b === void 0 ? void 0 : _b.includes('jsdom'))) {\r\n        const replay = (target.__VUE_DEVTOOLS_HOOK_REPLAY__ =\r\n            target.__VUE_DEVTOOLS_HOOK_REPLAY__ || []);\r\n        replay.push((newHook) => {\r\n            setDevtoolsHook(newHook, target);\r\n        });\r\n        // clear buffer after 3s - the user probably doesn't have devtools installed\r\n        // at all, and keeping the buffer will cause memory leaks (#4738)\r\n        setTimeout(() => {\r\n            if (!devtools) {\r\n                target.__VUE_DEVTOOLS_HOOK_REPLAY__ = null;\r\n                devtoolsNotInstalled = true;\r\n                buffer = [];\r\n            }\r\n        }, 3000);\r\n    }\r\n    else {\r\n        // non-browser env, assume not installed\r\n        devtoolsNotInstalled = true;\r\n        buffer = [];\r\n    }\r\n}\r\nfunction devtoolsInitApp(app, version) {\r\n    emit(\"app:init\" /* DevtoolsHooks.APP_INIT */, app, version, {\r\n        Fragment,\r\n        Text,\r\n        Comment,\r\n        Static\r\n    });\r\n}\r\nfunction devtoolsUnmountApp(app) {\r\n    emit(\"app:unmount\" /* DevtoolsHooks.APP_UNMOUNT */, app);\r\n}\r\nconst devtoolsComponentAdded = /*#__PURE__*/ createDevtoolsComponentHook(\"component:added\" /* DevtoolsHooks.COMPONENT_ADDED */);\r\nconst devtoolsComponentUpdated = \r\n/*#__PURE__*/ createDevtoolsComponentHook(\"component:updated\" /* DevtoolsHooks.COMPONENT_UPDATED */);\r\nconst devtoolsComponentRemoved = \r\n/*#__PURE__*/ createDevtoolsComponentHook(\"component:removed\" /* DevtoolsHooks.COMPONENT_REMOVED */);\r\nfunction createDevtoolsComponentHook(hook) {\r\n    return (component) => {\r\n        emit(hook, component.appContext.app, component.uid, component.parent ? component.parent.uid : undefined, component);\r\n    };\r\n}\r\nconst devtoolsPerfStart = /*#__PURE__*/ createDevtoolsPerformanceHook(\"perf:start\" /* DevtoolsHooks.PERFORMANCE_START */);\r\nconst devtoolsPerfEnd = /*#__PURE__*/ createDevtoolsPerformanceHook(\"perf:end\" /* DevtoolsHooks.PERFORMANCE_END */);\r\nfunction createDevtoolsPerformanceHook(hook) {\r\n    return (component, type, time) => {\r\n        emit(hook, component.appContext.app, component.uid, component, type, time);\r\n    };\r\n}\r\nfunction devtoolsComponentEmit(component, event, params) {\r\n    emit(\"component:emit\" /* DevtoolsHooks.COMPONENT_EMIT */, component.appContext.app, component, event, params);\r\n}\n\nfunction emit$1(instance, event, ...rawArgs) {\r\n    if (instance.isUnmounted)\r\n        return;\r\n    const props = instance.vnode.props || EMPTY_OBJ;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const { emitsOptions, propsOptions: [propsOptions] } = instance;\r\n        if (emitsOptions) {\r\n            if (!(event in emitsOptions) &&\r\n                !(false )) {\r\n                if (!propsOptions || !(toHandlerKey(event) in propsOptions)) {\r\n                    warn(`Component emitted event \"${event}\" but it is neither declared in ` +\r\n                        `the emits option nor as an \"${toHandlerKey(event)}\" prop.`);\r\n                }\r\n            }\r\n            else {\r\n                const validator = emitsOptions[event];\r\n                if (isFunction(validator)) {\r\n                    const isValid = validator(...rawArgs);\r\n                    if (!isValid) {\r\n                        warn(`Invalid event arguments: event validation failed for event \"${event}\".`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    let args = rawArgs;\r\n    const isModelListener = event.startsWith('update:');\r\n    // for v-model update:xxx events, apply modifiers on args\r\n    const modelArg = isModelListener && event.slice(7);\r\n    if (modelArg && modelArg in props) {\r\n        const modifiersKey = `${modelArg === 'modelValue' ? 'model' : modelArg}Modifiers`;\r\n        const { number, trim } = props[modifiersKey] || EMPTY_OBJ;\r\n        if (trim) {\r\n            args = rawArgs.map(a => a.trim());\r\n        }\r\n        if (number) {\r\n            args = rawArgs.map(toNumber);\r\n        }\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n        devtoolsComponentEmit(instance, event, args);\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const lowerCaseEvent = event.toLowerCase();\r\n        if (lowerCaseEvent !== event && props[toHandlerKey(lowerCaseEvent)]) {\r\n            warn(`Event \"${lowerCaseEvent}\" is emitted in component ` +\r\n                `${formatComponentName(instance, instance.type)} but the handler is registered for \"${event}\". ` +\r\n                `Note that HTML attributes are case-insensitive and you cannot use ` +\r\n                `v-on to listen to camelCase events when using in-DOM templates. ` +\r\n                `You should probably use \"${hyphenate(event)}\" instead of \"${event}\".`);\r\n        }\r\n    }\r\n    let handlerName;\r\n    let handler = props[(handlerName = toHandlerKey(event))] ||\r\n        // also try camelCase event handler (#2249)\r\n        props[(handlerName = toHandlerKey(camelize(event)))];\r\n    // for v-model update:xxx events, also trigger kebab-case equivalent\r\n    // for props passed via kebab-case\r\n    if (!handler && isModelListener) {\r\n        handler = props[(handlerName = toHandlerKey(hyphenate(event)))];\r\n    }\r\n    if (handler) {\r\n        callWithAsyncErrorHandling(handler, instance, 6 /* ErrorCodes.COMPONENT_EVENT_HANDLER */, args);\r\n    }\r\n    const onceHandler = props[handlerName + `Once`];\r\n    if (onceHandler) {\r\n        if (!instance.emitted) {\r\n            instance.emitted = {};\r\n        }\r\n        else if (instance.emitted[handlerName]) {\r\n            return;\r\n        }\r\n        instance.emitted[handlerName] = true;\r\n        callWithAsyncErrorHandling(onceHandler, instance, 6 /* ErrorCodes.COMPONENT_EVENT_HANDLER */, args);\r\n    }\r\n}\r\nfunction normalizeEmitsOptions(comp, appContext, asMixin = false) {\r\n    const cache = appContext.emitsCache;\r\n    const cached = cache.get(comp);\r\n    if (cached !== undefined) {\r\n        return cached;\r\n    }\r\n    const raw = comp.emits;\r\n    let normalized = {};\r\n    // apply mixin/extends props\r\n    let hasExtends = false;\r\n    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\r\n        const extendEmits = (raw) => {\r\n            const normalizedFromExtend = normalizeEmitsOptions(raw, appContext, true);\r\n            if (normalizedFromExtend) {\r\n                hasExtends = true;\r\n                extend(normalized, normalizedFromExtend);\r\n            }\r\n        };\r\n        if (!asMixin && appContext.mixins.length) {\r\n            appContext.mixins.forEach(extendEmits);\r\n        }\r\n        if (comp.extends) {\r\n            extendEmits(comp.extends);\r\n        }\r\n        if (comp.mixins) {\r\n            comp.mixins.forEach(extendEmits);\r\n        }\r\n    }\r\n    if (!raw && !hasExtends) {\r\n        if (isObject(comp)) {\r\n            cache.set(comp, null);\r\n        }\r\n        return null;\r\n    }\r\n    if (isArray(raw)) {\r\n        raw.forEach(key => (normalized[key] = null));\r\n    }\r\n    else {\r\n        extend(normalized, raw);\r\n    }\r\n    if (isObject(comp)) {\r\n        cache.set(comp, normalized);\r\n    }\r\n    return normalized;\r\n}\r\n// Check if an incoming prop key is a declared emit event listener.\r\n// e.g. With `emits: { click: null }`, props named `onClick` and `onclick` are\r\n// both considered matched listeners.\r\nfunction isEmitListener(options, key) {\r\n    if (!options || !isOn(key)) {\r\n        return false;\r\n    }\r\n    key = key.slice(2).replace(/Once$/, '');\r\n    return (hasOwn(options, key[0].toLowerCase() + key.slice(1)) ||\r\n        hasOwn(options, hyphenate(key)) ||\r\n        hasOwn(options, key));\r\n}\n\n/**\r\n * mark the current rendering instance for asset resolution (e.g.\r\n * resolveComponent, resolveDirective) during render\r\n */\r\nlet currentRenderingInstance = null;\r\nlet currentScopeId = null;\r\n/**\r\n * Note: rendering calls maybe nested. The function returns the parent rendering\r\n * instance if present, which should be restored after the render is done:\r\n *\r\n * ```js\r\n * const prev = setCurrentRenderingInstance(i)\r\n * // ...render\r\n * setCurrentRenderingInstance(prev)\r\n * ```\r\n */\r\nfunction setCurrentRenderingInstance(instance) {\r\n    const prev = currentRenderingInstance;\r\n    currentRenderingInstance = instance;\r\n    currentScopeId = (instance && instance.type.__scopeId) || null;\r\n    return prev;\r\n}\r\n/**\r\n * Set scope id when creating hoisted vnodes.\r\n * @private compiler helper\r\n */\r\nfunction pushScopeId(id) {\r\n    currentScopeId = id;\r\n}\r\n/**\r\n * Technically we no longer need this after 3.0.8 but we need to keep the same\r\n * API for backwards compat w/ code generated by compilers.\r\n * @private\r\n */\r\nfunction popScopeId() {\r\n    currentScopeId = null;\r\n}\r\n/**\r\n * Only for backwards compat\r\n * @private\r\n */\r\nconst withScopeId = (_id) => withCtx;\r\n/**\r\n * Wrap a slot function to memoize current rendering instance\r\n * @private compiler helper\r\n */\r\nfunction withCtx(fn, ctx = currentRenderingInstance, isNonScopedSlot // false only\r\n) {\r\n    if (!ctx)\r\n        return fn;\r\n    // already normalized\r\n    if (fn._n) {\r\n        return fn;\r\n    }\r\n    const renderFnWithContext = (...args) => {\r\n        // If a user calls a compiled slot inside a template expression (#1745), it\r\n        // can mess up block tracking, so by default we disable block tracking and\r\n        // force bail out when invoking a compiled slot (indicated by the ._d flag).\r\n        // This isn't necessary if rendering a compiled `<slot>`, so we flip the\r\n        // ._d flag off when invoking the wrapped fn inside `renderSlot`.\r\n        if (renderFnWithContext._d) {\r\n            setBlockTracking(-1);\r\n        }\r\n        const prevInstance = setCurrentRenderingInstance(ctx);\r\n        const res = fn(...args);\r\n        setCurrentRenderingInstance(prevInstance);\r\n        if (renderFnWithContext._d) {\r\n            setBlockTracking(1);\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            devtoolsComponentUpdated(ctx);\r\n        }\r\n        return res;\r\n    };\r\n    // mark normalized to avoid duplicated wrapping\r\n    renderFnWithContext._n = true;\r\n    // mark this as compiled by default\r\n    // this is used in vnode.ts -> normalizeChildren() to set the slot\r\n    // rendering flag.\r\n    renderFnWithContext._c = true;\r\n    // disable block tracking by default\r\n    renderFnWithContext._d = true;\r\n    return renderFnWithContext;\r\n}\n\n/**\r\n * dev only flag to track whether $attrs was used during render.\r\n * If $attrs was used during render then the warning for failed attrs\r\n * fallthrough can be suppressed.\r\n */\r\nlet accessedAttrs = false;\r\nfunction markAttrsAccessed() {\r\n    accessedAttrs = true;\r\n}\r\nfunction renderComponentRoot(instance) {\r\n    const { type: Component, vnode, proxy, withProxy, props, propsOptions: [propsOptions], slots, attrs, emit, render, renderCache, data, setupState, ctx, inheritAttrs } = instance;\r\n    let result;\r\n    let fallthroughAttrs;\r\n    const prev = setCurrentRenderingInstance(instance);\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        accessedAttrs = false;\r\n    }\r\n    try {\r\n        if (vnode.shapeFlag & 4 /* ShapeFlags.STATEFUL_COMPONENT */) {\r\n            // withProxy is a proxy with a different `has` trap only for\r\n            // runtime-compiled render functions using `with` block.\r\n            const proxyToUse = withProxy || proxy;\r\n            result = normalizeVNode(render.call(proxyToUse, proxyToUse, renderCache, props, setupState, data, ctx));\r\n            fallthroughAttrs = attrs;\r\n        }\r\n        else {\r\n            // functional\r\n            const render = Component;\r\n            // in dev, mark attrs accessed if optional props (attrs === props)\r\n            if ((process.env.NODE_ENV !== 'production') && attrs === props) {\r\n                markAttrsAccessed();\r\n            }\r\n            result = normalizeVNode(render.length > 1\r\n                ? render(props, (process.env.NODE_ENV !== 'production')\r\n                    ? {\r\n                        get attrs() {\r\n                            markAttrsAccessed();\r\n                            return attrs;\r\n                        },\r\n                        slots,\r\n                        emit\r\n                    }\r\n                    : { attrs, slots, emit })\r\n                : render(props, null /* we know it doesn't need it */));\r\n            fallthroughAttrs = Component.props\r\n                ? attrs\r\n                : getFunctionalFallthrough(attrs);\r\n        }\r\n    }\r\n    catch (err) {\r\n        blockStack.length = 0;\r\n        handleError(err, instance, 1 /* ErrorCodes.RENDER_FUNCTION */);\r\n        result = createVNode(Comment);\r\n    }\r\n    // attr merging\r\n    // in dev mode, comments are preserved, and it's possible for a template\r\n    // to have comments along side the root element which makes it a fragment\r\n    let root = result;\r\n    let setRoot = undefined;\r\n    if ((process.env.NODE_ENV !== 'production') &&\r\n        result.patchFlag > 0 &&\r\n        result.patchFlag & 2048 /* PatchFlags.DEV_ROOT_FRAGMENT */) {\r\n        [root, setRoot] = getChildRoot(result);\r\n    }\r\n    if (fallthroughAttrs && inheritAttrs !== false) {\r\n        const keys = Object.keys(fallthroughAttrs);\r\n        const { shapeFlag } = root;\r\n        if (keys.length) {\r\n            if (shapeFlag & (1 /* ShapeFlags.ELEMENT */ | 6 /* ShapeFlags.COMPONENT */)) {\r\n                if (propsOptions && keys.some(isModelListener)) {\r\n                    // If a v-model listener (onUpdate:xxx) has a corresponding declared\r\n                    // prop, it indicates this component expects to handle v-model and\r\n                    // it should not fallthrough.\r\n                    // related: #1543, #1643, #1989\r\n                    fallthroughAttrs = filterModelListeners(fallthroughAttrs, propsOptions);\r\n                }\r\n                root = cloneVNode(root, fallthroughAttrs);\r\n            }\r\n            else if ((process.env.NODE_ENV !== 'production') && !accessedAttrs && root.type !== Comment) {\r\n                const allAttrs = Object.keys(attrs);\r\n                const eventAttrs = [];\r\n                const extraAttrs = [];\r\n                for (let i = 0, l = allAttrs.length; i < l; i++) {\r\n                    const key = allAttrs[i];\r\n                    if (isOn(key)) {\r\n                        // ignore v-model handlers when they fail to fallthrough\r\n                        if (!isModelListener(key)) {\r\n                            // remove `on`, lowercase first letter to reflect event casing\r\n                            // accurately\r\n                            eventAttrs.push(key[2].toLowerCase() + key.slice(3));\r\n                        }\r\n                    }\r\n                    else {\r\n                        extraAttrs.push(key);\r\n                    }\r\n                }\r\n                if (extraAttrs.length) {\r\n                    warn(`Extraneous non-props attributes (` +\r\n                        `${extraAttrs.join(', ')}) ` +\r\n                        `were passed to component but could not be automatically inherited ` +\r\n                        `because component renders fragment or text root nodes.`);\r\n                }\r\n                if (eventAttrs.length) {\r\n                    warn(`Extraneous non-emits event listeners (` +\r\n                        `${eventAttrs.join(', ')}) ` +\r\n                        `were passed to component but could not be automatically inherited ` +\r\n                        `because component renders fragment or text root nodes. ` +\r\n                        `If the listener is intended to be a component custom event listener only, ` +\r\n                        `declare it using the \"emits\" option.`);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // inherit directives\r\n    if (vnode.dirs) {\r\n        if ((process.env.NODE_ENV !== 'production') && !isElementRoot(root)) {\r\n            warn(`Runtime directive used on component with non-element root node. ` +\r\n                `The directives will not function as intended.`);\r\n        }\r\n        // clone before mutating since the root may be a hoisted vnode\r\n        root = cloneVNode(root);\r\n        root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;\r\n    }\r\n    // inherit transition data\r\n    if (vnode.transition) {\r\n        if ((process.env.NODE_ENV !== 'production') && !isElementRoot(root)) {\r\n            warn(`Component inside <Transition> renders non-element root node ` +\r\n                `that cannot be animated.`);\r\n        }\r\n        root.transition = vnode.transition;\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && setRoot) {\r\n        setRoot(root);\r\n    }\r\n    else {\r\n        result = root;\r\n    }\r\n    setCurrentRenderingInstance(prev);\r\n    return result;\r\n}\r\n/**\r\n * dev only\r\n * In dev mode, template root level comments are rendered, which turns the\r\n * template into a fragment root, but we need to locate the single element\r\n * root for attrs and scope id processing.\r\n */\r\nconst getChildRoot = (vnode) => {\r\n    const rawChildren = vnode.children;\r\n    const dynamicChildren = vnode.dynamicChildren;\r\n    const childRoot = filterSingleRoot(rawChildren);\r\n    if (!childRoot) {\r\n        return [vnode, undefined];\r\n    }\r\n    const index = rawChildren.indexOf(childRoot);\r\n    const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;\r\n    const setRoot = (updatedRoot) => {\r\n        rawChildren[index] = updatedRoot;\r\n        if (dynamicChildren) {\r\n            if (dynamicIndex > -1) {\r\n                dynamicChildren[dynamicIndex] = updatedRoot;\r\n            }\r\n            else if (updatedRoot.patchFlag > 0) {\r\n                vnode.dynamicChildren = [...dynamicChildren, updatedRoot];\r\n            }\r\n        }\r\n    };\r\n    return [normalizeVNode(childRoot), setRoot];\r\n};\r\nfunction filterSingleRoot(children) {\r\n    let singleRoot;\r\n    for (let i = 0; i < children.length; i++) {\r\n        const child = children[i];\r\n        if (isVNode(child)) {\r\n            // ignore user comment\r\n            if (child.type !== Comment || child.children === 'v-if') {\r\n                if (singleRoot) {\r\n                    // has more than 1 non-comment child, return now\r\n                    return;\r\n                }\r\n                else {\r\n                    singleRoot = child;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n    }\r\n    return singleRoot;\r\n}\r\nconst getFunctionalFallthrough = (attrs) => {\r\n    let res;\r\n    for (const key in attrs) {\r\n        if (key === 'class' || key === 'style' || isOn(key)) {\r\n            (res || (res = {}))[key] = attrs[key];\r\n        }\r\n    }\r\n    return res;\r\n};\r\nconst filterModelListeners = (attrs, props) => {\r\n    const res = {};\r\n    for (const key in attrs) {\r\n        if (!isModelListener(key) || !(key.slice(9) in props)) {\r\n            res[key] = attrs[key];\r\n        }\r\n    }\r\n    return res;\r\n};\r\nconst isElementRoot = (vnode) => {\r\n    return (vnode.shapeFlag & (6 /* ShapeFlags.COMPONENT */ | 1 /* ShapeFlags.ELEMENT */) ||\r\n        vnode.type === Comment // potential v-if branch switch\r\n    );\r\n};\r\nfunction shouldUpdateComponent(prevVNode, nextVNode, optimized) {\r\n    const { props: prevProps, children: prevChildren, component } = prevVNode;\r\n    const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;\r\n    const emits = component.emitsOptions;\r\n    // Parent component's render function was hot-updated. Since this may have\r\n    // caused the child component's slots content to have changed, we need to\r\n    // force the child to update as well.\r\n    if ((process.env.NODE_ENV !== 'production') && (prevChildren || nextChildren) && isHmrUpdating) {\r\n        return true;\r\n    }\r\n    // force child update for runtime directive or transition on component vnode.\r\n    if (nextVNode.dirs || nextVNode.transition) {\r\n        return true;\r\n    }\r\n    if (optimized && patchFlag >= 0) {\r\n        if (patchFlag & 1024 /* PatchFlags.DYNAMIC_SLOTS */) {\r\n            // slot content that references values that might have changed,\r\n            // e.g. in a v-for\r\n            return true;\r\n        }\r\n        if (patchFlag & 16 /* PatchFlags.FULL_PROPS */) {\r\n            if (!prevProps) {\r\n                return !!nextProps;\r\n            }\r\n            // presence of this flag indicates props are always non-null\r\n            return hasPropsChanged(prevProps, nextProps, emits);\r\n        }\r\n        else if (patchFlag & 8 /* PatchFlags.PROPS */) {\r\n            const dynamicProps = nextVNode.dynamicProps;\r\n            for (let i = 0; i < dynamicProps.length; i++) {\r\n                const key = dynamicProps[i];\r\n                if (nextProps[key] !== prevProps[key] &&\r\n                    !isEmitListener(emits, key)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // this path is only taken by manually written render functions\r\n        // so presence of any children leads to a forced update\r\n        if (prevChildren || nextChildren) {\r\n            if (!nextChildren || !nextChildren.$stable) {\r\n                return true;\r\n            }\r\n        }\r\n        if (prevProps === nextProps) {\r\n            return false;\r\n        }\r\n        if (!prevProps) {\r\n            return !!nextProps;\r\n        }\r\n        if (!nextProps) {\r\n            return true;\r\n        }\r\n        return hasPropsChanged(prevProps, nextProps, emits);\r\n    }\r\n    return false;\r\n}\r\nfunction hasPropsChanged(prevProps, nextProps, emitsOptions) {\r\n    const nextKeys = Object.keys(nextProps);\r\n    if (nextKeys.length !== Object.keys(prevProps).length) {\r\n        return true;\r\n    }\r\n    for (let i = 0; i < nextKeys.length; i++) {\r\n        const key = nextKeys[i];\r\n        if (nextProps[key] !== prevProps[key] &&\r\n            !isEmitListener(emitsOptions, key)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction updateHOCHostEl({ vnode, parent }, el // HostNode\r\n) {\r\n    while (parent && parent.subTree === vnode) {\r\n        (vnode = parent.vnode).el = el;\r\n        parent = parent.parent;\r\n    }\r\n}\n\nconst isSuspense = (type) => type.__isSuspense;\r\n// Suspense exposes a component-like API, and is treated like a component\r\n// in the compiler, but internally it's a special built-in type that hooks\r\n// directly into the renderer.\r\nconst SuspenseImpl = {\r\n    name: 'Suspense',\r\n    // In order to make Suspense tree-shakable, we need to avoid importing it\r\n    // directly in the renderer. The renderer checks for the __isSuspense flag\r\n    // on a vnode's type and calls the `process` method, passing in renderer\r\n    // internals.\r\n    __isSuspense: true,\r\n    process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, \r\n    // platform-specific impl passed from renderer\r\n    rendererInternals) {\r\n        if (n1 == null) {\r\n            mountSuspense(n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals);\r\n        }\r\n        else {\r\n            patchSuspense(n1, n2, container, anchor, parentComponent, isSVG, slotScopeIds, optimized, rendererInternals);\r\n        }\r\n    },\r\n    hydrate: hydrateSuspense,\r\n    create: createSuspenseBoundary,\r\n    normalize: normalizeSuspenseChildren\r\n};\r\n// Force-casted public typing for h and TSX props inference\r\nconst Suspense = (SuspenseImpl );\r\nfunction triggerEvent(vnode, name) {\r\n    const eventListener = vnode.props && vnode.props[name];\r\n    if (isFunction(eventListener)) {\r\n        eventListener();\r\n    }\r\n}\r\nfunction mountSuspense(vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals) {\r\n    const { p: patch, o: { createElement } } = rendererInternals;\r\n    const hiddenContainer = createElement('div');\r\n    const suspense = (vnode.suspense = createSuspenseBoundary(vnode, parentSuspense, parentComponent, container, hiddenContainer, anchor, isSVG, slotScopeIds, optimized, rendererInternals));\r\n    // start mounting the content subtree in an off-dom container\r\n    patch(null, (suspense.pendingBranch = vnode.ssContent), hiddenContainer, null, parentComponent, suspense, isSVG, slotScopeIds);\r\n    // now check if we have encountered any async deps\r\n    if (suspense.deps > 0) {\r\n        // has async\r\n        // invoke @fallback event\r\n        triggerEvent(vnode, 'onPending');\r\n        triggerEvent(vnode, 'onFallback');\r\n        // mount the fallback tree\r\n        patch(null, vnode.ssFallback, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n        isSVG, slotScopeIds);\r\n        setActiveBranch(suspense, vnode.ssFallback);\r\n    }\r\n    else {\r\n        // Suspense has no async deps. Just resolve.\r\n        suspense.resolve();\r\n    }\r\n}\r\nfunction patchSuspense(n1, n2, container, anchor, parentComponent, isSVG, slotScopeIds, optimized, { p: patch, um: unmount, o: { createElement } }) {\r\n    const suspense = (n2.suspense = n1.suspense);\r\n    suspense.vnode = n2;\r\n    n2.el = n1.el;\r\n    const newBranch = n2.ssContent;\r\n    const newFallback = n2.ssFallback;\r\n    const { activeBranch, pendingBranch, isInFallback, isHydrating } = suspense;\r\n    if (pendingBranch) {\r\n        suspense.pendingBranch = newBranch;\r\n        if (isSameVNodeType(newBranch, pendingBranch)) {\r\n            // same root type but content may have changed.\r\n            patch(pendingBranch, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n            if (suspense.deps <= 0) {\r\n                suspense.resolve();\r\n            }\r\n            else if (isInFallback) {\r\n                patch(activeBranch, newFallback, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n                isSVG, slotScopeIds, optimized);\r\n                setActiveBranch(suspense, newFallback);\r\n            }\r\n        }\r\n        else {\r\n            // toggled before pending tree is resolved\r\n            suspense.pendingId++;\r\n            if (isHydrating) {\r\n                // if toggled before hydration is finished, the current DOM tree is\r\n                // no longer valid. set it as the active branch so it will be unmounted\r\n                // when resolved\r\n                suspense.isHydrating = false;\r\n                suspense.activeBranch = pendingBranch;\r\n            }\r\n            else {\r\n                unmount(pendingBranch, parentComponent, suspense);\r\n            }\r\n            // increment pending ID. this is used to invalidate async callbacks\r\n            // reset suspense state\r\n            suspense.deps = 0;\r\n            // discard effects from pending branch\r\n            suspense.effects.length = 0;\r\n            // discard previous container\r\n            suspense.hiddenContainer = createElement('div');\r\n            if (isInFallback) {\r\n                // already in fallback state\r\n                patch(null, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n                if (suspense.deps <= 0) {\r\n                    suspense.resolve();\r\n                }\r\n                else {\r\n                    patch(activeBranch, newFallback, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n                    isSVG, slotScopeIds, optimized);\r\n                    setActiveBranch(suspense, newFallback);\r\n                }\r\n            }\r\n            else if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\r\n                // toggled \"back\" to current active branch\r\n                patch(activeBranch, newBranch, container, anchor, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n                // force resolve\r\n                suspense.resolve(true);\r\n            }\r\n            else {\r\n                // switched to a 3rd branch\r\n                patch(null, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n                if (suspense.deps <= 0) {\r\n                    suspense.resolve();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\r\n            // root did not change, just normal patch\r\n            patch(activeBranch, newBranch, container, anchor, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n            setActiveBranch(suspense, newBranch);\r\n        }\r\n        else {\r\n            // root node toggled\r\n            // invoke @pending event\r\n            triggerEvent(n2, 'onPending');\r\n            // mount pending branch in off-dom container\r\n            suspense.pendingBranch = newBranch;\r\n            suspense.pendingId++;\r\n            patch(null, newBranch, suspense.hiddenContainer, null, parentComponent, suspense, isSVG, slotScopeIds, optimized);\r\n            if (suspense.deps <= 0) {\r\n                // incoming branch has no async deps, resolve now.\r\n                suspense.resolve();\r\n            }\r\n            else {\r\n                const { timeout, pendingId } = suspense;\r\n                if (timeout > 0) {\r\n                    setTimeout(() => {\r\n                        if (suspense.pendingId === pendingId) {\r\n                            suspense.fallback(newFallback);\r\n                        }\r\n                    }, timeout);\r\n                }\r\n                else if (timeout === 0) {\r\n                    suspense.fallback(newFallback);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nlet hasWarned = false;\r\nfunction createSuspenseBoundary(vnode, parent, parentComponent, container, hiddenContainer, anchor, isSVG, slotScopeIds, optimized, rendererInternals, isHydrating = false) {\r\n    /* istanbul ignore if */\r\n    if ((process.env.NODE_ENV !== 'production') && !false && !hasWarned) {\r\n        hasWarned = true;\r\n        // @ts-ignore `console.info` cannot be null error\r\n        console[console.info ? 'info' : 'log'](`<Suspense> is an experimental feature and its API will likely change.`);\r\n    }\r\n    const { p: patch, m: move, um: unmount, n: next, o: { parentNode, remove } } = rendererInternals;\r\n    const timeout = toNumber(vnode.props && vnode.props.timeout);\r\n    const suspense = {\r\n        vnode,\r\n        parent,\r\n        parentComponent,\r\n        isSVG,\r\n        container,\r\n        hiddenContainer,\r\n        anchor,\r\n        deps: 0,\r\n        pendingId: 0,\r\n        timeout: typeof timeout === 'number' ? timeout : -1,\r\n        activeBranch: null,\r\n        pendingBranch: null,\r\n        isInFallback: true,\r\n        isHydrating,\r\n        isUnmounted: false,\r\n        effects: [],\r\n        resolve(resume = false) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                if (!resume && !suspense.pendingBranch) {\r\n                    throw new Error(`suspense.resolve() is called without a pending branch.`);\r\n                }\r\n                if (suspense.isUnmounted) {\r\n                    throw new Error(`suspense.resolve() is called on an already unmounted suspense boundary.`);\r\n                }\r\n            }\r\n            const { vnode, activeBranch, pendingBranch, pendingId, effects, parentComponent, container } = suspense;\r\n            if (suspense.isHydrating) {\r\n                suspense.isHydrating = false;\r\n            }\r\n            else if (!resume) {\r\n                const delayEnter = activeBranch &&\r\n                    pendingBranch.transition &&\r\n                    pendingBranch.transition.mode === 'out-in';\r\n                if (delayEnter) {\r\n                    activeBranch.transition.afterLeave = () => {\r\n                        if (pendingId === suspense.pendingId) {\r\n                            move(pendingBranch, container, anchor, 0 /* MoveType.ENTER */);\r\n                        }\r\n                    };\r\n                }\r\n                // this is initial anchor on mount\r\n                let { anchor } = suspense;\r\n                // unmount current active tree\r\n                if (activeBranch) {\r\n                    // if the fallback tree was mounted, it may have been moved\r\n                    // as part of a parent suspense. get the latest anchor for insertion\r\n                    anchor = next(activeBranch);\r\n                    unmount(activeBranch, parentComponent, suspense, true);\r\n                }\r\n                if (!delayEnter) {\r\n                    // move content from off-dom container to actual container\r\n                    move(pendingBranch, container, anchor, 0 /* MoveType.ENTER */);\r\n                }\r\n            }\r\n            setActiveBranch(suspense, pendingBranch);\r\n            suspense.pendingBranch = null;\r\n            suspense.isInFallback = false;\r\n            // flush buffered effects\r\n            // check if there is a pending parent suspense\r\n            let parent = suspense.parent;\r\n            let hasUnresolvedAncestor = false;\r\n            while (parent) {\r\n                if (parent.pendingBranch) {\r\n                    // found a pending parent suspense, merge buffered post jobs\r\n                    // into that parent\r\n                    parent.effects.push(...effects);\r\n                    hasUnresolvedAncestor = true;\r\n                    break;\r\n                }\r\n                parent = parent.parent;\r\n            }\r\n            // no pending parent suspense, flush all jobs\r\n            if (!hasUnresolvedAncestor) {\r\n                queuePostFlushCb(effects);\r\n            }\r\n            suspense.effects = [];\r\n            // invoke @resolve event\r\n            triggerEvent(vnode, 'onResolve');\r\n        },\r\n        fallback(fallbackVNode) {\r\n            if (!suspense.pendingBranch) {\r\n                return;\r\n            }\r\n            const { vnode, activeBranch, parentComponent, container, isSVG } = suspense;\r\n            // invoke @fallback event\r\n            triggerEvent(vnode, 'onFallback');\r\n            const anchor = next(activeBranch);\r\n            const mountFallback = () => {\r\n                if (!suspense.isInFallback) {\r\n                    return;\r\n                }\r\n                // mount the fallback tree\r\n                patch(null, fallbackVNode, container, anchor, parentComponent, null, // fallback tree will not have suspense context\r\n                isSVG, slotScopeIds, optimized);\r\n                setActiveBranch(suspense, fallbackVNode);\r\n            };\r\n            const delayEnter = fallbackVNode.transition && fallbackVNode.transition.mode === 'out-in';\r\n            if (delayEnter) {\r\n                activeBranch.transition.afterLeave = mountFallback;\r\n            }\r\n            suspense.isInFallback = true;\r\n            // unmount current active branch\r\n            unmount(activeBranch, parentComponent, null, // no suspense so unmount hooks fire now\r\n            true // shouldRemove\r\n            );\r\n            if (!delayEnter) {\r\n                mountFallback();\r\n            }\r\n        },\r\n        move(container, anchor, type) {\r\n            suspense.activeBranch &&\r\n                move(suspense.activeBranch, container, anchor, type);\r\n            suspense.container = container;\r\n        },\r\n        next() {\r\n            return suspense.activeBranch && next(suspense.activeBranch);\r\n        },\r\n        registerDep(instance, setupRenderEffect) {\r\n            const isInPendingSuspense = !!suspense.pendingBranch;\r\n            if (isInPendingSuspense) {\r\n                suspense.deps++;\r\n            }\r\n            const hydratedEl = instance.vnode.el;\r\n            instance\r\n                .asyncDep.catch(err => {\r\n                handleError(err, instance, 0 /* ErrorCodes.SETUP_FUNCTION */);\r\n            })\r\n                .then(asyncSetupResult => {\r\n                // retry when the setup() promise resolves.\r\n                // component may have been unmounted before resolve.\r\n                if (instance.isUnmounted ||\r\n                    suspense.isUnmounted ||\r\n                    suspense.pendingId !== instance.suspenseId) {\r\n                    return;\r\n                }\r\n                // retry from this component\r\n                instance.asyncResolved = true;\r\n                const { vnode } = instance;\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    pushWarningContext(vnode);\r\n                }\r\n                handleSetupResult(instance, asyncSetupResult, false);\r\n                if (hydratedEl) {\r\n                    // vnode may have been replaced if an update happened before the\r\n                    // async dep is resolved.\r\n                    vnode.el = hydratedEl;\r\n                }\r\n                const placeholder = !hydratedEl && instance.subTree.el;\r\n                setupRenderEffect(instance, vnode, \r\n                // component may have been moved before resolve.\r\n                // if this is not a hydration, instance.subTree will be the comment\r\n                // placeholder.\r\n                parentNode(hydratedEl || instance.subTree.el), \r\n                // anchor will not be used if this is hydration, so only need to\r\n                // consider the comment placeholder case.\r\n                hydratedEl ? null : next(instance.subTree), suspense, isSVG, optimized);\r\n                if (placeholder) {\r\n                    remove(placeholder);\r\n                }\r\n                updateHOCHostEl(instance, vnode.el);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    popWarningContext();\r\n                }\r\n                // only decrease deps count if suspense is not already resolved\r\n                if (isInPendingSuspense && --suspense.deps === 0) {\r\n                    suspense.resolve();\r\n                }\r\n            });\r\n        },\r\n        unmount(parentSuspense, doRemove) {\r\n            suspense.isUnmounted = true;\r\n            if (suspense.activeBranch) {\r\n                unmount(suspense.activeBranch, parentComponent, parentSuspense, doRemove);\r\n            }\r\n            if (suspense.pendingBranch) {\r\n                unmount(suspense.pendingBranch, parentComponent, parentSuspense, doRemove);\r\n            }\r\n        }\r\n    };\r\n    return suspense;\r\n}\r\nfunction hydrateSuspense(node, vnode, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals, hydrateNode) {\r\n    /* eslint-disable no-restricted-globals */\r\n    const suspense = (vnode.suspense = createSuspenseBoundary(vnode, parentSuspense, parentComponent, node.parentNode, document.createElement('div'), null, isSVG, slotScopeIds, optimized, rendererInternals, true /* hydrating */));\r\n    // there are two possible scenarios for server-rendered suspense:\r\n    // - success: ssr content should be fully resolved\r\n    // - failure: ssr content should be the fallback branch.\r\n    // however, on the client we don't really know if it has failed or not\r\n    // attempt to hydrate the DOM assuming it has succeeded, but we still\r\n    // need to construct a suspense boundary first\r\n    const result = hydrateNode(node, (suspense.pendingBranch = vnode.ssContent), parentComponent, suspense, slotScopeIds, optimized);\r\n    if (suspense.deps === 0) {\r\n        suspense.resolve();\r\n    }\r\n    return result;\r\n    /* eslint-enable no-restricted-globals */\r\n}\r\nfunction normalizeSuspenseChildren(vnode) {\r\n    const { shapeFlag, children } = vnode;\r\n    const isSlotChildren = shapeFlag & 32 /* ShapeFlags.SLOTS_CHILDREN */;\r\n    vnode.ssContent = normalizeSuspenseSlot(isSlotChildren ? children.default : children);\r\n    vnode.ssFallback = isSlotChildren\r\n        ? normalizeSuspenseSlot(children.fallback)\r\n        : createVNode(Comment);\r\n}\r\nfunction normalizeSuspenseSlot(s) {\r\n    let block;\r\n    if (isFunction(s)) {\r\n        const trackBlock = isBlockTreeEnabled && s._c;\r\n        if (trackBlock) {\r\n            // disableTracking: false\r\n            // allow block tracking for compiled slots\r\n            // (see ./componentRenderContext.ts)\r\n            s._d = false;\r\n            openBlock();\r\n        }\r\n        s = s();\r\n        if (trackBlock) {\r\n            s._d = true;\r\n            block = currentBlock;\r\n            closeBlock();\r\n        }\r\n    }\r\n    if (isArray(s)) {\r\n        const singleChild = filterSingleRoot(s);\r\n        if ((process.env.NODE_ENV !== 'production') && !singleChild) {\r\n            warn(`<Suspense> slots expect a single root node.`);\r\n        }\r\n        s = singleChild;\r\n    }\r\n    s = normalizeVNode(s);\r\n    if (block && !s.dynamicChildren) {\r\n        s.dynamicChildren = block.filter(c => c !== s);\r\n    }\r\n    return s;\r\n}\r\nfunction queueEffectWithSuspense(fn, suspense) {\r\n    if (suspense && suspense.pendingBranch) {\r\n        if (isArray(fn)) {\r\n            suspense.effects.push(...fn);\r\n        }\r\n        else {\r\n            suspense.effects.push(fn);\r\n        }\r\n    }\r\n    else {\r\n        queuePostFlushCb(fn);\r\n    }\r\n}\r\nfunction setActiveBranch(suspense, branch) {\r\n    suspense.activeBranch = branch;\r\n    const { vnode, parentComponent } = suspense;\r\n    const el = (vnode.el = branch.el);\r\n    // in case suspense is the root node of a component,\r\n    // recursively update the HOC el\r\n    if (parentComponent && parentComponent.subTree === vnode) {\r\n        parentComponent.vnode.el = el;\r\n        updateHOCHostEl(parentComponent, el);\r\n    }\r\n}\n\nfunction provide(key, value) {\r\n    if (!currentInstance) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`provide() can only be used inside setup().`);\r\n        }\r\n    }\r\n    else {\r\n        let provides = currentInstance.provides;\r\n        // by default an instance inherits its parent's provides object\r\n        // but when it needs to provide values of its own, it creates its\r\n        // own provides object using parent provides object as prototype.\r\n        // this way in `inject` we can simply look up injections from direct\r\n        // parent and let the prototype chain do the work.\r\n        const parentProvides = currentInstance.parent && currentInstance.parent.provides;\r\n        if (parentProvides === provides) {\r\n            provides = currentInstance.provides = Object.create(parentProvides);\r\n        }\r\n        // TS doesn't allow symbol as index type\r\n        provides[key] = value;\r\n    }\r\n}\r\nfunction inject(key, defaultValue, treatDefaultAsFactory = false) {\r\n    // fallback to `currentRenderingInstance` so that this can be called in\r\n    // a functional component\r\n    const instance = currentInstance || currentRenderingInstance;\r\n    if (instance) {\r\n        // #2400\r\n        // to support `app.use` plugins,\r\n        // fallback to appContext's `provides` if the instance is at root\r\n        const provides = instance.parent == null\r\n            ? instance.vnode.appContext && instance.vnode.appContext.provides\r\n            : instance.parent.provides;\r\n        if (provides && key in provides) {\r\n            // TS doesn't allow symbol as index type\r\n            return provides[key];\r\n        }\r\n        else if (arguments.length > 1) {\r\n            return treatDefaultAsFactory && isFunction(defaultValue)\r\n                ? defaultValue.call(instance.proxy)\r\n                : defaultValue;\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`injection \"${String(key)}\" not found.`);\r\n        }\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`inject() can only be used inside setup() or functional components.`);\r\n    }\r\n}\n\n// Simple effect.\r\nfunction watchEffect(effect, options) {\r\n    return doWatch(effect, null, options);\r\n}\r\nfunction watchPostEffect(effect, options) {\r\n    return doWatch(effect, null, ((process.env.NODE_ENV !== 'production')\r\n        ? Object.assign(Object.assign({}, options), { flush: 'post' }) : { flush: 'post' }));\r\n}\r\nfunction watchSyncEffect(effect, options) {\r\n    return doWatch(effect, null, ((process.env.NODE_ENV !== 'production')\r\n        ? Object.assign(Object.assign({}, options), { flush: 'sync' }) : { flush: 'sync' }));\r\n}\r\n// initial value for watchers to trigger on undefined initial values\r\nconst INITIAL_WATCHER_VALUE = {};\r\n// implementation\r\nfunction watch(source, cb, options) {\r\n    if ((process.env.NODE_ENV !== 'production') && !isFunction(cb)) {\r\n        warn(`\\`watch(fn, options?)\\` signature has been moved to a separate API. ` +\r\n            `Use \\`watchEffect(fn, options?)\\` instead. \\`watch\\` now only ` +\r\n            `supports \\`watch(source, cb, options?) signature.`);\r\n    }\r\n    return doWatch(source, cb, options);\r\n}\r\nfunction doWatch(source, cb, { immediate, deep, flush, onTrack, onTrigger } = EMPTY_OBJ) {\r\n    if ((process.env.NODE_ENV !== 'production') && !cb) {\r\n        if (immediate !== undefined) {\r\n            warn(`watch() \"immediate\" option is only respected when using the ` +\r\n                `watch(source, callback, options?) signature.`);\r\n        }\r\n        if (deep !== undefined) {\r\n            warn(`watch() \"deep\" option is only respected when using the ` +\r\n                `watch(source, callback, options?) signature.`);\r\n        }\r\n    }\r\n    const warnInvalidSource = (s) => {\r\n        warn(`Invalid watch source: `, s, `A watch source can only be a getter/effect function, a ref, ` +\r\n            `a reactive object, or an array of these types.`);\r\n    };\r\n    const instance = currentInstance;\r\n    let getter;\r\n    let forceTrigger = false;\r\n    let isMultiSource = false;\r\n    if (isRef(source)) {\r\n        getter = () => source.value;\r\n        forceTrigger = isShallow$1(source);\r\n    }\r\n    else if (isReactive(source)) {\r\n        getter = () => source;\r\n        deep = true;\r\n    }\r\n    else if (isArray(source)) {\r\n        isMultiSource = true;\r\n        forceTrigger = source.some(s => isReactive(s) || isShallow$1(s));\r\n        getter = () => source.map(s => {\r\n            if (isRef(s)) {\r\n                return s.value;\r\n            }\r\n            else if (isReactive(s)) {\r\n                return traverse(s);\r\n            }\r\n            else if (isFunction(s)) {\r\n                return callWithErrorHandling(s, instance, 2 /* ErrorCodes.WATCH_GETTER */);\r\n            }\r\n            else {\r\n                (process.env.NODE_ENV !== 'production') && warnInvalidSource(s);\r\n            }\r\n        });\r\n    }\r\n    else if (isFunction(source)) {\r\n        if (cb) {\r\n            // getter with cb\r\n            getter = () => callWithErrorHandling(source, instance, 2 /* ErrorCodes.WATCH_GETTER */);\r\n        }\r\n        else {\r\n            // no cb -> simple effect\r\n            getter = () => {\r\n                if (instance && instance.isUnmounted) {\r\n                    return;\r\n                }\r\n                if (cleanup) {\r\n                    cleanup();\r\n                }\r\n                return callWithAsyncErrorHandling(source, instance, 3 /* ErrorCodes.WATCH_CALLBACK */, [onCleanup]);\r\n            };\r\n        }\r\n    }\r\n    else {\r\n        getter = NOOP;\r\n        (process.env.NODE_ENV !== 'production') && warnInvalidSource(source);\r\n    }\r\n    if (cb && deep) {\r\n        const baseGetter = getter;\r\n        getter = () => traverse(baseGetter());\r\n    }\r\n    let cleanup;\r\n    let onCleanup = (fn) => {\r\n        cleanup = effect.onStop = () => {\r\n            callWithErrorHandling(fn, instance, 4 /* ErrorCodes.WATCH_CLEANUP */);\r\n        };\r\n    };\r\n    // in SSR there is no need to setup an actual effect, and it should be noop\r\n    // unless it's eager\r\n    if (isInSSRComponentSetup) {\r\n        // we will also not call the invalidate callback (+ runner is not set up)\r\n        onCleanup = NOOP;\r\n        if (!cb) {\r\n            getter();\r\n        }\r\n        else if (immediate) {\r\n            callWithAsyncErrorHandling(cb, instance, 3 /* ErrorCodes.WATCH_CALLBACK */, [\r\n                getter(),\r\n                isMultiSource ? [] : undefined,\r\n                onCleanup\r\n            ]);\r\n        }\r\n        return NOOP;\r\n    }\r\n    let oldValue = isMultiSource ? [] : INITIAL_WATCHER_VALUE;\r\n    const job = () => {\r\n        if (!effect.active) {\r\n            return;\r\n        }\r\n        if (cb) {\r\n            // watch(source, cb)\r\n            const newValue = effect.run();\r\n            if (deep ||\r\n                forceTrigger ||\r\n                (isMultiSource\r\n                    ? newValue.some((v, i) => hasChanged(v, oldValue[i]))\r\n                    : hasChanged(newValue, oldValue)) ||\r\n                (false  )) {\r\n                // cleanup before running cb again\r\n                if (cleanup) {\r\n                    cleanup();\r\n                }\r\n                callWithAsyncErrorHandling(cb, instance, 3 /* ErrorCodes.WATCH_CALLBACK */, [\r\n                    newValue,\r\n                    // pass undefined as the old value when it's changed for the first time\r\n                    oldValue === INITIAL_WATCHER_VALUE ? undefined : oldValue,\r\n                    onCleanup\r\n                ]);\r\n                oldValue = newValue;\r\n            }\r\n        }\r\n        else {\r\n            // watchEffect\r\n            effect.run();\r\n        }\r\n    };\r\n    // important: mark the job as a watcher callback so that scheduler knows\r\n    // it is allowed to self-trigger (#1727)\r\n    job.allowRecurse = !!cb;\r\n    let scheduler;\r\n    if (flush === 'sync') {\r\n        scheduler = job; // the scheduler function gets called directly\r\n    }\r\n    else if (flush === 'post') {\r\n        scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);\r\n    }\r\n    else {\r\n        // default: 'pre'\r\n        job.pre = true;\r\n        if (instance)\r\n            job.id = instance.uid;\r\n        scheduler = () => queueJob(job);\r\n    }\r\n    const effect = new ReactiveEffect(getter, scheduler);\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        effect.onTrack = onTrack;\r\n        effect.onTrigger = onTrigger;\r\n    }\r\n    // initial run\r\n    if (cb) {\r\n        if (immediate) {\r\n            job();\r\n        }\r\n        else {\r\n            oldValue = effect.run();\r\n        }\r\n    }\r\n    else if (flush === 'post') {\r\n        queuePostRenderEffect(effect.run.bind(effect), instance && instance.suspense);\r\n    }\r\n    else {\r\n        effect.run();\r\n    }\r\n    return () => {\r\n        effect.stop();\r\n        if (instance && instance.scope) {\r\n            remove(instance.scope.effects, effect);\r\n        }\r\n    };\r\n}\r\n// this.$watch\r\nfunction instanceWatch(source, value, options) {\r\n    const publicThis = this.proxy;\r\n    const getter = isString(source)\r\n        ? source.includes('.')\r\n            ? createPathGetter(publicThis, source)\r\n            : () => publicThis[source]\r\n        : source.bind(publicThis, publicThis);\r\n    let cb;\r\n    if (isFunction(value)) {\r\n        cb = value;\r\n    }\r\n    else {\r\n        cb = value.handler;\r\n        options = value;\r\n    }\r\n    const cur = currentInstance;\r\n    setCurrentInstance(this);\r\n    const res = doWatch(getter, cb.bind(publicThis), options);\r\n    if (cur) {\r\n        setCurrentInstance(cur);\r\n    }\r\n    else {\r\n        unsetCurrentInstance();\r\n    }\r\n    return res;\r\n}\r\nfunction createPathGetter(ctx, path) {\r\n    const segments = path.split('.');\r\n    return () => {\r\n        let cur = ctx;\r\n        for (let i = 0; i < segments.length && cur; i++) {\r\n            cur = cur[segments[i]];\r\n        }\r\n        return cur;\r\n    };\r\n}\r\nfunction traverse(value, seen) {\r\n    if (!isObject(value) || value[\"__v_skip\" /* ReactiveFlags.SKIP */]) {\r\n        return value;\r\n    }\r\n    seen = seen || new Set();\r\n    if (seen.has(value)) {\r\n        return value;\r\n    }\r\n    seen.add(value);\r\n    if (isRef(value)) {\r\n        traverse(value.value, seen);\r\n    }\r\n    else if (isArray(value)) {\r\n        for (let i = 0; i < value.length; i++) {\r\n            traverse(value[i], seen);\r\n        }\r\n    }\r\n    else if (isSet(value) || isMap(value)) {\r\n        value.forEach((v) => {\r\n            traverse(v, seen);\r\n        });\r\n    }\r\n    else if (isPlainObject(value)) {\r\n        for (const key in value) {\r\n            traverse(value[key], seen);\r\n        }\r\n    }\r\n    return value;\r\n}\n\nfunction useTransitionState() {\r\n    const state = {\r\n        isMounted: false,\r\n        isLeaving: false,\r\n        isUnmounting: false,\r\n        leavingVNodes: new Map()\r\n    };\r\n    onMounted(() => {\r\n        state.isMounted = true;\r\n    });\r\n    onBeforeUnmount(() => {\r\n        state.isUnmounting = true;\r\n    });\r\n    return state;\r\n}\r\nconst TransitionHookValidator = [Function, Array];\r\nconst BaseTransitionImpl = {\r\n    name: `BaseTransition`,\r\n    props: {\r\n        mode: String,\r\n        appear: Boolean,\r\n        persisted: Boolean,\r\n        // enter\r\n        onBeforeEnter: TransitionHookValidator,\r\n        onEnter: TransitionHookValidator,\r\n        onAfterEnter: TransitionHookValidator,\r\n        onEnterCancelled: TransitionHookValidator,\r\n        // leave\r\n        onBeforeLeave: TransitionHookValidator,\r\n        onLeave: TransitionHookValidator,\r\n        onAfterLeave: TransitionHookValidator,\r\n        onLeaveCancelled: TransitionHookValidator,\r\n        // appear\r\n        onBeforeAppear: TransitionHookValidator,\r\n        onAppear: TransitionHookValidator,\r\n        onAfterAppear: TransitionHookValidator,\r\n        onAppearCancelled: TransitionHookValidator\r\n    },\r\n    setup(props, { slots }) {\r\n        const instance = getCurrentInstance();\r\n        const state = useTransitionState();\r\n        let prevTransitionKey;\r\n        return () => {\r\n            const children = slots.default && getTransitionRawChildren(slots.default(), true);\r\n            if (!children || !children.length) {\r\n                return;\r\n            }\r\n            let child = children[0];\r\n            if (children.length > 1) {\r\n                let hasFound = false;\r\n                // locate first non-comment child\r\n                for (const c of children) {\r\n                    if (c.type !== Comment) {\r\n                        if ((process.env.NODE_ENV !== 'production') && hasFound) {\r\n                            // warn more than one non-comment child\r\n                            warn('<transition> can only be used on a single element or component. ' +\r\n                                'Use <transition-group> for lists.');\r\n                            break;\r\n                        }\r\n                        child = c;\r\n                        hasFound = true;\r\n                        if (!(process.env.NODE_ENV !== 'production'))\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            // there's no need to track reactivity for these props so use the raw\r\n            // props for a bit better perf\r\n            const rawProps = toRaw(props);\r\n            const { mode } = rawProps;\r\n            // check mode\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                mode &&\r\n                mode !== 'in-out' &&\r\n                mode !== 'out-in' &&\r\n                mode !== 'default') {\r\n                warn(`invalid <transition> mode: ${mode}`);\r\n            }\r\n            if (state.isLeaving) {\r\n                return emptyPlaceholder(child);\r\n            }\r\n            // in the case of <transition><keep-alive/></transition>, we need to\r\n            // compare the type of the kept-alive children.\r\n            const innerChild = getKeepAliveChild(child);\r\n            if (!innerChild) {\r\n                return emptyPlaceholder(child);\r\n            }\r\n            const enterHooks = resolveTransitionHooks(innerChild, rawProps, state, instance);\r\n            setTransitionHooks(innerChild, enterHooks);\r\n            const oldChild = instance.subTree;\r\n            const oldInnerChild = oldChild && getKeepAliveChild(oldChild);\r\n            let transitionKeyChanged = false;\r\n            const { getTransitionKey } = innerChild.type;\r\n            if (getTransitionKey) {\r\n                const key = getTransitionKey();\r\n                if (prevTransitionKey === undefined) {\r\n                    prevTransitionKey = key;\r\n                }\r\n                else if (key !== prevTransitionKey) {\r\n                    prevTransitionKey = key;\r\n                    transitionKeyChanged = true;\r\n                }\r\n            }\r\n            // handle mode\r\n            if (oldInnerChild &&\r\n                oldInnerChild.type !== Comment &&\r\n                (!isSameVNodeType(innerChild, oldInnerChild) || transitionKeyChanged)) {\r\n                const leavingHooks = resolveTransitionHooks(oldInnerChild, rawProps, state, instance);\r\n                // update old tree's hooks in case of dynamic transition\r\n                setTransitionHooks(oldInnerChild, leavingHooks);\r\n                // switching between different views\r\n                if (mode === 'out-in') {\r\n                    state.isLeaving = true;\r\n                    // return placeholder node and queue update when leave finishes\r\n                    leavingHooks.afterLeave = () => {\r\n                        state.isLeaving = false;\r\n                        instance.update();\r\n                    };\r\n                    return emptyPlaceholder(child);\r\n                }\r\n                else if (mode === 'in-out' && innerChild.type !== Comment) {\r\n                    leavingHooks.delayLeave = (el, earlyRemove, delayedLeave) => {\r\n                        const leavingVNodesCache = getLeavingNodesForType(state, oldInnerChild);\r\n                        leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild;\r\n                        // early removal callback\r\n                        el._leaveCb = () => {\r\n                            earlyRemove();\r\n                            el._leaveCb = undefined;\r\n                            delete enterHooks.delayedLeave;\r\n                        };\r\n                        enterHooks.delayedLeave = delayedLeave;\r\n                    };\r\n                }\r\n            }\r\n            return child;\r\n        };\r\n    }\r\n};\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\nconst BaseTransition = BaseTransitionImpl;\r\nfunction getLeavingNodesForType(state, vnode) {\r\n    const { leavingVNodes } = state;\r\n    let leavingVNodesCache = leavingVNodes.get(vnode.type);\r\n    if (!leavingVNodesCache) {\r\n        leavingVNodesCache = Object.create(null);\r\n        leavingVNodes.set(vnode.type, leavingVNodesCache);\r\n    }\r\n    return leavingVNodesCache;\r\n}\r\n// The transition hooks are attached to the vnode as vnode.transition\r\n// and will be called at appropriate timing in the renderer.\r\nfunction resolveTransitionHooks(vnode, props, state, instance) {\r\n    const { appear, mode, persisted = false, onBeforeEnter, onEnter, onAfterEnter, onEnterCancelled, onBeforeLeave, onLeave, onAfterLeave, onLeaveCancelled, onBeforeAppear, onAppear, onAfterAppear, onAppearCancelled } = props;\r\n    const key = String(vnode.key);\r\n    const leavingVNodesCache = getLeavingNodesForType(state, vnode);\r\n    const callHook = (hook, args) => {\r\n        hook &&\r\n            callWithAsyncErrorHandling(hook, instance, 9 /* ErrorCodes.TRANSITION_HOOK */, args);\r\n    };\r\n    const callAsyncHook = (hook, args) => {\r\n        const done = args[1];\r\n        callHook(hook, args);\r\n        if (isArray(hook)) {\r\n            if (hook.every(hook => hook.length <= 1))\r\n                done();\r\n        }\r\n        else if (hook.length <= 1) {\r\n            done();\r\n        }\r\n    };\r\n    const hooks = {\r\n        mode,\r\n        persisted,\r\n        beforeEnter(el) {\r\n            let hook = onBeforeEnter;\r\n            if (!state.isMounted) {\r\n                if (appear) {\r\n                    hook = onBeforeAppear || onBeforeEnter;\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n            // for same element (v-show)\r\n            if (el._leaveCb) {\r\n                el._leaveCb(true /* cancelled */);\r\n            }\r\n            // for toggled element with same key (v-if)\r\n            const leavingVNode = leavingVNodesCache[key];\r\n            if (leavingVNode &&\r\n                isSameVNodeType(vnode, leavingVNode) &&\r\n                leavingVNode.el._leaveCb) {\r\n                // force early removal (not cancelled)\r\n                leavingVNode.el._leaveCb();\r\n            }\r\n            callHook(hook, [el]);\r\n        },\r\n        enter(el) {\r\n            let hook = onEnter;\r\n            let afterHook = onAfterEnter;\r\n            let cancelHook = onEnterCancelled;\r\n            if (!state.isMounted) {\r\n                if (appear) {\r\n                    hook = onAppear || onEnter;\r\n                    afterHook = onAfterAppear || onAfterEnter;\r\n                    cancelHook = onAppearCancelled || onEnterCancelled;\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n            let called = false;\r\n            const done = (el._enterCb = (cancelled) => {\r\n                if (called)\r\n                    return;\r\n                called = true;\r\n                if (cancelled) {\r\n                    callHook(cancelHook, [el]);\r\n                }\r\n                else {\r\n                    callHook(afterHook, [el]);\r\n                }\r\n                if (hooks.delayedLeave) {\r\n                    hooks.delayedLeave();\r\n                }\r\n                el._enterCb = undefined;\r\n            });\r\n            if (hook) {\r\n                callAsyncHook(hook, [el, done]);\r\n            }\r\n            else {\r\n                done();\r\n            }\r\n        },\r\n        leave(el, remove) {\r\n            const key = String(vnode.key);\r\n            if (el._enterCb) {\r\n                el._enterCb(true /* cancelled */);\r\n            }\r\n            if (state.isUnmounting) {\r\n                return remove();\r\n            }\r\n            callHook(onBeforeLeave, [el]);\r\n            let called = false;\r\n            const done = (el._leaveCb = (cancelled) => {\r\n                if (called)\r\n                    return;\r\n                called = true;\r\n                remove();\r\n                if (cancelled) {\r\n                    callHook(onLeaveCancelled, [el]);\r\n                }\r\n                else {\r\n                    callHook(onAfterLeave, [el]);\r\n                }\r\n                el._leaveCb = undefined;\r\n                if (leavingVNodesCache[key] === vnode) {\r\n                    delete leavingVNodesCache[key];\r\n                }\r\n            });\r\n            leavingVNodesCache[key] = vnode;\r\n            if (onLeave) {\r\n                callAsyncHook(onLeave, [el, done]);\r\n            }\r\n            else {\r\n                done();\r\n            }\r\n        },\r\n        clone(vnode) {\r\n            return resolveTransitionHooks(vnode, props, state, instance);\r\n        }\r\n    };\r\n    return hooks;\r\n}\r\n// the placeholder really only handles one special case: KeepAlive\r\n// in the case of a KeepAlive in a leave phase we need to return a KeepAlive\r\n// placeholder with empty content to avoid the KeepAlive instance from being\r\n// unmounted.\r\nfunction emptyPlaceholder(vnode) {\r\n    if (isKeepAlive(vnode)) {\r\n        vnode = cloneVNode(vnode);\r\n        vnode.children = null;\r\n        return vnode;\r\n    }\r\n}\r\nfunction getKeepAliveChild(vnode) {\r\n    return isKeepAlive(vnode)\r\n        ? vnode.children\r\n            ? vnode.children[0]\r\n            : undefined\r\n        : vnode;\r\n}\r\nfunction setTransitionHooks(vnode, hooks) {\r\n    if (vnode.shapeFlag & 6 /* ShapeFlags.COMPONENT */ && vnode.component) {\r\n        setTransitionHooks(vnode.component.subTree, hooks);\r\n    }\r\n    else if (vnode.shapeFlag & 128 /* ShapeFlags.SUSPENSE */) {\r\n        vnode.ssContent.transition = hooks.clone(vnode.ssContent);\r\n        vnode.ssFallback.transition = hooks.clone(vnode.ssFallback);\r\n    }\r\n    else {\r\n        vnode.transition = hooks;\r\n    }\r\n}\r\nfunction getTransitionRawChildren(children, keepComment = false, parentKey) {\r\n    let ret = [];\r\n    let keyedFragmentCount = 0;\r\n    for (let i = 0; i < children.length; i++) {\r\n        let child = children[i];\r\n        // #5360 inherit parent key in case of <template v-for>\r\n        const key = parentKey == null\r\n            ? child.key\r\n            : String(parentKey) + String(child.key != null ? child.key : i);\r\n        // handle fragment children case, e.g. v-for\r\n        if (child.type === Fragment) {\r\n            if (child.patchFlag & 128 /* PatchFlags.KEYED_FRAGMENT */)\r\n                keyedFragmentCount++;\r\n            ret = ret.concat(getTransitionRawChildren(child.children, keepComment, key));\r\n        }\r\n        // comment placeholders should be skipped, e.g. v-if\r\n        else if (keepComment || child.type !== Comment) {\r\n            ret.push(key != null ? cloneVNode(child, { key }) : child);\r\n        }\r\n    }\r\n    // #1126 if a transition children list contains multiple sub fragments, these\r\n    // fragments will be merged into a flat children array. Since each v-for\r\n    // fragment may contain different static bindings inside, we need to de-op\r\n    // these children to force full diffs to ensure correct behavior.\r\n    if (keyedFragmentCount > 1) {\r\n        for (let i = 0; i < ret.length; i++) {\r\n            ret[i].patchFlag = -2 /* PatchFlags.BAIL */;\r\n        }\r\n    }\r\n    return ret;\r\n}\n\n// implementation, close to no-op\r\nfunction defineComponent(options) {\r\n    return isFunction(options) ? { setup: options, name: options.name } : options;\r\n}\n\nconst isAsyncWrapper = (i) => !!i.type.__asyncLoader;\r\nfunction defineAsyncComponent(source) {\r\n    if (isFunction(source)) {\r\n        source = { loader: source };\r\n    }\r\n    const { loader, loadingComponent, errorComponent, delay = 200, timeout, // undefined = never times out\r\n    suspensible = true, onError: userOnError } = source;\r\n    let pendingRequest = null;\r\n    let resolvedComp;\r\n    let retries = 0;\r\n    const retry = () => {\r\n        retries++;\r\n        pendingRequest = null;\r\n        return load();\r\n    };\r\n    const load = () => {\r\n        let thisRequest;\r\n        return (pendingRequest ||\r\n            (thisRequest = pendingRequest =\r\n                loader()\r\n                    .catch(err => {\r\n                    err = err instanceof Error ? err : new Error(String(err));\r\n                    if (userOnError) {\r\n                        return new Promise((resolve, reject) => {\r\n                            const userRetry = () => resolve(retry());\r\n                            const userFail = () => reject(err);\r\n                            userOnError(err, userRetry, userFail, retries + 1);\r\n                        });\r\n                    }\r\n                    else {\r\n                        throw err;\r\n                    }\r\n                })\r\n                    .then((comp) => {\r\n                    if (thisRequest !== pendingRequest && pendingRequest) {\r\n                        return pendingRequest;\r\n                    }\r\n                    if ((process.env.NODE_ENV !== 'production') && !comp) {\r\n                        warn(`Async component loader resolved to undefined. ` +\r\n                            `If you are using retry(), make sure to return its return value.`);\r\n                    }\r\n                    // interop module default\r\n                    if (comp &&\r\n                        (comp.__esModule || comp[Symbol.toStringTag] === 'Module')) {\r\n                        comp = comp.default;\r\n                    }\r\n                    if ((process.env.NODE_ENV !== 'production') && comp && !isObject(comp) && !isFunction(comp)) {\r\n                        throw new Error(`Invalid async component load result: ${comp}`);\r\n                    }\r\n                    resolvedComp = comp;\r\n                    return comp;\r\n                })));\r\n    };\r\n    return defineComponent({\r\n        name: 'AsyncComponentWrapper',\r\n        __asyncLoader: load,\r\n        get __asyncResolved() {\r\n            return resolvedComp;\r\n        },\r\n        setup() {\r\n            const instance = currentInstance;\r\n            // already resolved\r\n            if (resolvedComp) {\r\n                return () => createInnerComp(resolvedComp, instance);\r\n            }\r\n            const onError = (err) => {\r\n                pendingRequest = null;\r\n                handleError(err, instance, 13 /* ErrorCodes.ASYNC_COMPONENT_LOADER */, !errorComponent /* do not throw in dev if user provided error component */);\r\n            };\r\n            // suspense-controlled or SSR.\r\n            if ((suspensible && instance.suspense) ||\r\n                (isInSSRComponentSetup)) {\r\n                return load()\r\n                    .then(comp => {\r\n                    return () => createInnerComp(comp, instance);\r\n                })\r\n                    .catch(err => {\r\n                    onError(err);\r\n                    return () => errorComponent\r\n                        ? createVNode(errorComponent, {\r\n                            error: err\r\n                        })\r\n                        : null;\r\n                });\r\n            }\r\n            const loaded = ref(false);\r\n            const error = ref();\r\n            const delayed = ref(!!delay);\r\n            if (delay) {\r\n                setTimeout(() => {\r\n                    delayed.value = false;\r\n                }, delay);\r\n            }\r\n            if (timeout != null) {\r\n                setTimeout(() => {\r\n                    if (!loaded.value && !error.value) {\r\n                        const err = new Error(`Async component timed out after ${timeout}ms.`);\r\n                        onError(err);\r\n                        error.value = err;\r\n                    }\r\n                }, timeout);\r\n            }\r\n            load()\r\n                .then(() => {\r\n                loaded.value = true;\r\n                if (instance.parent && isKeepAlive(instance.parent.vnode)) {\r\n                    // parent is keep-alive, force update so the loaded component's\r\n                    // name is taken into account\r\n                    queueJob(instance.parent.update);\r\n                }\r\n            })\r\n                .catch(err => {\r\n                onError(err);\r\n                error.value = err;\r\n            });\r\n            return () => {\r\n                if (loaded.value && resolvedComp) {\r\n                    return createInnerComp(resolvedComp, instance);\r\n                }\r\n                else if (error.value && errorComponent) {\r\n                    return createVNode(errorComponent, {\r\n                        error: error.value\r\n                    });\r\n                }\r\n                else if (loadingComponent && !delayed.value) {\r\n                    return createVNode(loadingComponent);\r\n                }\r\n            };\r\n        }\r\n    });\r\n}\r\nfunction createInnerComp(comp, { vnode: { ref, props, children, shapeFlag }, parent }) {\r\n    const vnode = createVNode(comp, props, children);\r\n    // ensure inner component inherits the async wrapper's ref owner\r\n    vnode.ref = ref;\r\n    return vnode;\r\n}\n\nconst isKeepAlive = (vnode) => vnode.type.__isKeepAlive;\r\nconst KeepAliveImpl = {\r\n    name: `KeepAlive`,\r\n    // Marker for special handling inside the renderer. We are not using a ===\r\n    // check directly on KeepAlive in the renderer, because importing it directly\r\n    // would prevent it from being tree-shaken.\r\n    __isKeepAlive: true,\r\n    props: {\r\n        include: [String, RegExp, Array],\r\n        exclude: [String, RegExp, Array],\r\n        max: [String, Number]\r\n    },\r\n    setup(props, { slots }) {\r\n        const instance = getCurrentInstance();\r\n        // KeepAlive communicates with the instantiated renderer via the\r\n        // ctx where the renderer passes in its internals,\r\n        // and the KeepAlive instance exposes activate/deactivate implementations.\r\n        // The whole point of this is to avoid importing KeepAlive directly in the\r\n        // renderer to facilitate tree-shaking.\r\n        const sharedContext = instance.ctx;\r\n        // if the internal renderer is not registered, it indicates that this is server-side rendering,\r\n        // for KeepAlive, we just need to render its children\r\n        if (!sharedContext.renderer) {\r\n            return () => {\r\n                const children = slots.default && slots.default();\r\n                return children && children.length === 1 ? children[0] : children;\r\n            };\r\n        }\r\n        const cache = new Map();\r\n        const keys = new Set();\r\n        let current = null;\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            instance.__v_cache = cache;\r\n        }\r\n        const parentSuspense = instance.suspense;\r\n        const { renderer: { p: patch, m: move, um: _unmount, o: { createElement } } } = sharedContext;\r\n        const storageContainer = createElement('div');\r\n        sharedContext.activate = (vnode, container, anchor, isSVG, optimized) => {\r\n            const instance = vnode.component;\r\n            move(vnode, container, anchor, 0 /* MoveType.ENTER */, parentSuspense);\r\n            // in case props have changed\r\n            patch(instance.vnode, vnode, container, anchor, instance, parentSuspense, isSVG, vnode.slotScopeIds, optimized);\r\n            queuePostRenderEffect(() => {\r\n                instance.isDeactivated = false;\r\n                if (instance.a) {\r\n                    invokeArrayFns(instance.a);\r\n                }\r\n                const vnodeHook = vnode.props && vnode.props.onVnodeMounted;\r\n                if (vnodeHook) {\r\n                    invokeVNodeHook(vnodeHook, instance.parent, vnode);\r\n                }\r\n            }, parentSuspense);\r\n            if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                // Update components tree\r\n                devtoolsComponentAdded(instance);\r\n            }\r\n        };\r\n        sharedContext.deactivate = (vnode) => {\r\n            const instance = vnode.component;\r\n            move(vnode, storageContainer, null, 1 /* MoveType.LEAVE */, parentSuspense);\r\n            queuePostRenderEffect(() => {\r\n                if (instance.da) {\r\n                    invokeArrayFns(instance.da);\r\n                }\r\n                const vnodeHook = vnode.props && vnode.props.onVnodeUnmounted;\r\n                if (vnodeHook) {\r\n                    invokeVNodeHook(vnodeHook, instance.parent, vnode);\r\n                }\r\n                instance.isDeactivated = true;\r\n            }, parentSuspense);\r\n            if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                // Update components tree\r\n                devtoolsComponentAdded(instance);\r\n            }\r\n        };\r\n        function unmount(vnode) {\r\n            // reset the shapeFlag so it can be properly unmounted\r\n            resetShapeFlag(vnode);\r\n            _unmount(vnode, instance, parentSuspense, true);\r\n        }\r\n        function pruneCache(filter) {\r\n            cache.forEach((vnode, key) => {\r\n                const name = getComponentName(vnode.type);\r\n                if (name && (!filter || !filter(name))) {\r\n                    pruneCacheEntry(key);\r\n                }\r\n            });\r\n        }\r\n        function pruneCacheEntry(key) {\r\n            const cached = cache.get(key);\r\n            if (!current || cached.type !== current.type) {\r\n                unmount(cached);\r\n            }\r\n            else if (current) {\r\n                // current active instance should no longer be kept-alive.\r\n                // we can't unmount it now but it might be later, so reset its flag now.\r\n                resetShapeFlag(current);\r\n            }\r\n            cache.delete(key);\r\n            keys.delete(key);\r\n        }\r\n        // prune cache on include/exclude prop change\r\n        watch(() => [props.include, props.exclude], ([include, exclude]) => {\r\n            include && pruneCache(name => matches(include, name));\r\n            exclude && pruneCache(name => !matches(exclude, name));\r\n        }, \r\n        // prune post-render after `current` has been updated\r\n        { flush: 'post', deep: true });\r\n        // cache sub tree after render\r\n        let pendingCacheKey = null;\r\n        const cacheSubtree = () => {\r\n            // fix #1621, the pendingCacheKey could be 0\r\n            if (pendingCacheKey != null) {\r\n                cache.set(pendingCacheKey, getInnerChild(instance.subTree));\r\n            }\r\n        };\r\n        onMounted(cacheSubtree);\r\n        onUpdated(cacheSubtree);\r\n        onBeforeUnmount(() => {\r\n            cache.forEach(cached => {\r\n                const { subTree, suspense } = instance;\r\n                const vnode = getInnerChild(subTree);\r\n                if (cached.type === vnode.type) {\r\n                    // current instance will be unmounted as part of keep-alive's unmount\r\n                    resetShapeFlag(vnode);\r\n                    // but invoke its deactivated hook here\r\n                    const da = vnode.component.da;\r\n                    da && queuePostRenderEffect(da, suspense);\r\n                    return;\r\n                }\r\n                unmount(cached);\r\n            });\r\n        });\r\n        return () => {\r\n            pendingCacheKey = null;\r\n            if (!slots.default) {\r\n                return null;\r\n            }\r\n            const children = slots.default();\r\n            const rawVNode = children[0];\r\n            if (children.length > 1) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`KeepAlive should contain exactly one component child.`);\r\n                }\r\n                current = null;\r\n                return children;\r\n            }\r\n            else if (!isVNode(rawVNode) ||\r\n                (!(rawVNode.shapeFlag & 4 /* ShapeFlags.STATEFUL_COMPONENT */) &&\r\n                    !(rawVNode.shapeFlag & 128 /* ShapeFlags.SUSPENSE */))) {\r\n                current = null;\r\n                return rawVNode;\r\n            }\r\n            let vnode = getInnerChild(rawVNode);\r\n            const comp = vnode.type;\r\n            // for async components, name check should be based in its loaded\r\n            // inner component if available\r\n            const name = getComponentName(isAsyncWrapper(vnode)\r\n                ? vnode.type.__asyncResolved || {}\r\n                : comp);\r\n            const { include, exclude, max } = props;\r\n            if ((include && (!name || !matches(include, name))) ||\r\n                (exclude && name && matches(exclude, name))) {\r\n                current = vnode;\r\n                return rawVNode;\r\n            }\r\n            const key = vnode.key == null ? comp : vnode.key;\r\n            const cachedVNode = cache.get(key);\r\n            // clone vnode if it's reused because we are going to mutate it\r\n            if (vnode.el) {\r\n                vnode = cloneVNode(vnode);\r\n                if (rawVNode.shapeFlag & 128 /* ShapeFlags.SUSPENSE */) {\r\n                    rawVNode.ssContent = vnode;\r\n                }\r\n            }\r\n            // #1513 it's possible for the returned vnode to be cloned due to attr\r\n            // fallthrough or scopeId, so the vnode here may not be the final vnode\r\n            // that is mounted. Instead of caching it directly, we store the pending\r\n            // key and cache `instance.subTree` (the normalized vnode) in\r\n            // beforeMount/beforeUpdate hooks.\r\n            pendingCacheKey = key;\r\n            if (cachedVNode) {\r\n                // copy over mounted state\r\n                vnode.el = cachedVNode.el;\r\n                vnode.component = cachedVNode.component;\r\n                if (vnode.transition) {\r\n                    // recursively update transition hooks on subTree\r\n                    setTransitionHooks(vnode, vnode.transition);\r\n                }\r\n                // avoid vnode being mounted as fresh\r\n                vnode.shapeFlag |= 512 /* ShapeFlags.COMPONENT_KEPT_ALIVE */;\r\n                // make this key the freshest\r\n                keys.delete(key);\r\n                keys.add(key);\r\n            }\r\n            else {\r\n                keys.add(key);\r\n                // prune oldest entry\r\n                if (max && keys.size > parseInt(max, 10)) {\r\n                    pruneCacheEntry(keys.values().next().value);\r\n                }\r\n            }\r\n            // avoid vnode being unmounted\r\n            vnode.shapeFlag |= 256 /* ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE */;\r\n            current = vnode;\r\n            return isSuspense(rawVNode.type) ? rawVNode : vnode;\r\n        };\r\n    }\r\n};\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\nconst KeepAlive = KeepAliveImpl;\r\nfunction matches(pattern, name) {\r\n    if (isArray(pattern)) {\r\n        return pattern.some((p) => matches(p, name));\r\n    }\r\n    else if (isString(pattern)) {\r\n        return pattern.split(',').includes(name);\r\n    }\r\n    else if (pattern.test) {\r\n        return pattern.test(name);\r\n    }\r\n    /* istanbul ignore next */\r\n    return false;\r\n}\r\nfunction onActivated(hook, target) {\r\n    registerKeepAliveHook(hook, \"a\" /* LifecycleHooks.ACTIVATED */, target);\r\n}\r\nfunction onDeactivated(hook, target) {\r\n    registerKeepAliveHook(hook, \"da\" /* LifecycleHooks.DEACTIVATED */, target);\r\n}\r\nfunction registerKeepAliveHook(hook, type, target = currentInstance) {\r\n    // cache the deactivate branch check wrapper for injected hooks so the same\r\n    // hook can be properly deduped by the scheduler. \"__wdc\" stands for \"with\r\n    // deactivation check\".\r\n    const wrappedHook = hook.__wdc ||\r\n        (hook.__wdc = () => {\r\n            // only fire the hook if the target instance is NOT in a deactivated branch.\r\n            let current = target;\r\n            while (current) {\r\n                if (current.isDeactivated) {\r\n                    return;\r\n                }\r\n                current = current.parent;\r\n            }\r\n            return hook();\r\n        });\r\n    injectHook(type, wrappedHook, target);\r\n    // In addition to registering it on the target instance, we walk up the parent\r\n    // chain and register it on all ancestor instances that are keep-alive roots.\r\n    // This avoids the need to walk the entire component tree when invoking these\r\n    // hooks, and more importantly, avoids the need to track child components in\r\n    // arrays.\r\n    if (target) {\r\n        let current = target.parent;\r\n        while (current && current.parent) {\r\n            if (isKeepAlive(current.parent.vnode)) {\r\n                injectToKeepAliveRoot(wrappedHook, type, target, current);\r\n            }\r\n            current = current.parent;\r\n        }\r\n    }\r\n}\r\nfunction injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {\r\n    // injectHook wraps the original for error handling, so make sure to remove\r\n    // the wrapped version.\r\n    const injected = injectHook(type, hook, keepAliveRoot, true /* prepend */);\r\n    onUnmounted(() => {\r\n        remove(keepAliveRoot[type], injected);\r\n    }, target);\r\n}\r\nfunction resetShapeFlag(vnode) {\r\n    let shapeFlag = vnode.shapeFlag;\r\n    if (shapeFlag & 256 /* ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE */) {\r\n        shapeFlag -= 256 /* ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE */;\r\n    }\r\n    if (shapeFlag & 512 /* ShapeFlags.COMPONENT_KEPT_ALIVE */) {\r\n        shapeFlag -= 512 /* ShapeFlags.COMPONENT_KEPT_ALIVE */;\r\n    }\r\n    vnode.shapeFlag = shapeFlag;\r\n}\r\nfunction getInnerChild(vnode) {\r\n    return vnode.shapeFlag & 128 /* ShapeFlags.SUSPENSE */ ? vnode.ssContent : vnode;\r\n}\n\nfunction injectHook(type, hook, target = currentInstance, prepend = false) {\r\n    if (target) {\r\n        const hooks = target[type] || (target[type] = []);\r\n        // cache the error handling wrapper for injected hooks so the same hook\r\n        // can be properly deduped by the scheduler. \"__weh\" stands for \"with error\r\n        // handling\".\r\n        const wrappedHook = hook.__weh ||\r\n            (hook.__weh = (...args) => {\r\n                if (target.isUnmounted) {\r\n                    return;\r\n                }\r\n                // disable tracking inside all lifecycle hooks\r\n                // since they can potentially be called inside effects.\r\n                pauseTracking();\r\n                // Set currentInstance during hook invocation.\r\n                // This assumes the hook does not synchronously trigger other hooks, which\r\n                // can only be false when the user does something really funky.\r\n                setCurrentInstance(target);\r\n                const res = callWithAsyncErrorHandling(hook, target, type, args);\r\n                unsetCurrentInstance();\r\n                resetTracking();\r\n                return res;\r\n            });\r\n        if (prepend) {\r\n            hooks.unshift(wrappedHook);\r\n        }\r\n        else {\r\n            hooks.push(wrappedHook);\r\n        }\r\n        return wrappedHook;\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        const apiName = toHandlerKey(ErrorTypeStrings[type].replace(/ hook$/, ''));\r\n        warn(`${apiName} is called when there is no active component instance to be ` +\r\n            `associated with. ` +\r\n            `Lifecycle injection APIs can only be used during execution of setup().` +\r\n            (` If you are using async setup(), make sure to register lifecycle ` +\r\n                    `hooks before the first await statement.`\r\n                ));\r\n    }\r\n}\r\nconst createHook = (lifecycle) => (hook, target = currentInstance) => \r\n// post-create lifecycle registrations are noops during SSR (except for serverPrefetch)\r\n(!isInSSRComponentSetup || lifecycle === \"sp\" /* LifecycleHooks.SERVER_PREFETCH */) &&\r\n    injectHook(lifecycle, hook, target);\r\nconst onBeforeMount = createHook(\"bm\" /* LifecycleHooks.BEFORE_MOUNT */);\r\nconst onMounted = createHook(\"m\" /* LifecycleHooks.MOUNTED */);\r\nconst onBeforeUpdate = createHook(\"bu\" /* LifecycleHooks.BEFORE_UPDATE */);\r\nconst onUpdated = createHook(\"u\" /* LifecycleHooks.UPDATED */);\r\nconst onBeforeUnmount = createHook(\"bum\" /* LifecycleHooks.BEFORE_UNMOUNT */);\r\nconst onUnmounted = createHook(\"um\" /* LifecycleHooks.UNMOUNTED */);\r\nconst onServerPrefetch = createHook(\"sp\" /* LifecycleHooks.SERVER_PREFETCH */);\r\nconst onRenderTriggered = createHook(\"rtg\" /* LifecycleHooks.RENDER_TRIGGERED */);\r\nconst onRenderTracked = createHook(\"rtc\" /* LifecycleHooks.RENDER_TRACKED */);\r\nfunction onErrorCaptured(hook, target = currentInstance) {\r\n    injectHook(\"ec\" /* LifecycleHooks.ERROR_CAPTURED */, hook, target);\r\n}\n\n/**\r\nRuntime helper for applying directives to a vnode. Example usage:\r\n\nconst comp = resolveComponent('comp')\r\nconst foo = resolveDirective('foo')\r\nconst bar = resolveDirective('bar')\r\n\nreturn withDirectives(h(comp), [\r\n  [foo, this.x],\r\n  [bar, this.y]\r\n])\r\n*/\r\nfunction validateDirectiveName(name) {\r\n    if (isBuiltInDirective(name)) {\r\n        warn('Do not use built-in directive ids as custom directive id: ' + name);\r\n    }\r\n}\r\n/**\r\n * Adds directives to a VNode.\r\n */\r\nfunction withDirectives(vnode, directives) {\r\n    const internalInstance = currentRenderingInstance;\r\n    if (internalInstance === null) {\r\n        (process.env.NODE_ENV !== 'production') && warn(`withDirectives can only be used inside render functions.`);\r\n        return vnode;\r\n    }\r\n    const instance = getExposeProxy(internalInstance) ||\r\n        internalInstance.proxy;\r\n    const bindings = vnode.dirs || (vnode.dirs = []);\r\n    for (let i = 0; i < directives.length; i++) {\r\n        let [dir, value, arg, modifiers = EMPTY_OBJ] = directives[i];\r\n        if (isFunction(dir)) {\r\n            dir = {\r\n                mounted: dir,\r\n                updated: dir\r\n            };\r\n        }\r\n        if (dir.deep) {\r\n            traverse(value);\r\n        }\r\n        bindings.push({\r\n            dir,\r\n            instance,\r\n            value,\r\n            oldValue: void 0,\r\n            arg,\r\n            modifiers\r\n        });\r\n    }\r\n    return vnode;\r\n}\r\nfunction invokeDirectiveHook(vnode, prevVNode, instance, name) {\r\n    const bindings = vnode.dirs;\r\n    const oldBindings = prevVNode && prevVNode.dirs;\r\n    for (let i = 0; i < bindings.length; i++) {\r\n        const binding = bindings[i];\r\n        if (oldBindings) {\r\n            binding.oldValue = oldBindings[i].value;\r\n        }\r\n        let hook = binding.dir[name];\r\n        if (hook) {\r\n            // disable tracking inside all lifecycle hooks\r\n            // since they can potentially be called inside effects.\r\n            pauseTracking();\r\n            callWithAsyncErrorHandling(hook, instance, 8 /* ErrorCodes.DIRECTIVE_HOOK */, [\r\n                vnode.el,\r\n                binding,\r\n                vnode,\r\n                prevVNode\r\n            ]);\r\n            resetTracking();\r\n        }\r\n    }\r\n}\n\nconst COMPONENTS = 'components';\r\nconst DIRECTIVES = 'directives';\r\n/**\r\n * @private\r\n */\r\nfunction resolveComponent(name, maybeSelfReference) {\r\n    return resolveAsset(COMPONENTS, name, true, maybeSelfReference) || name;\r\n}\r\nconst NULL_DYNAMIC_COMPONENT = Symbol();\r\n/**\r\n * @private\r\n */\r\nfunction resolveDynamicComponent(component) {\r\n    if (isString(component)) {\r\n        return resolveAsset(COMPONENTS, component, false) || component;\r\n    }\r\n    else {\r\n        // invalid types will fallthrough to createVNode and raise warning\r\n        return (component || NULL_DYNAMIC_COMPONENT);\r\n    }\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction resolveDirective(name) {\r\n    return resolveAsset(DIRECTIVES, name);\r\n}\r\n// implementation\r\nfunction resolveAsset(type, name, warnMissing = true, maybeSelfReference = false) {\r\n    const instance = currentRenderingInstance || currentInstance;\r\n    if (instance) {\r\n        const Component = instance.type;\r\n        // explicit self name has highest priority\r\n        if (type === COMPONENTS) {\r\n            const selfName = getComponentName(Component, false /* do not include inferred name to avoid breaking existing code */);\r\n            if (selfName &&\r\n                (selfName === name ||\r\n                    selfName === camelize(name) ||\r\n                    selfName === capitalize(camelize(name)))) {\r\n                return Component;\r\n            }\r\n        }\r\n        const res = \r\n        // local registration\r\n        // check instance[type] first which is resolved for options API\r\n        resolve(instance[type] || Component[type], name) ||\r\n            // global registration\r\n            resolve(instance.appContext[type], name);\r\n        if (!res && maybeSelfReference) {\r\n            // fallback to implicit self-reference\r\n            return Component;\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') && warnMissing && !res) {\r\n            const extra = type === COMPONENTS\r\n                ? `\\nIf this is a native custom element, make sure to exclude it from ` +\r\n                    `component resolution via compilerOptions.isCustomElement.`\r\n                : ``;\r\n            warn(`Failed to resolve ${type.slice(0, -1)}: ${name}${extra}`);\r\n        }\r\n        return res;\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`resolve${capitalize(type.slice(0, -1))} ` +\r\n            `can only be used in render() or setup().`);\r\n    }\r\n}\r\nfunction resolve(registry, name) {\r\n    return (registry &&\r\n        (registry[name] ||\r\n            registry[camelize(name)] ||\r\n            registry[capitalize(camelize(name))]));\r\n}\n\n/**\r\n * Actual implementation\r\n */\r\nfunction renderList(source, renderItem, cache, index) {\r\n    let ret;\r\n    const cached = (cache && cache[index]);\r\n    if (isArray(source) || isString(source)) {\r\n        ret = new Array(source.length);\r\n        for (let i = 0, l = source.length; i < l; i++) {\r\n            ret[i] = renderItem(source[i], i, undefined, cached && cached[i]);\r\n        }\r\n    }\r\n    else if (typeof source === 'number') {\r\n        if ((process.env.NODE_ENV !== 'production') && !Number.isInteger(source)) {\r\n            warn(`The v-for range expect an integer value but got ${source}.`);\r\n        }\r\n        ret = new Array(source);\r\n        for (let i = 0; i < source; i++) {\r\n            ret[i] = renderItem(i + 1, i, undefined, cached && cached[i]);\r\n        }\r\n    }\r\n    else if (isObject(source)) {\r\n        if (source[Symbol.iterator]) {\r\n            ret = Array.from(source, (item, i) => renderItem(item, i, undefined, cached && cached[i]));\r\n        }\r\n        else {\r\n            const keys = Object.keys(source);\r\n            ret = new Array(keys.length);\r\n            for (let i = 0, l = keys.length; i < l; i++) {\r\n                const key = keys[i];\r\n                ret[i] = renderItem(source[key], key, i, cached && cached[i]);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        ret = [];\r\n    }\r\n    if (cache) {\r\n        cache[index] = ret;\r\n    }\r\n    return ret;\r\n}\n\n/**\r\n * Compiler runtime helper for creating dynamic slots object\r\n * @private\r\n */\r\nfunction createSlots(slots, dynamicSlots) {\r\n    for (let i = 0; i < dynamicSlots.length; i++) {\r\n        const slot = dynamicSlots[i];\r\n        // array of dynamic slot generated by <template v-for=\"...\" #[...]>\r\n        if (isArray(slot)) {\r\n            for (let j = 0; j < slot.length; j++) {\r\n                slots[slot[j].name] = slot[j].fn;\r\n            }\r\n        }\r\n        else if (slot) {\r\n            // conditional single slot generated by <template v-if=\"...\" #foo>\r\n            slots[slot.name] = slot.key\r\n                ? (...args) => {\r\n                    const res = slot.fn(...args);\r\n                    res.key = slot.key;\r\n                    return res;\r\n                }\r\n                : slot.fn;\r\n        }\r\n    }\r\n    return slots;\r\n}\n\n/**\r\n * Compiler runtime helper for rendering `<slot/>`\r\n * @private\r\n */\r\nfunction renderSlot(slots, name, props = {}, \r\n// this is not a user-facing function, so the fallback is always generated by\r\n// the compiler and guaranteed to be a function returning an array\r\nfallback, noSlotted) {\r\n    if (currentRenderingInstance.isCE ||\r\n        (currentRenderingInstance.parent &&\r\n            isAsyncWrapper(currentRenderingInstance.parent) &&\r\n            currentRenderingInstance.parent.isCE)) {\r\n        return createVNode('slot', name === 'default' ? null : { name }, fallback && fallback());\r\n    }\r\n    let slot = slots[name];\r\n    if ((process.env.NODE_ENV !== 'production') && slot && slot.length > 1) {\r\n        warn(`SSR-optimized slot function detected in a non-SSR-optimized render ` +\r\n            `function. You need to mark this component with $dynamic-slots in the ` +\r\n            `parent template.`);\r\n        slot = () => [];\r\n    }\r\n    // a compiled slot disables block tracking by default to avoid manual\r\n    // invocation interfering with template-based block tracking, but in\r\n    // `renderSlot` we can be sure that it's template-based so we can force\r\n    // enable it.\r\n    if (slot && slot._c) {\r\n        slot._d = false;\r\n    }\r\n    openBlock();\r\n    const validSlotContent = slot && ensureValidVNode(slot(props));\r\n    const rendered = createBlock(Fragment, {\r\n        key: props.key ||\r\n            // slot content array of a dynamic conditional slot may have a branch\r\n            // key attached in the `createSlots` helper, respect that\r\n            (validSlotContent && validSlotContent.key) ||\r\n            `_${name}`\r\n    }, validSlotContent || (fallback ? fallback() : []), validSlotContent && slots._ === 1 /* SlotFlags.STABLE */\r\n        ? 64 /* PatchFlags.STABLE_FRAGMENT */\r\n        : -2 /* PatchFlags.BAIL */);\r\n    if (!noSlotted && rendered.scopeId) {\r\n        rendered.slotScopeIds = [rendered.scopeId + '-s'];\r\n    }\r\n    if (slot && slot._c) {\r\n        slot._d = true;\r\n    }\r\n    return rendered;\r\n}\r\nfunction ensureValidVNode(vnodes) {\r\n    return vnodes.some(child => {\r\n        if (!isVNode(child))\r\n            return true;\r\n        if (child.type === Comment)\r\n            return false;\r\n        if (child.type === Fragment &&\r\n            !ensureValidVNode(child.children))\r\n            return false;\r\n        return true;\r\n    })\r\n        ? vnodes\r\n        : null;\r\n}\n\n/**\r\n * For prefixing keys in v-on=\"obj\" with \"on\"\r\n * @private\r\n */\r\nfunction toHandlers(obj, preserveCaseIfNecessary) {\r\n    const ret = {};\r\n    if ((process.env.NODE_ENV !== 'production') && !isObject(obj)) {\r\n        warn(`v-on with no argument expects an object value.`);\r\n        return ret;\r\n    }\r\n    for (const key in obj) {\r\n        ret[preserveCaseIfNecessary && /[A-Z]/.test(key)\r\n            ? `on:${key}`\r\n            : toHandlerKey(key)] = obj[key];\r\n    }\r\n    return ret;\r\n}\n\n/**\r\n * #2437 In Vue 3, functional components do not have a public instance proxy but\r\n * they exist in the internal parent chain. For code that relies on traversing\r\n * public $parent chains, skip functional ones and go to the parent instead.\r\n */\r\nconst getPublicInstance = (i) => {\r\n    if (!i)\r\n        return null;\r\n    if (isStatefulComponent(i))\r\n        return getExposeProxy(i) || i.proxy;\r\n    return getPublicInstance(i.parent);\r\n};\r\nconst publicPropertiesMap = \r\n// Move PURE marker to new line to workaround compiler discarding it\r\n// due to type annotation\r\n/*#__PURE__*/ extend(Object.create(null), {\r\n    $: i => i,\r\n    $el: i => i.vnode.el,\r\n    $data: i => i.data,\r\n    $props: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.props) : i.props),\r\n    $attrs: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.attrs) : i.attrs),\r\n    $slots: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.slots) : i.slots),\r\n    $refs: i => ((process.env.NODE_ENV !== 'production') ? shallowReadonly(i.refs) : i.refs),\r\n    $parent: i => getPublicInstance(i.parent),\r\n    $root: i => getPublicInstance(i.root),\r\n    $emit: i => i.emit,\r\n    $options: i => (__VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type),\r\n    $forceUpdate: i => i.f || (i.f = () => queueJob(i.update)),\r\n    $nextTick: i => i.n || (i.n = nextTick.bind(i.proxy)),\r\n    $watch: i => (__VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP)\r\n});\r\nconst isReservedPrefix = (key) => key === '_' || key === '$';\r\nconst PublicInstanceProxyHandlers = {\r\n    get({ _: instance }, key) {\r\n        const { ctx, setupState, data, props, accessCache, type, appContext } = instance;\r\n        // for internal formatters to know that this is a Vue instance\r\n        if ((process.env.NODE_ENV !== 'production') && key === '__isVue') {\r\n            return true;\r\n        }\r\n        // prioritize <script setup> bindings during dev.\r\n        // this allows even properties that start with _ or $ to be used - so that\r\n        // it aligns with the production behavior where the render fn is inlined and\r\n        // indeed has access to all declared variables.\r\n        if ((process.env.NODE_ENV !== 'production') &&\r\n            setupState !== EMPTY_OBJ &&\r\n            setupState.__isScriptSetup &&\r\n            hasOwn(setupState, key)) {\r\n            return setupState[key];\r\n        }\r\n        // data / props / ctx\r\n        // This getter gets called for every property access on the render context\r\n        // during render and is a major hotspot. The most expensive part of this\r\n        // is the multiple hasOwn() calls. It's much faster to do a simple property\r\n        // access on a plain object, so we use an accessCache object (with null\r\n        // prototype) to memoize what access type a key corresponds to.\r\n        let normalizedProps;\r\n        if (key[0] !== '$') {\r\n            const n = accessCache[key];\r\n            if (n !== undefined) {\r\n                switch (n) {\r\n                    case 1 /* AccessTypes.SETUP */:\r\n                        return setupState[key];\r\n                    case 2 /* AccessTypes.DATA */:\r\n                        return data[key];\r\n                    case 4 /* AccessTypes.CONTEXT */:\r\n                        return ctx[key];\r\n                    case 3 /* AccessTypes.PROPS */:\r\n                        return props[key];\r\n                    // default: just fallthrough\r\n                }\r\n            }\r\n            else if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {\r\n                accessCache[key] = 1 /* AccessTypes.SETUP */;\r\n                return setupState[key];\r\n            }\r\n            else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\r\n                accessCache[key] = 2 /* AccessTypes.DATA */;\r\n                return data[key];\r\n            }\r\n            else if (\r\n            // only cache other properties when instance has declared (thus stable)\r\n            // props\r\n            (normalizedProps = instance.propsOptions[0]) &&\r\n                hasOwn(normalizedProps, key)) {\r\n                accessCache[key] = 3 /* AccessTypes.PROPS */;\r\n                return props[key];\r\n            }\r\n            else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\r\n                accessCache[key] = 4 /* AccessTypes.CONTEXT */;\r\n                return ctx[key];\r\n            }\r\n            else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {\r\n                accessCache[key] = 0 /* AccessTypes.OTHER */;\r\n            }\r\n        }\r\n        const publicGetter = publicPropertiesMap[key];\r\n        let cssModule, globalProperties;\r\n        // public $xxx properties\r\n        if (publicGetter) {\r\n            if (key === '$attrs') {\r\n                track(instance, \"get\" /* TrackOpTypes.GET */, key);\r\n                (process.env.NODE_ENV !== 'production') && markAttrsAccessed();\r\n            }\r\n            return publicGetter(instance);\r\n        }\r\n        else if (\r\n        // css module (injected by vue-loader)\r\n        (cssModule = type.__cssModules) &&\r\n            (cssModule = cssModule[key])) {\r\n            return cssModule;\r\n        }\r\n        else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\r\n            // user may set custom properties to `this` that start with `$`\r\n            accessCache[key] = 4 /* AccessTypes.CONTEXT */;\r\n            return ctx[key];\r\n        }\r\n        else if (\r\n        // global properties\r\n        ((globalProperties = appContext.config.globalProperties),\r\n            hasOwn(globalProperties, key))) {\r\n            {\r\n                return globalProperties[key];\r\n            }\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production') &&\r\n            currentRenderingInstance &&\r\n            (!isString(key) ||\r\n                // #1091 avoid internal isRef/isVNode checks on component instance leading\r\n                // to infinite warning loop\r\n                key.indexOf('__v') !== 0)) {\r\n            if (data !== EMPTY_OBJ && isReservedPrefix(key[0]) && hasOwn(data, key)) {\r\n                warn(`Property ${JSON.stringify(key)} must be accessed via $data because it starts with a reserved ` +\r\n                    `character (\"$\" or \"_\") and is not proxied on the render context.`);\r\n            }\r\n            else if (instance === currentRenderingInstance) {\r\n                warn(`Property ${JSON.stringify(key)} was accessed during render ` +\r\n                    `but is not defined on instance.`);\r\n            }\r\n        }\r\n    },\r\n    set({ _: instance }, key, value) {\r\n        const { data, setupState, ctx } = instance;\r\n        if (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) {\r\n            setupState[key] = value;\r\n            return true;\r\n        }\r\n        else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\r\n            data[key] = value;\r\n            return true;\r\n        }\r\n        else if (hasOwn(instance.props, key)) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Attempting to mutate prop \"${key}\". Props are readonly.`, instance);\r\n            return false;\r\n        }\r\n        if (key[0] === '$' && key.slice(1) in instance) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Attempting to mutate public property \"${key}\". ` +\r\n                    `Properties starting with $ are reserved and readonly.`, instance);\r\n            return false;\r\n        }\r\n        else {\r\n            if ((process.env.NODE_ENV !== 'production') && key in instance.appContext.config.globalProperties) {\r\n                Object.defineProperty(ctx, key, {\r\n                    enumerable: true,\r\n                    configurable: true,\r\n                    value\r\n                });\r\n            }\r\n            else {\r\n                ctx[key] = value;\r\n            }\r\n        }\r\n        return true;\r\n    },\r\n    has({ _: { data, setupState, accessCache, ctx, appContext, propsOptions } }, key) {\r\n        let normalizedProps;\r\n        return (!!accessCache[key] ||\r\n            (data !== EMPTY_OBJ && hasOwn(data, key)) ||\r\n            (setupState !== EMPTY_OBJ && hasOwn(setupState, key)) ||\r\n            ((normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key)) ||\r\n            hasOwn(ctx, key) ||\r\n            hasOwn(publicPropertiesMap, key) ||\r\n            hasOwn(appContext.config.globalProperties, key));\r\n    },\r\n    defineProperty(target, key, descriptor) {\r\n        if (descriptor.get != null) {\r\n            // invalidate key cache of a getter based property #5417\r\n            target._.accessCache[key] = 0;\r\n        }\r\n        else if (hasOwn(descriptor, 'value')) {\r\n            this.set(target, key, descriptor.value, null);\r\n        }\r\n        return Reflect.defineProperty(target, key, descriptor);\r\n    }\r\n};\r\nif ((process.env.NODE_ENV !== 'production') && !false) {\r\n    PublicInstanceProxyHandlers.ownKeys = (target) => {\r\n        warn(`Avoid app logic that relies on enumerating keys on a component instance. ` +\r\n            `The keys will be empty in production mode to avoid performance overhead.`);\r\n        return Reflect.ownKeys(target);\r\n    };\r\n}\r\nconst RuntimeCompiledPublicInstanceProxyHandlers = /*#__PURE__*/ extend({}, PublicInstanceProxyHandlers, {\r\n    get(target, key) {\r\n        // fast path for unscopables when using `with` block\r\n        if (key === Symbol.unscopables) {\r\n            return;\r\n        }\r\n        return PublicInstanceProxyHandlers.get(target, key, target);\r\n    },\r\n    has(_, key) {\r\n        const has = key[0] !== '_' && !isGloballyWhitelisted(key);\r\n        if ((process.env.NODE_ENV !== 'production') && !has && PublicInstanceProxyHandlers.has(_, key)) {\r\n            warn(`Property ${JSON.stringify(key)} should not start with _ which is a reserved prefix for Vue internals.`);\r\n        }\r\n        return has;\r\n    }\r\n});\r\n// dev only\r\n// In dev mode, the proxy target exposes the same properties as seen on `this`\r\n// for easier console inspection. In prod mode it will be an empty object so\r\n// these properties definitions can be skipped.\r\nfunction createDevRenderContext(instance) {\r\n    const target = {};\r\n    // expose internal instance for proxy handlers\r\n    Object.defineProperty(target, `_`, {\r\n        configurable: true,\r\n        enumerable: false,\r\n        get: () => instance\r\n    });\r\n    // expose public properties\r\n    Object.keys(publicPropertiesMap).forEach(key => {\r\n        Object.defineProperty(target, key, {\r\n            configurable: true,\r\n            enumerable: false,\r\n            get: () => publicPropertiesMap[key](instance),\r\n            // intercepted by the proxy so no need for implementation,\r\n            // but needed to prevent set errors\r\n            set: NOOP\r\n        });\r\n    });\r\n    return target;\r\n}\r\n// dev only\r\nfunction exposePropsOnRenderContext(instance) {\r\n    const { ctx, propsOptions: [propsOptions] } = instance;\r\n    if (propsOptions) {\r\n        Object.keys(propsOptions).forEach(key => {\r\n            Object.defineProperty(ctx, key, {\r\n                enumerable: true,\r\n                configurable: true,\r\n                get: () => instance.props[key],\r\n                set: NOOP\r\n            });\r\n        });\r\n    }\r\n}\r\n// dev only\r\nfunction exposeSetupStateOnRenderContext(instance) {\r\n    const { ctx, setupState } = instance;\r\n    Object.keys(toRaw(setupState)).forEach(key => {\r\n        if (!setupState.__isScriptSetup) {\r\n            if (isReservedPrefix(key[0])) {\r\n                warn(`setup() return property ${JSON.stringify(key)} should not start with \"$\" or \"_\" ` +\r\n                    `which are reserved prefixes for Vue internals.`);\r\n                return;\r\n            }\r\n            Object.defineProperty(ctx, key, {\r\n                enumerable: true,\r\n                configurable: true,\r\n                get: () => setupState[key],\r\n                set: NOOP\r\n            });\r\n        }\r\n    });\r\n}\n\nfunction createDuplicateChecker() {\r\n    const cache = Object.create(null);\r\n    return (type, key) => {\r\n        if (cache[key]) {\r\n            warn(`${type} property \"${key}\" is already defined in ${cache[key]}.`);\r\n        }\r\n        else {\r\n            cache[key] = type;\r\n        }\r\n    };\r\n}\r\nlet shouldCacheAccess = true;\r\nfunction applyOptions(instance) {\r\n    const options = resolveMergedOptions(instance);\r\n    const publicThis = instance.proxy;\r\n    const ctx = instance.ctx;\r\n    // do not cache property access on public proxy during state initialization\r\n    shouldCacheAccess = false;\r\n    // call beforeCreate first before accessing other options since\r\n    // the hook may mutate resolved options (#2791)\r\n    if (options.beforeCreate) {\r\n        callHook(options.beforeCreate, instance, \"bc\" /* LifecycleHooks.BEFORE_CREATE */);\r\n    }\r\n    const { \r\n    // state\r\n    data: dataOptions, computed: computedOptions, methods, watch: watchOptions, provide: provideOptions, inject: injectOptions, \r\n    // lifecycle\r\n    created, beforeMount, mounted, beforeUpdate, updated, activated, deactivated, beforeDestroy, beforeUnmount, destroyed, unmounted, render, renderTracked, renderTriggered, errorCaptured, serverPrefetch, \r\n    // public API\r\n    expose, inheritAttrs, \r\n    // assets\r\n    components, directives, filters } = options;\r\n    const checkDuplicateProperties = (process.env.NODE_ENV !== 'production') ? createDuplicateChecker() : null;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const [propsOptions] = instance.propsOptions;\r\n        if (propsOptions) {\r\n            for (const key in propsOptions) {\r\n                checkDuplicateProperties(\"Props\" /* OptionTypes.PROPS */, key);\r\n            }\r\n        }\r\n    }\r\n    // options initialization order (to be consistent with Vue 2):\r\n    // - props (already done outside of this function)\r\n    // - inject\r\n    // - methods\r\n    // - data (deferred since it relies on `this` access)\r\n    // - computed\r\n    // - watch (deferred since it relies on `this` access)\r\n    if (injectOptions) {\r\n        resolveInjections(injectOptions, ctx, checkDuplicateProperties, instance.appContext.config.unwrapInjectedRef);\r\n    }\r\n    if (methods) {\r\n        for (const key in methods) {\r\n            const methodHandler = methods[key];\r\n            if (isFunction(methodHandler)) {\r\n                // In dev mode, we use the `createRenderContext` function to define\r\n                // methods to the proxy target, and those are read-only but\r\n                // reconfigurable, so it needs to be redefined here\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    Object.defineProperty(ctx, key, {\r\n                        value: methodHandler.bind(publicThis),\r\n                        configurable: true,\r\n                        enumerable: true,\r\n                        writable: true\r\n                    });\r\n                }\r\n                else {\r\n                    ctx[key] = methodHandler.bind(publicThis);\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    checkDuplicateProperties(\"Methods\" /* OptionTypes.METHODS */, key);\r\n                }\r\n            }\r\n            else if ((process.env.NODE_ENV !== 'production')) {\r\n                warn(`Method \"${key}\" has type \"${typeof methodHandler}\" in the component definition. ` +\r\n                    `Did you reference the function correctly?`);\r\n            }\r\n        }\r\n    }\r\n    if (dataOptions) {\r\n        if ((process.env.NODE_ENV !== 'production') && !isFunction(dataOptions)) {\r\n            warn(`The data option must be a function. ` +\r\n                `Plain object usage is no longer supported.`);\r\n        }\r\n        const data = dataOptions.call(publicThis, publicThis);\r\n        if ((process.env.NODE_ENV !== 'production') && isPromise(data)) {\r\n            warn(`data() returned a Promise - note data() cannot be async; If you ` +\r\n                `intend to perform data fetching before component renders, use ` +\r\n                `async setup() + <Suspense>.`);\r\n        }\r\n        if (!isObject(data)) {\r\n            (process.env.NODE_ENV !== 'production') && warn(`data() should return an object.`);\r\n        }\r\n        else {\r\n            instance.data = reactive(data);\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                for (const key in data) {\r\n                    checkDuplicateProperties(\"Data\" /* OptionTypes.DATA */, key);\r\n                    // expose data on ctx during dev\r\n                    if (!isReservedPrefix(key[0])) {\r\n                        Object.defineProperty(ctx, key, {\r\n                            configurable: true,\r\n                            enumerable: true,\r\n                            get: () => data[key],\r\n                            set: NOOP\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // state initialization complete at this point - start caching access\r\n    shouldCacheAccess = true;\r\n    if (computedOptions) {\r\n        for (const key in computedOptions) {\r\n            const opt = computedOptions[key];\r\n            const get = isFunction(opt)\r\n                ? opt.bind(publicThis, publicThis)\r\n                : isFunction(opt.get)\r\n                    ? opt.get.bind(publicThis, publicThis)\r\n                    : NOOP;\r\n            if ((process.env.NODE_ENV !== 'production') && get === NOOP) {\r\n                warn(`Computed property \"${key}\" has no getter.`);\r\n            }\r\n            const set = !isFunction(opt) && isFunction(opt.set)\r\n                ? opt.set.bind(publicThis)\r\n                : (process.env.NODE_ENV !== 'production')\r\n                    ? () => {\r\n                        warn(`Write operation failed: computed property \"${key}\" is readonly.`);\r\n                    }\r\n                    : NOOP;\r\n            const c = computed({\r\n                get,\r\n                set\r\n            });\r\n            Object.defineProperty(ctx, key, {\r\n                enumerable: true,\r\n                configurable: true,\r\n                get: () => c.value,\r\n                set: v => (c.value = v)\r\n            });\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                checkDuplicateProperties(\"Computed\" /* OptionTypes.COMPUTED */, key);\r\n            }\r\n        }\r\n    }\r\n    if (watchOptions) {\r\n        for (const key in watchOptions) {\r\n            createWatcher(watchOptions[key], ctx, publicThis, key);\r\n        }\r\n    }\r\n    if (provideOptions) {\r\n        const provides = isFunction(provideOptions)\r\n            ? provideOptions.call(publicThis)\r\n            : provideOptions;\r\n        Reflect.ownKeys(provides).forEach(key => {\r\n            provide(key, provides[key]);\r\n        });\r\n    }\r\n    if (created) {\r\n        callHook(created, instance, \"c\" /* LifecycleHooks.CREATED */);\r\n    }\r\n    function registerLifecycleHook(register, hook) {\r\n        if (isArray(hook)) {\r\n            hook.forEach(_hook => register(_hook.bind(publicThis)));\r\n        }\r\n        else if (hook) {\r\n            register(hook.bind(publicThis));\r\n        }\r\n    }\r\n    registerLifecycleHook(onBeforeMount, beforeMount);\r\n    registerLifecycleHook(onMounted, mounted);\r\n    registerLifecycleHook(onBeforeUpdate, beforeUpdate);\r\n    registerLifecycleHook(onUpdated, updated);\r\n    registerLifecycleHook(onActivated, activated);\r\n    registerLifecycleHook(onDeactivated, deactivated);\r\n    registerLifecycleHook(onErrorCaptured, errorCaptured);\r\n    registerLifecycleHook(onRenderTracked, renderTracked);\r\n    registerLifecycleHook(onRenderTriggered, renderTriggered);\r\n    registerLifecycleHook(onBeforeUnmount, beforeUnmount);\r\n    registerLifecycleHook(onUnmounted, unmounted);\r\n    registerLifecycleHook(onServerPrefetch, serverPrefetch);\r\n    if (isArray(expose)) {\r\n        if (expose.length) {\r\n            const exposed = instance.exposed || (instance.exposed = {});\r\n            expose.forEach(key => {\r\n                Object.defineProperty(exposed, key, {\r\n                    get: () => publicThis[key],\r\n                    set: val => (publicThis[key] = val)\r\n                });\r\n            });\r\n        }\r\n        else if (!instance.exposed) {\r\n            instance.exposed = {};\r\n        }\r\n    }\r\n    // options that are handled when creating the instance but also need to be\r\n    // applied from mixins\r\n    if (render && instance.render === NOOP) {\r\n        instance.render = render;\r\n    }\r\n    if (inheritAttrs != null) {\r\n        instance.inheritAttrs = inheritAttrs;\r\n    }\r\n    // asset options.\r\n    if (components)\r\n        instance.components = components;\r\n    if (directives)\r\n        instance.directives = directives;\r\n}\r\nfunction resolveInjections(injectOptions, ctx, checkDuplicateProperties = NOOP, unwrapRef = false) {\r\n    if (isArray(injectOptions)) {\r\n        injectOptions = normalizeInject(injectOptions);\r\n    }\r\n    for (const key in injectOptions) {\r\n        const opt = injectOptions[key];\r\n        let injected;\r\n        if (isObject(opt)) {\r\n            if ('default' in opt) {\r\n                injected = inject(opt.from || key, opt.default, true /* treat default function as factory */);\r\n            }\r\n            else {\r\n                injected = inject(opt.from || key);\r\n            }\r\n        }\r\n        else {\r\n            injected = inject(opt);\r\n        }\r\n        if (isRef(injected)) {\r\n            // TODO remove the check in 3.3\r\n            if (unwrapRef) {\r\n                Object.defineProperty(ctx, key, {\r\n                    enumerable: true,\r\n                    configurable: true,\r\n                    get: () => injected.value,\r\n                    set: v => (injected.value = v)\r\n                });\r\n            }\r\n            else {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`injected property \"${key}\" is a ref and will be auto-unwrapped ` +\r\n                        `and no longer needs \\`.value\\` in the next minor release. ` +\r\n                        `To opt-in to the new behavior now, ` +\r\n                        `set \\`app.config.unwrapInjectedRef = true\\` (this config is ` +\r\n                        `temporary and will not be needed in the future.)`);\r\n                }\r\n                ctx[key] = injected;\r\n            }\r\n        }\r\n        else {\r\n            ctx[key] = injected;\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            checkDuplicateProperties(\"Inject\" /* OptionTypes.INJECT */, key);\r\n        }\r\n    }\r\n}\r\nfunction callHook(hook, instance, type) {\r\n    callWithAsyncErrorHandling(isArray(hook)\r\n        ? hook.map(h => h.bind(instance.proxy))\r\n        : hook.bind(instance.proxy), instance, type);\r\n}\r\nfunction createWatcher(raw, ctx, publicThis, key) {\r\n    const getter = key.includes('.')\r\n        ? createPathGetter(publicThis, key)\r\n        : () => publicThis[key];\r\n    if (isString(raw)) {\r\n        const handler = ctx[raw];\r\n        if (isFunction(handler)) {\r\n            watch(getter, handler);\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`Invalid watch handler specified by key \"${raw}\"`, handler);\r\n        }\r\n    }\r\n    else if (isFunction(raw)) {\r\n        watch(getter, raw.bind(publicThis));\r\n    }\r\n    else if (isObject(raw)) {\r\n        if (isArray(raw)) {\r\n            raw.forEach(r => createWatcher(r, ctx, publicThis, key));\r\n        }\r\n        else {\r\n            const handler = isFunction(raw.handler)\r\n                ? raw.handler.bind(publicThis)\r\n                : ctx[raw.handler];\r\n            if (isFunction(handler)) {\r\n                watch(getter, handler, raw);\r\n            }\r\n            else if ((process.env.NODE_ENV !== 'production')) {\r\n                warn(`Invalid watch handler specified by key \"${raw.handler}\"`, handler);\r\n            }\r\n        }\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`Invalid watch option: \"${key}\"`, raw);\r\n    }\r\n}\r\n/**\r\n * Resolve merged options and cache it on the component.\r\n * This is done only once per-component since the merging does not involve\r\n * instances.\r\n */\r\nfunction resolveMergedOptions(instance) {\r\n    const base = instance.type;\r\n    const { mixins, extends: extendsOptions } = base;\r\n    const { mixins: globalMixins, optionsCache: cache, config: { optionMergeStrategies } } = instance.appContext;\r\n    const cached = cache.get(base);\r\n    let resolved;\r\n    if (cached) {\r\n        resolved = cached;\r\n    }\r\n    else if (!globalMixins.length && !mixins && !extendsOptions) {\r\n        {\r\n            resolved = base;\r\n        }\r\n    }\r\n    else {\r\n        resolved = {};\r\n        if (globalMixins.length) {\r\n            globalMixins.forEach(m => mergeOptions(resolved, m, optionMergeStrategies, true));\r\n        }\r\n        mergeOptions(resolved, base, optionMergeStrategies);\r\n    }\r\n    if (isObject(base)) {\r\n        cache.set(base, resolved);\r\n    }\r\n    return resolved;\r\n}\r\nfunction mergeOptions(to, from, strats, asMixin = false) {\r\n    const { mixins, extends: extendsOptions } = from;\r\n    if (extendsOptions) {\r\n        mergeOptions(to, extendsOptions, strats, true);\r\n    }\r\n    if (mixins) {\r\n        mixins.forEach((m) => mergeOptions(to, m, strats, true));\r\n    }\r\n    for (const key in from) {\r\n        if (asMixin && key === 'expose') {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`\"expose\" option is ignored when declared in mixins or extends. ` +\r\n                    `It should only be declared in the base component itself.`);\r\n        }\r\n        else {\r\n            const strat = internalOptionMergeStrats[key] || (strats && strats[key]);\r\n            to[key] = strat ? strat(to[key], from[key]) : from[key];\r\n        }\r\n    }\r\n    return to;\r\n}\r\nconst internalOptionMergeStrats = {\r\n    data: mergeDataFn,\r\n    props: mergeObjectOptions,\r\n    emits: mergeObjectOptions,\r\n    // objects\r\n    methods: mergeObjectOptions,\r\n    computed: mergeObjectOptions,\r\n    // lifecycle\r\n    beforeCreate: mergeAsArray,\r\n    created: mergeAsArray,\r\n    beforeMount: mergeAsArray,\r\n    mounted: mergeAsArray,\r\n    beforeUpdate: mergeAsArray,\r\n    updated: mergeAsArray,\r\n    beforeDestroy: mergeAsArray,\r\n    beforeUnmount: mergeAsArray,\r\n    destroyed: mergeAsArray,\r\n    unmounted: mergeAsArray,\r\n    activated: mergeAsArray,\r\n    deactivated: mergeAsArray,\r\n    errorCaptured: mergeAsArray,\r\n    serverPrefetch: mergeAsArray,\r\n    // assets\r\n    components: mergeObjectOptions,\r\n    directives: mergeObjectOptions,\r\n    // watch\r\n    watch: mergeWatchOptions,\r\n    // provide / inject\r\n    provide: mergeDataFn,\r\n    inject: mergeInject\r\n};\r\nfunction mergeDataFn(to, from) {\r\n    if (!from) {\r\n        return to;\r\n    }\r\n    if (!to) {\r\n        return from;\r\n    }\r\n    return function mergedDataFn() {\r\n        return (extend)(isFunction(to) ? to.call(this, this) : to, isFunction(from) ? from.call(this, this) : from);\r\n    };\r\n}\r\nfunction mergeInject(to, from) {\r\n    return mergeObjectOptions(normalizeInject(to), normalizeInject(from));\r\n}\r\nfunction normalizeInject(raw) {\r\n    if (isArray(raw)) {\r\n        const res = {};\r\n        for (let i = 0; i < raw.length; i++) {\r\n            res[raw[i]] = raw[i];\r\n        }\r\n        return res;\r\n    }\r\n    return raw;\r\n}\r\nfunction mergeAsArray(to, from) {\r\n    return to ? [...new Set([].concat(to, from))] : from;\r\n}\r\nfunction mergeObjectOptions(to, from) {\r\n    return to ? extend(extend(Object.create(null), to), from) : from;\r\n}\r\nfunction mergeWatchOptions(to, from) {\r\n    if (!to)\r\n        return from;\r\n    if (!from)\r\n        return to;\r\n    const merged = extend(Object.create(null), to);\r\n    for (const key in from) {\r\n        merged[key] = mergeAsArray(to[key], from[key]);\r\n    }\r\n    return merged;\r\n}\n\nfunction initProps(instance, rawProps, isStateful, // result of bitwise flag comparison\r\nisSSR = false) {\r\n    const props = {};\r\n    const attrs = {};\r\n    def(attrs, InternalObjectKey, 1);\r\n    instance.propsDefaults = Object.create(null);\r\n    setFullProps(instance, rawProps, props, attrs);\r\n    // ensure all declared prop keys are present\r\n    for (const key in instance.propsOptions[0]) {\r\n        if (!(key in props)) {\r\n            props[key] = undefined;\r\n        }\r\n    }\r\n    // validation\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        validateProps(rawProps || {}, props, instance);\r\n    }\r\n    if (isStateful) {\r\n        // stateful\r\n        instance.props = isSSR ? props : shallowReactive(props);\r\n    }\r\n    else {\r\n        if (!instance.type.props) {\r\n            // functional w/ optional props, props === attrs\r\n            instance.props = attrs;\r\n        }\r\n        else {\r\n            // functional w/ declared props\r\n            instance.props = props;\r\n        }\r\n    }\r\n    instance.attrs = attrs;\r\n}\r\nfunction isInHmrContext(instance) {\r\n    while (instance) {\r\n        if (instance.type.__hmrId)\r\n            return true;\r\n        instance = instance.parent;\r\n    }\r\n}\r\nfunction updateProps(instance, rawProps, rawPrevProps, optimized) {\r\n    const { props, attrs, vnode: { patchFlag } } = instance;\r\n    const rawCurrentProps = toRaw(props);\r\n    const [options] = instance.propsOptions;\r\n    let hasAttrsChanged = false;\r\n    if (\r\n    // always force full diff in dev\r\n    // - #1942 if hmr is enabled with sfc component\r\n    // - vite#872 non-sfc component used by sfc component\r\n    !((process.env.NODE_ENV !== 'production') && isInHmrContext(instance)) &&\r\n        (optimized || patchFlag > 0) &&\r\n        !(patchFlag & 16 /* PatchFlags.FULL_PROPS */)) {\r\n        if (patchFlag & 8 /* PatchFlags.PROPS */) {\r\n            // Compiler-generated props & no keys change, just set the updated\r\n            // the props.\r\n            const propsToUpdate = instance.vnode.dynamicProps;\r\n            for (let i = 0; i < propsToUpdate.length; i++) {\r\n                let key = propsToUpdate[i];\r\n                // skip if the prop key is a declared emit event listener\r\n                if (isEmitListener(instance.emitsOptions, key)) {\r\n                    continue;\r\n                }\r\n                // PROPS flag guarantees rawProps to be non-null\r\n                const value = rawProps[key];\r\n                if (options) {\r\n                    // attr / props separation was done on init and will be consistent\r\n                    // in this code path, so just check if attrs have it.\r\n                    if (hasOwn(attrs, key)) {\r\n                        if (value !== attrs[key]) {\r\n                            attrs[key] = value;\r\n                            hasAttrsChanged = true;\r\n                        }\r\n                    }\r\n                    else {\r\n                        const camelizedKey = camelize(key);\r\n                        props[camelizedKey] = resolvePropValue(options, rawCurrentProps, camelizedKey, value, instance, false /* isAbsent */);\r\n                    }\r\n                }\r\n                else {\r\n                    if (value !== attrs[key]) {\r\n                        attrs[key] = value;\r\n                        hasAttrsChanged = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // full props update.\r\n        if (setFullProps(instance, rawProps, props, attrs)) {\r\n            hasAttrsChanged = true;\r\n        }\r\n        // in case of dynamic props, check if we need to delete keys from\r\n        // the props object\r\n        let kebabKey;\r\n        for (const key in rawCurrentProps) {\r\n            if (!rawProps ||\r\n                // for camelCase\r\n                (!hasOwn(rawProps, key) &&\r\n                    // it's possible the original props was passed in as kebab-case\r\n                    // and converted to camelCase (#955)\r\n                    ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey)))) {\r\n                if (options) {\r\n                    if (rawPrevProps &&\r\n                        // for camelCase\r\n                        (rawPrevProps[key] !== undefined ||\r\n                            // for kebab-case\r\n                            rawPrevProps[kebabKey] !== undefined)) {\r\n                        props[key] = resolvePropValue(options, rawCurrentProps, key, undefined, instance, true /* isAbsent */);\r\n                    }\r\n                }\r\n                else {\r\n                    delete props[key];\r\n                }\r\n            }\r\n        }\r\n        // in the case of functional component w/o props declaration, props and\r\n        // attrs point to the same object so it should already have been updated.\r\n        if (attrs !== rawCurrentProps) {\r\n            for (const key in attrs) {\r\n                if (!rawProps ||\r\n                    (!hasOwn(rawProps, key) &&\r\n                        (!false ))) {\r\n                    delete attrs[key];\r\n                    hasAttrsChanged = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // trigger updates for $attrs in case it's used in component slots\r\n    if (hasAttrsChanged) {\r\n        trigger(instance, \"set\" /* TriggerOpTypes.SET */, '$attrs');\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        validateProps(rawProps || {}, props, instance);\r\n    }\r\n}\r\nfunction setFullProps(instance, rawProps, props, attrs) {\r\n    const [options, needCastKeys] = instance.propsOptions;\r\n    let hasAttrsChanged = false;\r\n    let rawCastValues;\r\n    if (rawProps) {\r\n        for (let key in rawProps) {\r\n            // key, ref are reserved and never passed down\r\n            if (isReservedProp(key)) {\r\n                continue;\r\n            }\r\n            const value = rawProps[key];\r\n            // prop option names are camelized during normalization, so to support\r\n            // kebab -> camel conversion here we need to camelize the key.\r\n            let camelKey;\r\n            if (options && hasOwn(options, (camelKey = camelize(key)))) {\r\n                if (!needCastKeys || !needCastKeys.includes(camelKey)) {\r\n                    props[camelKey] = value;\r\n                }\r\n                else {\r\n                    (rawCastValues || (rawCastValues = {}))[camelKey] = value;\r\n                }\r\n            }\r\n            else if (!isEmitListener(instance.emitsOptions, key)) {\r\n                if (!(key in attrs) || value !== attrs[key]) {\r\n                    attrs[key] = value;\r\n                    hasAttrsChanged = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (needCastKeys) {\r\n        const rawCurrentProps = toRaw(props);\r\n        const castValues = rawCastValues || EMPTY_OBJ;\r\n        for (let i = 0; i < needCastKeys.length; i++) {\r\n            const key = needCastKeys[i];\r\n            props[key] = resolvePropValue(options, rawCurrentProps, key, castValues[key], instance, !hasOwn(castValues, key));\r\n        }\r\n    }\r\n    return hasAttrsChanged;\r\n}\r\nfunction resolvePropValue(options, props, key, value, instance, isAbsent) {\r\n    const opt = options[key];\r\n    if (opt != null) {\r\n        const hasDefault = hasOwn(opt, 'default');\r\n        // default values\r\n        if (hasDefault && value === undefined) {\r\n            const defaultValue = opt.default;\r\n            if (opt.type !== Function && isFunction(defaultValue)) {\r\n                const { propsDefaults } = instance;\r\n                if (key in propsDefaults) {\r\n                    value = propsDefaults[key];\r\n                }\r\n                else {\r\n                    setCurrentInstance(instance);\r\n                    value = propsDefaults[key] = defaultValue.call(null, props);\r\n                    unsetCurrentInstance();\r\n                }\r\n            }\r\n            else {\r\n                value = defaultValue;\r\n            }\r\n        }\r\n        // boolean casting\r\n        if (opt[0 /* BooleanFlags.shouldCast */]) {\r\n            if (isAbsent && !hasDefault) {\r\n                value = false;\r\n            }\r\n            else if (opt[1 /* BooleanFlags.shouldCastTrue */] &&\r\n                (value === '' || value === hyphenate(key))) {\r\n                value = true;\r\n            }\r\n        }\r\n    }\r\n    return value;\r\n}\r\nfunction normalizePropsOptions(comp, appContext, asMixin = false) {\r\n    const cache = appContext.propsCache;\r\n    const cached = cache.get(comp);\r\n    if (cached) {\r\n        return cached;\r\n    }\r\n    const raw = comp.props;\r\n    const normalized = {};\r\n    const needCastKeys = [];\r\n    // apply mixin/extends props\r\n    let hasExtends = false;\r\n    if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\r\n        const extendProps = (raw) => {\r\n            hasExtends = true;\r\n            const [props, keys] = normalizePropsOptions(raw, appContext, true);\r\n            extend(normalized, props);\r\n            if (keys)\r\n                needCastKeys.push(...keys);\r\n        };\r\n        if (!asMixin && appContext.mixins.length) {\r\n            appContext.mixins.forEach(extendProps);\r\n        }\r\n        if (comp.extends) {\r\n            extendProps(comp.extends);\r\n        }\r\n        if (comp.mixins) {\r\n            comp.mixins.forEach(extendProps);\r\n        }\r\n    }\r\n    if (!raw && !hasExtends) {\r\n        if (isObject(comp)) {\r\n            cache.set(comp, EMPTY_ARR);\r\n        }\r\n        return EMPTY_ARR;\r\n    }\r\n    if (isArray(raw)) {\r\n        for (let i = 0; i < raw.length; i++) {\r\n            if ((process.env.NODE_ENV !== 'production') && !isString(raw[i])) {\r\n                warn(`props must be strings when using array syntax.`, raw[i]);\r\n            }\r\n            const normalizedKey = camelize(raw[i]);\r\n            if (validatePropName(normalizedKey)) {\r\n                normalized[normalizedKey] = EMPTY_OBJ;\r\n            }\r\n        }\r\n    }\r\n    else if (raw) {\r\n        if ((process.env.NODE_ENV !== 'production') && !isObject(raw)) {\r\n            warn(`invalid props options`, raw);\r\n        }\r\n        for (const key in raw) {\r\n            const normalizedKey = camelize(key);\r\n            if (validatePropName(normalizedKey)) {\r\n                const opt = raw[key];\r\n                const prop = (normalized[normalizedKey] =\r\n                    isArray(opt) || isFunction(opt) ? { type: opt } : opt);\r\n                if (prop) {\r\n                    const booleanIndex = getTypeIndex(Boolean, prop.type);\r\n                    const stringIndex = getTypeIndex(String, prop.type);\r\n                    prop[0 /* BooleanFlags.shouldCast */] = booleanIndex > -1;\r\n                    prop[1 /* BooleanFlags.shouldCastTrue */] =\r\n                        stringIndex < 0 || booleanIndex < stringIndex;\r\n                    // if the prop needs boolean casting or default value\r\n                    if (booleanIndex > -1 || hasOwn(prop, 'default')) {\r\n                        needCastKeys.push(normalizedKey);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    const res = [normalized, needCastKeys];\r\n    if (isObject(comp)) {\r\n        cache.set(comp, res);\r\n    }\r\n    return res;\r\n}\r\nfunction validatePropName(key) {\r\n    if (key[0] !== '$') {\r\n        return true;\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        warn(`Invalid prop name: \"${key}\" is a reserved property.`);\r\n    }\r\n    return false;\r\n}\r\n// use function string name to check type constructors\r\n// so that it works across vms / iframes.\r\nfunction getType(ctor) {\r\n    const match = ctor && ctor.toString().match(/^\\s*function (\\w+)/);\r\n    return match ? match[1] : ctor === null ? 'null' : '';\r\n}\r\nfunction isSameType(a, b) {\r\n    return getType(a) === getType(b);\r\n}\r\nfunction getTypeIndex(type, expectedTypes) {\r\n    if (isArray(expectedTypes)) {\r\n        return expectedTypes.findIndex(t => isSameType(t, type));\r\n    }\r\n    else if (isFunction(expectedTypes)) {\r\n        return isSameType(expectedTypes, type) ? 0 : -1;\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction validateProps(rawProps, props, instance) {\r\n    const resolvedValues = toRaw(props);\r\n    const options = instance.propsOptions[0];\r\n    for (const key in options) {\r\n        let opt = options[key];\r\n        if (opt == null)\r\n            continue;\r\n        validateProp(key, resolvedValues[key], opt, !hasOwn(rawProps, key) && !hasOwn(rawProps, hyphenate(key)));\r\n    }\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction validateProp(name, value, prop, isAbsent) {\r\n    const { type, required, validator } = prop;\r\n    // required!\r\n    if (required && isAbsent) {\r\n        warn('Missing required prop: \"' + name + '\"');\r\n        return;\r\n    }\r\n    // missing but optional\r\n    if (value == null && !prop.required) {\r\n        return;\r\n    }\r\n    // type check\r\n    if (type != null && type !== true) {\r\n        let isValid = false;\r\n        const types = isArray(type) ? type : [type];\r\n        const expectedTypes = [];\r\n        // value is valid as long as one of the specified types match\r\n        for (let i = 0; i < types.length && !isValid; i++) {\r\n            const { valid, expectedType } = assertType(value, types[i]);\r\n            expectedTypes.push(expectedType || '');\r\n            isValid = valid;\r\n        }\r\n        if (!isValid) {\r\n            warn(getInvalidTypeMessage(name, value, expectedTypes));\r\n            return;\r\n        }\r\n    }\r\n    // custom validator\r\n    if (validator && !validator(value)) {\r\n        warn('Invalid prop: custom validator check failed for prop \"' + name + '\".');\r\n    }\r\n}\r\nconst isSimpleType = /*#__PURE__*/ makeMap('String,Number,Boolean,Function,Symbol,BigInt');\r\n/**\r\n * dev only\r\n */\r\nfunction assertType(value, type) {\r\n    let valid;\r\n    const expectedType = getType(type);\r\n    if (isSimpleType(expectedType)) {\r\n        const t = typeof value;\r\n        valid = t === expectedType.toLowerCase();\r\n        // for primitive wrapper objects\r\n        if (!valid && t === 'object') {\r\n            valid = value instanceof type;\r\n        }\r\n    }\r\n    else if (expectedType === 'Object') {\r\n        valid = isObject(value);\r\n    }\r\n    else if (expectedType === 'Array') {\r\n        valid = isArray(value);\r\n    }\r\n    else if (expectedType === 'null') {\r\n        valid = value === null;\r\n    }\r\n    else {\r\n        valid = value instanceof type;\r\n    }\r\n    return {\r\n        valid,\r\n        expectedType\r\n    };\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction getInvalidTypeMessage(name, value, expectedTypes) {\r\n    let message = `Invalid prop: type check failed for prop \"${name}\".` +\r\n        ` Expected ${expectedTypes.map(capitalize).join(' | ')}`;\r\n    const expectedType = expectedTypes[0];\r\n    const receivedType = toRawType(value);\r\n    const expectedValue = styleValue(value, expectedType);\r\n    const receivedValue = styleValue(value, receivedType);\r\n    // check if we need to specify expected value\r\n    if (expectedTypes.length === 1 &&\r\n        isExplicable(expectedType) &&\r\n        !isBoolean(expectedType, receivedType)) {\r\n        message += ` with value ${expectedValue}`;\r\n    }\r\n    message += `, got ${receivedType} `;\r\n    // check if we need to specify received value\r\n    if (isExplicable(receivedType)) {\r\n        message += `with value ${receivedValue}.`;\r\n    }\r\n    return message;\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction styleValue(value, type) {\r\n    if (type === 'String') {\r\n        return `\"${value}\"`;\r\n    }\r\n    else if (type === 'Number') {\r\n        return `${Number(value)}`;\r\n    }\r\n    else {\r\n        return `${value}`;\r\n    }\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction isExplicable(type) {\r\n    const explicitTypes = ['string', 'number', 'boolean'];\r\n    return explicitTypes.some(elem => type.toLowerCase() === elem);\r\n}\r\n/**\r\n * dev only\r\n */\r\nfunction isBoolean(...args) {\r\n    return args.some(elem => elem.toLowerCase() === 'boolean');\r\n}\n\nconst isInternalKey = (key) => key[0] === '_' || key === '$stable';\r\nconst normalizeSlotValue = (value) => isArray(value)\r\n    ? value.map(normalizeVNode)\r\n    : [normalizeVNode(value)];\r\nconst normalizeSlot = (key, rawSlot, ctx) => {\r\n    if (rawSlot._n) {\r\n        // already normalized - #5353\r\n        return rawSlot;\r\n    }\r\n    const normalized = withCtx((...args) => {\r\n        if ((process.env.NODE_ENV !== 'production') && currentInstance) {\r\n            warn(`Slot \"${key}\" invoked outside of the render function: ` +\r\n                `this will not track dependencies used in the slot. ` +\r\n                `Invoke the slot function inside the render function instead.`);\r\n        }\r\n        return normalizeSlotValue(rawSlot(...args));\r\n    }, ctx);\r\n    normalized._c = false;\r\n    return normalized;\r\n};\r\nconst normalizeObjectSlots = (rawSlots, slots, instance) => {\r\n    const ctx = rawSlots._ctx;\r\n    for (const key in rawSlots) {\r\n        if (isInternalKey(key))\r\n            continue;\r\n        const value = rawSlots[key];\r\n        if (isFunction(value)) {\r\n            slots[key] = normalizeSlot(key, value, ctx);\r\n        }\r\n        else if (value != null) {\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                !(false )) {\r\n                warn(`Non-function value encountered for slot \"${key}\". ` +\r\n                    `Prefer function slots for better performance.`);\r\n            }\r\n            const normalized = normalizeSlotValue(value);\r\n            slots[key] = () => normalized;\r\n        }\r\n    }\r\n};\r\nconst normalizeVNodeSlots = (instance, children) => {\r\n    if ((process.env.NODE_ENV !== 'production') &&\r\n        !isKeepAlive(instance.vnode) &&\r\n        !(false )) {\r\n        warn(`Non-function value encountered for default slot. ` +\r\n            `Prefer function slots for better performance.`);\r\n    }\r\n    const normalized = normalizeSlotValue(children);\r\n    instance.slots.default = () => normalized;\r\n};\r\nconst initSlots = (instance, children) => {\r\n    if (instance.vnode.shapeFlag & 32 /* ShapeFlags.SLOTS_CHILDREN */) {\r\n        const type = children._;\r\n        if (type) {\r\n            // users can get the shallow readonly version of the slots object through `this.$slots`,\r\n            // we should avoid the proxy object polluting the slots of the internal instance\r\n            instance.slots = toRaw(children);\r\n            // make compiler marker non-enumerable\r\n            def(children, '_', type);\r\n        }\r\n        else {\r\n            normalizeObjectSlots(children, (instance.slots = {}));\r\n        }\r\n    }\r\n    else {\r\n        instance.slots = {};\r\n        if (children) {\r\n            normalizeVNodeSlots(instance, children);\r\n        }\r\n    }\r\n    def(instance.slots, InternalObjectKey, 1);\r\n};\r\nconst updateSlots = (instance, children, optimized) => {\r\n    const { vnode, slots } = instance;\r\n    let needDeletionCheck = true;\r\n    let deletionComparisonTarget = EMPTY_OBJ;\r\n    if (vnode.shapeFlag & 32 /* ShapeFlags.SLOTS_CHILDREN */) {\r\n        const type = children._;\r\n        if (type) {\r\n            // compiled slots.\r\n            if ((process.env.NODE_ENV !== 'production') && isHmrUpdating) {\r\n                // Parent was HMR updated so slot content may have changed.\r\n                // force update slots and mark instance for hmr as well\r\n                extend(slots, children);\r\n            }\r\n            else if (optimized && type === 1 /* SlotFlags.STABLE */) {\r\n                // compiled AND stable.\r\n                // no need to update, and skip stale slots removal.\r\n                needDeletionCheck = false;\r\n            }\r\n            else {\r\n                // compiled but dynamic (v-if/v-for on slots) - update slots, but skip\r\n                // normalization.\r\n                extend(slots, children);\r\n                // #2893\r\n                // when rendering the optimized slots by manually written render function,\r\n                // we need to delete the `slots._` flag if necessary to make subsequent updates reliable,\r\n                // i.e. let the `renderSlot` create the bailed Fragment\r\n                if (!optimized && type === 1 /* SlotFlags.STABLE */) {\r\n                    delete slots._;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            needDeletionCheck = !children.$stable;\r\n            normalizeObjectSlots(children, slots);\r\n        }\r\n        deletionComparisonTarget = children;\r\n    }\r\n    else if (children) {\r\n        // non slot object children (direct value) passed to a component\r\n        normalizeVNodeSlots(instance, children);\r\n        deletionComparisonTarget = { default: 1 };\r\n    }\r\n    // delete stale slots\r\n    if (needDeletionCheck) {\r\n        for (const key in slots) {\r\n            if (!isInternalKey(key) && !(key in deletionComparisonTarget)) {\r\n                delete slots[key];\r\n            }\r\n        }\r\n    }\r\n};\n\nfunction createAppContext() {\r\n    return {\r\n        app: null,\r\n        config: {\r\n            isNativeTag: NO,\r\n            performance: false,\r\n            globalProperties: {},\r\n            optionMergeStrategies: {},\r\n            errorHandler: undefined,\r\n            warnHandler: undefined,\r\n            compilerOptions: {}\r\n        },\r\n        mixins: [],\r\n        components: {},\r\n        directives: {},\r\n        provides: Object.create(null),\r\n        optionsCache: new WeakMap(),\r\n        propsCache: new WeakMap(),\r\n        emitsCache: new WeakMap()\r\n    };\r\n}\r\nlet uid = 0;\r\nfunction createAppAPI(render, hydrate) {\r\n    return function createApp(rootComponent, rootProps = null) {\r\n        if (!isFunction(rootComponent)) {\r\n            rootComponent = Object.assign({}, rootComponent);\r\n        }\r\n        if (rootProps != null && !isObject(rootProps)) {\r\n            (process.env.NODE_ENV !== 'production') && warn(`root props passed to app.mount() must be an object.`);\r\n            rootProps = null;\r\n        }\r\n        const context = createAppContext();\r\n        const installedPlugins = new Set();\r\n        let isMounted = false;\r\n        const app = (context.app = {\r\n            _uid: uid++,\r\n            _component: rootComponent,\r\n            _props: rootProps,\r\n            _container: null,\r\n            _context: context,\r\n            _instance: null,\r\n            version,\r\n            get config() {\r\n                return context.config;\r\n            },\r\n            set config(v) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`app.config cannot be replaced. Modify individual options instead.`);\r\n                }\r\n            },\r\n            use(plugin, ...options) {\r\n                if (installedPlugins.has(plugin)) {\r\n                    (process.env.NODE_ENV !== 'production') && warn(`Plugin has already been applied to target app.`);\r\n                }\r\n                else if (plugin && isFunction(plugin.install)) {\r\n                    installedPlugins.add(plugin);\r\n                    plugin.install(app, ...options);\r\n                }\r\n                else if (isFunction(plugin)) {\r\n                    installedPlugins.add(plugin);\r\n                    plugin(app, ...options);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`A plugin must either be a function or an object with an \"install\" ` +\r\n                        `function.`);\r\n                }\r\n                return app;\r\n            },\r\n            mixin(mixin) {\r\n                if (__VUE_OPTIONS_API__) {\r\n                    if (!context.mixins.includes(mixin)) {\r\n                        context.mixins.push(mixin);\r\n                    }\r\n                    else if ((process.env.NODE_ENV !== 'production')) {\r\n                        warn('Mixin has already been applied to target app' +\r\n                            (mixin.name ? `: ${mixin.name}` : ''));\r\n                    }\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn('Mixins are only available in builds supporting Options API');\r\n                }\r\n                return app;\r\n            },\r\n            component(name, component) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    validateComponentName(name, context.config);\r\n                }\r\n                if (!component) {\r\n                    return context.components[name];\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') && context.components[name]) {\r\n                    warn(`Component \"${name}\" has already been registered in target app.`);\r\n                }\r\n                context.components[name] = component;\r\n                return app;\r\n            },\r\n            directive(name, directive) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    validateDirectiveName(name);\r\n                }\r\n                if (!directive) {\r\n                    return context.directives[name];\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') && context.directives[name]) {\r\n                    warn(`Directive \"${name}\" has already been registered in target app.`);\r\n                }\r\n                context.directives[name] = directive;\r\n                return app;\r\n            },\r\n            mount(rootContainer, isHydrate, isSVG) {\r\n                if (!isMounted) {\r\n                    // #5571\r\n                    if ((process.env.NODE_ENV !== 'production') && rootContainer.__vue_app__) {\r\n                        warn(`There is already an app instance mounted on the host container.\\n` +\r\n                            ` If you want to mount another app on the same host container,` +\r\n                            ` you need to unmount the previous app by calling \\`app.unmount()\\` first.`);\r\n                    }\r\n                    const vnode = createVNode(rootComponent, rootProps);\r\n                    // store app context on the root VNode.\r\n                    // this will be set on the root instance on initial mount.\r\n                    vnode.appContext = context;\r\n                    // HMR root reload\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        context.reload = () => {\r\n                            render(cloneVNode(vnode), rootContainer, isSVG);\r\n                        };\r\n                    }\r\n                    if (isHydrate && hydrate) {\r\n                        hydrate(vnode, rootContainer);\r\n                    }\r\n                    else {\r\n                        render(vnode, rootContainer, isSVG);\r\n                    }\r\n                    isMounted = true;\r\n                    app._container = rootContainer;\r\n                    rootContainer.__vue_app__ = app;\r\n                    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                        app._instance = vnode.component;\r\n                        devtoolsInitApp(app, version);\r\n                    }\r\n                    return getExposeProxy(vnode.component) || vnode.component.proxy;\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`App has already been mounted.\\n` +\r\n                        `If you want to remount the same app, move your app creation logic ` +\r\n                        `into a factory function and create fresh app instances for each ` +\r\n                        `mount - e.g. \\`const createMyApp = () => createApp(App)\\``);\r\n                }\r\n            },\r\n            unmount() {\r\n                if (isMounted) {\r\n                    render(null, app._container);\r\n                    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                        app._instance = null;\r\n                        devtoolsUnmountApp(app);\r\n                    }\r\n                    delete app._container.__vue_app__;\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`Cannot unmount an app that is not mounted.`);\r\n                }\r\n            },\r\n            provide(key, value) {\r\n                if ((process.env.NODE_ENV !== 'production') && key in context.provides) {\r\n                    warn(`App already provides property with key \"${String(key)}\". ` +\r\n                        `It will be overwritten with the new value.`);\r\n                }\r\n                context.provides[key] = value;\r\n                return app;\r\n            }\r\n        });\r\n        return app;\r\n    };\r\n}\n\n/**\r\n * Function for handling a template ref\r\n */\r\nfunction setRef(rawRef, oldRawRef, parentSuspense, vnode, isUnmount = false) {\r\n    if (isArray(rawRef)) {\r\n        rawRef.forEach((r, i) => setRef(r, oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef), parentSuspense, vnode, isUnmount));\r\n        return;\r\n    }\r\n    if (isAsyncWrapper(vnode) && !isUnmount) {\r\n        // when mounting async components, nothing needs to be done,\r\n        // because the template ref is forwarded to inner component\r\n        return;\r\n    }\r\n    const refValue = vnode.shapeFlag & 4 /* ShapeFlags.STATEFUL_COMPONENT */\r\n        ? getExposeProxy(vnode.component) || vnode.component.proxy\r\n        : vnode.el;\r\n    const value = isUnmount ? null : refValue;\r\n    const { i: owner, r: ref } = rawRef;\r\n    if ((process.env.NODE_ENV !== 'production') && !owner) {\r\n        warn(`Missing ref owner context. ref cannot be used on hoisted vnodes. ` +\r\n            `A vnode with ref must be created inside the render function.`);\r\n        return;\r\n    }\r\n    const oldRef = oldRawRef && oldRawRef.r;\r\n    const refs = owner.refs === EMPTY_OBJ ? (owner.refs = {}) : owner.refs;\r\n    const setupState = owner.setupState;\r\n    // dynamic ref changed. unset old ref\r\n    if (oldRef != null && oldRef !== ref) {\r\n        if (isString(oldRef)) {\r\n            refs[oldRef] = null;\r\n            if (hasOwn(setupState, oldRef)) {\r\n                setupState[oldRef] = null;\r\n            }\r\n        }\r\n        else if (isRef(oldRef)) {\r\n            oldRef.value = null;\r\n        }\r\n    }\r\n    if (isFunction(ref)) {\r\n        callWithErrorHandling(ref, owner, 12 /* ErrorCodes.FUNCTION_REF */, [value, refs]);\r\n    }\r\n    else {\r\n        const _isString = isString(ref);\r\n        const _isRef = isRef(ref);\r\n        if (_isString || _isRef) {\r\n            const doSet = () => {\r\n                if (rawRef.f) {\r\n                    const existing = _isString ? refs[ref] : ref.value;\r\n                    if (isUnmount) {\r\n                        isArray(existing) && remove(existing, refValue);\r\n                    }\r\n                    else {\r\n                        if (!isArray(existing)) {\r\n                            if (_isString) {\r\n                                refs[ref] = [refValue];\r\n                                if (hasOwn(setupState, ref)) {\r\n                                    setupState[ref] = refs[ref];\r\n                                }\r\n                            }\r\n                            else {\r\n                                ref.value = [refValue];\r\n                                if (rawRef.k)\r\n                                    refs[rawRef.k] = ref.value;\r\n                            }\r\n                        }\r\n                        else if (!existing.includes(refValue)) {\r\n                            existing.push(refValue);\r\n                        }\r\n                    }\r\n                }\r\n                else if (_isString) {\r\n                    refs[ref] = value;\r\n                    if (hasOwn(setupState, ref)) {\r\n                        setupState[ref] = value;\r\n                    }\r\n                }\r\n                else if (_isRef) {\r\n                    ref.value = value;\r\n                    if (rawRef.k)\r\n                        refs[rawRef.k] = value;\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn('Invalid template ref type:', ref, `(${typeof ref})`);\r\n                }\r\n            };\r\n            if (value) {\r\n                doSet.id = -1;\r\n                queuePostRenderEffect(doSet, parentSuspense);\r\n            }\r\n            else {\r\n                doSet();\r\n            }\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn('Invalid template ref type:', ref, `(${typeof ref})`);\r\n        }\r\n    }\r\n}\n\nlet hasMismatch = false;\r\nconst isSVGContainer = (container) => /svg/.test(container.namespaceURI) && container.tagName !== 'foreignObject';\r\nconst isComment = (node) => node.nodeType === 8 /* DOMNodeTypes.COMMENT */;\r\n// Note: hydration is DOM-specific\r\n// But we have to place it in core due to tight coupling with core - splitting\r\n// it out creates a ton of unnecessary complexity.\r\n// Hydration also depends on some renderer internal logic which needs to be\r\n// passed in via arguments.\r\nfunction createHydrationFunctions(rendererInternals) {\r\n    const { mt: mountComponent, p: patch, o: { patchProp, createText, nextSibling, parentNode, remove, insert, createComment } } = rendererInternals;\r\n    const hydrate = (vnode, container) => {\r\n        if (!container.hasChildNodes()) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Attempting to hydrate existing markup but container is empty. ` +\r\n                    `Performing full mount instead.`);\r\n            patch(null, vnode, container);\r\n            flushPostFlushCbs();\r\n            container._vnode = vnode;\r\n            return;\r\n        }\r\n        hasMismatch = false;\r\n        hydrateNode(container.firstChild, vnode, null, null, null);\r\n        flushPostFlushCbs();\r\n        container._vnode = vnode;\r\n        if (hasMismatch && !false) {\r\n            // this error should show up in production\r\n            console.error(`Hydration completed but contains mismatches.`);\r\n        }\r\n    };\r\n    const hydrateNode = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized = false) => {\r\n        const isFragmentStart = isComment(node) && node.data === '[';\r\n        const onMismatch = () => handleMismatch(node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragmentStart);\r\n        const { type, ref, shapeFlag, patchFlag } = vnode;\r\n        const domType = node.nodeType;\r\n        vnode.el = node;\r\n        if (patchFlag === -2 /* PatchFlags.BAIL */) {\r\n            optimized = false;\r\n            vnode.dynamicChildren = null;\r\n        }\r\n        let nextNode = null;\r\n        switch (type) {\r\n            case Text:\r\n                if (domType !== 3 /* DOMNodeTypes.TEXT */) {\r\n                    // #5728 empty text node inside a slot can cause hydration failure\r\n                    // because the server rendered HTML won't contain a text node\r\n                    if (vnode.children === '') {\r\n                        insert((vnode.el = createText('')), parentNode(node), node);\r\n                        nextNode = node;\r\n                    }\r\n                    else {\r\n                        nextNode = onMismatch();\r\n                    }\r\n                }\r\n                else {\r\n                    if (node.data !== vnode.children) {\r\n                        hasMismatch = true;\r\n                        (process.env.NODE_ENV !== 'production') &&\r\n                            warn(`Hydration text mismatch:` +\r\n                                `\\n- Client: ${JSON.stringify(node.data)}` +\r\n                                `\\n- Server: ${JSON.stringify(vnode.children)}`);\r\n                        node.data = vnode.children;\r\n                    }\r\n                    nextNode = nextSibling(node);\r\n                }\r\n                break;\r\n            case Comment:\r\n                if (domType !== 8 /* DOMNodeTypes.COMMENT */ || isFragmentStart) {\r\n                    nextNode = onMismatch();\r\n                }\r\n                else {\r\n                    nextNode = nextSibling(node);\r\n                }\r\n                break;\r\n            case Static:\r\n                if (domType !== 1 /* DOMNodeTypes.ELEMENT */ && domType !== 3 /* DOMNodeTypes.TEXT */) {\r\n                    nextNode = onMismatch();\r\n                }\r\n                else {\r\n                    // determine anchor, adopt content\r\n                    nextNode = node;\r\n                    // if the static vnode has its content stripped during build,\r\n                    // adopt it from the server-rendered HTML.\r\n                    const needToAdoptContent = !vnode.children.length;\r\n                    for (let i = 0; i < vnode.staticCount; i++) {\r\n                        if (needToAdoptContent)\r\n                            vnode.children +=\r\n                                nextNode.nodeType === 1 /* DOMNodeTypes.ELEMENT */\r\n                                    ? nextNode.outerHTML\r\n                                    : nextNode.data;\r\n                        if (i === vnode.staticCount - 1) {\r\n                            vnode.anchor = nextNode;\r\n                        }\r\n                        nextNode = nextSibling(nextNode);\r\n                    }\r\n                    return nextNode;\r\n                }\r\n                break;\r\n            case Fragment:\r\n                if (!isFragmentStart) {\r\n                    nextNode = onMismatch();\r\n                }\r\n                else {\r\n                    nextNode = hydrateFragment(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n                }\r\n                break;\r\n            default:\r\n                if (shapeFlag & 1 /* ShapeFlags.ELEMENT */) {\r\n                    if (domType !== 1 /* DOMNodeTypes.ELEMENT */ ||\r\n                        vnode.type.toLowerCase() !==\r\n                            node.tagName.toLowerCase()) {\r\n                        nextNode = onMismatch();\r\n                    }\r\n                    else {\r\n                        nextNode = hydrateElement(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n                    }\r\n                }\r\n                else if (shapeFlag & 6 /* ShapeFlags.COMPONENT */) {\r\n                    // when setting up the render effect, if the initial vnode already\r\n                    // has .el set, the component will perform hydration instead of mount\r\n                    // on its sub-tree.\r\n                    vnode.slotScopeIds = slotScopeIds;\r\n                    const container = parentNode(node);\r\n                    mountComponent(vnode, container, null, parentComponent, parentSuspense, isSVGContainer(container), optimized);\r\n                    // component may be async, so in the case of fragments we cannot rely\r\n                    // on component's rendered output to determine the end of the fragment\r\n                    // instead, we do a lookahead to find the end anchor node.\r\n                    nextNode = isFragmentStart\r\n                        ? locateClosingAsyncAnchor(node)\r\n                        : nextSibling(node);\r\n                    // #4293 teleport as component root\r\n                    if (nextNode &&\r\n                        isComment(nextNode) &&\r\n                        nextNode.data === 'teleport end') {\r\n                        nextNode = nextSibling(nextNode);\r\n                    }\r\n                    // #3787\r\n                    // if component is async, it may get moved / unmounted before its\r\n                    // inner component is loaded, so we need to give it a placeholder\r\n                    // vnode that matches its adopted DOM.\r\n                    if (isAsyncWrapper(vnode)) {\r\n                        let subTree;\r\n                        if (isFragmentStart) {\r\n                            subTree = createVNode(Fragment);\r\n                            subTree.anchor = nextNode\r\n                                ? nextNode.previousSibling\r\n                                : container.lastChild;\r\n                        }\r\n                        else {\r\n                            subTree =\r\n                                node.nodeType === 3 ? createTextVNode('') : createVNode('div');\r\n                        }\r\n                        subTree.el = node;\r\n                        vnode.component.subTree = subTree;\r\n                    }\r\n                }\r\n                else if (shapeFlag & 64 /* ShapeFlags.TELEPORT */) {\r\n                    if (domType !== 8 /* DOMNodeTypes.COMMENT */) {\r\n                        nextNode = onMismatch();\r\n                    }\r\n                    else {\r\n                        nextNode = vnode.type.hydrate(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, rendererInternals, hydrateChildren);\r\n                    }\r\n                }\r\n                else if (shapeFlag & 128 /* ShapeFlags.SUSPENSE */) {\r\n                    nextNode = vnode.type.hydrate(node, vnode, parentComponent, parentSuspense, isSVGContainer(parentNode(node)), slotScopeIds, optimized, rendererInternals, hydrateNode);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn('Invalid HostVNode type:', type, `(${typeof type})`);\r\n                }\r\n        }\r\n        if (ref != null) {\r\n            setRef(ref, null, parentSuspense, vnode);\r\n        }\r\n        return nextNode;\r\n    };\r\n    const hydrateElement = (el, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\r\n        optimized = optimized || !!vnode.dynamicChildren;\r\n        const { type, props, patchFlag, shapeFlag, dirs } = vnode;\r\n        // #4006 for form elements with non-string v-model value bindings\r\n        // e.g. <option :value=\"obj\">, <input type=\"checkbox\" :true-value=\"1\">\r\n        const forcePatchValue = (type === 'input' && dirs) || type === 'option';\r\n        // skip props & children if this is hoisted static nodes\r\n        // #5405 in dev, always hydrate children for HMR\r\n        if ((process.env.NODE_ENV !== 'production') || forcePatchValue || patchFlag !== -1 /* PatchFlags.HOISTED */) {\r\n            if (dirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'created');\r\n            }\r\n            // props\r\n            if (props) {\r\n                if (forcePatchValue ||\r\n                    !optimized ||\r\n                    patchFlag & (16 /* PatchFlags.FULL_PROPS */ | 32 /* PatchFlags.HYDRATE_EVENTS */)) {\r\n                    for (const key in props) {\r\n                        if ((forcePatchValue && key.endsWith('value')) ||\r\n                            (isOn(key) && !isReservedProp(key))) {\r\n                            patchProp(el, key, null, props[key], false, undefined, parentComponent);\r\n                        }\r\n                    }\r\n                }\r\n                else if (props.onClick) {\r\n                    // Fast path for click listeners (which is most often) to avoid\r\n                    // iterating through props.\r\n                    patchProp(el, 'onClick', null, props.onClick, false, undefined, parentComponent);\r\n                }\r\n            }\r\n            // vnode / directive hooks\r\n            let vnodeHooks;\r\n            if ((vnodeHooks = props && props.onVnodeBeforeMount)) {\r\n                invokeVNodeHook(vnodeHooks, parentComponent, vnode);\r\n            }\r\n            if (dirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'beforeMount');\r\n            }\r\n            if ((vnodeHooks = props && props.onVnodeMounted) || dirs) {\r\n                queueEffectWithSuspense(() => {\r\n                    vnodeHooks && invokeVNodeHook(vnodeHooks, parentComponent, vnode);\r\n                    dirs && invokeDirectiveHook(vnode, null, parentComponent, 'mounted');\r\n                }, parentSuspense);\r\n            }\r\n            // children\r\n            if (shapeFlag & 16 /* ShapeFlags.ARRAY_CHILDREN */ &&\r\n                // skip if element has innerHTML / textContent\r\n                !(props && (props.innerHTML || props.textContent))) {\r\n                let next = hydrateChildren(el.firstChild, vnode, el, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n                let hasWarned = false;\r\n                while (next) {\r\n                    hasMismatch = true;\r\n                    if ((process.env.NODE_ENV !== 'production') && !hasWarned) {\r\n                        warn(`Hydration children mismatch in <${vnode.type}>: ` +\r\n                            `server rendered element contains more child nodes than client vdom.`);\r\n                        hasWarned = true;\r\n                    }\r\n                    // The SSRed DOM contains more nodes than it should. Remove them.\r\n                    const cur = next;\r\n                    next = next.nextSibling;\r\n                    remove(cur);\r\n                }\r\n            }\r\n            else if (shapeFlag & 8 /* ShapeFlags.TEXT_CHILDREN */) {\r\n                if (el.textContent !== vnode.children) {\r\n                    hasMismatch = true;\r\n                    (process.env.NODE_ENV !== 'production') &&\r\n                        warn(`Hydration text content mismatch in <${vnode.type}>:\\n` +\r\n                            `- Client: ${el.textContent}\\n` +\r\n                            `- Server: ${vnode.children}`);\r\n                    el.textContent = vnode.children;\r\n                }\r\n            }\r\n        }\r\n        return el.nextSibling;\r\n    };\r\n    const hydrateChildren = (node, parentVNode, container, parentComponent, parentSuspense, slotScopeIds, optimized) => {\r\n        optimized = optimized || !!parentVNode.dynamicChildren;\r\n        const children = parentVNode.children;\r\n        const l = children.length;\r\n        let hasWarned = false;\r\n        for (let i = 0; i < l; i++) {\r\n            const vnode = optimized\r\n                ? children[i]\r\n                : (children[i] = normalizeVNode(children[i]));\r\n            if (node) {\r\n                node = hydrateNode(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n            }\r\n            else if (vnode.type === Text && !vnode.children) {\r\n                continue;\r\n            }\r\n            else {\r\n                hasMismatch = true;\r\n                if ((process.env.NODE_ENV !== 'production') && !hasWarned) {\r\n                    warn(`Hydration children mismatch in <${container.tagName.toLowerCase()}>: ` +\r\n                        `server rendered element contains fewer child nodes than client vdom.`);\r\n                    hasWarned = true;\r\n                }\r\n                // the SSRed DOM didn't contain enough nodes. Mount the missing ones.\r\n                patch(null, vnode, container, null, parentComponent, parentSuspense, isSVGContainer(container), slotScopeIds);\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    const hydrateFragment = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\r\n        const { slotScopeIds: fragmentSlotScopeIds } = vnode;\r\n        if (fragmentSlotScopeIds) {\r\n            slotScopeIds = slotScopeIds\r\n                ? slotScopeIds.concat(fragmentSlotScopeIds)\r\n                : fragmentSlotScopeIds;\r\n        }\r\n        const container = parentNode(node);\r\n        const next = hydrateChildren(nextSibling(node), vnode, container, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n        if (next && isComment(next) && next.data === ']') {\r\n            return nextSibling((vnode.anchor = next));\r\n        }\r\n        else {\r\n            // fragment didn't hydrate successfully, since we didn't get a end anchor\r\n            // back. This should have led to node/children mismatch warnings.\r\n            hasMismatch = true;\r\n            // since the anchor is missing, we need to create one and insert it\r\n            insert((vnode.anchor = createComment(`]`)), container, next);\r\n            return next;\r\n        }\r\n    };\r\n    const handleMismatch = (node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragment) => {\r\n        hasMismatch = true;\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn(`Hydration node mismatch:\\n- Client vnode:`, vnode.type, `\\n- Server rendered DOM:`, node, node.nodeType === 3 /* DOMNodeTypes.TEXT */\r\n                ? `(text)`\r\n                : isComment(node) && node.data === '['\r\n                    ? `(start of fragment)`\r\n                    : ``);\r\n        vnode.el = null;\r\n        if (isFragment) {\r\n            // remove excessive fragment nodes\r\n            const end = locateClosingAsyncAnchor(node);\r\n            while (true) {\r\n                const next = nextSibling(node);\r\n                if (next && next !== end) {\r\n                    remove(next);\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        const next = nextSibling(node);\r\n        const container = parentNode(node);\r\n        remove(node);\r\n        patch(null, vnode, container, next, parentComponent, parentSuspense, isSVGContainer(container), slotScopeIds);\r\n        return next;\r\n    };\r\n    const locateClosingAsyncAnchor = (node) => {\r\n        let match = 0;\r\n        while (node) {\r\n            node = nextSibling(node);\r\n            if (node && isComment(node)) {\r\n                if (node.data === '[')\r\n                    match++;\r\n                if (node.data === ']') {\r\n                    if (match === 0) {\r\n                        return nextSibling(node);\r\n                    }\r\n                    else {\r\n                        match--;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    return [hydrate, hydrateNode];\r\n}\n\n/* eslint-disable no-restricted-globals */\r\nlet supported;\r\nlet perf;\r\nfunction startMeasure(instance, type) {\r\n    if (instance.appContext.config.performance && isSupported()) {\r\n        perf.mark(`vue-${type}-${instance.uid}`);\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n        devtoolsPerfStart(instance, type, isSupported() ? perf.now() : Date.now());\r\n    }\r\n}\r\nfunction endMeasure(instance, type) {\r\n    if (instance.appContext.config.performance && isSupported()) {\r\n        const startTag = `vue-${type}-${instance.uid}`;\r\n        const endTag = startTag + `:end`;\r\n        perf.mark(endTag);\r\n        perf.measure(`<${formatComponentName(instance, instance.type)}> ${type}`, startTag, endTag);\r\n        perf.clearMarks(startTag);\r\n        perf.clearMarks(endTag);\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n        devtoolsPerfEnd(instance, type, isSupported() ? perf.now() : Date.now());\r\n    }\r\n}\r\nfunction isSupported() {\r\n    if (supported !== undefined) {\r\n        return supported;\r\n    }\r\n    if (typeof window !== 'undefined' && window.performance) {\r\n        supported = true;\r\n        perf = window.performance;\r\n    }\r\n    else {\r\n        supported = false;\r\n    }\r\n    return supported;\r\n}\n\n/**\r\n * This is only called in esm-bundler builds.\r\n * It is called when a renderer is created, in `baseCreateRenderer` so that\r\n * importing runtime-core is side-effects free.\r\n *\r\n * istanbul-ignore-next\r\n */\r\nfunction initFeatureFlags() {\r\n    const needWarn = [];\r\n    if (typeof __VUE_OPTIONS_API__ !== 'boolean') {\r\n        (process.env.NODE_ENV !== 'production') && needWarn.push(`__VUE_OPTIONS_API__`);\r\n        getGlobalThis().__VUE_OPTIONS_API__ = true;\r\n    }\r\n    if (typeof __VUE_PROD_DEVTOOLS__ !== 'boolean') {\r\n        (process.env.NODE_ENV !== 'production') && needWarn.push(`__VUE_PROD_DEVTOOLS__`);\r\n        getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') && needWarn.length) {\r\n        const multi = needWarn.length > 1;\r\n        console.warn(`Feature flag${multi ? `s` : ``} ${needWarn.join(', ')} ${multi ? `are` : `is`} not explicitly defined. You are running the esm-bundler build of Vue, ` +\r\n            `which expects these compile-time feature flags to be globally injected ` +\r\n            `via the bundler config in order to get better tree-shaking in the ` +\r\n            `production bundle.\\n\\n` +\r\n            `For more details, see https://link.vuejs.org/feature-flags.`);\r\n    }\r\n}\n\nconst queuePostRenderEffect = queueEffectWithSuspense\r\n    ;\r\n/**\r\n * The createRenderer function accepts two generic arguments:\r\n * HostNode and HostElement, corresponding to Node and Element types in the\r\n * host environment. For example, for runtime-dom, HostNode would be the DOM\r\n * `Node` interface and HostElement would be the DOM `Element` interface.\r\n *\r\n * Custom renderers can pass in the platform specific types like this:\r\n *\r\n * ``` js\r\n * const { render, createApp } = createRenderer<Node, Element>({\r\n *   patchProp,\r\n *   ...nodeOps\r\n * })\r\n * ```\r\n */\r\nfunction createRenderer(options) {\r\n    return baseCreateRenderer(options);\r\n}\r\n// Separate API for creating hydration-enabled renderer.\r\n// Hydration logic is only used when calling this function, making it\r\n// tree-shakable.\r\nfunction createHydrationRenderer(options) {\r\n    return baseCreateRenderer(options, createHydrationFunctions);\r\n}\r\n// implementation\r\nfunction baseCreateRenderer(options, createHydrationFns) {\r\n    // compile-time feature flags check\r\n    {\r\n        initFeatureFlags();\r\n    }\r\n    const target = getGlobalThis();\r\n    target.__VUE__ = true;\r\n    if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n        setDevtoolsHook(target.__VUE_DEVTOOLS_GLOBAL_HOOK__, target);\r\n    }\r\n    const { insert: hostInsert, remove: hostRemove, patchProp: hostPatchProp, createElement: hostCreateElement, createText: hostCreateText, createComment: hostCreateComment, setText: hostSetText, setElementText: hostSetElementText, parentNode: hostParentNode, nextSibling: hostNextSibling, setScopeId: hostSetScopeId = NOOP, cloneNode: hostCloneNode, insertStaticContent: hostInsertStaticContent } = options;\r\n    // Note: functions inside this closure should use `const xxx = () => {}`\r\n    // style in order to prevent being inlined by minifiers.\r\n    const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, slotScopeIds = null, optimized = (process.env.NODE_ENV !== 'production') && isHmrUpdating ? false : !!n2.dynamicChildren) => {\r\n        if (n1 === n2) {\r\n            return;\r\n        }\r\n        // patching & not same type, unmount old tree\r\n        if (n1 && !isSameVNodeType(n1, n2)) {\r\n            anchor = getNextHostNode(n1);\r\n            unmount(n1, parentComponent, parentSuspense, true);\r\n            n1 = null;\r\n        }\r\n        if (n2.patchFlag === -2 /* PatchFlags.BAIL */) {\r\n            optimized = false;\r\n            n2.dynamicChildren = null;\r\n        }\r\n        const { type, ref, shapeFlag } = n2;\r\n        switch (type) {\r\n            case Text:\r\n                processText(n1, n2, container, anchor);\r\n                break;\r\n            case Comment:\r\n                processCommentNode(n1, n2, container, anchor);\r\n                break;\r\n            case Static:\r\n                if (n1 == null) {\r\n                    mountStaticNode(n2, container, anchor, isSVG);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    patchStaticNode(n1, n2, container, isSVG);\r\n                }\r\n                break;\r\n            case Fragment:\r\n                processFragment(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                break;\r\n            default:\r\n                if (shapeFlag & 1 /* ShapeFlags.ELEMENT */) {\r\n                    processElement(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n                else if (shapeFlag & 6 /* ShapeFlags.COMPONENT */) {\r\n                    processComponent(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n                else if (shapeFlag & 64 /* ShapeFlags.TELEPORT */) {\r\n                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);\r\n                }\r\n                else if (shapeFlag & 128 /* ShapeFlags.SUSPENSE */) {\r\n                    type.process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals);\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn('Invalid VNode type:', type, `(${typeof type})`);\r\n                }\r\n        }\r\n        // set ref\r\n        if (ref != null && parentComponent) {\r\n            setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);\r\n        }\r\n    };\r\n    const processText = (n1, n2, container, anchor) => {\r\n        if (n1 == null) {\r\n            hostInsert((n2.el = hostCreateText(n2.children)), container, anchor);\r\n        }\r\n        else {\r\n            const el = (n2.el = n1.el);\r\n            if (n2.children !== n1.children) {\r\n                hostSetText(el, n2.children);\r\n            }\r\n        }\r\n    };\r\n    const processCommentNode = (n1, n2, container, anchor) => {\r\n        if (n1 == null) {\r\n            hostInsert((n2.el = hostCreateComment(n2.children || '')), container, anchor);\r\n        }\r\n        else {\r\n            // there's no support for dynamic comments\r\n            n2.el = n1.el;\r\n        }\r\n    };\r\n    const mountStaticNode = (n2, container, anchor, isSVG) => {\r\n        [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG, n2.el, n2.anchor);\r\n    };\r\n    /**\r\n     * Dev / HMR only\r\n     */\r\n    const patchStaticNode = (n1, n2, container, isSVG) => {\r\n        // static nodes are only patched during dev for HMR\r\n        if (n2.children !== n1.children) {\r\n            const anchor = hostNextSibling(n1.anchor);\r\n            // remove existing\r\n            removeStaticNode(n1);\r\n            [n2.el, n2.anchor] = hostInsertStaticContent(n2.children, container, anchor, isSVG);\r\n        }\r\n        else {\r\n            n2.el = n1.el;\r\n            n2.anchor = n1.anchor;\r\n        }\r\n    };\r\n    const moveStaticNode = ({ el, anchor }, container, nextSibling) => {\r\n        let next;\r\n        while (el && el !== anchor) {\r\n            next = hostNextSibling(el);\r\n            hostInsert(el, container, nextSibling);\r\n            el = next;\r\n        }\r\n        hostInsert(anchor, container, nextSibling);\r\n    };\r\n    const removeStaticNode = ({ el, anchor }) => {\r\n        let next;\r\n        while (el && el !== anchor) {\r\n            next = hostNextSibling(el);\r\n            hostRemove(el);\r\n            el = next;\r\n        }\r\n        hostRemove(anchor);\r\n    };\r\n    const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        isSVG = isSVG || n2.type === 'svg';\r\n        if (n1 == null) {\r\n            mountElement(n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n        }\r\n        else {\r\n            patchElement(n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n        }\r\n    };\r\n    const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        let el;\r\n        let vnodeHook;\r\n        const { type, props, shapeFlag, transition, patchFlag, dirs } = vnode;\r\n        if (!(process.env.NODE_ENV !== 'production') &&\r\n            vnode.el &&\r\n            hostCloneNode !== undefined &&\r\n            patchFlag === -1 /* PatchFlags.HOISTED */) {\r\n            // If a vnode has non-null el, it means it's being reused.\r\n            // Only static vnodes can be reused, so its mounted DOM nodes should be\r\n            // exactly the same, and we can simply do a clone here.\r\n            // only do this in production since cloned trees cannot be HMR updated.\r\n            el = vnode.el = hostCloneNode(vnode.el);\r\n        }\r\n        else {\r\n            el = vnode.el = hostCreateElement(vnode.type, isSVG, props && props.is, props);\r\n            // mount children first, since some props may rely on child content\r\n            // being already rendered, e.g. `<select value>`\r\n            if (shapeFlag & 8 /* ShapeFlags.TEXT_CHILDREN */) {\r\n                hostSetElementText(el, vnode.children);\r\n            }\r\n            else if (shapeFlag & 16 /* ShapeFlags.ARRAY_CHILDREN */) {\r\n                mountChildren(vnode.children, el, null, parentComponent, parentSuspense, isSVG && type !== 'foreignObject', slotScopeIds, optimized);\r\n            }\r\n            if (dirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'created');\r\n            }\r\n            // props\r\n            if (props) {\r\n                for (const key in props) {\r\n                    if (key !== 'value' && !isReservedProp(key)) {\r\n                        hostPatchProp(el, key, null, props[key], isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);\r\n                    }\r\n                }\r\n                /**\r\n                 * Special case for setting value on DOM elements:\r\n                 * - it can be order-sensitive (e.g. should be set *after* min/max, #2325, #4024)\r\n                 * - it needs to be forced (#1471)\r\n                 * #2353 proposes adding another renderer option to configure this, but\r\n                 * the properties affects are so finite it is worth special casing it\r\n                 * here to reduce the complexity. (Special casing it also should not\r\n                 * affect non-DOM renderers)\r\n                 */\r\n                if ('value' in props) {\r\n                    hostPatchProp(el, 'value', null, props.value);\r\n                }\r\n                if ((vnodeHook = props.onVnodeBeforeMount)) {\r\n                    invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n                }\r\n            }\r\n            // scopeId\r\n            setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            Object.defineProperty(el, '__vnode', {\r\n                value: vnode,\r\n                enumerable: false\r\n            });\r\n            Object.defineProperty(el, '__vueParentComponent', {\r\n                value: parentComponent,\r\n                enumerable: false\r\n            });\r\n        }\r\n        if (dirs) {\r\n            invokeDirectiveHook(vnode, null, parentComponent, 'beforeMount');\r\n        }\r\n        // #1583 For inside suspense + suspense not resolved case, enter hook should call when suspense resolved\r\n        // #1689 For inside suspense + suspense resolved case, just call it\r\n        const needCallTransitionHooks = (!parentSuspense || (parentSuspense && !parentSuspense.pendingBranch)) &&\r\n            transition &&\r\n            !transition.persisted;\r\n        if (needCallTransitionHooks) {\r\n            transition.beforeEnter(el);\r\n        }\r\n        hostInsert(el, container, anchor);\r\n        if ((vnodeHook = props && props.onVnodeMounted) ||\r\n            needCallTransitionHooks ||\r\n            dirs) {\r\n            queuePostRenderEffect(() => {\r\n                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n                needCallTransitionHooks && transition.enter(el);\r\n                dirs && invokeDirectiveHook(vnode, null, parentComponent, 'mounted');\r\n            }, parentSuspense);\r\n        }\r\n    };\r\n    const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {\r\n        if (scopeId) {\r\n            hostSetScopeId(el, scopeId);\r\n        }\r\n        if (slotScopeIds) {\r\n            for (let i = 0; i < slotScopeIds.length; i++) {\r\n                hostSetScopeId(el, slotScopeIds[i]);\r\n            }\r\n        }\r\n        if (parentComponent) {\r\n            let subTree = parentComponent.subTree;\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                subTree.patchFlag > 0 &&\r\n                subTree.patchFlag & 2048 /* PatchFlags.DEV_ROOT_FRAGMENT */) {\r\n                subTree =\r\n                    filterSingleRoot(subTree.children) || subTree;\r\n            }\r\n            if (vnode === subTree) {\r\n                const parentVNode = parentComponent.vnode;\r\n                setScopeId(el, parentVNode, parentVNode.scopeId, parentVNode.slotScopeIds, parentComponent.parent);\r\n            }\r\n        }\r\n    };\r\n    const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, start = 0) => {\r\n        for (let i = start; i < children.length; i++) {\r\n            const child = (children[i] = optimized\r\n                ? cloneIfMounted(children[i])\r\n                : normalizeVNode(children[i]));\r\n            patch(null, child, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n        }\r\n    };\r\n    const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        const el = (n2.el = n1.el);\r\n        let { patchFlag, dynamicChildren, dirs } = n2;\r\n        // #1426 take the old vnode's patch flag into account since user may clone a\r\n        // compiler-generated vnode, which de-opts to FULL_PROPS\r\n        patchFlag |= n1.patchFlag & 16 /* PatchFlags.FULL_PROPS */;\r\n        const oldProps = n1.props || EMPTY_OBJ;\r\n        const newProps = n2.props || EMPTY_OBJ;\r\n        let vnodeHook;\r\n        // disable recurse in beforeUpdate hooks\r\n        parentComponent && toggleRecurse(parentComponent, false);\r\n        if ((vnodeHook = newProps.onVnodeBeforeUpdate)) {\r\n            invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\r\n        }\r\n        if (dirs) {\r\n            invokeDirectiveHook(n2, n1, parentComponent, 'beforeUpdate');\r\n        }\r\n        parentComponent && toggleRecurse(parentComponent, true);\r\n        if ((process.env.NODE_ENV !== 'production') && isHmrUpdating) {\r\n            // HMR updated, force full diff\r\n            patchFlag = 0;\r\n            optimized = false;\r\n            dynamicChildren = null;\r\n        }\r\n        const areChildrenSVG = isSVG && n2.type !== 'foreignObject';\r\n        if (dynamicChildren) {\r\n            patchBlockChildren(n1.dynamicChildren, dynamicChildren, el, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds);\r\n            if ((process.env.NODE_ENV !== 'production') && parentComponent && parentComponent.type.__hmrId) {\r\n                traverseStaticChildren(n1, n2);\r\n            }\r\n        }\r\n        else if (!optimized) {\r\n            // full diff\r\n            patchChildren(n1, n2, el, null, parentComponent, parentSuspense, areChildrenSVG, slotScopeIds, false);\r\n        }\r\n        if (patchFlag > 0) {\r\n            // the presence of a patchFlag means this element's render code was\r\n            // generated by the compiler and can take the fast path.\r\n            // in this path old node and new node are guaranteed to have the same shape\r\n            // (i.e. at the exact same position in the source template)\r\n            if (patchFlag & 16 /* PatchFlags.FULL_PROPS */) {\r\n                // element props contain dynamic keys, full diff needed\r\n                patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);\r\n            }\r\n            else {\r\n                // class\r\n                // this flag is matched when the element has dynamic class bindings.\r\n                if (patchFlag & 2 /* PatchFlags.CLASS */) {\r\n                    if (oldProps.class !== newProps.class) {\r\n                        hostPatchProp(el, 'class', null, newProps.class, isSVG);\r\n                    }\r\n                }\r\n                // style\r\n                // this flag is matched when the element has dynamic style bindings\r\n                if (patchFlag & 4 /* PatchFlags.STYLE */) {\r\n                    hostPatchProp(el, 'style', oldProps.style, newProps.style, isSVG);\r\n                }\r\n                // props\r\n                // This flag is matched when the element has dynamic prop/attr bindings\r\n                // other than class and style. The keys of dynamic prop/attrs are saved for\r\n                // faster iteration.\r\n                // Note dynamic keys like :[foo]=\"bar\" will cause this optimization to\r\n                // bail out and go through a full diff because we need to unset the old key\r\n                if (patchFlag & 8 /* PatchFlags.PROPS */) {\r\n                    // if the flag is present then dynamicProps must be non-null\r\n                    const propsToUpdate = n2.dynamicProps;\r\n                    for (let i = 0; i < propsToUpdate.length; i++) {\r\n                        const key = propsToUpdate[i];\r\n                        const prev = oldProps[key];\r\n                        const next = newProps[key];\r\n                        // #1471 force patch value\r\n                        if (next !== prev || key === 'value') {\r\n                            hostPatchProp(el, key, prev, next, isSVG, n1.children, parentComponent, parentSuspense, unmountChildren);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // text\r\n            // This flag is matched when the element has only dynamic text children.\r\n            if (patchFlag & 1 /* PatchFlags.TEXT */) {\r\n                if (n1.children !== n2.children) {\r\n                    hostSetElementText(el, n2.children);\r\n                }\r\n            }\r\n        }\r\n        else if (!optimized && dynamicChildren == null) {\r\n            // unoptimized, full diff\r\n            patchProps(el, n2, oldProps, newProps, parentComponent, parentSuspense, isSVG);\r\n        }\r\n        if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {\r\n            queuePostRenderEffect(() => {\r\n                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\r\n                dirs && invokeDirectiveHook(n2, n1, parentComponent, 'updated');\r\n            }, parentSuspense);\r\n        }\r\n    };\r\n    // The fast path for blocks.\r\n    const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG, slotScopeIds) => {\r\n        for (let i = 0; i < newChildren.length; i++) {\r\n            const oldVNode = oldChildren[i];\r\n            const newVNode = newChildren[i];\r\n            // Determine the container (parent element) for the patch.\r\n            const container = \r\n            // oldVNode may be an errored async setup() component inside Suspense\r\n            // which will not have a mounted element\r\n            oldVNode.el &&\r\n                // - In the case of a Fragment, we need to provide the actual parent\r\n                // of the Fragment itself so it can move its children.\r\n                (oldVNode.type === Fragment ||\r\n                    // - In the case of different nodes, there is going to be a replacement\r\n                    // which also requires the correct parent container\r\n                    !isSameVNodeType(oldVNode, newVNode) ||\r\n                    // - In the case of a component, it could contain anything.\r\n                    oldVNode.shapeFlag & (6 /* ShapeFlags.COMPONENT */ | 64 /* ShapeFlags.TELEPORT */))\r\n                ? hostParentNode(oldVNode.el)\r\n                : // In other cases, the parent container is not actually used so we\r\n                    // just pass the block element here to avoid a DOM parentNode call.\r\n                    fallbackContainer;\r\n            patch(oldVNode, newVNode, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, true);\r\n        }\r\n    };\r\n    const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {\r\n        if (oldProps !== newProps) {\r\n            for (const key in newProps) {\r\n                // empty string is not valid prop\r\n                if (isReservedProp(key))\r\n                    continue;\r\n                const next = newProps[key];\r\n                const prev = oldProps[key];\r\n                // defer patching value\r\n                if (next !== prev && key !== 'value') {\r\n                    hostPatchProp(el, key, prev, next, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);\r\n                }\r\n            }\r\n            if (oldProps !== EMPTY_OBJ) {\r\n                for (const key in oldProps) {\r\n                    if (!isReservedProp(key) && !(key in newProps)) {\r\n                        hostPatchProp(el, key, oldProps[key], null, isSVG, vnode.children, parentComponent, parentSuspense, unmountChildren);\r\n                    }\r\n                }\r\n            }\r\n            if ('value' in newProps) {\r\n                hostPatchProp(el, 'value', oldProps.value, newProps.value);\r\n            }\r\n        }\r\n    };\r\n    const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        const fragmentStartAnchor = (n2.el = n1 ? n1.el : hostCreateText(''));\r\n        const fragmentEndAnchor = (n2.anchor = n1 ? n1.anchor : hostCreateText(''));\r\n        let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;\r\n        if ((process.env.NODE_ENV !== 'production') &&\r\n            // #5523 dev root fragment may inherit directives\r\n            (isHmrUpdating || patchFlag & 2048 /* PatchFlags.DEV_ROOT_FRAGMENT */)) {\r\n            // HMR updated / Dev root fragment (w/ comments), force full diff\r\n            patchFlag = 0;\r\n            optimized = false;\r\n            dynamicChildren = null;\r\n        }\r\n        // check if this is a slot fragment with :slotted scope ids\r\n        if (fragmentSlotScopeIds) {\r\n            slotScopeIds = slotScopeIds\r\n                ? slotScopeIds.concat(fragmentSlotScopeIds)\r\n                : fragmentSlotScopeIds;\r\n        }\r\n        if (n1 == null) {\r\n            hostInsert(fragmentStartAnchor, container, anchor);\r\n            hostInsert(fragmentEndAnchor, container, anchor);\r\n            // a fragment can only have array children\r\n            // since they are either generated by the compiler, or implicitly created\r\n            // from arrays.\r\n            mountChildren(n2.children, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n        }\r\n        else {\r\n            if (patchFlag > 0 &&\r\n                patchFlag & 64 /* PatchFlags.STABLE_FRAGMENT */ &&\r\n                dynamicChildren &&\r\n                // #2715 the previous fragment could've been a BAILed one as a result\r\n                // of renderSlot() with no valid children\r\n                n1.dynamicChildren) {\r\n                // a stable fragment (template root or <template v-for>) doesn't need to\r\n                // patch children order, but it may contain dynamicChildren.\r\n                patchBlockChildren(n1.dynamicChildren, dynamicChildren, container, parentComponent, parentSuspense, isSVG, slotScopeIds);\r\n                if ((process.env.NODE_ENV !== 'production') && parentComponent && parentComponent.type.__hmrId) {\r\n                    traverseStaticChildren(n1, n2);\r\n                }\r\n                else if (\r\n                // #2080 if the stable fragment has a key, it's a <template v-for> that may\r\n                //  get moved around. Make sure all root level vnodes inherit el.\r\n                // #2134 or if it's a component root, it may also get moved around\r\n                // as the component is being moved.\r\n                n2.key != null ||\r\n                    (parentComponent && n2 === parentComponent.subTree)) {\r\n                    traverseStaticChildren(n1, n2, true /* shallow */);\r\n                }\r\n            }\r\n            else {\r\n                // keyed / unkeyed, or manual fragments.\r\n                // for keyed & unkeyed, since they are compiler generated from v-for,\r\n                // each child is guaranteed to be a block so the fragment will never\r\n                // have dynamicChildren.\r\n                patchChildren(n1, n2, container, fragmentEndAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n            }\r\n        }\r\n    };\r\n    const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        n2.slotScopeIds = slotScopeIds;\r\n        if (n1 == null) {\r\n            if (n2.shapeFlag & 512 /* ShapeFlags.COMPONENT_KEPT_ALIVE */) {\r\n                parentComponent.ctx.activate(n2, container, anchor, isSVG, optimized);\r\n            }\r\n            else {\r\n                mountComponent(n2, container, anchor, parentComponent, parentSuspense, isSVG, optimized);\r\n            }\r\n        }\r\n        else {\r\n            updateComponent(n1, n2, optimized);\r\n        }\r\n    };\r\n    const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {\r\n        const instance = (initialVNode.component = createComponentInstance(initialVNode, parentComponent, parentSuspense));\r\n        if ((process.env.NODE_ENV !== 'production') && instance.type.__hmrId) {\r\n            registerHMR(instance);\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            pushWarningContext(initialVNode);\r\n            startMeasure(instance, `mount`);\r\n        }\r\n        // inject renderer internals for keepAlive\r\n        if (isKeepAlive(initialVNode)) {\r\n            instance.ctx.renderer = internals;\r\n        }\r\n        // resolve props and slots for setup context\r\n        {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                startMeasure(instance, `init`);\r\n            }\r\n            setupComponent(instance);\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                endMeasure(instance, `init`);\r\n            }\r\n        }\r\n        // setup() is async. This component relies on async logic to be resolved\r\n        // before proceeding\r\n        if (instance.asyncDep) {\r\n            parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);\r\n            // Give it a placeholder if this is not hydration\r\n            // TODO handle self-defined fallback\r\n            if (!initialVNode.el) {\r\n                const placeholder = (instance.subTree = createVNode(Comment));\r\n                processCommentNode(null, placeholder, container, anchor);\r\n            }\r\n            return;\r\n        }\r\n        setupRenderEffect(instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            popWarningContext();\r\n            endMeasure(instance, `mount`);\r\n        }\r\n    };\r\n    const updateComponent = (n1, n2, optimized) => {\r\n        const instance = (n2.component = n1.component);\r\n        if (shouldUpdateComponent(n1, n2, optimized)) {\r\n            if (instance.asyncDep &&\r\n                !instance.asyncResolved) {\r\n                // async & still pending - just update props and slots\r\n                // since the component's reactive effect for render isn't set-up yet\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    pushWarningContext(n2);\r\n                }\r\n                updateComponentPreRender(instance, n2, optimized);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    popWarningContext();\r\n                }\r\n                return;\r\n            }\r\n            else {\r\n                // normal update\r\n                instance.next = n2;\r\n                // in case the child component is also queued, remove it to avoid\r\n                // double updating the same child component in the same flush.\r\n                invalidateJob(instance.update);\r\n                // instance.update is the reactive effect.\r\n                instance.update();\r\n            }\r\n        }\r\n        else {\r\n            // no update needed. just copy over properties\r\n            n2.el = n1.el;\r\n            instance.vnode = n2;\r\n        }\r\n    };\r\n    const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {\r\n        const componentUpdateFn = () => {\r\n            if (!instance.isMounted) {\r\n                let vnodeHook;\r\n                const { el, props } = initialVNode;\r\n                const { bm, m, parent } = instance;\r\n                const isAsyncWrapperVNode = isAsyncWrapper(initialVNode);\r\n                toggleRecurse(instance, false);\r\n                // beforeMount hook\r\n                if (bm) {\r\n                    invokeArrayFns(bm);\r\n                }\r\n                // onVnodeBeforeMount\r\n                if (!isAsyncWrapperVNode &&\r\n                    (vnodeHook = props && props.onVnodeBeforeMount)) {\r\n                    invokeVNodeHook(vnodeHook, parent, initialVNode);\r\n                }\r\n                toggleRecurse(instance, true);\r\n                if (el && hydrateNode) {\r\n                    // vnode has adopted host node - perform hydration instead of mount.\r\n                    const hydrateSubTree = () => {\r\n                        if ((process.env.NODE_ENV !== 'production')) {\r\n                            startMeasure(instance, `render`);\r\n                        }\r\n                        instance.subTree = renderComponentRoot(instance);\r\n                        if ((process.env.NODE_ENV !== 'production')) {\r\n                            endMeasure(instance, `render`);\r\n                        }\r\n                        if ((process.env.NODE_ENV !== 'production')) {\r\n                            startMeasure(instance, `hydrate`);\r\n                        }\r\n                        hydrateNode(el, instance.subTree, instance, parentSuspense, null);\r\n                        if ((process.env.NODE_ENV !== 'production')) {\r\n                            endMeasure(instance, `hydrate`);\r\n                        }\r\n                    };\r\n                    if (isAsyncWrapperVNode) {\r\n                        initialVNode.type.__asyncLoader().then(\r\n                        // note: we are moving the render call into an async callback,\r\n                        // which means it won't track dependencies - but it's ok because\r\n                        // a server-rendered async wrapper is already in resolved state\r\n                        // and it will never need to change.\r\n                        () => !instance.isUnmounted && hydrateSubTree());\r\n                    }\r\n                    else {\r\n                        hydrateSubTree();\r\n                    }\r\n                }\r\n                else {\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        startMeasure(instance, `render`);\r\n                    }\r\n                    const subTree = (instance.subTree = renderComponentRoot(instance));\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        endMeasure(instance, `render`);\r\n                    }\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        startMeasure(instance, `patch`);\r\n                    }\r\n                    patch(null, subTree, container, anchor, instance, parentSuspense, isSVG);\r\n                    if ((process.env.NODE_ENV !== 'production')) {\r\n                        endMeasure(instance, `patch`);\r\n                    }\r\n                    initialVNode.el = subTree.el;\r\n                }\r\n                // mounted hook\r\n                if (m) {\r\n                    queuePostRenderEffect(m, parentSuspense);\r\n                }\r\n                // onVnodeMounted\r\n                if (!isAsyncWrapperVNode &&\r\n                    (vnodeHook = props && props.onVnodeMounted)) {\r\n                    const scopedInitialVNode = initialVNode;\r\n                    queuePostRenderEffect(() => invokeVNodeHook(vnodeHook, parent, scopedInitialVNode), parentSuspense);\r\n                }\r\n                // activated hook for keep-alive roots.\r\n                // #1742 activated hook must be accessed after first render\r\n                // since the hook may be injected by a child keep-alive\r\n                if (initialVNode.shapeFlag & 256 /* ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE */ ||\r\n                    (parent &&\r\n                        isAsyncWrapper(parent.vnode) &&\r\n                        parent.vnode.shapeFlag & 256 /* ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE */)) {\r\n                    instance.a && queuePostRenderEffect(instance.a, parentSuspense);\r\n                }\r\n                instance.isMounted = true;\r\n                if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                    devtoolsComponentAdded(instance);\r\n                }\r\n                // #2458: deference mount-only object parameters to prevent memleaks\r\n                initialVNode = container = anchor = null;\r\n            }\r\n            else {\r\n                // updateComponent\r\n                // This is triggered by mutation of component's own state (next: null)\r\n                // OR parent calling processComponent (next: VNode)\r\n                let { next, bu, u, parent, vnode } = instance;\r\n                let originNext = next;\r\n                let vnodeHook;\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    pushWarningContext(next || instance.vnode);\r\n                }\r\n                // Disallow component effect recursion during pre-lifecycle hooks.\r\n                toggleRecurse(instance, false);\r\n                if (next) {\r\n                    next.el = vnode.el;\r\n                    updateComponentPreRender(instance, next, optimized);\r\n                }\r\n                else {\r\n                    next = vnode;\r\n                }\r\n                // beforeUpdate hook\r\n                if (bu) {\r\n                    invokeArrayFns(bu);\r\n                }\r\n                // onVnodeBeforeUpdate\r\n                if ((vnodeHook = next.props && next.props.onVnodeBeforeUpdate)) {\r\n                    invokeVNodeHook(vnodeHook, parent, next, vnode);\r\n                }\r\n                toggleRecurse(instance, true);\r\n                // render\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    startMeasure(instance, `render`);\r\n                }\r\n                const nextTree = renderComponentRoot(instance);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    endMeasure(instance, `render`);\r\n                }\r\n                const prevTree = instance.subTree;\r\n                instance.subTree = nextTree;\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    startMeasure(instance, `patch`);\r\n                }\r\n                patch(prevTree, nextTree, \r\n                // parent may have changed if it's in a teleport\r\n                hostParentNode(prevTree.el), \r\n                // anchor may have changed if it's in a fragment\r\n                getNextHostNode(prevTree), instance, parentSuspense, isSVG);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    endMeasure(instance, `patch`);\r\n                }\r\n                next.el = nextTree.el;\r\n                if (originNext === null) {\r\n                    // self-triggered update. In case of HOC, update parent component\r\n                    // vnode el. HOC is indicated by parent instance's subTree pointing\r\n                    // to child component's vnode\r\n                    updateHOCHostEl(instance, nextTree.el);\r\n                }\r\n                // updated hook\r\n                if (u) {\r\n                    queuePostRenderEffect(u, parentSuspense);\r\n                }\r\n                // onVnodeUpdated\r\n                if ((vnodeHook = next.props && next.props.onVnodeUpdated)) {\r\n                    queuePostRenderEffect(() => invokeVNodeHook(vnodeHook, parent, next, vnode), parentSuspense);\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n                    devtoolsComponentUpdated(instance);\r\n                }\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    popWarningContext();\r\n                }\r\n            }\r\n        };\r\n        // create reactive effect for rendering\r\n        const effect = (instance.effect = new ReactiveEffect(componentUpdateFn, () => queueJob(update), instance.scope // track it in component's effect scope\r\n        ));\r\n        const update = (instance.update = () => effect.run());\r\n        update.id = instance.uid;\r\n        // allowRecurse\r\n        // #1801, #2043 component render effects should allow recursive updates\r\n        toggleRecurse(instance, true);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            effect.onTrack = instance.rtc\r\n                ? e => invokeArrayFns(instance.rtc, e)\r\n                : void 0;\r\n            effect.onTrigger = instance.rtg\r\n                ? e => invokeArrayFns(instance.rtg, e)\r\n                : void 0;\r\n            update.ownerInstance = instance;\r\n        }\r\n        update();\r\n    };\r\n    const updateComponentPreRender = (instance, nextVNode, optimized) => {\r\n        nextVNode.component = instance;\r\n        const prevProps = instance.vnode.props;\r\n        instance.vnode = nextVNode;\r\n        instance.next = null;\r\n        updateProps(instance, nextVNode.props, prevProps, optimized);\r\n        updateSlots(instance, nextVNode.children, optimized);\r\n        pauseTracking();\r\n        // props update may have triggered pre-flush watchers.\r\n        // flush them before the render update.\r\n        flushPreFlushCbs();\r\n        resetTracking();\r\n    };\r\n    const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized = false) => {\r\n        const c1 = n1 && n1.children;\r\n        const prevShapeFlag = n1 ? n1.shapeFlag : 0;\r\n        const c2 = n2.children;\r\n        const { patchFlag, shapeFlag } = n2;\r\n        // fast path\r\n        if (patchFlag > 0) {\r\n            if (patchFlag & 128 /* PatchFlags.KEYED_FRAGMENT */) {\r\n                // this could be either fully-keyed or mixed (some keyed some not)\r\n                // presence of patchFlag means children are guaranteed to be arrays\r\n                patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                return;\r\n            }\r\n            else if (patchFlag & 256 /* PatchFlags.UNKEYED_FRAGMENT */) {\r\n                // unkeyed\r\n                patchUnkeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                return;\r\n            }\r\n        }\r\n        // children has 3 possibilities: text, array or no children.\r\n        if (shapeFlag & 8 /* ShapeFlags.TEXT_CHILDREN */) {\r\n            // text children fast path\r\n            if (prevShapeFlag & 16 /* ShapeFlags.ARRAY_CHILDREN */) {\r\n                unmountChildren(c1, parentComponent, parentSuspense);\r\n            }\r\n            if (c2 !== c1) {\r\n                hostSetElementText(container, c2);\r\n            }\r\n        }\r\n        else {\r\n            if (prevShapeFlag & 16 /* ShapeFlags.ARRAY_CHILDREN */) {\r\n                // prev children was array\r\n                if (shapeFlag & 16 /* ShapeFlags.ARRAY_CHILDREN */) {\r\n                    // two arrays, cannot assume anything, do full diff\r\n                    patchKeyedChildren(c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n                else {\r\n                    // no new children, just unmount old\r\n                    unmountChildren(c1, parentComponent, parentSuspense, true);\r\n                }\r\n            }\r\n            else {\r\n                // prev children was text OR null\r\n                // new children is array OR null\r\n                if (prevShapeFlag & 8 /* ShapeFlags.TEXT_CHILDREN */) {\r\n                    hostSetElementText(container, '');\r\n                }\r\n                // mount new if array\r\n                if (shapeFlag & 16 /* ShapeFlags.ARRAY_CHILDREN */) {\r\n                    mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        c1 = c1 || EMPTY_ARR;\r\n        c2 = c2 || EMPTY_ARR;\r\n        const oldLength = c1.length;\r\n        const newLength = c2.length;\r\n        const commonLength = Math.min(oldLength, newLength);\r\n        let i;\r\n        for (i = 0; i < commonLength; i++) {\r\n            const nextChild = (c2[i] = optimized\r\n                ? cloneIfMounted(c2[i])\r\n                : normalizeVNode(c2[i]));\r\n            patch(c1[i], nextChild, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n        }\r\n        if (oldLength > newLength) {\r\n            // remove old\r\n            unmountChildren(c1, parentComponent, parentSuspense, true, false, commonLength);\r\n        }\r\n        else {\r\n            // mount new\r\n            mountChildren(c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, commonLength);\r\n        }\r\n    };\r\n    // can be all-keyed or mixed\r\n    const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\r\n        let i = 0;\r\n        const l2 = c2.length;\r\n        let e1 = c1.length - 1; // prev ending index\r\n        let e2 = l2 - 1; // next ending index\r\n        // 1. sync from start\r\n        // (a b) c\r\n        // (a b) d e\r\n        while (i <= e1 && i <= e2) {\r\n            const n1 = c1[i];\r\n            const n2 = (c2[i] = optimized\r\n                ? cloneIfMounted(c2[i])\r\n                : normalizeVNode(c2[i]));\r\n            if (isSameVNodeType(n1, n2)) {\r\n                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n            i++;\r\n        }\r\n        // 2. sync from end\r\n        // a (b c)\r\n        // d e (b c)\r\n        while (i <= e1 && i <= e2) {\r\n            const n1 = c1[e1];\r\n            const n2 = (c2[e2] = optimized\r\n                ? cloneIfMounted(c2[e2])\r\n                : normalizeVNode(c2[e2]));\r\n            if (isSameVNodeType(n1, n2)) {\r\n                patch(n1, n2, container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n            e1--;\r\n            e2--;\r\n        }\r\n        // 3. common sequence + mount\r\n        // (a b)\r\n        // (a b) c\r\n        // i = 2, e1 = 1, e2 = 2\r\n        // (a b)\r\n        // c (a b)\r\n        // i = 0, e1 = -1, e2 = 0\r\n        if (i > e1) {\r\n            if (i <= e2) {\r\n                const nextPos = e2 + 1;\r\n                const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;\r\n                while (i <= e2) {\r\n                    patch(null, (c2[i] = optimized\r\n                        ? cloneIfMounted(c2[i])\r\n                        : normalizeVNode(c2[i])), container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n        // 4. common sequence + unmount\r\n        // (a b) c\r\n        // (a b)\r\n        // i = 2, e1 = 2, e2 = 1\r\n        // a (b c)\r\n        // (b c)\r\n        // i = 0, e1 = 0, e2 = -1\r\n        else if (i > e2) {\r\n            while (i <= e1) {\r\n                unmount(c1[i], parentComponent, parentSuspense, true);\r\n                i++;\r\n            }\r\n        }\r\n        // 5. unknown sequence\r\n        // [i ... e1 + 1]: a b [c d e] f g\r\n        // [i ... e2 + 1]: a b [e d c h] f g\r\n        // i = 2, e1 = 4, e2 = 5\r\n        else {\r\n            const s1 = i; // prev starting index\r\n            const s2 = i; // next starting index\r\n            // 5.1 build key:index map for newChildren\r\n            const keyToNewIndexMap = new Map();\r\n            for (i = s2; i <= e2; i++) {\r\n                const nextChild = (c2[i] = optimized\r\n                    ? cloneIfMounted(c2[i])\r\n                    : normalizeVNode(c2[i]));\r\n                if (nextChild.key != null) {\r\n                    if ((process.env.NODE_ENV !== 'production') && keyToNewIndexMap.has(nextChild.key)) {\r\n                        warn(`Duplicate keys found during update:`, JSON.stringify(nextChild.key), `Make sure keys are unique.`);\r\n                    }\r\n                    keyToNewIndexMap.set(nextChild.key, i);\r\n                }\r\n            }\r\n            // 5.2 loop through old children left to be patched and try to patch\r\n            // matching nodes & remove nodes that are no longer present\r\n            let j;\r\n            let patched = 0;\r\n            const toBePatched = e2 - s2 + 1;\r\n            let moved = false;\r\n            // used to track whether any node has moved\r\n            let maxNewIndexSoFar = 0;\r\n            // works as Map<newIndex, oldIndex>\r\n            // Note that oldIndex is offset by +1\r\n            // and oldIndex = 0 is a special value indicating the new node has\r\n            // no corresponding old node.\r\n            // used for determining longest stable subsequence\r\n            const newIndexToOldIndexMap = new Array(toBePatched);\r\n            for (i = 0; i < toBePatched; i++)\r\n                newIndexToOldIndexMap[i] = 0;\r\n            for (i = s1; i <= e1; i++) {\r\n                const prevChild = c1[i];\r\n                if (patched >= toBePatched) {\r\n                    // all new children have been patched so this can only be a removal\r\n                    unmount(prevChild, parentComponent, parentSuspense, true);\r\n                    continue;\r\n                }\r\n                let newIndex;\r\n                if (prevChild.key != null) {\r\n                    newIndex = keyToNewIndexMap.get(prevChild.key);\r\n                }\r\n                else {\r\n                    // key-less node, try to locate a key-less node of the same type\r\n                    for (j = s2; j <= e2; j++) {\r\n                        if (newIndexToOldIndexMap[j - s2] === 0 &&\r\n                            isSameVNodeType(prevChild, c2[j])) {\r\n                            newIndex = j;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (newIndex === undefined) {\r\n                    unmount(prevChild, parentComponent, parentSuspense, true);\r\n                }\r\n                else {\r\n                    newIndexToOldIndexMap[newIndex - s2] = i + 1;\r\n                    if (newIndex >= maxNewIndexSoFar) {\r\n                        maxNewIndexSoFar = newIndex;\r\n                    }\r\n                    else {\r\n                        moved = true;\r\n                    }\r\n                    patch(prevChild, c2[newIndex], container, null, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                    patched++;\r\n                }\r\n            }\r\n            // 5.3 move and mount\r\n            // generate longest stable subsequence only when nodes have moved\r\n            const increasingNewIndexSequence = moved\r\n                ? getSequence(newIndexToOldIndexMap)\r\n                : EMPTY_ARR;\r\n            j = increasingNewIndexSequence.length - 1;\r\n            // looping backwards so that we can use last patched node as anchor\r\n            for (i = toBePatched - 1; i >= 0; i--) {\r\n                const nextIndex = s2 + i;\r\n                const nextChild = c2[nextIndex];\r\n                const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;\r\n                if (newIndexToOldIndexMap[i] === 0) {\r\n                    // mount new\r\n                    patch(null, nextChild, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n                else if (moved) {\r\n                    // move if:\r\n                    // There is no stable subsequence (e.g. a reverse)\r\n                    // OR current node is not among the stable sequence\r\n                    if (j < 0 || i !== increasingNewIndexSequence[j]) {\r\n                        move(nextChild, container, anchor, 2 /* MoveType.REORDER */);\r\n                    }\r\n                    else {\r\n                        j--;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    const move = (vnode, container, anchor, moveType, parentSuspense = null) => {\r\n        const { el, type, transition, children, shapeFlag } = vnode;\r\n        if (shapeFlag & 6 /* ShapeFlags.COMPONENT */) {\r\n            move(vnode.component.subTree, container, anchor, moveType);\r\n            return;\r\n        }\r\n        if (shapeFlag & 128 /* ShapeFlags.SUSPENSE */) {\r\n            vnode.suspense.move(container, anchor, moveType);\r\n            return;\r\n        }\r\n        if (shapeFlag & 64 /* ShapeFlags.TELEPORT */) {\r\n            type.move(vnode, container, anchor, internals);\r\n            return;\r\n        }\r\n        if (type === Fragment) {\r\n            hostInsert(el, container, anchor);\r\n            for (let i = 0; i < children.length; i++) {\r\n                move(children[i], container, anchor, moveType);\r\n            }\r\n            hostInsert(vnode.anchor, container, anchor);\r\n            return;\r\n        }\r\n        if (type === Static) {\r\n            moveStaticNode(vnode, container, anchor);\r\n            return;\r\n        }\r\n        // single nodes\r\n        const needTransition = moveType !== 2 /* MoveType.REORDER */ &&\r\n            shapeFlag & 1 /* ShapeFlags.ELEMENT */ &&\r\n            transition;\r\n        if (needTransition) {\r\n            if (moveType === 0 /* MoveType.ENTER */) {\r\n                transition.beforeEnter(el);\r\n                hostInsert(el, container, anchor);\r\n                queuePostRenderEffect(() => transition.enter(el), parentSuspense);\r\n            }\r\n            else {\r\n                const { leave, delayLeave, afterLeave } = transition;\r\n                const remove = () => hostInsert(el, container, anchor);\r\n                const performLeave = () => {\r\n                    leave(el, () => {\r\n                        remove();\r\n                        afterLeave && afterLeave();\r\n                    });\r\n                };\r\n                if (delayLeave) {\r\n                    delayLeave(el, remove, performLeave);\r\n                }\r\n                else {\r\n                    performLeave();\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            hostInsert(el, container, anchor);\r\n        }\r\n    };\r\n    const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {\r\n        const { type, props, ref, children, dynamicChildren, shapeFlag, patchFlag, dirs } = vnode;\r\n        // unset ref\r\n        if (ref != null) {\r\n            setRef(ref, null, parentSuspense, vnode, true);\r\n        }\r\n        if (shapeFlag & 256 /* ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE */) {\r\n            parentComponent.ctx.deactivate(vnode);\r\n            return;\r\n        }\r\n        const shouldInvokeDirs = shapeFlag & 1 /* ShapeFlags.ELEMENT */ && dirs;\r\n        const shouldInvokeVnodeHook = !isAsyncWrapper(vnode);\r\n        let vnodeHook;\r\n        if (shouldInvokeVnodeHook &&\r\n            (vnodeHook = props && props.onVnodeBeforeUnmount)) {\r\n            invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n        }\r\n        if (shapeFlag & 6 /* ShapeFlags.COMPONENT */) {\r\n            unmountComponent(vnode.component, parentSuspense, doRemove);\r\n        }\r\n        else {\r\n            if (shapeFlag & 128 /* ShapeFlags.SUSPENSE */) {\r\n                vnode.suspense.unmount(parentSuspense, doRemove);\r\n                return;\r\n            }\r\n            if (shouldInvokeDirs) {\r\n                invokeDirectiveHook(vnode, null, parentComponent, 'beforeUnmount');\r\n            }\r\n            if (shapeFlag & 64 /* ShapeFlags.TELEPORT */) {\r\n                vnode.type.remove(vnode, parentComponent, parentSuspense, optimized, internals, doRemove);\r\n            }\r\n            else if (dynamicChildren &&\r\n                // #1153: fast path should not be taken for non-stable (v-for) fragments\r\n                (type !== Fragment ||\r\n                    (patchFlag > 0 && patchFlag & 64 /* PatchFlags.STABLE_FRAGMENT */))) {\r\n                // fast path for block nodes: only need to unmount dynamic children.\r\n                unmountChildren(dynamicChildren, parentComponent, parentSuspense, false, true);\r\n            }\r\n            else if ((type === Fragment &&\r\n                patchFlag &\r\n                    (128 /* PatchFlags.KEYED_FRAGMENT */ | 256 /* PatchFlags.UNKEYED_FRAGMENT */)) ||\r\n                (!optimized && shapeFlag & 16 /* ShapeFlags.ARRAY_CHILDREN */)) {\r\n                unmountChildren(children, parentComponent, parentSuspense);\r\n            }\r\n            if (doRemove) {\r\n                remove(vnode);\r\n            }\r\n        }\r\n        if ((shouldInvokeVnodeHook &&\r\n            (vnodeHook = props && props.onVnodeUnmounted)) ||\r\n            shouldInvokeDirs) {\r\n            queuePostRenderEffect(() => {\r\n                vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\r\n                shouldInvokeDirs &&\r\n                    invokeDirectiveHook(vnode, null, parentComponent, 'unmounted');\r\n            }, parentSuspense);\r\n        }\r\n    };\r\n    const remove = vnode => {\r\n        const { type, el, anchor, transition } = vnode;\r\n        if (type === Fragment) {\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                vnode.patchFlag > 0 &&\r\n                vnode.patchFlag & 2048 /* PatchFlags.DEV_ROOT_FRAGMENT */ &&\r\n                transition &&\r\n                !transition.persisted) {\r\n                vnode.children.forEach(child => {\r\n                    if (child.type === Comment) {\r\n                        hostRemove(child.el);\r\n                    }\r\n                    else {\r\n                        remove(child);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                removeFragment(el, anchor);\r\n            }\r\n            return;\r\n        }\r\n        if (type === Static) {\r\n            removeStaticNode(vnode);\r\n            return;\r\n        }\r\n        const performRemove = () => {\r\n            hostRemove(el);\r\n            if (transition && !transition.persisted && transition.afterLeave) {\r\n                transition.afterLeave();\r\n            }\r\n        };\r\n        if (vnode.shapeFlag & 1 /* ShapeFlags.ELEMENT */ &&\r\n            transition &&\r\n            !transition.persisted) {\r\n            const { leave, delayLeave } = transition;\r\n            const performLeave = () => leave(el, performRemove);\r\n            if (delayLeave) {\r\n                delayLeave(vnode.el, performRemove, performLeave);\r\n            }\r\n            else {\r\n                performLeave();\r\n            }\r\n        }\r\n        else {\r\n            performRemove();\r\n        }\r\n    };\r\n    const removeFragment = (cur, end) => {\r\n        // For fragments, directly remove all contained DOM nodes.\r\n        // (fragment child nodes cannot have transition)\r\n        let next;\r\n        while (cur !== end) {\r\n            next = hostNextSibling(cur);\r\n            hostRemove(cur);\r\n            cur = next;\r\n        }\r\n        hostRemove(end);\r\n    };\r\n    const unmountComponent = (instance, parentSuspense, doRemove) => {\r\n        if ((process.env.NODE_ENV !== 'production') && instance.type.__hmrId) {\r\n            unregisterHMR(instance);\r\n        }\r\n        const { bum, scope, update, subTree, um } = instance;\r\n        // beforeUnmount hook\r\n        if (bum) {\r\n            invokeArrayFns(bum);\r\n        }\r\n        // stop effects in component scope\r\n        scope.stop();\r\n        // update may be null if a component is unmounted before its async\r\n        // setup has resolved.\r\n        if (update) {\r\n            // so that scheduler will no longer invoke it\r\n            update.active = false;\r\n            unmount(subTree, instance, parentSuspense, doRemove);\r\n        }\r\n        // unmounted hook\r\n        if (um) {\r\n            queuePostRenderEffect(um, parentSuspense);\r\n        }\r\n        queuePostRenderEffect(() => {\r\n            instance.isUnmounted = true;\r\n        }, parentSuspense);\r\n        // A component with async dep inside a pending suspense is unmounted before\r\n        // its async dep resolves. This should remove the dep from the suspense, and\r\n        // cause the suspense to resolve immediately if that was the last dep.\r\n        if (parentSuspense &&\r\n            parentSuspense.pendingBranch &&\r\n            !parentSuspense.isUnmounted &&\r\n            instance.asyncDep &&\r\n            !instance.asyncResolved &&\r\n            instance.suspenseId === parentSuspense.pendingId) {\r\n            parentSuspense.deps--;\r\n            if (parentSuspense.deps === 0) {\r\n                parentSuspense.resolve();\r\n            }\r\n        }\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            devtoolsComponentRemoved(instance);\r\n        }\r\n    };\r\n    const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {\r\n        for (let i = start; i < children.length; i++) {\r\n            unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);\r\n        }\r\n    };\r\n    const getNextHostNode = vnode => {\r\n        if (vnode.shapeFlag & 6 /* ShapeFlags.COMPONENT */) {\r\n            return getNextHostNode(vnode.component.subTree);\r\n        }\r\n        if (vnode.shapeFlag & 128 /* ShapeFlags.SUSPENSE */) {\r\n            return vnode.suspense.next();\r\n        }\r\n        return hostNextSibling((vnode.anchor || vnode.el));\r\n    };\r\n    const render = (vnode, container, isSVG) => {\r\n        if (vnode == null) {\r\n            if (container._vnode) {\r\n                unmount(container._vnode, null, null, true);\r\n            }\r\n        }\r\n        else {\r\n            patch(container._vnode || null, vnode, container, null, null, null, isSVG);\r\n        }\r\n        flushPreFlushCbs();\r\n        flushPostFlushCbs();\r\n        container._vnode = vnode;\r\n    };\r\n    const internals = {\r\n        p: patch,\r\n        um: unmount,\r\n        m: move,\r\n        r: remove,\r\n        mt: mountComponent,\r\n        mc: mountChildren,\r\n        pc: patchChildren,\r\n        pbc: patchBlockChildren,\r\n        n: getNextHostNode,\r\n        o: options\r\n    };\r\n    let hydrate;\r\n    let hydrateNode;\r\n    if (createHydrationFns) {\r\n        [hydrate, hydrateNode] = createHydrationFns(internals);\r\n    }\r\n    return {\r\n        render,\r\n        hydrate,\r\n        createApp: createAppAPI(render, hydrate)\r\n    };\r\n}\r\nfunction toggleRecurse({ effect, update }, allowed) {\r\n    effect.allowRecurse = update.allowRecurse = allowed;\r\n}\r\n/**\r\n * #1156\r\n * When a component is HMR-enabled, we need to make sure that all static nodes\r\n * inside a block also inherit the DOM element from the previous tree so that\r\n * HMR updates (which are full updates) can retrieve the element for patching.\r\n *\r\n * #2080\r\n * Inside keyed `template` fragment static children, if a fragment is moved,\r\n * the children will always be moved. Therefore, in order to ensure correct move\r\n * position, el should be inherited from previous nodes.\r\n */\r\nfunction traverseStaticChildren(n1, n2, shallow = false) {\r\n    const ch1 = n1.children;\r\n    const ch2 = n2.children;\r\n    if (isArray(ch1) && isArray(ch2)) {\r\n        for (let i = 0; i < ch1.length; i++) {\r\n            // this is only called in the optimized path so array children are\r\n            // guaranteed to be vnodes\r\n            const c1 = ch1[i];\r\n            let c2 = ch2[i];\r\n            if (c2.shapeFlag & 1 /* ShapeFlags.ELEMENT */ && !c2.dynamicChildren) {\r\n                if (c2.patchFlag <= 0 || c2.patchFlag === 32 /* PatchFlags.HYDRATE_EVENTS */) {\r\n                    c2 = ch2[i] = cloneIfMounted(ch2[i]);\r\n                    c2.el = c1.el;\r\n                }\r\n                if (!shallow)\r\n                    traverseStaticChildren(c1, c2);\r\n            }\r\n            // also inherit for comment nodes, but not placeholders (e.g. v-if which\r\n            // would have received .el during block patch)\r\n            if ((process.env.NODE_ENV !== 'production') && c2.type === Comment && !c2.el) {\r\n                c2.el = c1.el;\r\n            }\r\n        }\r\n    }\r\n}\r\n// https://en.wikipedia.org/wiki/Longest_increasing_subsequence\r\nfunction getSequence(arr) {\r\n    const p = arr.slice();\r\n    const result = [0];\r\n    let i, j, u, v, c;\r\n    const len = arr.length;\r\n    for (i = 0; i < len; i++) {\r\n        const arrI = arr[i];\r\n        if (arrI !== 0) {\r\n            j = result[result.length - 1];\r\n            if (arr[j] < arrI) {\r\n                p[i] = j;\r\n                result.push(i);\r\n                continue;\r\n            }\r\n            u = 0;\r\n            v = result.length - 1;\r\n            while (u < v) {\r\n                c = (u + v) >> 1;\r\n                if (arr[result[c]] < arrI) {\r\n                    u = c + 1;\r\n                }\r\n                else {\r\n                    v = c;\r\n                }\r\n            }\r\n            if (arrI < arr[result[u]]) {\r\n                if (u > 0) {\r\n                    p[i] = result[u - 1];\r\n                }\r\n                result[u] = i;\r\n            }\r\n        }\r\n    }\r\n    u = result.length;\r\n    v = result[u - 1];\r\n    while (u-- > 0) {\r\n        result[u] = v;\r\n        v = p[v];\r\n    }\r\n    return result;\r\n}\n\nconst isTeleport = (type) => type.__isTeleport;\r\nconst isTeleportDisabled = (props) => props && (props.disabled || props.disabled === '');\r\nconst isTargetSVG = (target) => typeof SVGElement !== 'undefined' && target instanceof SVGElement;\r\nconst resolveTarget = (props, select) => {\r\n    const targetSelector = props && props.to;\r\n    if (isString(targetSelector)) {\r\n        if (!select) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Current renderer does not support string target for Teleports. ` +\r\n                    `(missing querySelector renderer option)`);\r\n            return null;\r\n        }\r\n        else {\r\n            const target = select(targetSelector);\r\n            if (!target) {\r\n                (process.env.NODE_ENV !== 'production') &&\r\n                    warn(`Failed to locate Teleport target with selector \"${targetSelector}\". ` +\r\n                        `Note the target element must exist before the component is mounted - ` +\r\n                        `i.e. the target cannot be rendered by the component itself, and ` +\r\n                        `ideally should be outside of the entire Vue component tree.`);\r\n            }\r\n            return target;\r\n        }\r\n    }\r\n    else {\r\n        if ((process.env.NODE_ENV !== 'production') && !targetSelector && !isTeleportDisabled(props)) {\r\n            warn(`Invalid Teleport target: ${targetSelector}`);\r\n        }\r\n        return targetSelector;\r\n    }\r\n};\r\nconst TeleportImpl = {\r\n    __isTeleport: true,\r\n    process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals) {\r\n        const { mc: mountChildren, pc: patchChildren, pbc: patchBlockChildren, o: { insert, querySelector, createText, createComment } } = internals;\r\n        const disabled = isTeleportDisabled(n2.props);\r\n        let { shapeFlag, children, dynamicChildren } = n2;\r\n        // #3302\r\n        // HMR updated, force full diff\r\n        if ((process.env.NODE_ENV !== 'production') && isHmrUpdating) {\r\n            optimized = false;\r\n            dynamicChildren = null;\r\n        }\r\n        if (n1 == null) {\r\n            // insert anchors in the main view\r\n            const placeholder = (n2.el = (process.env.NODE_ENV !== 'production')\r\n                ? createComment('teleport start')\r\n                : createText(''));\r\n            const mainAnchor = (n2.anchor = (process.env.NODE_ENV !== 'production')\r\n                ? createComment('teleport end')\r\n                : createText(''));\r\n            insert(placeholder, container, anchor);\r\n            insert(mainAnchor, container, anchor);\r\n            const target = (n2.target = resolveTarget(n2.props, querySelector));\r\n            const targetAnchor = (n2.targetAnchor = createText(''));\r\n            if (target) {\r\n                insert(targetAnchor, target);\r\n                // #2652 we could be teleporting from a non-SVG tree into an SVG tree\r\n                isSVG = isSVG || isTargetSVG(target);\r\n            }\r\n            else if ((process.env.NODE_ENV !== 'production') && !disabled) {\r\n                warn('Invalid Teleport target on mount:', target, `(${typeof target})`);\r\n            }\r\n            const mount = (container, anchor) => {\r\n                // Teleport *always* has Array children. This is enforced in both the\r\n                // compiler and vnode children normalization.\r\n                if (shapeFlag & 16 /* ShapeFlags.ARRAY_CHILDREN */) {\r\n                    mountChildren(children, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized);\r\n                }\r\n            };\r\n            if (disabled) {\r\n                mount(container, mainAnchor);\r\n            }\r\n            else if (target) {\r\n                mount(target, targetAnchor);\r\n            }\r\n        }\r\n        else {\r\n            // update content\r\n            n2.el = n1.el;\r\n            const mainAnchor = (n2.anchor = n1.anchor);\r\n            const target = (n2.target = n1.target);\r\n            const targetAnchor = (n2.targetAnchor = n1.targetAnchor);\r\n            const wasDisabled = isTeleportDisabled(n1.props);\r\n            const currentContainer = wasDisabled ? container : target;\r\n            const currentAnchor = wasDisabled ? mainAnchor : targetAnchor;\r\n            isSVG = isSVG || isTargetSVG(target);\r\n            if (dynamicChildren) {\r\n                // fast path when the teleport happens to be a block root\r\n                patchBlockChildren(n1.dynamicChildren, dynamicChildren, currentContainer, parentComponent, parentSuspense, isSVG, slotScopeIds);\r\n                // even in block tree mode we need to make sure all root-level nodes\r\n                // in the teleport inherit previous DOM references so that they can\r\n                // be moved in future patches.\r\n                traverseStaticChildren(n1, n2, true);\r\n            }\r\n            else if (!optimized) {\r\n                patchChildren(n1, n2, currentContainer, currentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, false);\r\n            }\r\n            if (disabled) {\r\n                if (!wasDisabled) {\r\n                    // enabled -> disabled\r\n                    // move into main container\r\n                    moveTeleport(n2, container, mainAnchor, internals, 1 /* TeleportMoveTypes.TOGGLE */);\r\n                }\r\n            }\r\n            else {\r\n                // target changed\r\n                if ((n2.props && n2.props.to) !== (n1.props && n1.props.to)) {\r\n                    const nextTarget = (n2.target = resolveTarget(n2.props, querySelector));\r\n                    if (nextTarget) {\r\n                        moveTeleport(n2, nextTarget, null, internals, 0 /* TeleportMoveTypes.TARGET_CHANGE */);\r\n                    }\r\n                    else if ((process.env.NODE_ENV !== 'production')) {\r\n                        warn('Invalid Teleport target on update:', target, `(${typeof target})`);\r\n                    }\r\n                }\r\n                else if (wasDisabled) {\r\n                    // disabled -> enabled\r\n                    // move into teleport target\r\n                    moveTeleport(n2, target, targetAnchor, internals, 1 /* TeleportMoveTypes.TOGGLE */);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    remove(vnode, parentComponent, parentSuspense, optimized, { um: unmount, o: { remove: hostRemove } }, doRemove) {\r\n        const { shapeFlag, children, anchor, targetAnchor, target, props } = vnode;\r\n        if (target) {\r\n            hostRemove(targetAnchor);\r\n        }\r\n        // an unmounted teleport should always remove its children if not disabled\r\n        if (doRemove || !isTeleportDisabled(props)) {\r\n            hostRemove(anchor);\r\n            if (shapeFlag & 16 /* ShapeFlags.ARRAY_CHILDREN */) {\r\n                for (let i = 0; i < children.length; i++) {\r\n                    const child = children[i];\r\n                    unmount(child, parentComponent, parentSuspense, true, !!child.dynamicChildren);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    move: moveTeleport,\r\n    hydrate: hydrateTeleport\r\n};\r\nfunction moveTeleport(vnode, container, parentAnchor, { o: { insert }, m: move }, moveType = 2 /* TeleportMoveTypes.REORDER */) {\r\n    // move target anchor if this is a target change.\r\n    if (moveType === 0 /* TeleportMoveTypes.TARGET_CHANGE */) {\r\n        insert(vnode.targetAnchor, container, parentAnchor);\r\n    }\r\n    const { el, anchor, shapeFlag, children, props } = vnode;\r\n    const isReorder = moveType === 2 /* TeleportMoveTypes.REORDER */;\r\n    // move main view anchor if this is a re-order.\r\n    if (isReorder) {\r\n        insert(el, container, parentAnchor);\r\n    }\r\n    // if this is a re-order and teleport is enabled (content is in target)\r\n    // do not move children. So the opposite is: only move children if this\r\n    // is not a reorder, or the teleport is disabled\r\n    if (!isReorder || isTeleportDisabled(props)) {\r\n        // Teleport has either Array children or no children.\r\n        if (shapeFlag & 16 /* ShapeFlags.ARRAY_CHILDREN */) {\r\n            for (let i = 0; i < children.length; i++) {\r\n                move(children[i], container, parentAnchor, 2 /* MoveType.REORDER */);\r\n            }\r\n        }\r\n    }\r\n    // move main view anchor if this is a re-order.\r\n    if (isReorder) {\r\n        insert(anchor, container, parentAnchor);\r\n    }\r\n}\r\nfunction hydrateTeleport(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, { o: { nextSibling, parentNode, querySelector } }, hydrateChildren) {\r\n    const target = (vnode.target = resolveTarget(vnode.props, querySelector));\r\n    if (target) {\r\n        // if multiple teleports rendered to the same target element, we need to\r\n        // pick up from where the last teleport finished instead of the first node\r\n        const targetNode = target._lpa || target.firstChild;\r\n        if (vnode.shapeFlag & 16 /* ShapeFlags.ARRAY_CHILDREN */) {\r\n            if (isTeleportDisabled(vnode.props)) {\r\n                vnode.anchor = hydrateChildren(nextSibling(node), vnode, parentNode(node), parentComponent, parentSuspense, slotScopeIds, optimized);\r\n                vnode.targetAnchor = targetNode;\r\n            }\r\n            else {\r\n                vnode.anchor = nextSibling(node);\r\n                // lookahead until we find the target anchor\r\n                // we cannot rely on return value of hydrateChildren() because there\r\n                // could be nested teleports\r\n                let targetAnchor = targetNode;\r\n                while (targetAnchor) {\r\n                    targetAnchor = nextSibling(targetAnchor);\r\n                    if (targetAnchor &&\r\n                        targetAnchor.nodeType === 8 &&\r\n                        targetAnchor.data === 'teleport anchor') {\r\n                        vnode.targetAnchor = targetAnchor;\r\n                        target._lpa =\r\n                            vnode.targetAnchor && nextSibling(vnode.targetAnchor);\r\n                        break;\r\n                    }\r\n                }\r\n                hydrateChildren(targetNode, vnode, target, parentComponent, parentSuspense, slotScopeIds, optimized);\r\n            }\r\n        }\r\n    }\r\n    return vnode.anchor && nextSibling(vnode.anchor);\r\n}\r\n// Force-casted public typing for h and TSX props inference\r\nconst Teleport = TeleportImpl;\n\nconst Fragment = Symbol((process.env.NODE_ENV !== 'production') ? 'Fragment' : undefined);\r\nconst Text = Symbol((process.env.NODE_ENV !== 'production') ? 'Text' : undefined);\r\nconst Comment = Symbol((process.env.NODE_ENV !== 'production') ? 'Comment' : undefined);\r\nconst Static = Symbol((process.env.NODE_ENV !== 'production') ? 'Static' : undefined);\r\n// Since v-if and v-for are the two possible ways node structure can dynamically\r\n// change, once we consider v-if branches and each v-for fragment a block, we\r\n// can divide a template into nested blocks, and within each block the node\r\n// structure would be stable. This allows us to skip most children diffing\r\n// and only worry about the dynamic nodes (indicated by patch flags).\r\nconst blockStack = [];\r\nlet currentBlock = null;\r\n/**\r\n * Open a block.\r\n * This must be called before `createBlock`. It cannot be part of `createBlock`\r\n * because the children of the block are evaluated before `createBlock` itself\r\n * is called. The generated code typically looks like this:\r\n *\r\n * ```js\r\n * function render() {\r\n *   return (openBlock(),createBlock('div', null, [...]))\r\n * }\r\n * ```\r\n * disableTracking is true when creating a v-for fragment block, since a v-for\r\n * fragment always diffs its children.\r\n *\r\n * @private\r\n */\r\nfunction openBlock(disableTracking = false) {\r\n    blockStack.push((currentBlock = disableTracking ? null : []));\r\n}\r\nfunction closeBlock() {\r\n    blockStack.pop();\r\n    currentBlock = blockStack[blockStack.length - 1] || null;\r\n}\r\n// Whether we should be tracking dynamic child nodes inside a block.\r\n// Only tracks when this value is > 0\r\n// We are not using a simple boolean because this value may need to be\r\n// incremented/decremented by nested usage of v-once (see below)\r\nlet isBlockTreeEnabled = 1;\r\n/**\r\n * Block tracking sometimes needs to be disabled, for example during the\r\n * creation of a tree that needs to be cached by v-once. The compiler generates\r\n * code like this:\r\n *\r\n * ``` js\r\n * _cache[1] || (\r\n *   setBlockTracking(-1),\r\n *   _cache[1] = createVNode(...),\r\n *   setBlockTracking(1),\r\n *   _cache[1]\r\n * )\r\n * ```\r\n *\r\n * @private\r\n */\r\nfunction setBlockTracking(value) {\r\n    isBlockTreeEnabled += value;\r\n}\r\nfunction setupBlock(vnode) {\r\n    // save current block children on the block vnode\r\n    vnode.dynamicChildren =\r\n        isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null;\r\n    // close block\r\n    closeBlock();\r\n    // a block is always going to be patched, so track it as a child of its\r\n    // parent block\r\n    if (isBlockTreeEnabled > 0 && currentBlock) {\r\n        currentBlock.push(vnode);\r\n    }\r\n    return vnode;\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction createElementBlock(type, props, children, patchFlag, dynamicProps, shapeFlag) {\r\n    return setupBlock(createBaseVNode(type, props, children, patchFlag, dynamicProps, shapeFlag, true /* isBlock */));\r\n}\r\n/**\r\n * Create a block root vnode. Takes the same exact arguments as `createVNode`.\r\n * A block root keeps track of dynamic nodes within the block in the\r\n * `dynamicChildren` array.\r\n *\r\n * @private\r\n */\r\nfunction createBlock(type, props, children, patchFlag, dynamicProps) {\r\n    return setupBlock(createVNode(type, props, children, patchFlag, dynamicProps, true /* isBlock: prevent a block from tracking itself */));\r\n}\r\nfunction isVNode(value) {\r\n    return value ? value.__v_isVNode === true : false;\r\n}\r\nfunction isSameVNodeType(n1, n2) {\r\n    if ((process.env.NODE_ENV !== 'production') &&\r\n        n2.shapeFlag & 6 /* ShapeFlags.COMPONENT */ &&\r\n        hmrDirtyComponents.has(n2.type)) {\r\n        // HMR only: if the component has been hot-updated, force a reload.\r\n        return false;\r\n    }\r\n    return n1.type === n2.type && n1.key === n2.key;\r\n}\r\nlet vnodeArgsTransformer;\r\n/**\r\n * Internal API for registering an arguments transform for createVNode\r\n * used for creating stubs in the test-utils\r\n * It is *internal* but needs to be exposed for test-utils to pick up proper\r\n * typings\r\n */\r\nfunction transformVNodeArgs(transformer) {\r\n    vnodeArgsTransformer = transformer;\r\n}\r\nconst createVNodeWithArgsTransform = (...args) => {\r\n    return _createVNode(...(vnodeArgsTransformer\r\n        ? vnodeArgsTransformer(args, currentRenderingInstance)\r\n        : args));\r\n};\r\nconst InternalObjectKey = `__vInternal`;\r\nconst normalizeKey = ({ key }) => key != null ? key : null;\r\nconst normalizeRef = ({ ref, ref_key, ref_for }) => {\r\n    return (ref != null\r\n        ? isString(ref) || isRef(ref) || isFunction(ref)\r\n            ? { i: currentRenderingInstance, r: ref, k: ref_key, f: !!ref_for }\r\n            : ref\r\n        : null);\r\n};\r\nfunction createBaseVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, shapeFlag = type === Fragment ? 0 : 1 /* ShapeFlags.ELEMENT */, isBlockNode = false, needFullChildrenNormalization = false) {\r\n    const vnode = {\r\n        __v_isVNode: true,\r\n        __v_skip: true,\r\n        type,\r\n        props,\r\n        key: props && normalizeKey(props),\r\n        ref: props && normalizeRef(props),\r\n        scopeId: currentScopeId,\r\n        slotScopeIds: null,\r\n        children,\r\n        component: null,\r\n        suspense: null,\r\n        ssContent: null,\r\n        ssFallback: null,\r\n        dirs: null,\r\n        transition: null,\r\n        el: null,\r\n        anchor: null,\r\n        target: null,\r\n        targetAnchor: null,\r\n        staticCount: 0,\r\n        shapeFlag,\r\n        patchFlag,\r\n        dynamicProps,\r\n        dynamicChildren: null,\r\n        appContext: null\r\n    };\r\n    if (needFullChildrenNormalization) {\r\n        normalizeChildren(vnode, children);\r\n        // normalize suspense children\r\n        if (shapeFlag & 128 /* ShapeFlags.SUSPENSE */) {\r\n            type.normalize(vnode);\r\n        }\r\n    }\r\n    else if (children) {\r\n        // compiled element vnode - if children is passed, only possible types are\r\n        // string or Array.\r\n        vnode.shapeFlag |= isString(children)\r\n            ? 8 /* ShapeFlags.TEXT_CHILDREN */\r\n            : 16 /* ShapeFlags.ARRAY_CHILDREN */;\r\n    }\r\n    // validate key\r\n    if ((process.env.NODE_ENV !== 'production') && vnode.key !== vnode.key) {\r\n        warn(`VNode created with invalid key (NaN). VNode type:`, vnode.type);\r\n    }\r\n    // track vnode for block tree\r\n    if (isBlockTreeEnabled > 0 &&\r\n        // avoid a block node from tracking itself\r\n        !isBlockNode &&\r\n        // has current parent block\r\n        currentBlock &&\r\n        // presence of a patch flag indicates this node needs patching on updates.\r\n        // component nodes also should always be patched, because even if the\r\n        // component doesn't need to update, it needs to persist the instance on to\r\n        // the next vnode so that it can be properly unmounted later.\r\n        (vnode.patchFlag > 0 || shapeFlag & 6 /* ShapeFlags.COMPONENT */) &&\r\n        // the EVENTS flag is only for hydration and if it is the only flag, the\r\n        // vnode should not be considered dynamic due to handler caching.\r\n        vnode.patchFlag !== 32 /* PatchFlags.HYDRATE_EVENTS */) {\r\n        currentBlock.push(vnode);\r\n    }\r\n    return vnode;\r\n}\r\nconst createVNode = ((process.env.NODE_ENV !== 'production') ? createVNodeWithArgsTransform : _createVNode);\r\nfunction _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {\r\n    if (!type || type === NULL_DYNAMIC_COMPONENT) {\r\n        if ((process.env.NODE_ENV !== 'production') && !type) {\r\n            warn(`Invalid vnode type when creating vnode: ${type}.`);\r\n        }\r\n        type = Comment;\r\n    }\r\n    if (isVNode(type)) {\r\n        // createVNode receiving an existing vnode. This happens in cases like\r\n        // <component :is=\"vnode\"/>\r\n        // #2078 make sure to merge refs during the clone instead of overwriting it\r\n        const cloned = cloneVNode(type, props, true /* mergeRef: true */);\r\n        if (children) {\r\n            normalizeChildren(cloned, children);\r\n        }\r\n        if (isBlockTreeEnabled > 0 && !isBlockNode && currentBlock) {\r\n            if (cloned.shapeFlag & 6 /* ShapeFlags.COMPONENT */) {\r\n                currentBlock[currentBlock.indexOf(type)] = cloned;\r\n            }\r\n            else {\r\n                currentBlock.push(cloned);\r\n            }\r\n        }\r\n        cloned.patchFlag |= -2 /* PatchFlags.BAIL */;\r\n        return cloned;\r\n    }\r\n    // class component normalization.\r\n    if (isClassComponent(type)) {\r\n        type = type.__vccOpts;\r\n    }\r\n    // class & style normalization.\r\n    if (props) {\r\n        // for reactive or proxy objects, we need to clone it to enable mutation.\r\n        props = guardReactiveProps(props);\r\n        let { class: klass, style } = props;\r\n        if (klass && !isString(klass)) {\r\n            props.class = normalizeClass(klass);\r\n        }\r\n        if (isObject(style)) {\r\n            // reactive state objects need to be cloned since they are likely to be\r\n            // mutated\r\n            if (isProxy(style) && !isArray(style)) {\r\n                style = extend({}, style);\r\n            }\r\n            props.style = normalizeStyle(style);\r\n        }\r\n    }\r\n    // encode the vnode type information into a bitmap\r\n    const shapeFlag = isString(type)\r\n        ? 1 /* ShapeFlags.ELEMENT */\r\n        : isSuspense(type)\r\n            ? 128 /* ShapeFlags.SUSPENSE */\r\n            : isTeleport(type)\r\n                ? 64 /* ShapeFlags.TELEPORT */\r\n                : isObject(type)\r\n                    ? 4 /* ShapeFlags.STATEFUL_COMPONENT */\r\n                    : isFunction(type)\r\n                        ? 2 /* ShapeFlags.FUNCTIONAL_COMPONENT */\r\n                        : 0;\r\n    if ((process.env.NODE_ENV !== 'production') && shapeFlag & 4 /* ShapeFlags.STATEFUL_COMPONENT */ && isProxy(type)) {\r\n        type = toRaw(type);\r\n        warn(`Vue received a Component which was made a reactive object. This can ` +\r\n            `lead to unnecessary performance overhead, and should be avoided by ` +\r\n            `marking the component with \\`markRaw\\` or using \\`shallowRef\\` ` +\r\n            `instead of \\`ref\\`.`, `\\nComponent that was made reactive: `, type);\r\n    }\r\n    return createBaseVNode(type, props, children, patchFlag, dynamicProps, shapeFlag, isBlockNode, true);\r\n}\r\nfunction guardReactiveProps(props) {\r\n    if (!props)\r\n        return null;\r\n    return isProxy(props) || InternalObjectKey in props\r\n        ? extend({}, props)\r\n        : props;\r\n}\r\nfunction cloneVNode(vnode, extraProps, mergeRef = false) {\r\n    // This is intentionally NOT using spread or extend to avoid the runtime\r\n    // key enumeration cost.\r\n    const { props, ref, patchFlag, children } = vnode;\r\n    const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;\r\n    const cloned = {\r\n        __v_isVNode: true,\r\n        __v_skip: true,\r\n        type: vnode.type,\r\n        props: mergedProps,\r\n        key: mergedProps && normalizeKey(mergedProps),\r\n        ref: extraProps && extraProps.ref\r\n            ? // #2078 in the case of <component :is=\"vnode\" ref=\"extra\"/>\r\n                // if the vnode itself already has a ref, cloneVNode will need to merge\r\n                // the refs so the single vnode can be set on multiple refs\r\n                mergeRef && ref\r\n                    ? isArray(ref)\r\n                        ? ref.concat(normalizeRef(extraProps))\r\n                        : [ref, normalizeRef(extraProps)]\r\n                    : normalizeRef(extraProps)\r\n            : ref,\r\n        scopeId: vnode.scopeId,\r\n        slotScopeIds: vnode.slotScopeIds,\r\n        children: (process.env.NODE_ENV !== 'production') && patchFlag === -1 /* PatchFlags.HOISTED */ && isArray(children)\r\n            ? children.map(deepCloneVNode)\r\n            : children,\r\n        target: vnode.target,\r\n        targetAnchor: vnode.targetAnchor,\r\n        staticCount: vnode.staticCount,\r\n        shapeFlag: vnode.shapeFlag,\r\n        // if the vnode is cloned with extra props, we can no longer assume its\r\n        // existing patch flag to be reliable and need to add the FULL_PROPS flag.\r\n        // note: preserve flag for fragments since they use the flag for children\r\n        // fast paths only.\r\n        patchFlag: extraProps && vnode.type !== Fragment\r\n            ? patchFlag === -1 // hoisted node\r\n                ? 16 /* PatchFlags.FULL_PROPS */\r\n                : patchFlag | 16 /* PatchFlags.FULL_PROPS */\r\n            : patchFlag,\r\n        dynamicProps: vnode.dynamicProps,\r\n        dynamicChildren: vnode.dynamicChildren,\r\n        appContext: vnode.appContext,\r\n        dirs: vnode.dirs,\r\n        transition: vnode.transition,\r\n        // These should technically only be non-null on mounted VNodes. However,\r\n        // they *should* be copied for kept-alive vnodes. So we just always copy\r\n        // them since them being non-null during a mount doesn't affect the logic as\r\n        // they will simply be overwritten.\r\n        component: vnode.component,\r\n        suspense: vnode.suspense,\r\n        ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),\r\n        ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),\r\n        el: vnode.el,\r\n        anchor: vnode.anchor\r\n    };\r\n    return cloned;\r\n}\r\n/**\r\n * Dev only, for HMR of hoisted vnodes reused in v-for\r\n * https://github.com/vitejs/vite/issues/2022\r\n */\r\nfunction deepCloneVNode(vnode) {\r\n    const cloned = cloneVNode(vnode);\r\n    if (isArray(vnode.children)) {\r\n        cloned.children = vnode.children.map(deepCloneVNode);\r\n    }\r\n    return cloned;\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction createTextVNode(text = ' ', flag = 0) {\r\n    return createVNode(Text, null, text, flag);\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction createStaticVNode(content, numberOfNodes) {\r\n    // A static vnode can contain multiple stringified elements, and the number\r\n    // of elements is necessary for hydration.\r\n    const vnode = createVNode(Static, null, content);\r\n    vnode.staticCount = numberOfNodes;\r\n    return vnode;\r\n}\r\n/**\r\n * @private\r\n */\r\nfunction createCommentVNode(text = '', \r\n// when used as the v-else branch, the comment node must be created as a\r\n// block to ensure correct updates.\r\nasBlock = false) {\r\n    return asBlock\r\n        ? (openBlock(), createBlock(Comment, null, text))\r\n        : createVNode(Comment, null, text);\r\n}\r\nfunction normalizeVNode(child) {\r\n    if (child == null || typeof child === 'boolean') {\r\n        // empty placeholder\r\n        return createVNode(Comment);\r\n    }\r\n    else if (isArray(child)) {\r\n        // fragment\r\n        return createVNode(Fragment, null, \r\n        // #3666, avoid reference pollution when reusing vnode\r\n        child.slice());\r\n    }\r\n    else if (typeof child === 'object') {\r\n        // already vnode, this should be the most common since compiled templates\r\n        // always produce all-vnode children arrays\r\n        return cloneIfMounted(child);\r\n    }\r\n    else {\r\n        // strings and numbers\r\n        return createVNode(Text, null, String(child));\r\n    }\r\n}\r\n// optimized normalization for template-compiled render fns\r\nfunction cloneIfMounted(child) {\r\n    return child.el === null || child.memo ? child : cloneVNode(child);\r\n}\r\nfunction normalizeChildren(vnode, children) {\r\n    let type = 0;\r\n    const { shapeFlag } = vnode;\r\n    if (children == null) {\r\n        children = null;\r\n    }\r\n    else if (isArray(children)) {\r\n        type = 16 /* ShapeFlags.ARRAY_CHILDREN */;\r\n    }\r\n    else if (typeof children === 'object') {\r\n        if (shapeFlag & (1 /* ShapeFlags.ELEMENT */ | 64 /* ShapeFlags.TELEPORT */)) {\r\n            // Normalize slot to plain children for plain element and Teleport\r\n            const slot = children.default;\r\n            if (slot) {\r\n                // _c marker is added by withCtx() indicating this is a compiled slot\r\n                slot._c && (slot._d = false);\r\n                normalizeChildren(vnode, slot());\r\n                slot._c && (slot._d = true);\r\n            }\r\n            return;\r\n        }\r\n        else {\r\n            type = 32 /* ShapeFlags.SLOTS_CHILDREN */;\r\n            const slotFlag = children._;\r\n            if (!slotFlag && !(InternalObjectKey in children)) {\r\n                children._ctx = currentRenderingInstance;\r\n            }\r\n            else if (slotFlag === 3 /* SlotFlags.FORWARDED */ && currentRenderingInstance) {\r\n                // a child component receives forwarded slots from the parent.\r\n                // its slot type is determined by its parent's slot type.\r\n                if (currentRenderingInstance.slots._ === 1 /* SlotFlags.STABLE */) {\r\n                    children._ = 1 /* SlotFlags.STABLE */;\r\n                }\r\n                else {\r\n                    children._ = 2 /* SlotFlags.DYNAMIC */;\r\n                    vnode.patchFlag |= 1024 /* PatchFlags.DYNAMIC_SLOTS */;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else if (isFunction(children)) {\r\n        children = { default: children, _ctx: currentRenderingInstance };\r\n        type = 32 /* ShapeFlags.SLOTS_CHILDREN */;\r\n    }\r\n    else {\r\n        children = String(children);\r\n        // force teleport children to array so it can be moved around\r\n        if (shapeFlag & 64 /* ShapeFlags.TELEPORT */) {\r\n            type = 16 /* ShapeFlags.ARRAY_CHILDREN */;\r\n            children = [createTextVNode(children)];\r\n        }\r\n        else {\r\n            type = 8 /* ShapeFlags.TEXT_CHILDREN */;\r\n        }\r\n    }\r\n    vnode.children = children;\r\n    vnode.shapeFlag |= type;\r\n}\r\nfunction mergeProps(...args) {\r\n    const ret = {};\r\n    for (let i = 0; i < args.length; i++) {\r\n        const toMerge = args[i];\r\n        for (const key in toMerge) {\r\n            if (key === 'class') {\r\n                if (ret.class !== toMerge.class) {\r\n                    ret.class = normalizeClass([ret.class, toMerge.class]);\r\n                }\r\n            }\r\n            else if (key === 'style') {\r\n                ret.style = normalizeStyle([ret.style, toMerge.style]);\r\n            }\r\n            else if (isOn(key)) {\r\n                const existing = ret[key];\r\n                const incoming = toMerge[key];\r\n                if (incoming &&\r\n                    existing !== incoming &&\r\n                    !(isArray(existing) && existing.includes(incoming))) {\r\n                    ret[key] = existing\r\n                        ? [].concat(existing, incoming)\r\n                        : incoming;\r\n                }\r\n            }\r\n            else if (key !== '') {\r\n                ret[key] = toMerge[key];\r\n            }\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nfunction invokeVNodeHook(hook, instance, vnode, prevVNode = null) {\r\n    callWithAsyncErrorHandling(hook, instance, 7 /* ErrorCodes.VNODE_HOOK */, [\r\n        vnode,\r\n        prevVNode\r\n    ]);\r\n}\n\nconst emptyAppContext = createAppContext();\r\nlet uid$1 = 0;\r\nfunction createComponentInstance(vnode, parent, suspense) {\r\n    const type = vnode.type;\r\n    // inherit parent app context - or - if root, adopt from root vnode\r\n    const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;\r\n    const instance = {\r\n        uid: uid$1++,\r\n        vnode,\r\n        type,\r\n        parent,\r\n        appContext,\r\n        root: null,\r\n        next: null,\r\n        subTree: null,\r\n        effect: null,\r\n        update: null,\r\n        scope: new EffectScope(true /* detached */),\r\n        render: null,\r\n        proxy: null,\r\n        exposed: null,\r\n        exposeProxy: null,\r\n        withProxy: null,\r\n        provides: parent ? parent.provides : Object.create(appContext.provides),\r\n        accessCache: null,\r\n        renderCache: [],\r\n        // local resolved assets\r\n        components: null,\r\n        directives: null,\r\n        // resolved props and emits options\r\n        propsOptions: normalizePropsOptions(type, appContext),\r\n        emitsOptions: normalizeEmitsOptions(type, appContext),\r\n        // emit\r\n        emit: null,\r\n        emitted: null,\r\n        // props default value\r\n        propsDefaults: EMPTY_OBJ,\r\n        // inheritAttrs\r\n        inheritAttrs: type.inheritAttrs,\r\n        // state\r\n        ctx: EMPTY_OBJ,\r\n        data: EMPTY_OBJ,\r\n        props: EMPTY_OBJ,\r\n        attrs: EMPTY_OBJ,\r\n        slots: EMPTY_OBJ,\r\n        refs: EMPTY_OBJ,\r\n        setupState: EMPTY_OBJ,\r\n        setupContext: null,\r\n        // suspense related\r\n        suspense,\r\n        suspenseId: suspense ? suspense.pendingId : 0,\r\n        asyncDep: null,\r\n        asyncResolved: false,\r\n        // lifecycle hooks\r\n        // not using enums here because it results in computed properties\r\n        isMounted: false,\r\n        isUnmounted: false,\r\n        isDeactivated: false,\r\n        bc: null,\r\n        c: null,\r\n        bm: null,\r\n        m: null,\r\n        bu: null,\r\n        u: null,\r\n        um: null,\r\n        bum: null,\r\n        da: null,\r\n        a: null,\r\n        rtg: null,\r\n        rtc: null,\r\n        ec: null,\r\n        sp: null\r\n    };\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        instance.ctx = createDevRenderContext(instance);\r\n    }\r\n    else {\r\n        instance.ctx = { _: instance };\r\n    }\r\n    instance.root = parent ? parent.root : instance;\r\n    instance.emit = emit$1.bind(null, instance);\r\n    // apply custom element special handling\r\n    if (vnode.ce) {\r\n        vnode.ce(instance);\r\n    }\r\n    return instance;\r\n}\r\nlet currentInstance = null;\r\nconst getCurrentInstance = () => currentInstance || currentRenderingInstance;\r\nconst setCurrentInstance = (instance) => {\r\n    currentInstance = instance;\r\n    instance.scope.on();\r\n};\r\nconst unsetCurrentInstance = () => {\r\n    currentInstance && currentInstance.scope.off();\r\n    currentInstance = null;\r\n};\r\nconst isBuiltInTag = /*#__PURE__*/ makeMap('slot,component');\r\nfunction validateComponentName(name, config) {\r\n    const appIsNativeTag = config.isNativeTag || NO;\r\n    if (isBuiltInTag(name) || appIsNativeTag(name)) {\r\n        warn('Do not use built-in or reserved HTML elements as component id: ' + name);\r\n    }\r\n}\r\nfunction isStatefulComponent(instance) {\r\n    return instance.vnode.shapeFlag & 4 /* ShapeFlags.STATEFUL_COMPONENT */;\r\n}\r\nlet isInSSRComponentSetup = false;\r\nfunction setupComponent(instance, isSSR = false) {\r\n    isInSSRComponentSetup = isSSR;\r\n    const { props, children } = instance.vnode;\r\n    const isStateful = isStatefulComponent(instance);\r\n    initProps(instance, props, isStateful, isSSR);\r\n    initSlots(instance, children);\r\n    const setupResult = isStateful\r\n        ? setupStatefulComponent(instance, isSSR)\r\n        : undefined;\r\n    isInSSRComponentSetup = false;\r\n    return setupResult;\r\n}\r\nfunction setupStatefulComponent(instance, isSSR) {\r\n    var _a;\r\n    const Component = instance.type;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        if (Component.name) {\r\n            validateComponentName(Component.name, instance.appContext.config);\r\n        }\r\n        if (Component.components) {\r\n            const names = Object.keys(Component.components);\r\n            for (let i = 0; i < names.length; i++) {\r\n                validateComponentName(names[i], instance.appContext.config);\r\n            }\r\n        }\r\n        if (Component.directives) {\r\n            const names = Object.keys(Component.directives);\r\n            for (let i = 0; i < names.length; i++) {\r\n                validateDirectiveName(names[i]);\r\n            }\r\n        }\r\n        if (Component.compilerOptions && isRuntimeOnly()) {\r\n            warn(`\"compilerOptions\" is only supported when using a build of Vue that ` +\r\n                `includes the runtime compiler. Since you are using a runtime-only ` +\r\n                `build, the options should be passed via your build tool config instead.`);\r\n        }\r\n    }\r\n    // 0. create render proxy property access cache\r\n    instance.accessCache = Object.create(null);\r\n    // 1. create public instance / render proxy\r\n    // also mark it raw so it's never observed\r\n    instance.proxy = markRaw(new Proxy(instance.ctx, PublicInstanceProxyHandlers));\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        exposePropsOnRenderContext(instance);\r\n    }\r\n    // 2. call setup()\r\n    const { setup } = Component;\r\n    if (setup) {\r\n        const setupContext = (instance.setupContext =\r\n            setup.length > 1 ? createSetupContext(instance) : null);\r\n        setCurrentInstance(instance);\r\n        pauseTracking();\r\n        const setupResult = callWithErrorHandling(setup, instance, 0 /* ErrorCodes.SETUP_FUNCTION */, [(process.env.NODE_ENV !== 'production') ? shallowReadonly(instance.props) : instance.props, setupContext]);\r\n        resetTracking();\r\n        unsetCurrentInstance();\r\n        if (isPromise(setupResult)) {\r\n            setupResult.then(unsetCurrentInstance, unsetCurrentInstance);\r\n            if (isSSR) {\r\n                // return the promise so server-renderer can wait on it\r\n                return setupResult\r\n                    .then((resolvedResult) => {\r\n                    handleSetupResult(instance, resolvedResult, isSSR);\r\n                })\r\n                    .catch(e => {\r\n                    handleError(e, instance, 0 /* ErrorCodes.SETUP_FUNCTION */);\r\n                });\r\n            }\r\n            else {\r\n                // async setup returned Promise.\r\n                // bail here and wait for re-entry.\r\n                instance.asyncDep = setupResult;\r\n                if ((process.env.NODE_ENV !== 'production') && !instance.suspense) {\r\n                    const name = (_a = Component.name) !== null && _a !== void 0 ? _a : 'Anonymous';\r\n                    warn(`Component <${name}>: setup function returned a promise, but no ` +\r\n                        `<Suspense> boundary was found in the parent component tree. ` +\r\n                        `A component with async setup() must be nested in a <Suspense> ` +\r\n                        `in order to be rendered.`);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            handleSetupResult(instance, setupResult, isSSR);\r\n        }\r\n    }\r\n    else {\r\n        finishComponentSetup(instance, isSSR);\r\n    }\r\n}\r\nfunction handleSetupResult(instance, setupResult, isSSR) {\r\n    if (isFunction(setupResult)) {\r\n        // setup returned an inline render function\r\n        if (instance.type.__ssrInlineRender) {\r\n            // when the function's name is `ssrRender` (compiled by SFC inline mode),\r\n            // set it as ssrRender instead.\r\n            instance.ssrRender = setupResult;\r\n        }\r\n        else {\r\n            instance.render = setupResult;\r\n        }\r\n    }\r\n    else if (isObject(setupResult)) {\r\n        if ((process.env.NODE_ENV !== 'production') && isVNode(setupResult)) {\r\n            warn(`setup() should not return VNodes directly - ` +\r\n                `return a render function instead.`);\r\n        }\r\n        // setup returned bindings.\r\n        // assuming a render function compiled from template is present.\r\n        if ((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) {\r\n            instance.devtoolsRawSetupState = setupResult;\r\n        }\r\n        instance.setupState = proxyRefs(setupResult);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            exposeSetupStateOnRenderContext(instance);\r\n        }\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production') && setupResult !== undefined) {\r\n        warn(`setup() should return an object. Received: ${setupResult === null ? 'null' : typeof setupResult}`);\r\n    }\r\n    finishComponentSetup(instance, isSSR);\r\n}\r\nlet compile;\r\nlet installWithProxy;\r\n/**\r\n * For runtime-dom to register the compiler.\r\n * Note the exported method uses any to avoid d.ts relying on the compiler types.\r\n */\r\nfunction registerRuntimeCompiler(_compile) {\r\n    compile = _compile;\r\n    installWithProxy = i => {\r\n        if (i.render._rc) {\r\n            i.withProxy = new Proxy(i.ctx, RuntimeCompiledPublicInstanceProxyHandlers);\r\n        }\r\n    };\r\n}\r\n// dev only\r\nconst isRuntimeOnly = () => !compile;\r\nfunction finishComponentSetup(instance, isSSR, skipOptions) {\r\n    const Component = instance.type;\r\n    // template / render function normalization\r\n    // could be already set when returned from setup()\r\n    if (!instance.render) {\r\n        // only do on-the-fly compile if not in SSR - SSR on-the-fly compilation\r\n        // is done by server-renderer\r\n        if (!isSSR && compile && !Component.render) {\r\n            const template = Component.template ||\r\n                resolveMergedOptions(instance).template;\r\n            if (template) {\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    startMeasure(instance, `compile`);\r\n                }\r\n                const { isCustomElement, compilerOptions } = instance.appContext.config;\r\n                const { delimiters, compilerOptions: componentCompilerOptions } = Component;\r\n                const finalCompilerOptions = extend(extend({\r\n                    isCustomElement,\r\n                    delimiters\r\n                }, compilerOptions), componentCompilerOptions);\r\n                Component.render = compile(template, finalCompilerOptions);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    endMeasure(instance, `compile`);\r\n                }\r\n            }\r\n        }\r\n        instance.render = (Component.render || NOOP);\r\n        // for runtime-compiled render functions using `with` blocks, the render\r\n        // proxy used needs a different `has` handler which is more performant and\r\n        // also only allows a whitelist of globals to fallthrough.\r\n        if (installWithProxy) {\r\n            installWithProxy(instance);\r\n        }\r\n    }\r\n    // support for 2.x options\r\n    if (__VUE_OPTIONS_API__ && !(false )) {\r\n        setCurrentInstance(instance);\r\n        pauseTracking();\r\n        applyOptions(instance);\r\n        resetTracking();\r\n        unsetCurrentInstance();\r\n    }\r\n    // warn missing template/render\r\n    // the runtime compilation of template in SSR is done by server-render\r\n    if ((process.env.NODE_ENV !== 'production') && !Component.render && instance.render === NOOP && !isSSR) {\r\n        /* istanbul ignore if */\r\n        if (!compile && Component.template) {\r\n            warn(`Component provided template option but ` +\r\n                `runtime compilation is not supported in this build of Vue.` +\r\n                (` Configure your bundler to alias \"vue\" to \"vue/dist/vue.esm-bundler.js\".`\r\n                    ) /* should not happen */);\r\n        }\r\n        else {\r\n            warn(`Component is missing template or render function.`);\r\n        }\r\n    }\r\n}\r\nfunction createAttrsProxy(instance) {\r\n    return new Proxy(instance.attrs, (process.env.NODE_ENV !== 'production')\r\n        ? {\r\n            get(target, key) {\r\n                markAttrsAccessed();\r\n                track(instance, \"get\" /* TrackOpTypes.GET */, '$attrs');\r\n                return target[key];\r\n            },\r\n            set() {\r\n                warn(`setupContext.attrs is readonly.`);\r\n                return false;\r\n            },\r\n            deleteProperty() {\r\n                warn(`setupContext.attrs is readonly.`);\r\n                return false;\r\n            }\r\n        }\r\n        : {\r\n            get(target, key) {\r\n                track(instance, \"get\" /* TrackOpTypes.GET */, '$attrs');\r\n                return target[key];\r\n            }\r\n        });\r\n}\r\nfunction createSetupContext(instance) {\r\n    const expose = exposed => {\r\n        if ((process.env.NODE_ENV !== 'production') && instance.exposed) {\r\n            warn(`expose() should be called only once per setup().`);\r\n        }\r\n        instance.exposed = exposed || {};\r\n    };\r\n    let attrs;\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        // We use getters in dev in case libs like test-utils overwrite instance\r\n        // properties (overwrites should not be done in prod)\r\n        return Object.freeze({\r\n            get attrs() {\r\n                return attrs || (attrs = createAttrsProxy(instance));\r\n            },\r\n            get slots() {\r\n                return shallowReadonly(instance.slots);\r\n            },\r\n            get emit() {\r\n                return (event, ...args) => instance.emit(event, ...args);\r\n            },\r\n            expose\r\n        });\r\n    }\r\n    else {\r\n        return {\r\n            get attrs() {\r\n                return attrs || (attrs = createAttrsProxy(instance));\r\n            },\r\n            slots: instance.slots,\r\n            emit: instance.emit,\r\n            expose\r\n        };\r\n    }\r\n}\r\nfunction getExposeProxy(instance) {\r\n    if (instance.exposed) {\r\n        return (instance.exposeProxy ||\r\n            (instance.exposeProxy = new Proxy(proxyRefs(markRaw(instance.exposed)), {\r\n                get(target, key) {\r\n                    if (key in target) {\r\n                        return target[key];\r\n                    }\r\n                    else if (key in publicPropertiesMap) {\r\n                        return publicPropertiesMap[key](instance);\r\n                    }\r\n                }\r\n            })));\r\n    }\r\n}\r\nconst classifyRE = /(?:^|[-_])(\\w)/g;\r\nconst classify = (str) => str.replace(classifyRE, c => c.toUpperCase()).replace(/[-_]/g, '');\r\nfunction getComponentName(Component, includeInferred = true) {\r\n    return isFunction(Component)\r\n        ? Component.displayName || Component.name\r\n        : Component.name || (includeInferred && Component.__name);\r\n}\r\n/* istanbul ignore next */\r\nfunction formatComponentName(instance, Component, isRoot = false) {\r\n    let name = getComponentName(Component);\r\n    if (!name && Component.__file) {\r\n        const match = Component.__file.match(/([^/\\\\]+)\\.\\w+$/);\r\n        if (match) {\r\n            name = match[1];\r\n        }\r\n    }\r\n    if (!name && instance && instance.parent) {\r\n        // try to infer the name based on reverse resolution\r\n        const inferFromRegistry = (registry) => {\r\n            for (const key in registry) {\r\n                if (registry[key] === Component) {\r\n                    return key;\r\n                }\r\n            }\r\n        };\r\n        name =\r\n            inferFromRegistry(instance.components ||\r\n                instance.parent.type.components) || inferFromRegistry(instance.appContext.components);\r\n    }\r\n    return name ? classify(name) : isRoot ? `App` : `Anonymous`;\r\n}\r\nfunction isClassComponent(value) {\r\n    return isFunction(value) && '__vccOpts' in value;\r\n}\n\nconst computed = ((getterOrOptions, debugOptions) => {\r\n    // @ts-ignore\r\n    return computed$1(getterOrOptions, debugOptions, isInSSRComponentSetup);\r\n});\n\n// dev only\r\nconst warnRuntimeUsage = (method) => warn(`${method}() is a compiler-hint helper that is only usable inside ` +\r\n    `<script setup> of a single file component. Its arguments should be ` +\r\n    `compiled away and passing it at runtime has no effect.`);\r\n// implementation\r\nfunction defineProps() {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        warnRuntimeUsage(`defineProps`);\r\n    }\r\n    return null;\r\n}\r\n// implementation\r\nfunction defineEmits() {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        warnRuntimeUsage(`defineEmits`);\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Vue `<script setup>` compiler macro for declaring a component's exposed\r\n * instance properties when it is accessed by a parent component via template\r\n * refs.\r\n *\r\n * `<script setup>` components are closed by default - i.e. variables inside\r\n * the `<script setup>` scope is not exposed to parent unless explicitly exposed\r\n * via `defineExpose`.\r\n *\r\n * This is only usable inside `<script setup>`, is compiled away in the\r\n * output and should **not** be actually called at runtime.\r\n */\r\nfunction defineExpose(exposed) {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        warnRuntimeUsage(`defineExpose`);\r\n    }\r\n}\r\n/**\r\n * Vue `<script setup>` compiler macro for providing props default values when\r\n * using type-based `defineProps` declaration.\r\n *\r\n * Example usage:\r\n * ```ts\r\n * withDefaults(defineProps<{\r\n *   size?: number\r\n *   labels?: string[]\r\n * }>(), {\r\n *   size: 3,\r\n *   labels: () => ['default label']\r\n * })\r\n * ```\r\n *\r\n * This is only usable inside `<script setup>`, is compiled away in the output\r\n * and should **not** be actually called at runtime.\r\n */\r\nfunction withDefaults(props, defaults) {\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        warnRuntimeUsage(`withDefaults`);\r\n    }\r\n    return null;\r\n}\r\nfunction useSlots() {\r\n    return getContext().slots;\r\n}\r\nfunction useAttrs() {\r\n    return getContext().attrs;\r\n}\r\nfunction getContext() {\r\n    const i = getCurrentInstance();\r\n    if ((process.env.NODE_ENV !== 'production') && !i) {\r\n        warn(`useContext() called without active instance.`);\r\n    }\r\n    return i.setupContext || (i.setupContext = createSetupContext(i));\r\n}\r\n/**\r\n * Runtime helper for merging default declarations. Imported by compiled code\r\n * only.\r\n * @internal\r\n */\r\nfunction mergeDefaults(raw, defaults) {\r\n    const props = isArray(raw)\r\n        ? raw.reduce((normalized, p) => ((normalized[p] = {}), normalized), {})\r\n        : raw;\r\n    for (const key in defaults) {\r\n        const opt = props[key];\r\n        if (opt) {\r\n            if (isArray(opt) || isFunction(opt)) {\r\n                props[key] = { type: opt, default: defaults[key] };\r\n            }\r\n            else {\r\n                opt.default = defaults[key];\r\n            }\r\n        }\r\n        else if (opt === null) {\r\n            props[key] = { default: defaults[key] };\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`props default key \"${key}\" has no corresponding declaration.`);\r\n        }\r\n    }\r\n    return props;\r\n}\r\n/**\r\n * Used to create a proxy for the rest element when destructuring props with\r\n * defineProps().\r\n * @internal\r\n */\r\nfunction createPropsRestProxy(props, excludedKeys) {\r\n    const ret = {};\r\n    for (const key in props) {\r\n        if (!excludedKeys.includes(key)) {\r\n            Object.defineProperty(ret, key, {\r\n                enumerable: true,\r\n                get: () => props[key]\r\n            });\r\n        }\r\n    }\r\n    return ret;\r\n}\r\n/**\r\n * `<script setup>` helper for persisting the current instance context over\r\n * async/await flows.\r\n *\r\n * `@vue/compiler-sfc` converts the following:\r\n *\r\n * ```ts\r\n * const x = await foo()\r\n * ```\r\n *\r\n * into:\r\n *\r\n * ```ts\r\n * let __temp, __restore\r\n * const x = (([__temp, __restore] = withAsyncContext(() => foo())),__temp=await __temp,__restore(),__temp)\r\n * ```\r\n * @internal\r\n */\r\nfunction withAsyncContext(getAwaitable) {\r\n    const ctx = getCurrentInstance();\r\n    if ((process.env.NODE_ENV !== 'production') && !ctx) {\r\n        warn(`withAsyncContext called without active current instance. ` +\r\n            `This is likely a bug.`);\r\n    }\r\n    let awaitable = getAwaitable();\r\n    unsetCurrentInstance();\r\n    if (isPromise(awaitable)) {\r\n        awaitable = awaitable.catch(e => {\r\n            setCurrentInstance(ctx);\r\n            throw e;\r\n        });\r\n    }\r\n    return [awaitable, () => setCurrentInstance(ctx)];\r\n}\n\n// Actual implementation\r\nfunction h(type, propsOrChildren, children) {\r\n    const l = arguments.length;\r\n    if (l === 2) {\r\n        if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\r\n            // single vnode without props\r\n            if (isVNode(propsOrChildren)) {\r\n                return createVNode(type, null, [propsOrChildren]);\r\n            }\r\n            // props without children\r\n            return createVNode(type, propsOrChildren);\r\n        }\r\n        else {\r\n            // omit props\r\n            return createVNode(type, null, propsOrChildren);\r\n        }\r\n    }\r\n    else {\r\n        if (l > 3) {\r\n            children = Array.prototype.slice.call(arguments, 2);\r\n        }\r\n        else if (l === 3 && isVNode(children)) {\r\n            children = [children];\r\n        }\r\n        return createVNode(type, propsOrChildren, children);\r\n    }\r\n}\n\nconst ssrContextKey = Symbol((process.env.NODE_ENV !== 'production') ? `ssrContext` : ``);\r\nconst useSSRContext = () => {\r\n    {\r\n        const ctx = inject(ssrContextKey);\r\n        if (!ctx) {\r\n            warn(`Server rendering context not provided. Make sure to only call ` +\r\n                `useSSRContext() conditionally in the server build.`);\r\n        }\r\n        return ctx;\r\n    }\r\n};\n\nfunction isShallow(value) {\r\n    return !!(value && value[\"__v_isShallow\" /* ReactiveFlags.IS_SHALLOW */]);\r\n}\n\nfunction initCustomFormatter() {\r\n    /* eslint-disable no-restricted-globals */\r\n    if (!(process.env.NODE_ENV !== 'production') || typeof window === 'undefined') {\r\n        return;\r\n    }\r\n    const vueStyle = { style: 'color:#3ba776' };\r\n    const numberStyle = { style: 'color:#0b1bc9' };\r\n    const stringStyle = { style: 'color:#b62e24' };\r\n    const keywordStyle = { style: 'color:#9d288c' };\r\n    // custom formatter for Chrome\r\n    // https://www.mattzeunert.com/2016/02/19/custom-chrome-devtools-object-formatters.html\r\n    const formatter = {\r\n        header(obj) {\r\n            // TODO also format ComponentPublicInstance & ctx.slots/attrs in setup\r\n            if (!isObject(obj)) {\r\n                return null;\r\n            }\r\n            if (obj.__isVue) {\r\n                return ['div', vueStyle, `VueInstance`];\r\n            }\r\n            else if (isRef(obj)) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ['span', vueStyle, genRefFlag(obj)],\r\n                    '<',\r\n                    formatValue(obj.value),\r\n                    `>`\r\n                ];\r\n            }\r\n            else if (isReactive(obj)) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ['span', vueStyle, isShallow(obj) ? 'ShallowReactive' : 'Reactive'],\r\n                    '<',\r\n                    formatValue(obj),\r\n                    `>${isReadonly(obj) ? ` (readonly)` : ``}`\r\n                ];\r\n            }\r\n            else if (isReadonly(obj)) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ['span', vueStyle, isShallow(obj) ? 'ShallowReadonly' : 'Readonly'],\r\n                    '<',\r\n                    formatValue(obj),\r\n                    '>'\r\n                ];\r\n            }\r\n            return null;\r\n        },\r\n        hasBody(obj) {\r\n            return obj && obj.__isVue;\r\n        },\r\n        body(obj) {\r\n            if (obj && obj.__isVue) {\r\n                return [\r\n                    'div',\r\n                    {},\r\n                    ...formatInstance(obj.$)\r\n                ];\r\n            }\r\n        }\r\n    };\r\n    function formatInstance(instance) {\r\n        const blocks = [];\r\n        if (instance.type.props && instance.props) {\r\n            blocks.push(createInstanceBlock('props', toRaw(instance.props)));\r\n        }\r\n        if (instance.setupState !== EMPTY_OBJ) {\r\n            blocks.push(createInstanceBlock('setup', instance.setupState));\r\n        }\r\n        if (instance.data !== EMPTY_OBJ) {\r\n            blocks.push(createInstanceBlock('data', toRaw(instance.data)));\r\n        }\r\n        const computed = extractKeys(instance, 'computed');\r\n        if (computed) {\r\n            blocks.push(createInstanceBlock('computed', computed));\r\n        }\r\n        const injected = extractKeys(instance, 'inject');\r\n        if (injected) {\r\n            blocks.push(createInstanceBlock('injected', injected));\r\n        }\r\n        blocks.push([\r\n            'div',\r\n            {},\r\n            [\r\n                'span',\r\n                {\r\n                    style: keywordStyle.style + ';opacity:0.66'\r\n                },\r\n                '$ (internal): '\r\n            ],\r\n            ['object', { object: instance }]\r\n        ]);\r\n        return blocks;\r\n    }\r\n    function createInstanceBlock(type, target) {\r\n        target = extend({}, target);\r\n        if (!Object.keys(target).length) {\r\n            return ['span', {}];\r\n        }\r\n        return [\r\n            'div',\r\n            { style: 'line-height:1.25em;margin-bottom:0.6em' },\r\n            [\r\n                'div',\r\n                {\r\n                    style: 'color:#476582'\r\n                },\r\n                type\r\n            ],\r\n            [\r\n                'div',\r\n                {\r\n                    style: 'padding-left:1.25em'\r\n                },\r\n                ...Object.keys(target).map(key => {\r\n                    return [\r\n                        'div',\r\n                        {},\r\n                        ['span', keywordStyle, key + ': '],\r\n                        formatValue(target[key], false)\r\n                    ];\r\n                })\r\n            ]\r\n        ];\r\n    }\r\n    function formatValue(v, asRaw = true) {\r\n        if (typeof v === 'number') {\r\n            return ['span', numberStyle, v];\r\n        }\r\n        else if (typeof v === 'string') {\r\n            return ['span', stringStyle, JSON.stringify(v)];\r\n        }\r\n        else if (typeof v === 'boolean') {\r\n            return ['span', keywordStyle, v];\r\n        }\r\n        else if (isObject(v)) {\r\n            return ['object', { object: asRaw ? toRaw(v) : v }];\r\n        }\r\n        else {\r\n            return ['span', stringStyle, String(v)];\r\n        }\r\n    }\r\n    function extractKeys(instance, type) {\r\n        const Comp = instance.type;\r\n        if (isFunction(Comp)) {\r\n            return;\r\n        }\r\n        const extracted = {};\r\n        for (const key in instance.ctx) {\r\n            if (isKeyOfType(Comp, key, type)) {\r\n                extracted[key] = instance.ctx[key];\r\n            }\r\n        }\r\n        return extracted;\r\n    }\r\n    function isKeyOfType(Comp, key, type) {\r\n        const opts = Comp[type];\r\n        if ((isArray(opts) && opts.includes(key)) ||\r\n            (isObject(opts) && key in opts)) {\r\n            return true;\r\n        }\r\n        if (Comp.extends && isKeyOfType(Comp.extends, key, type)) {\r\n            return true;\r\n        }\r\n        if (Comp.mixins && Comp.mixins.some(m => isKeyOfType(m, key, type))) {\r\n            return true;\r\n        }\r\n    }\r\n    function genRefFlag(v) {\r\n        if (isShallow(v)) {\r\n            return `ShallowRef`;\r\n        }\r\n        if (v.effect) {\r\n            return `ComputedRef`;\r\n        }\r\n        return `Ref`;\r\n    }\r\n    if (window.devtoolsFormatters) {\r\n        window.devtoolsFormatters.push(formatter);\r\n    }\r\n    else {\r\n        window.devtoolsFormatters = [formatter];\r\n    }\r\n}\n\nfunction withMemo(memo, render, cache, index) {\r\n    const cached = cache[index];\r\n    if (cached && isMemoSame(cached, memo)) {\r\n        return cached;\r\n    }\r\n    const ret = render();\r\n    // shallow clone\r\n    ret.memo = memo.slice();\r\n    return (cache[index] = ret);\r\n}\r\nfunction isMemoSame(cached, memo) {\r\n    const prev = cached.memo;\r\n    if (prev.length != memo.length) {\r\n        return false;\r\n    }\r\n    for (let i = 0; i < prev.length; i++) {\r\n        if (hasChanged(prev[i], memo[i])) {\r\n            return false;\r\n        }\r\n    }\r\n    // make sure to let parent block track it when returning cached\r\n    if (isBlockTreeEnabled > 0 && currentBlock) {\r\n        currentBlock.push(cached);\r\n    }\r\n    return true;\r\n}\n\n// Core API ------------------------------------------------------------------\r\nconst version = \"3.2.39\";\r\nconst _ssrUtils = {\r\n    createComponentInstance,\r\n    setupComponent,\r\n    renderComponentRoot,\r\n    setCurrentRenderingInstance,\r\n    isVNode,\r\n    normalizeVNode\r\n};\r\n/**\r\n * SSR utils for \\@vue/server-renderer. Only exposed in ssr-possible builds.\r\n * @internal\r\n */\r\nconst ssrUtils = (_ssrUtils );\r\n/**\r\n * @internal only exposed in compat builds\r\n */\r\nconst resolveFilter = null;\r\n/**\r\n * @internal only exposed in compat builds.\r\n */\r\nconst compatUtils = (null);\n\nexport { BaseTransition, Comment, Fragment, KeepAlive, Static, Suspense, Teleport, Text, callWithAsyncErrorHandling, callWithErrorHandling, cloneVNode, compatUtils, computed, createBlock, createCommentVNode, createElementBlock, createBaseVNode as createElementVNode, createHydrationRenderer, createPropsRestProxy, createRenderer, createSlots, createStaticVNode, createTextVNode, createVNode, defineAsyncComponent, defineComponent, defineEmits, defineExpose, defineProps, devtools, getCurrentInstance, getTransitionRawChildren, guardReactiveProps, h, handleError, initCustomFormatter, inject, isMemoSame, isRuntimeOnly, isVNode, mergeDefaults, mergeProps, nextTick, onActivated, onBeforeMount, onBeforeUnmount, onBeforeUpdate, onDeactivated, onErrorCaptured, onMounted, onRenderTracked, onRenderTriggered, onServerPrefetch, onUnmounted, onUpdated, openBlock, popScopeId, provide, pushScopeId, queuePostFlushCb, registerRuntimeCompiler, renderList, renderSlot, resolveComponent, resolveDirective, resolveDynamicComponent, resolveFilter, resolveTransitionHooks, setBlockTracking, setDevtoolsHook, setTransitionHooks, ssrContextKey, ssrUtils, toHandlers, transformVNodeArgs, useAttrs, useSSRContext, useSlots, useTransitionState, version, warn, watch, watchEffect, watchPostEffect, watchSyncEffect, withAsyncContext, withCtx, withDefaults, withDirectives, withMemo, withScopeId };\n","import { camelize, warn, callWithAsyncErrorHandling, defineComponent, nextTick, createVNode, getCurrentInstance, watchPostEffect, onMounted, onUnmounted, Fragment, Static, h, BaseTransition, useTransitionState, onUpdated, toRaw, getTransitionRawChildren, setTransitionHooks, resolveTransitionHooks, createRenderer, isRuntimeOnly, createHydrationRenderer } from '@vue/runtime-core';\nexport * from '@vue/runtime-core';\nimport { isString, isArray, hyphenate, capitalize, isSpecialBooleanAttr, includeBooleanAttr, isOn, isModelListener, isFunction, toNumber, camelize as camelize$1, extend, EMPTY_OBJ, isObject, invokeArrayFns, looseIndexOf, isSet, looseEqual, isHTMLTag, isSVGTag } from '@vue/shared';\n\nconst svgNS = 'http://www.w3.org/2000/svg';\r\nconst doc = (typeof document !== 'undefined' ? document : null);\r\nconst templateContainer = doc && /*#__PURE__*/ doc.createElement('template');\r\nconst nodeOps = {\r\n    insert: (child, parent, anchor) => {\r\n        parent.insertBefore(child, anchor || null);\r\n    },\r\n    remove: child => {\r\n        const parent = child.parentNode;\r\n        if (parent) {\r\n            parent.removeChild(child);\r\n        }\r\n    },\r\n    createElement: (tag, isSVG, is, props) => {\r\n        const el = isSVG\r\n            ? doc.createElementNS(svgNS, tag)\r\n            : doc.createElement(tag, is ? { is } : undefined);\r\n        if (tag === 'select' && props && props.multiple != null) {\r\n            el.setAttribute('multiple', props.multiple);\r\n        }\r\n        return el;\r\n    },\r\n    createText: text => doc.createTextNode(text),\r\n    createComment: text => doc.createComment(text),\r\n    setText: (node, text) => {\r\n        node.nodeValue = text;\r\n    },\r\n    setElementText: (el, text) => {\r\n        el.textContent = text;\r\n    },\r\n    parentNode: node => node.parentNode,\r\n    nextSibling: node => node.nextSibling,\r\n    querySelector: selector => doc.querySelector(selector),\r\n    setScopeId(el, id) {\r\n        el.setAttribute(id, '');\r\n    },\r\n    cloneNode(el) {\r\n        const cloned = el.cloneNode(true);\r\n        // #3072\r\n        // - in `patchDOMProp`, we store the actual value in the `el._value` property.\r\n        // - normally, elements using `:value` bindings will not be hoisted, but if\r\n        //   the bound value is a constant, e.g. `:value=\"true\"` - they do get\r\n        //   hoisted.\r\n        // - in production, hoisted nodes are cloned when subsequent inserts, but\r\n        //   cloneNode() does not copy the custom property we attached.\r\n        // - This may need to account for other custom DOM properties we attach to\r\n        //   elements in addition to `_value` in the future.\r\n        if (`_value` in el) {\r\n            cloned._value = el._value;\r\n        }\r\n        return cloned;\r\n    },\r\n    // __UNSAFE__\r\n    // Reason: innerHTML.\r\n    // Static content here can only come from compiled templates.\r\n    // As long as the user only uses trusted templates, this is safe.\r\n    insertStaticContent(content, parent, anchor, isSVG, start, end) {\r\n        // <parent> before | first ... last | anchor </parent>\r\n        const before = anchor ? anchor.previousSibling : parent.lastChild;\r\n        // #5308 can only take cached path if:\r\n        // - has a single root node\r\n        // - nextSibling info is still available\r\n        if (start && (start === end || start.nextSibling)) {\r\n            // cached\r\n            while (true) {\r\n                parent.insertBefore(start.cloneNode(true), anchor);\r\n                if (start === end || !(start = start.nextSibling))\r\n                    break;\r\n            }\r\n        }\r\n        else {\r\n            // fresh insert\r\n            templateContainer.innerHTML = isSVG ? `<svg>${content}</svg>` : content;\r\n            const template = templateContainer.content;\r\n            if (isSVG) {\r\n                // remove outer svg wrapper\r\n                const wrapper = template.firstChild;\r\n                while (wrapper.firstChild) {\r\n                    template.appendChild(wrapper.firstChild);\r\n                }\r\n                template.removeChild(wrapper);\r\n            }\r\n            parent.insertBefore(template, anchor);\r\n        }\r\n        return [\r\n            // first\r\n            before ? before.nextSibling : parent.firstChild,\r\n            // last\r\n            anchor ? anchor.previousSibling : parent.lastChild\r\n        ];\r\n    }\r\n};\n\n// compiler should normalize class + :class bindings on the same element\r\n// into a single binding ['staticClass', dynamic]\r\nfunction patchClass(el, value, isSVG) {\r\n    // directly setting className should be faster than setAttribute in theory\r\n    // if this is an element during a transition, take the temporary transition\r\n    // classes into account.\r\n    const transitionClasses = el._vtc;\r\n    if (transitionClasses) {\r\n        value = (value ? [value, ...transitionClasses] : [...transitionClasses]).join(' ');\r\n    }\r\n    if (value == null) {\r\n        el.removeAttribute('class');\r\n    }\r\n    else if (isSVG) {\r\n        el.setAttribute('class', value);\r\n    }\r\n    else {\r\n        el.className = value;\r\n    }\r\n}\n\nfunction patchStyle(el, prev, next) {\r\n    const style = el.style;\r\n    const isCssString = isString(next);\r\n    if (next && !isCssString) {\r\n        for (const key in next) {\r\n            setStyle(style, key, next[key]);\r\n        }\r\n        if (prev && !isString(prev)) {\r\n            for (const key in prev) {\r\n                if (next[key] == null) {\r\n                    setStyle(style, key, '');\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        const currentDisplay = style.display;\r\n        if (isCssString) {\r\n            if (prev !== next) {\r\n                style.cssText = next;\r\n            }\r\n        }\r\n        else if (prev) {\r\n            el.removeAttribute('style');\r\n        }\r\n        // indicates that the `display` of the element is controlled by `v-show`,\r\n        // so we always keep the current `display` value regardless of the `style`\r\n        // value, thus handing over control to `v-show`.\r\n        if ('_vod' in el) {\r\n            style.display = currentDisplay;\r\n        }\r\n    }\r\n}\r\nconst importantRE = /\\s*!important$/;\r\nfunction setStyle(style, name, val) {\r\n    if (isArray(val)) {\r\n        val.forEach(v => setStyle(style, name, v));\r\n    }\r\n    else {\r\n        if (val == null)\r\n            val = '';\r\n        if (name.startsWith('--')) {\r\n            // custom property definition\r\n            style.setProperty(name, val);\r\n        }\r\n        else {\r\n            const prefixed = autoPrefix(style, name);\r\n            if (importantRE.test(val)) {\r\n                // !important\r\n                style.setProperty(hyphenate(prefixed), val.replace(importantRE, ''), 'important');\r\n            }\r\n            else {\r\n                style[prefixed] = val;\r\n            }\r\n        }\r\n    }\r\n}\r\nconst prefixes = ['Webkit', 'Moz', 'ms'];\r\nconst prefixCache = {};\r\nfunction autoPrefix(style, rawName) {\r\n    const cached = prefixCache[rawName];\r\n    if (cached) {\r\n        return cached;\r\n    }\r\n    let name = camelize(rawName);\r\n    if (name !== 'filter' && name in style) {\r\n        return (prefixCache[rawName] = name);\r\n    }\r\n    name = capitalize(name);\r\n    for (let i = 0; i < prefixes.length; i++) {\r\n        const prefixed = prefixes[i] + name;\r\n        if (prefixed in style) {\r\n            return (prefixCache[rawName] = prefixed);\r\n        }\r\n    }\r\n    return rawName;\r\n}\n\nconst xlinkNS = 'http://www.w3.org/1999/xlink';\r\nfunction patchAttr(el, key, value, isSVG, instance) {\r\n    if (isSVG && key.startsWith('xlink:')) {\r\n        if (value == null) {\r\n            el.removeAttributeNS(xlinkNS, key.slice(6, key.length));\r\n        }\r\n        else {\r\n            el.setAttributeNS(xlinkNS, key, value);\r\n        }\r\n    }\r\n    else {\r\n        // note we are only checking boolean attributes that don't have a\r\n        // corresponding dom prop of the same name here.\r\n        const isBoolean = isSpecialBooleanAttr(key);\r\n        if (value == null || (isBoolean && !includeBooleanAttr(value))) {\r\n            el.removeAttribute(key);\r\n        }\r\n        else {\r\n            el.setAttribute(key, isBoolean ? '' : value);\r\n        }\r\n    }\r\n}\n\n// __UNSAFE__\r\n// functions. The user is responsible for using them with only trusted content.\r\nfunction patchDOMProp(el, key, value, \r\n// the following args are passed only due to potential innerHTML/textContent\r\n// overriding existing VNodes, in which case the old tree must be properly\r\n// unmounted.\r\nprevChildren, parentComponent, parentSuspense, unmountChildren) {\r\n    if (key === 'innerHTML' || key === 'textContent') {\r\n        if (prevChildren) {\r\n            unmountChildren(prevChildren, parentComponent, parentSuspense);\r\n        }\r\n        el[key] = value == null ? '' : value;\r\n        return;\r\n    }\r\n    if (key === 'value' &&\r\n        el.tagName !== 'PROGRESS' &&\r\n        // custom elements may use _value internally\r\n        !el.tagName.includes('-')) {\r\n        // store value as _value as well since\r\n        // non-string values will be stringified.\r\n        el._value = value;\r\n        const newValue = value == null ? '' : value;\r\n        if (el.value !== newValue ||\r\n            // #4956: always set for OPTION elements because its value falls back to\r\n            // textContent if no value attribute is present. And setting .value for\r\n            // OPTION has no side effect\r\n            el.tagName === 'OPTION') {\r\n            el.value = newValue;\r\n        }\r\n        if (value == null) {\r\n            el.removeAttribute(key);\r\n        }\r\n        return;\r\n    }\r\n    let needRemove = false;\r\n    if (value === '' || value == null) {\r\n        const type = typeof el[key];\r\n        if (type === 'boolean') {\r\n            // e.g. <select multiple> compiles to { multiple: '' }\r\n            value = includeBooleanAttr(value);\r\n        }\r\n        else if (value == null && type === 'string') {\r\n            // e.g. <div :id=\"null\">\r\n            value = '';\r\n            needRemove = true;\r\n        }\r\n        else if (type === 'number') {\r\n            // e.g. <img :width=\"null\">\r\n            // the value of some IDL attr must be greater than 0, e.g. input.size = 0 -> error\r\n            value = 0;\r\n            needRemove = true;\r\n        }\r\n    }\r\n    // some properties perform value validation and throw,\r\n    // some properties has getter, no setter, will error in 'use strict'\r\n    // eg. <select :type=\"null\"></select> <select :willValidate=\"null\"></select>\r\n    try {\r\n        el[key] = value;\r\n    }\r\n    catch (e) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`Failed setting prop \"${key}\" on <${el.tagName.toLowerCase()}>: ` +\r\n                `value ${value} is invalid.`, e);\r\n        }\r\n    }\r\n    needRemove && el.removeAttribute(key);\r\n}\n\n// Async edge case fix requires storing an event listener's attach timestamp.\r\nconst [_getNow, skipTimestampCheck] = /*#__PURE__*/ (() => {\r\n    let _getNow = Date.now;\r\n    let skipTimestampCheck = false;\r\n    if (typeof window !== 'undefined') {\r\n        // Determine what event timestamp the browser is using. Annoyingly, the\r\n        // timestamp can either be hi-res (relative to page load) or low-res\r\n        // (relative to UNIX epoch), so in order to compare time we have to use the\r\n        // same timestamp type when saving the flush timestamp.\r\n        if (Date.now() > document.createEvent('Event').timeStamp) {\r\n            // if the low-res timestamp which is bigger than the event timestamp\r\n            // (which is evaluated AFTER) it means the event is using a hi-res timestamp,\r\n            // and we need to use the hi-res version for event listeners as well.\r\n            _getNow = performance.now.bind(performance);\r\n        }\r\n        // #3485: Firefox <= 53 has incorrect Event.timeStamp implementation\r\n        // and does not fire microtasks in between event propagation, so safe to exclude.\r\n        const ffMatch = navigator.userAgent.match(/firefox\\/(\\d+)/i);\r\n        skipTimestampCheck = !!(ffMatch && Number(ffMatch[1]) <= 53);\r\n    }\r\n    return [_getNow, skipTimestampCheck];\r\n})();\r\n// To avoid the overhead of repeatedly calling performance.now(), we cache\r\n// and use the same timestamp for all event listeners attached in the same tick.\r\nlet cachedNow = 0;\r\nconst p = /*#__PURE__*/ Promise.resolve();\r\nconst reset = () => {\r\n    cachedNow = 0;\r\n};\r\nconst getNow = () => cachedNow || (p.then(reset), (cachedNow = _getNow()));\r\nfunction addEventListener(el, event, handler, options) {\r\n    el.addEventListener(event, handler, options);\r\n}\r\nfunction removeEventListener(el, event, handler, options) {\r\n    el.removeEventListener(event, handler, options);\r\n}\r\nfunction patchEvent(el, rawName, prevValue, nextValue, instance = null) {\r\n    // vei = vue event invokers\r\n    const invokers = el._vei || (el._vei = {});\r\n    const existingInvoker = invokers[rawName];\r\n    if (nextValue && existingInvoker) {\r\n        // patch\r\n        existingInvoker.value = nextValue;\r\n    }\r\n    else {\r\n        const [name, options] = parseName(rawName);\r\n        if (nextValue) {\r\n            // add\r\n            const invoker = (invokers[rawName] = createInvoker(nextValue, instance));\r\n            addEventListener(el, name, invoker, options);\r\n        }\r\n        else if (existingInvoker) {\r\n            // remove\r\n            removeEventListener(el, name, existingInvoker, options);\r\n            invokers[rawName] = undefined;\r\n        }\r\n    }\r\n}\r\nconst optionsModifierRE = /(?:Once|Passive|Capture)$/;\r\nfunction parseName(name) {\r\n    let options;\r\n    if (optionsModifierRE.test(name)) {\r\n        options = {};\r\n        let m;\r\n        while ((m = name.match(optionsModifierRE))) {\r\n            name = name.slice(0, name.length - m[0].length);\r\n            options[m[0].toLowerCase()] = true;\r\n        }\r\n    }\r\n    const event = name[2] === ':' ? name.slice(3) : hyphenate(name.slice(2));\r\n    return [event, options];\r\n}\r\nfunction createInvoker(initialValue, instance) {\r\n    const invoker = (e) => {\r\n        // async edge case #6566: inner click event triggers patch, event handler\r\n        // attached to outer element during patch, and triggered again. This\r\n        // happens because browsers fire microtask ticks between event propagation.\r\n        // the solution is simple: we save the timestamp when a handler is attached,\r\n        // and the handler would only fire if the event passed to it was fired\r\n        // AFTER it was attached.\r\n        const timeStamp = e.timeStamp || _getNow();\r\n        if (skipTimestampCheck || timeStamp >= invoker.attached - 1) {\r\n            callWithAsyncErrorHandling(patchStopImmediatePropagation(e, invoker.value), instance, 5 /* ErrorCodes.NATIVE_EVENT_HANDLER */, [e]);\r\n        }\r\n    };\r\n    invoker.value = initialValue;\r\n    invoker.attached = getNow();\r\n    return invoker;\r\n}\r\nfunction patchStopImmediatePropagation(e, value) {\r\n    if (isArray(value)) {\r\n        const originalStop = e.stopImmediatePropagation;\r\n        e.stopImmediatePropagation = () => {\r\n            originalStop.call(e);\r\n            e._stopped = true;\r\n        };\r\n        return value.map(fn => (e) => !e._stopped && fn && fn(e));\r\n    }\r\n    else {\r\n        return value;\r\n    }\r\n}\n\nconst nativeOnRE = /^on[a-z]/;\r\nconst patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {\r\n    if (key === 'class') {\r\n        patchClass(el, nextValue, isSVG);\r\n    }\r\n    else if (key === 'style') {\r\n        patchStyle(el, prevValue, nextValue);\r\n    }\r\n    else if (isOn(key)) {\r\n        // ignore v-model listeners\r\n        if (!isModelListener(key)) {\r\n            patchEvent(el, key, prevValue, nextValue, parentComponent);\r\n        }\r\n    }\r\n    else if (key[0] === '.'\r\n        ? ((key = key.slice(1)), true)\r\n        : key[0] === '^'\r\n            ? ((key = key.slice(1)), false)\r\n            : shouldSetAsProp(el, key, nextValue, isSVG)) {\r\n        patchDOMProp(el, key, nextValue, prevChildren, parentComponent, parentSuspense, unmountChildren);\r\n    }\r\n    else {\r\n        // special case for <input v-model type=\"checkbox\"> with\r\n        // :true-value & :false-value\r\n        // store value as dom properties since non-string values will be\r\n        // stringified.\r\n        if (key === 'true-value') {\r\n            el._trueValue = nextValue;\r\n        }\r\n        else if (key === 'false-value') {\r\n            el._falseValue = nextValue;\r\n        }\r\n        patchAttr(el, key, nextValue, isSVG);\r\n    }\r\n};\r\nfunction shouldSetAsProp(el, key, value, isSVG) {\r\n    if (isSVG) {\r\n        // most keys must be set as attribute on svg elements to work\r\n        // ...except innerHTML & textContent\r\n        if (key === 'innerHTML' || key === 'textContent') {\r\n            return true;\r\n        }\r\n        // or native onclick with function values\r\n        if (key in el && nativeOnRE.test(key) && isFunction(value)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    // these are enumerated attrs, however their corresponding DOM properties\r\n    // are actually booleans - this leads to setting it with a string \"false\"\r\n    // value leading it to be coerced to `true`, so we need to always treat\r\n    // them as attributes.\r\n    // Note that `contentEditable` doesn't have this problem: its DOM\r\n    // property is also enumerated string values.\r\n    if (key === 'spellcheck' || key === 'draggable' || key === 'translate') {\r\n        return false;\r\n    }\r\n    // #1787, #2840 form property on form elements is readonly and must be set as\r\n    // attribute.\r\n    if (key === 'form') {\r\n        return false;\r\n    }\r\n    // #1526 <input list> must be set as attribute\r\n    if (key === 'list' && el.tagName === 'INPUT') {\r\n        return false;\r\n    }\r\n    // #2766 <textarea type> must be set as attribute\r\n    if (key === 'type' && el.tagName === 'TEXTAREA') {\r\n        return false;\r\n    }\r\n    // native onclick with string value, must be set as attribute\r\n    if (nativeOnRE.test(key) && isString(value)) {\r\n        return false;\r\n    }\r\n    return key in el;\r\n}\n\nfunction defineCustomElement(options, hydrate) {\r\n    const Comp = defineComponent(options);\r\n    class VueCustomElement extends VueElement {\r\n        constructor(initialProps) {\r\n            super(Comp, initialProps, hydrate);\r\n        }\r\n    }\r\n    VueCustomElement.def = Comp;\r\n    return VueCustomElement;\r\n}\r\nconst defineSSRCustomElement = ((options) => {\r\n    // @ts-ignore\r\n    return defineCustomElement(options, hydrate);\r\n});\r\nconst BaseClass = (typeof HTMLElement !== 'undefined' ? HTMLElement : class {\r\n});\r\nclass VueElement extends BaseClass {\r\n    constructor(_def, _props = {}, hydrate) {\r\n        super();\r\n        this._def = _def;\r\n        this._props = _props;\r\n        /**\r\n         * @internal\r\n         */\r\n        this._instance = null;\r\n        this._connected = false;\r\n        this._resolved = false;\r\n        this._numberProps = null;\r\n        if (this.shadowRoot && hydrate) {\r\n            hydrate(this._createVNode(), this.shadowRoot);\r\n        }\r\n        else {\r\n            if ((process.env.NODE_ENV !== 'production') && this.shadowRoot) {\r\n                warn(`Custom element has pre-rendered declarative shadow root but is not ` +\r\n                    `defined as hydratable. Use \\`defineSSRCustomElement\\`.`);\r\n            }\r\n            this.attachShadow({ mode: 'open' });\r\n        }\r\n    }\r\n    connectedCallback() {\r\n        this._connected = true;\r\n        if (!this._instance) {\r\n            this._resolveDef();\r\n        }\r\n    }\r\n    disconnectedCallback() {\r\n        this._connected = false;\r\n        nextTick(() => {\r\n            if (!this._connected) {\r\n                render(null, this.shadowRoot);\r\n                this._instance = null;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * resolve inner component definition (handle possible async component)\r\n     */\r\n    _resolveDef() {\r\n        if (this._resolved) {\r\n            return;\r\n        }\r\n        this._resolved = true;\r\n        // set initial attrs\r\n        for (let i = 0; i < this.attributes.length; i++) {\r\n            this._setAttr(this.attributes[i].name);\r\n        }\r\n        // watch future attr changes\r\n        new MutationObserver(mutations => {\r\n            for (const m of mutations) {\r\n                this._setAttr(m.attributeName);\r\n            }\r\n        }).observe(this, { attributes: true });\r\n        const resolve = (def) => {\r\n            const { props, styles } = def;\r\n            const hasOptions = !isArray(props);\r\n            const rawKeys = props ? (hasOptions ? Object.keys(props) : props) : [];\r\n            // cast Number-type props set before resolve\r\n            let numberProps;\r\n            if (hasOptions) {\r\n                for (const key in this._props) {\r\n                    const opt = props[key];\r\n                    if (opt === Number || (opt && opt.type === Number)) {\r\n                        this._props[key] = toNumber(this._props[key]);\r\n                        (numberProps || (numberProps = Object.create(null)))[key] = true;\r\n                    }\r\n                }\r\n            }\r\n            this._numberProps = numberProps;\r\n            // check if there are props set pre-upgrade or connect\r\n            for (const key of Object.keys(this)) {\r\n                if (key[0] !== '_') {\r\n                    this._setProp(key, this[key], true, false);\r\n                }\r\n            }\r\n            // defining getter/setters on prototype\r\n            for (const key of rawKeys.map(camelize$1)) {\r\n                Object.defineProperty(this, key, {\r\n                    get() {\r\n                        return this._getProp(key);\r\n                    },\r\n                    set(val) {\r\n                        this._setProp(key, val);\r\n                    }\r\n                });\r\n            }\r\n            // apply CSS\r\n            this._applyStyles(styles);\r\n            // initial render\r\n            this._update();\r\n        };\r\n        const asyncDef = this._def.__asyncLoader;\r\n        if (asyncDef) {\r\n            asyncDef().then(resolve);\r\n        }\r\n        else {\r\n            resolve(this._def);\r\n        }\r\n    }\r\n    _setAttr(key) {\r\n        let value = this.getAttribute(key);\r\n        if (this._numberProps && this._numberProps[key]) {\r\n            value = toNumber(value);\r\n        }\r\n        this._setProp(camelize$1(key), value, false);\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    _getProp(key) {\r\n        return this._props[key];\r\n    }\r\n    /**\r\n     * @internal\r\n     */\r\n    _setProp(key, val, shouldReflect = true, shouldUpdate = true) {\r\n        if (val !== this._props[key]) {\r\n            this._props[key] = val;\r\n            if (shouldUpdate && this._instance) {\r\n                this._update();\r\n            }\r\n            // reflect\r\n            if (shouldReflect) {\r\n                if (val === true) {\r\n                    this.setAttribute(hyphenate(key), '');\r\n                }\r\n                else if (typeof val === 'string' || typeof val === 'number') {\r\n                    this.setAttribute(hyphenate(key), val + '');\r\n                }\r\n                else if (!val) {\r\n                    this.removeAttribute(hyphenate(key));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _update() {\r\n        render(this._createVNode(), this.shadowRoot);\r\n    }\r\n    _createVNode() {\r\n        const vnode = createVNode(this._def, extend({}, this._props));\r\n        if (!this._instance) {\r\n            vnode.ce = instance => {\r\n                this._instance = instance;\r\n                instance.isCE = true;\r\n                // HMR\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    instance.ceReload = newStyles => {\r\n                        // always reset styles\r\n                        if (this._styles) {\r\n                            this._styles.forEach(s => this.shadowRoot.removeChild(s));\r\n                            this._styles.length = 0;\r\n                        }\r\n                        this._applyStyles(newStyles);\r\n                        // if this is an async component, ceReload is called from the inner\r\n                        // component so no need to reload the async wrapper\r\n                        if (!this._def.__asyncLoader) {\r\n                            // reload\r\n                            this._instance = null;\r\n                            this._update();\r\n                        }\r\n                    };\r\n                }\r\n                // intercept emit\r\n                instance.emit = (event, ...args) => {\r\n                    this.dispatchEvent(new CustomEvent(event, {\r\n                        detail: args\r\n                    }));\r\n                };\r\n                // locate nearest Vue custom element parent for provide/inject\r\n                let parent = this;\r\n                while ((parent =\r\n                    parent && (parent.parentNode || parent.host))) {\r\n                    if (parent instanceof VueElement) {\r\n                        instance.parent = parent._instance;\r\n                        break;\r\n                    }\r\n                }\r\n            };\r\n        }\r\n        return vnode;\r\n    }\r\n    _applyStyles(styles) {\r\n        if (styles) {\r\n            styles.forEach(css => {\r\n                const s = document.createElement('style');\r\n                s.textContent = css;\r\n                this.shadowRoot.appendChild(s);\r\n                // record for HMR\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    (this._styles || (this._styles = [])).push(s);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\n\nfunction useCssModule(name = '$style') {\r\n    /* istanbul ignore else */\r\n    {\r\n        const instance = getCurrentInstance();\r\n        if (!instance) {\r\n            (process.env.NODE_ENV !== 'production') && warn(`useCssModule must be called inside setup()`);\r\n            return EMPTY_OBJ;\r\n        }\r\n        const modules = instance.type.__cssModules;\r\n        if (!modules) {\r\n            (process.env.NODE_ENV !== 'production') && warn(`Current instance does not have CSS modules injected.`);\r\n            return EMPTY_OBJ;\r\n        }\r\n        const mod = modules[name];\r\n        if (!mod) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Current instance does not have CSS module named \"${name}\".`);\r\n            return EMPTY_OBJ;\r\n        }\r\n        return mod;\r\n    }\r\n}\n\n/**\r\n * Runtime helper for SFC's CSS variable injection feature.\r\n * @private\r\n */\r\nfunction useCssVars(getter) {\r\n    const instance = getCurrentInstance();\r\n    /* istanbul ignore next */\r\n    if (!instance) {\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn(`useCssVars is called without current active component instance.`);\r\n        return;\r\n    }\r\n    const setVars = () => setVarsOnVNode(instance.subTree, getter(instance.proxy));\r\n    watchPostEffect(setVars);\r\n    onMounted(() => {\r\n        const ob = new MutationObserver(setVars);\r\n        ob.observe(instance.subTree.el.parentNode, { childList: true });\r\n        onUnmounted(() => ob.disconnect());\r\n    });\r\n}\r\nfunction setVarsOnVNode(vnode, vars) {\r\n    if (vnode.shapeFlag & 128 /* ShapeFlags.SUSPENSE */) {\r\n        const suspense = vnode.suspense;\r\n        vnode = suspense.activeBranch;\r\n        if (suspense.pendingBranch && !suspense.isHydrating) {\r\n            suspense.effects.push(() => {\r\n                setVarsOnVNode(suspense.activeBranch, vars);\r\n            });\r\n        }\r\n    }\r\n    // drill down HOCs until it's a non-component vnode\r\n    while (vnode.component) {\r\n        vnode = vnode.component.subTree;\r\n    }\r\n    if (vnode.shapeFlag & 1 /* ShapeFlags.ELEMENT */ && vnode.el) {\r\n        setVarsOnNode(vnode.el, vars);\r\n    }\r\n    else if (vnode.type === Fragment) {\r\n        vnode.children.forEach(c => setVarsOnVNode(c, vars));\r\n    }\r\n    else if (vnode.type === Static) {\r\n        let { el, anchor } = vnode;\r\n        while (el) {\r\n            setVarsOnNode(el, vars);\r\n            if (el === anchor)\r\n                break;\r\n            el = el.nextSibling;\r\n        }\r\n    }\r\n}\r\nfunction setVarsOnNode(el, vars) {\r\n    if (el.nodeType === 1) {\r\n        const style = el.style;\r\n        for (const key in vars) {\r\n            style.setProperty(`--${key}`, vars[key]);\r\n        }\r\n    }\r\n}\n\nconst TRANSITION = 'transition';\r\nconst ANIMATION = 'animation';\r\n// DOM Transition is a higher-order-component based on the platform-agnostic\r\n// base Transition component, with DOM-specific logic.\r\nconst Transition = (props, { slots }) => h(BaseTransition, resolveTransitionProps(props), slots);\r\nTransition.displayName = 'Transition';\r\nconst DOMTransitionPropsValidators = {\r\n    name: String,\r\n    type: String,\r\n    css: {\r\n        type: Boolean,\r\n        default: true\r\n    },\r\n    duration: [String, Number, Object],\r\n    enterFromClass: String,\r\n    enterActiveClass: String,\r\n    enterToClass: String,\r\n    appearFromClass: String,\r\n    appearActiveClass: String,\r\n    appearToClass: String,\r\n    leaveFromClass: String,\r\n    leaveActiveClass: String,\r\n    leaveToClass: String\r\n};\r\nconst TransitionPropsValidators = (Transition.props =\r\n    /*#__PURE__*/ extend({}, BaseTransition.props, DOMTransitionPropsValidators));\r\n/**\r\n * #3227 Incoming hooks may be merged into arrays when wrapping Transition\r\n * with custom HOCs.\r\n */\r\nconst callHook = (hook, args = []) => {\r\n    if (isArray(hook)) {\r\n        hook.forEach(h => h(...args));\r\n    }\r\n    else if (hook) {\r\n        hook(...args);\r\n    }\r\n};\r\n/**\r\n * Check if a hook expects a callback (2nd arg), which means the user\r\n * intends to explicitly control the end of the transition.\r\n */\r\nconst hasExplicitCallback = (hook) => {\r\n    return hook\r\n        ? isArray(hook)\r\n            ? hook.some(h => h.length > 1)\r\n            : hook.length > 1\r\n        : false;\r\n};\r\nfunction resolveTransitionProps(rawProps) {\r\n    const baseProps = {};\r\n    for (const key in rawProps) {\r\n        if (!(key in DOMTransitionPropsValidators)) {\r\n            baseProps[key] = rawProps[key];\r\n        }\r\n    }\r\n    if (rawProps.css === false) {\r\n        return baseProps;\r\n    }\r\n    const { name = 'v', type, duration, enterFromClass = `${name}-enter-from`, enterActiveClass = `${name}-enter-active`, enterToClass = `${name}-enter-to`, appearFromClass = enterFromClass, appearActiveClass = enterActiveClass, appearToClass = enterToClass, leaveFromClass = `${name}-leave-from`, leaveActiveClass = `${name}-leave-active`, leaveToClass = `${name}-leave-to` } = rawProps;\r\n    const durations = normalizeDuration(duration);\r\n    const enterDuration = durations && durations[0];\r\n    const leaveDuration = durations && durations[1];\r\n    const { onBeforeEnter, onEnter, onEnterCancelled, onLeave, onLeaveCancelled, onBeforeAppear = onBeforeEnter, onAppear = onEnter, onAppearCancelled = onEnterCancelled } = baseProps;\r\n    const finishEnter = (el, isAppear, done) => {\r\n        removeTransitionClass(el, isAppear ? appearToClass : enterToClass);\r\n        removeTransitionClass(el, isAppear ? appearActiveClass : enterActiveClass);\r\n        done && done();\r\n    };\r\n    const finishLeave = (el, done) => {\r\n        el._isLeaving = false;\r\n        removeTransitionClass(el, leaveFromClass);\r\n        removeTransitionClass(el, leaveToClass);\r\n        removeTransitionClass(el, leaveActiveClass);\r\n        done && done();\r\n    };\r\n    const makeEnterHook = (isAppear) => {\r\n        return (el, done) => {\r\n            const hook = isAppear ? onAppear : onEnter;\r\n            const resolve = () => finishEnter(el, isAppear, done);\r\n            callHook(hook, [el, resolve]);\r\n            nextFrame(() => {\r\n                removeTransitionClass(el, isAppear ? appearFromClass : enterFromClass);\r\n                addTransitionClass(el, isAppear ? appearToClass : enterToClass);\r\n                if (!hasExplicitCallback(hook)) {\r\n                    whenTransitionEnds(el, type, enterDuration, resolve);\r\n                }\r\n            });\r\n        };\r\n    };\r\n    return extend(baseProps, {\r\n        onBeforeEnter(el) {\r\n            callHook(onBeforeEnter, [el]);\r\n            addTransitionClass(el, enterFromClass);\r\n            addTransitionClass(el, enterActiveClass);\r\n        },\r\n        onBeforeAppear(el) {\r\n            callHook(onBeforeAppear, [el]);\r\n            addTransitionClass(el, appearFromClass);\r\n            addTransitionClass(el, appearActiveClass);\r\n        },\r\n        onEnter: makeEnterHook(false),\r\n        onAppear: makeEnterHook(true),\r\n        onLeave(el, done) {\r\n            el._isLeaving = true;\r\n            const resolve = () => finishLeave(el, done);\r\n            addTransitionClass(el, leaveFromClass);\r\n            // force reflow so *-leave-from classes immediately take effect (#2593)\r\n            forceReflow();\r\n            addTransitionClass(el, leaveActiveClass);\r\n            nextFrame(() => {\r\n                if (!el._isLeaving) {\r\n                    // cancelled\r\n                    return;\r\n                }\r\n                removeTransitionClass(el, leaveFromClass);\r\n                addTransitionClass(el, leaveToClass);\r\n                if (!hasExplicitCallback(onLeave)) {\r\n                    whenTransitionEnds(el, type, leaveDuration, resolve);\r\n                }\r\n            });\r\n            callHook(onLeave, [el, resolve]);\r\n        },\r\n        onEnterCancelled(el) {\r\n            finishEnter(el, false);\r\n            callHook(onEnterCancelled, [el]);\r\n        },\r\n        onAppearCancelled(el) {\r\n            finishEnter(el, true);\r\n            callHook(onAppearCancelled, [el]);\r\n        },\r\n        onLeaveCancelled(el) {\r\n            finishLeave(el);\r\n            callHook(onLeaveCancelled, [el]);\r\n        }\r\n    });\r\n}\r\nfunction normalizeDuration(duration) {\r\n    if (duration == null) {\r\n        return null;\r\n    }\r\n    else if (isObject(duration)) {\r\n        return [NumberOf(duration.enter), NumberOf(duration.leave)];\r\n    }\r\n    else {\r\n        const n = NumberOf(duration);\r\n        return [n, n];\r\n    }\r\n}\r\nfunction NumberOf(val) {\r\n    const res = toNumber(val);\r\n    if ((process.env.NODE_ENV !== 'production'))\r\n        validateDuration(res);\r\n    return res;\r\n}\r\nfunction validateDuration(val) {\r\n    if (typeof val !== 'number') {\r\n        warn(`<transition> explicit duration is not a valid number - ` +\r\n            `got ${JSON.stringify(val)}.`);\r\n    }\r\n    else if (isNaN(val)) {\r\n        warn(`<transition> explicit duration is NaN - ` +\r\n            'the duration expression might be incorrect.');\r\n    }\r\n}\r\nfunction addTransitionClass(el, cls) {\r\n    cls.split(/\\s+/).forEach(c => c && el.classList.add(c));\r\n    (el._vtc ||\r\n        (el._vtc = new Set())).add(cls);\r\n}\r\nfunction removeTransitionClass(el, cls) {\r\n    cls.split(/\\s+/).forEach(c => c && el.classList.remove(c));\r\n    const { _vtc } = el;\r\n    if (_vtc) {\r\n        _vtc.delete(cls);\r\n        if (!_vtc.size) {\r\n            el._vtc = undefined;\r\n        }\r\n    }\r\n}\r\nfunction nextFrame(cb) {\r\n    requestAnimationFrame(() => {\r\n        requestAnimationFrame(cb);\r\n    });\r\n}\r\nlet endId = 0;\r\nfunction whenTransitionEnds(el, expectedType, explicitTimeout, resolve) {\r\n    const id = (el._endId = ++endId);\r\n    const resolveIfNotStale = () => {\r\n        if (id === el._endId) {\r\n            resolve();\r\n        }\r\n    };\r\n    if (explicitTimeout) {\r\n        return setTimeout(resolveIfNotStale, explicitTimeout);\r\n    }\r\n    const { type, timeout, propCount } = getTransitionInfo(el, expectedType);\r\n    if (!type) {\r\n        return resolve();\r\n    }\r\n    const endEvent = type + 'end';\r\n    let ended = 0;\r\n    const end = () => {\r\n        el.removeEventListener(endEvent, onEnd);\r\n        resolveIfNotStale();\r\n    };\r\n    const onEnd = (e) => {\r\n        if (e.target === el && ++ended >= propCount) {\r\n            end();\r\n        }\r\n    };\r\n    setTimeout(() => {\r\n        if (ended < propCount) {\r\n            end();\r\n        }\r\n    }, timeout + 1);\r\n    el.addEventListener(endEvent, onEnd);\r\n}\r\nfunction getTransitionInfo(el, expectedType) {\r\n    const styles = window.getComputedStyle(el);\r\n    // JSDOM may return undefined for transition properties\r\n    const getStyleProperties = (key) => (styles[key] || '').split(', ');\r\n    const transitionDelays = getStyleProperties(TRANSITION + 'Delay');\r\n    const transitionDurations = getStyleProperties(TRANSITION + 'Duration');\r\n    const transitionTimeout = getTimeout(transitionDelays, transitionDurations);\r\n    const animationDelays = getStyleProperties(ANIMATION + 'Delay');\r\n    const animationDurations = getStyleProperties(ANIMATION + 'Duration');\r\n    const animationTimeout = getTimeout(animationDelays, animationDurations);\r\n    let type = null;\r\n    let timeout = 0;\r\n    let propCount = 0;\r\n    /* istanbul ignore if */\r\n    if (expectedType === TRANSITION) {\r\n        if (transitionTimeout > 0) {\r\n            type = TRANSITION;\r\n            timeout = transitionTimeout;\r\n            propCount = transitionDurations.length;\r\n        }\r\n    }\r\n    else if (expectedType === ANIMATION) {\r\n        if (animationTimeout > 0) {\r\n            type = ANIMATION;\r\n            timeout = animationTimeout;\r\n            propCount = animationDurations.length;\r\n        }\r\n    }\r\n    else {\r\n        timeout = Math.max(transitionTimeout, animationTimeout);\r\n        type =\r\n            timeout > 0\r\n                ? transitionTimeout > animationTimeout\r\n                    ? TRANSITION\r\n                    : ANIMATION\r\n                : null;\r\n        propCount = type\r\n            ? type === TRANSITION\r\n                ? transitionDurations.length\r\n                : animationDurations.length\r\n            : 0;\r\n    }\r\n    const hasTransform = type === TRANSITION &&\r\n        /\\b(transform|all)(,|$)/.test(styles[TRANSITION + 'Property']);\r\n    return {\r\n        type,\r\n        timeout,\r\n        propCount,\r\n        hasTransform\r\n    };\r\n}\r\nfunction getTimeout(delays, durations) {\r\n    while (delays.length < durations.length) {\r\n        delays = delays.concat(delays);\r\n    }\r\n    return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));\r\n}\r\n// Old versions of Chromium (below 61.0.3163.100) formats floating pointer\r\n// numbers in a locale-dependent way, using a comma instead of a dot.\r\n// If comma is not replaced with a dot, the input will be rounded down\r\n// (i.e. acting as a floor function) causing unexpected behaviors\r\nfunction toMs(s) {\r\n    return Number(s.slice(0, -1).replace(',', '.')) * 1000;\r\n}\r\n// synchronously force layout to put elements into a certain state\r\nfunction forceReflow() {\r\n    return document.body.offsetHeight;\r\n}\n\nconst positionMap = new WeakMap();\r\nconst newPositionMap = new WeakMap();\r\nconst TransitionGroupImpl = {\r\n    name: 'TransitionGroup',\r\n    props: /*#__PURE__*/ extend({}, TransitionPropsValidators, {\r\n        tag: String,\r\n        moveClass: String\r\n    }),\r\n    setup(props, { slots }) {\r\n        const instance = getCurrentInstance();\r\n        const state = useTransitionState();\r\n        let prevChildren;\r\n        let children;\r\n        onUpdated(() => {\r\n            // children is guaranteed to exist after initial render\r\n            if (!prevChildren.length) {\r\n                return;\r\n            }\r\n            const moveClass = props.moveClass || `${props.name || 'v'}-move`;\r\n            if (!hasCSSTransform(prevChildren[0].el, instance.vnode.el, moveClass)) {\r\n                return;\r\n            }\r\n            // we divide the work into three loops to avoid mixing DOM reads and writes\r\n            // in each iteration - which helps prevent layout thrashing.\r\n            prevChildren.forEach(callPendingCbs);\r\n            prevChildren.forEach(recordPosition);\r\n            const movedChildren = prevChildren.filter(applyTranslation);\r\n            // force reflow to put everything in position\r\n            forceReflow();\r\n            movedChildren.forEach(c => {\r\n                const el = c.el;\r\n                const style = el.style;\r\n                addTransitionClass(el, moveClass);\r\n                style.transform = style.webkitTransform = style.transitionDuration = '';\r\n                const cb = (el._moveCb = (e) => {\r\n                    if (e && e.target !== el) {\r\n                        return;\r\n                    }\r\n                    if (!e || /transform$/.test(e.propertyName)) {\r\n                        el.removeEventListener('transitionend', cb);\r\n                        el._moveCb = null;\r\n                        removeTransitionClass(el, moveClass);\r\n                    }\r\n                });\r\n                el.addEventListener('transitionend', cb);\r\n            });\r\n        });\r\n        return () => {\r\n            const rawProps = toRaw(props);\r\n            const cssTransitionProps = resolveTransitionProps(rawProps);\r\n            let tag = rawProps.tag || Fragment;\r\n            prevChildren = children;\r\n            children = slots.default ? getTransitionRawChildren(slots.default()) : [];\r\n            for (let i = 0; i < children.length; i++) {\r\n                const child = children[i];\r\n                if (child.key != null) {\r\n                    setTransitionHooks(child, resolveTransitionHooks(child, cssTransitionProps, state, instance));\r\n                }\r\n                else if ((process.env.NODE_ENV !== 'production')) {\r\n                    warn(`<TransitionGroup> children must be keyed.`);\r\n                }\r\n            }\r\n            if (prevChildren) {\r\n                for (let i = 0; i < prevChildren.length; i++) {\r\n                    const child = prevChildren[i];\r\n                    setTransitionHooks(child, resolveTransitionHooks(child, cssTransitionProps, state, instance));\r\n                    positionMap.set(child, child.el.getBoundingClientRect());\r\n                }\r\n            }\r\n            return createVNode(tag, null, children);\r\n        };\r\n    }\r\n};\r\nconst TransitionGroup = TransitionGroupImpl;\r\nfunction callPendingCbs(c) {\r\n    const el = c.el;\r\n    if (el._moveCb) {\r\n        el._moveCb();\r\n    }\r\n    if (el._enterCb) {\r\n        el._enterCb();\r\n    }\r\n}\r\nfunction recordPosition(c) {\r\n    newPositionMap.set(c, c.el.getBoundingClientRect());\r\n}\r\nfunction applyTranslation(c) {\r\n    const oldPos = positionMap.get(c);\r\n    const newPos = newPositionMap.get(c);\r\n    const dx = oldPos.left - newPos.left;\r\n    const dy = oldPos.top - newPos.top;\r\n    if (dx || dy) {\r\n        const s = c.el.style;\r\n        s.transform = s.webkitTransform = `translate(${dx}px,${dy}px)`;\r\n        s.transitionDuration = '0s';\r\n        return c;\r\n    }\r\n}\r\nfunction hasCSSTransform(el, root, moveClass) {\r\n    // Detect whether an element with the move class applied has\r\n    // CSS transitions. Since the element may be inside an entering\r\n    // transition at this very moment, we make a clone of it and remove\r\n    // all other transition classes applied to ensure only the move class\r\n    // is applied.\r\n    const clone = el.cloneNode();\r\n    if (el._vtc) {\r\n        el._vtc.forEach(cls => {\r\n            cls.split(/\\s+/).forEach(c => c && clone.classList.remove(c));\r\n        });\r\n    }\r\n    moveClass.split(/\\s+/).forEach(c => c && clone.classList.add(c));\r\n    clone.style.display = 'none';\r\n    const container = (root.nodeType === 1 ? root : root.parentNode);\r\n    container.appendChild(clone);\r\n    const { hasTransform } = getTransitionInfo(clone);\r\n    container.removeChild(clone);\r\n    return hasTransform;\r\n}\n\nconst getModelAssigner = (vnode) => {\r\n    const fn = vnode.props['onUpdate:modelValue'] ||\r\n        (false );\r\n    return isArray(fn) ? value => invokeArrayFns(fn, value) : fn;\r\n};\r\nfunction onCompositionStart(e) {\r\n    e.target.composing = true;\r\n}\r\nfunction onCompositionEnd(e) {\r\n    const target = e.target;\r\n    if (target.composing) {\r\n        target.composing = false;\r\n        target.dispatchEvent(new Event('input'));\r\n    }\r\n}\r\n// We are exporting the v-model runtime directly as vnode hooks so that it can\r\n// be tree-shaken in case v-model is never used.\r\nconst vModelText = {\r\n    created(el, { modifiers: { lazy, trim, number } }, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        const castToNumber = number || (vnode.props && vnode.props.type === 'number');\r\n        addEventListener(el, lazy ? 'change' : 'input', e => {\r\n            if (e.target.composing)\r\n                return;\r\n            let domValue = el.value;\r\n            if (trim) {\r\n                domValue = domValue.trim();\r\n            }\r\n            if (castToNumber) {\r\n                domValue = toNumber(domValue);\r\n            }\r\n            el._assign(domValue);\r\n        });\r\n        if (trim) {\r\n            addEventListener(el, 'change', () => {\r\n                el.value = el.value.trim();\r\n            });\r\n        }\r\n        if (!lazy) {\r\n            addEventListener(el, 'compositionstart', onCompositionStart);\r\n            addEventListener(el, 'compositionend', onCompositionEnd);\r\n            // Safari < 10.2 & UIWebView doesn't fire compositionend when\r\n            // switching focus before confirming composition choice\r\n            // this also fixes the issue where some browsers e.g. iOS Chrome\r\n            // fires \"change\" instead of \"input\" on autocomplete.\r\n            addEventListener(el, 'change', onCompositionEnd);\r\n        }\r\n    },\r\n    // set value on mounted so it's after min/max for type=\"range\"\r\n    mounted(el, { value }) {\r\n        el.value = value == null ? '' : value;\r\n    },\r\n    beforeUpdate(el, { value, modifiers: { lazy, trim, number } }, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        // avoid clearing unresolved text. #2302\r\n        if (el.composing)\r\n            return;\r\n        if (document.activeElement === el && el.type !== 'range') {\r\n            if (lazy) {\r\n                return;\r\n            }\r\n            if (trim && el.value.trim() === value) {\r\n                return;\r\n            }\r\n            if ((number || el.type === 'number') && toNumber(el.value) === value) {\r\n                return;\r\n            }\r\n        }\r\n        const newValue = value == null ? '' : value;\r\n        if (el.value !== newValue) {\r\n            el.value = newValue;\r\n        }\r\n    }\r\n};\r\nconst vModelCheckbox = {\r\n    // #4096 array checkboxes need to be deep traversed\r\n    deep: true,\r\n    created(el, _, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        addEventListener(el, 'change', () => {\r\n            const modelValue = el._modelValue;\r\n            const elementValue = getValue(el);\r\n            const checked = el.checked;\r\n            const assign = el._assign;\r\n            if (isArray(modelValue)) {\r\n                const index = looseIndexOf(modelValue, elementValue);\r\n                const found = index !== -1;\r\n                if (checked && !found) {\r\n                    assign(modelValue.concat(elementValue));\r\n                }\r\n                else if (!checked && found) {\r\n                    const filtered = [...modelValue];\r\n                    filtered.splice(index, 1);\r\n                    assign(filtered);\r\n                }\r\n            }\r\n            else if (isSet(modelValue)) {\r\n                const cloned = new Set(modelValue);\r\n                if (checked) {\r\n                    cloned.add(elementValue);\r\n                }\r\n                else {\r\n                    cloned.delete(elementValue);\r\n                }\r\n                assign(cloned);\r\n            }\r\n            else {\r\n                assign(getCheckboxValue(el, checked));\r\n            }\r\n        });\r\n    },\r\n    // set initial checked on mount to wait for true-value/false-value\r\n    mounted: setChecked,\r\n    beforeUpdate(el, binding, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        setChecked(el, binding, vnode);\r\n    }\r\n};\r\nfunction setChecked(el, { value, oldValue }, vnode) {\r\n    el._modelValue = value;\r\n    if (isArray(value)) {\r\n        el.checked = looseIndexOf(value, vnode.props.value) > -1;\r\n    }\r\n    else if (isSet(value)) {\r\n        el.checked = value.has(vnode.props.value);\r\n    }\r\n    else if (value !== oldValue) {\r\n        el.checked = looseEqual(value, getCheckboxValue(el, true));\r\n    }\r\n}\r\nconst vModelRadio = {\r\n    created(el, { value }, vnode) {\r\n        el.checked = looseEqual(value, vnode.props.value);\r\n        el._assign = getModelAssigner(vnode);\r\n        addEventListener(el, 'change', () => {\r\n            el._assign(getValue(el));\r\n        });\r\n    },\r\n    beforeUpdate(el, { value, oldValue }, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n        if (value !== oldValue) {\r\n            el.checked = looseEqual(value, vnode.props.value);\r\n        }\r\n    }\r\n};\r\nconst vModelSelect = {\r\n    // <select multiple> value need to be deep traversed\r\n    deep: true,\r\n    created(el, { value, modifiers: { number } }, vnode) {\r\n        const isSetModel = isSet(value);\r\n        addEventListener(el, 'change', () => {\r\n            const selectedVal = Array.prototype.filter\r\n                .call(el.options, (o) => o.selected)\r\n                .map((o) => number ? toNumber(getValue(o)) : getValue(o));\r\n            el._assign(el.multiple\r\n                ? isSetModel\r\n                    ? new Set(selectedVal)\r\n                    : selectedVal\r\n                : selectedVal[0]);\r\n        });\r\n        el._assign = getModelAssigner(vnode);\r\n    },\r\n    // set value in mounted & updated because <select> relies on its children\r\n    // <option>s.\r\n    mounted(el, { value }) {\r\n        setSelected(el, value);\r\n    },\r\n    beforeUpdate(el, _binding, vnode) {\r\n        el._assign = getModelAssigner(vnode);\r\n    },\r\n    updated(el, { value }) {\r\n        setSelected(el, value);\r\n    }\r\n};\r\nfunction setSelected(el, value) {\r\n    const isMultiple = el.multiple;\r\n    if (isMultiple && !isArray(value) && !isSet(value)) {\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn(`<select multiple v-model> expects an Array or Set value for its binding, ` +\r\n                `but got ${Object.prototype.toString.call(value).slice(8, -1)}.`);\r\n        return;\r\n    }\r\n    for (let i = 0, l = el.options.length; i < l; i++) {\r\n        const option = el.options[i];\r\n        const optionValue = getValue(option);\r\n        if (isMultiple) {\r\n            if (isArray(value)) {\r\n                option.selected = looseIndexOf(value, optionValue) > -1;\r\n            }\r\n            else {\r\n                option.selected = value.has(optionValue);\r\n            }\r\n        }\r\n        else {\r\n            if (looseEqual(getValue(option), value)) {\r\n                if (el.selectedIndex !== i)\r\n                    el.selectedIndex = i;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    if (!isMultiple && el.selectedIndex !== -1) {\r\n        el.selectedIndex = -1;\r\n    }\r\n}\r\n// retrieve raw value set via :value bindings\r\nfunction getValue(el) {\r\n    return '_value' in el ? el._value : el.value;\r\n}\r\n// retrieve raw value for true-value and false-value set via :true-value or :false-value bindings\r\nfunction getCheckboxValue(el, checked) {\r\n    const key = checked ? '_trueValue' : '_falseValue';\r\n    return key in el ? el[key] : checked;\r\n}\r\nconst vModelDynamic = {\r\n    created(el, binding, vnode) {\r\n        callModelHook(el, binding, vnode, null, 'created');\r\n    },\r\n    mounted(el, binding, vnode) {\r\n        callModelHook(el, binding, vnode, null, 'mounted');\r\n    },\r\n    beforeUpdate(el, binding, vnode, prevVNode) {\r\n        callModelHook(el, binding, vnode, prevVNode, 'beforeUpdate');\r\n    },\r\n    updated(el, binding, vnode, prevVNode) {\r\n        callModelHook(el, binding, vnode, prevVNode, 'updated');\r\n    }\r\n};\r\nfunction resolveDynamicModel(tagName, type) {\r\n    switch (tagName) {\r\n        case 'SELECT':\r\n            return vModelSelect;\r\n        case 'TEXTAREA':\r\n            return vModelText;\r\n        default:\r\n            switch (type) {\r\n                case 'checkbox':\r\n                    return vModelCheckbox;\r\n                case 'radio':\r\n                    return vModelRadio;\r\n                default:\r\n                    return vModelText;\r\n            }\r\n    }\r\n}\r\nfunction callModelHook(el, binding, vnode, prevVNode, hook) {\r\n    const modelToUse = resolveDynamicModel(el.tagName, vnode.props && vnode.props.type);\r\n    const fn = modelToUse[hook];\r\n    fn && fn(el, binding, vnode, prevVNode);\r\n}\r\n// SSR vnode transforms, only used when user includes client-oriented render\r\n// function in SSR\r\nfunction initVModelForSSR() {\r\n    vModelText.getSSRProps = ({ value }) => ({ value });\r\n    vModelRadio.getSSRProps = ({ value }, vnode) => {\r\n        if (vnode.props && looseEqual(vnode.props.value, value)) {\r\n            return { checked: true };\r\n        }\r\n    };\r\n    vModelCheckbox.getSSRProps = ({ value }, vnode) => {\r\n        if (isArray(value)) {\r\n            if (vnode.props && looseIndexOf(value, vnode.props.value) > -1) {\r\n                return { checked: true };\r\n            }\r\n        }\r\n        else if (isSet(value)) {\r\n            if (vnode.props && value.has(vnode.props.value)) {\r\n                return { checked: true };\r\n            }\r\n        }\r\n        else if (value) {\r\n            return { checked: true };\r\n        }\r\n    };\r\n    vModelDynamic.getSSRProps = (binding, vnode) => {\r\n        if (typeof vnode.type !== 'string') {\r\n            return;\r\n        }\r\n        const modelToUse = resolveDynamicModel(\r\n        // resolveDynamicModel expects an uppercase tag name, but vnode.type is lowercase\r\n        vnode.type.toUpperCase(), vnode.props && vnode.props.type);\r\n        if (modelToUse.getSSRProps) {\r\n            return modelToUse.getSSRProps(binding, vnode);\r\n        }\r\n    };\r\n}\n\nconst systemModifiers = ['ctrl', 'shift', 'alt', 'meta'];\r\nconst modifierGuards = {\r\n    stop: e => e.stopPropagation(),\r\n    prevent: e => e.preventDefault(),\r\n    self: e => e.target !== e.currentTarget,\r\n    ctrl: e => !e.ctrlKey,\r\n    shift: e => !e.shiftKey,\r\n    alt: e => !e.altKey,\r\n    meta: e => !e.metaKey,\r\n    left: e => 'button' in e && e.button !== 0,\r\n    middle: e => 'button' in e && e.button !== 1,\r\n    right: e => 'button' in e && e.button !== 2,\r\n    exact: (e, modifiers) => systemModifiers.some(m => e[`${m}Key`] && !modifiers.includes(m))\r\n};\r\n/**\r\n * @private\r\n */\r\nconst withModifiers = (fn, modifiers) => {\r\n    return (event, ...args) => {\r\n        for (let i = 0; i < modifiers.length; i++) {\r\n            const guard = modifierGuards[modifiers[i]];\r\n            if (guard && guard(event, modifiers))\r\n                return;\r\n        }\r\n        return fn(event, ...args);\r\n    };\r\n};\r\n// Kept for 2.x compat.\r\n// Note: IE11 compat for `spacebar` and `del` is removed for now.\r\nconst keyNames = {\r\n    esc: 'escape',\r\n    space: ' ',\r\n    up: 'arrow-up',\r\n    left: 'arrow-left',\r\n    right: 'arrow-right',\r\n    down: 'arrow-down',\r\n    delete: 'backspace'\r\n};\r\n/**\r\n * @private\r\n */\r\nconst withKeys = (fn, modifiers) => {\r\n    return (event) => {\r\n        if (!('key' in event)) {\r\n            return;\r\n        }\r\n        const eventKey = hyphenate(event.key);\r\n        if (modifiers.some(k => k === eventKey || keyNames[k] === eventKey)) {\r\n            return fn(event);\r\n        }\r\n    };\r\n};\n\nconst vShow = {\r\n    beforeMount(el, { value }, { transition }) {\r\n        el._vod = el.style.display === 'none' ? '' : el.style.display;\r\n        if (transition && value) {\r\n            transition.beforeEnter(el);\r\n        }\r\n        else {\r\n            setDisplay(el, value);\r\n        }\r\n    },\r\n    mounted(el, { value }, { transition }) {\r\n        if (transition && value) {\r\n            transition.enter(el);\r\n        }\r\n    },\r\n    updated(el, { value, oldValue }, { transition }) {\r\n        if (!value === !oldValue)\r\n            return;\r\n        if (transition) {\r\n            if (value) {\r\n                transition.beforeEnter(el);\r\n                setDisplay(el, true);\r\n                transition.enter(el);\r\n            }\r\n            else {\r\n                transition.leave(el, () => {\r\n                    setDisplay(el, false);\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            setDisplay(el, value);\r\n        }\r\n    },\r\n    beforeUnmount(el, { value }) {\r\n        setDisplay(el, value);\r\n    }\r\n};\r\nfunction setDisplay(el, value) {\r\n    el.style.display = value ? el._vod : 'none';\r\n}\r\n// SSR vnode transforms, only used when user includes client-oriented render\r\n// function in SSR\r\nfunction initVShowForSSR() {\r\n    vShow.getSSRProps = ({ value }) => {\r\n        if (!value) {\r\n            return { style: { display: 'none' } };\r\n        }\r\n    };\r\n}\n\nconst rendererOptions = /*#__PURE__*/ extend({ patchProp }, nodeOps);\r\n// lazy create the renderer - this makes core renderer logic tree-shakable\r\n// in case the user only imports reactivity utilities from Vue.\r\nlet renderer;\r\nlet enabledHydration = false;\r\nfunction ensureRenderer() {\r\n    return (renderer ||\r\n        (renderer = createRenderer(rendererOptions)));\r\n}\r\nfunction ensureHydrationRenderer() {\r\n    renderer = enabledHydration\r\n        ? renderer\r\n        : createHydrationRenderer(rendererOptions);\r\n    enabledHydration = true;\r\n    return renderer;\r\n}\r\n// use explicit type casts here to avoid import() calls in rolled-up d.ts\r\nconst render = ((...args) => {\r\n    ensureRenderer().render(...args);\r\n});\r\nconst hydrate = ((...args) => {\r\n    ensureHydrationRenderer().hydrate(...args);\r\n});\r\nconst createApp = ((...args) => {\r\n    const app = ensureRenderer().createApp(...args);\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        injectNativeTagCheck(app);\r\n        injectCompilerOptionsCheck(app);\r\n    }\r\n    const { mount } = app;\r\n    app.mount = (containerOrSelector) => {\r\n        const container = normalizeContainer(containerOrSelector);\r\n        if (!container)\r\n            return;\r\n        const component = app._component;\r\n        if (!isFunction(component) && !component.render && !component.template) {\r\n            // __UNSAFE__\r\n            // Reason: potential execution of JS expressions in in-DOM template.\r\n            // The user must make sure the in-DOM template is trusted. If it's\r\n            // rendered by the server, the template should not contain any user data.\r\n            component.template = container.innerHTML;\r\n        }\r\n        // clear content before mounting\r\n        container.innerHTML = '';\r\n        const proxy = mount(container, false, container instanceof SVGElement);\r\n        if (container instanceof Element) {\r\n            container.removeAttribute('v-cloak');\r\n            container.setAttribute('data-v-app', '');\r\n        }\r\n        return proxy;\r\n    };\r\n    return app;\r\n});\r\nconst createSSRApp = ((...args) => {\r\n    const app = ensureHydrationRenderer().createApp(...args);\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        injectNativeTagCheck(app);\r\n        injectCompilerOptionsCheck(app);\r\n    }\r\n    const { mount } = app;\r\n    app.mount = (containerOrSelector) => {\r\n        const container = normalizeContainer(containerOrSelector);\r\n        if (container) {\r\n            return mount(container, true, container instanceof SVGElement);\r\n        }\r\n    };\r\n    return app;\r\n});\r\nfunction injectNativeTagCheck(app) {\r\n    // Inject `isNativeTag`\r\n    // this is used for component name validation (dev only)\r\n    Object.defineProperty(app.config, 'isNativeTag', {\r\n        value: (tag) => isHTMLTag(tag) || isSVGTag(tag),\r\n        writable: false\r\n    });\r\n}\r\n// dev only\r\nfunction injectCompilerOptionsCheck(app) {\r\n    if (isRuntimeOnly()) {\r\n        const isCustomElement = app.config.isCustomElement;\r\n        Object.defineProperty(app.config, 'isCustomElement', {\r\n            get() {\r\n                return isCustomElement;\r\n            },\r\n            set() {\r\n                warn(`The \\`isCustomElement\\` config option is deprecated. Use ` +\r\n                    `\\`compilerOptions.isCustomElement\\` instead.`);\r\n            }\r\n        });\r\n        const compilerOptions = app.config.compilerOptions;\r\n        const msg = `The \\`compilerOptions\\` config option is only respected when using ` +\r\n            `a build of Vue.js that includes the runtime compiler (aka \"full build\"). ` +\r\n            `Since you are using the runtime-only build, \\`compilerOptions\\` ` +\r\n            `must be passed to \\`@vue/compiler-dom\\` in the build setup instead.\\n` +\r\n            `- For vue-loader: pass it via vue-loader's \\`compilerOptions\\` loader option.\\n` +\r\n            `- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\\n` +\r\n            `- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom`;\r\n        Object.defineProperty(app.config, 'compilerOptions', {\r\n            get() {\r\n                warn(msg);\r\n                return compilerOptions;\r\n            },\r\n            set() {\r\n                warn(msg);\r\n            }\r\n        });\r\n    }\r\n}\r\nfunction normalizeContainer(container) {\r\n    if (isString(container)) {\r\n        const res = document.querySelector(container);\r\n        if ((process.env.NODE_ENV !== 'production') && !res) {\r\n            warn(`Failed to mount app: mount target selector \"${container}\" returned null.`);\r\n        }\r\n        return res;\r\n    }\r\n    if ((process.env.NODE_ENV !== 'production') &&\r\n        window.ShadowRoot &&\r\n        container instanceof window.ShadowRoot &&\r\n        container.mode === 'closed') {\r\n        warn(`mounting on a ShadowRoot with \\`{mode: \"closed\"}\\` may lead to unpredictable bugs`);\r\n    }\r\n    return container;\r\n}\r\nlet ssrDirectiveInitialized = false;\r\n/**\r\n * @internal\r\n */\r\nconst initDirectivesForSSR = () => {\r\n        if (!ssrDirectiveInitialized) {\r\n            ssrDirectiveInitialized = true;\r\n            initVModelForSSR();\r\n            initVShowForSSR();\r\n        }\r\n    }\r\n    ;\n\nexport { Transition, TransitionGroup, VueElement, createApp, createSSRApp, defineCustomElement, defineSSRCustomElement, hydrate, initDirectivesForSSR, render, useCssModule, useCssVars, vModelCheckbox, vModelDynamic, vModelRadio, vModelSelect, vModelText, vShow, withKeys, withModifiers };\n","/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\r\nfunction makeMap(str, expectsLowerCase) {\r\n    const map = Object.create(null);\r\n    const list = str.split(',');\r\n    for (let i = 0; i < list.length; i++) {\r\n        map[list[i]] = true;\r\n    }\r\n    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];\r\n}\n\n/**\r\n * dev only flag -> name mapping\r\n */\r\nconst PatchFlagNames = {\r\n    [1 /* PatchFlags.TEXT */]: `TEXT`,\r\n    [2 /* PatchFlags.CLASS */]: `CLASS`,\r\n    [4 /* PatchFlags.STYLE */]: `STYLE`,\r\n    [8 /* PatchFlags.PROPS */]: `PROPS`,\r\n    [16 /* PatchFlags.FULL_PROPS */]: `FULL_PROPS`,\r\n    [32 /* PatchFlags.HYDRATE_EVENTS */]: `HYDRATE_EVENTS`,\r\n    [64 /* PatchFlags.STABLE_FRAGMENT */]: `STABLE_FRAGMENT`,\r\n    [128 /* PatchFlags.KEYED_FRAGMENT */]: `KEYED_FRAGMENT`,\r\n    [256 /* PatchFlags.UNKEYED_FRAGMENT */]: `UNKEYED_FRAGMENT`,\r\n    [512 /* PatchFlags.NEED_PATCH */]: `NEED_PATCH`,\r\n    [1024 /* PatchFlags.DYNAMIC_SLOTS */]: `DYNAMIC_SLOTS`,\r\n    [2048 /* PatchFlags.DEV_ROOT_FRAGMENT */]: `DEV_ROOT_FRAGMENT`,\r\n    [-1 /* PatchFlags.HOISTED */]: `HOISTED`,\r\n    [-2 /* PatchFlags.BAIL */]: `BAIL`\r\n};\n\n/**\r\n * Dev only\r\n */\r\nconst slotFlagsText = {\r\n    [1 /* SlotFlags.STABLE */]: 'STABLE',\r\n    [2 /* SlotFlags.DYNAMIC */]: 'DYNAMIC',\r\n    [3 /* SlotFlags.FORWARDED */]: 'FORWARDED'\r\n};\n\nconst GLOBALS_WHITE_LISTED = 'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,' +\r\n    'decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,' +\r\n    'Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt';\r\nconst isGloballyWhitelisted = /*#__PURE__*/ makeMap(GLOBALS_WHITE_LISTED);\n\nconst range = 2;\r\nfunction generateCodeFrame(source, start = 0, end = source.length) {\r\n    // Split the content into individual lines but capture the newline sequence\r\n    // that separated each line. This is important because the actual sequence is\r\n    // needed to properly take into account the full line length for offset\r\n    // comparison\r\n    let lines = source.split(/(\\r?\\n)/);\r\n    // Separate the lines and newline sequences into separate arrays for easier referencing\r\n    const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);\r\n    lines = lines.filter((_, idx) => idx % 2 === 0);\r\n    let count = 0;\r\n    const res = [];\r\n    for (let i = 0; i < lines.length; i++) {\r\n        count +=\r\n            lines[i].length +\r\n                ((newlineSequences[i] && newlineSequences[i].length) || 0);\r\n        if (count >= start) {\r\n            for (let j = i - range; j <= i + range || end > count; j++) {\r\n                if (j < 0 || j >= lines.length)\r\n                    continue;\r\n                const line = j + 1;\r\n                res.push(`${line}${' '.repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`);\r\n                const lineLength = lines[j].length;\r\n                const newLineSeqLength = (newlineSequences[j] && newlineSequences[j].length) || 0;\r\n                if (j === i) {\r\n                    // push underline\r\n                    const pad = start - (count - (lineLength + newLineSeqLength));\r\n                    const length = Math.max(1, end > count ? lineLength - pad : end - start);\r\n                    res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length));\r\n                }\r\n                else if (j > i) {\r\n                    if (end > count) {\r\n                        const length = Math.max(Math.min(end - count, lineLength), 1);\r\n                        res.push(`   |  ` + '^'.repeat(length));\r\n                    }\r\n                    count += lineLength + newLineSeqLength;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    return res.join('\\n');\r\n}\n\n/**\r\n * On the client we only need to offer special cases for boolean attributes that\r\n * have different names from their corresponding dom properties:\r\n * - itemscope -> N/A\r\n * - allowfullscreen -> allowFullscreen\r\n * - formnovalidate -> formNoValidate\r\n * - ismap -> isMap\r\n * - nomodule -> noModule\r\n * - novalidate -> noValidate\r\n * - readonly -> readOnly\r\n */\r\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\r\nconst isSpecialBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs);\r\n/**\r\n * The full list is needed during SSR to produce the correct initial markup.\r\n */\r\nconst isBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs +\r\n    `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,` +\r\n    `loop,open,required,reversed,scoped,seamless,` +\r\n    `checked,muted,multiple,selected`);\r\n/**\r\n * Boolean attributes should be included if the value is truthy or ''.\r\n * e.g. `<select multiple>` compiles to `{ multiple: '' }`\r\n */\r\nfunction includeBooleanAttr(value) {\r\n    return !!value || value === '';\r\n}\r\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\r\nconst attrValidationCache = {};\r\nfunction isSSRSafeAttrName(name) {\r\n    if (attrValidationCache.hasOwnProperty(name)) {\r\n        return attrValidationCache[name];\r\n    }\r\n    const isUnsafe = unsafeAttrCharRE.test(name);\r\n    if (isUnsafe) {\r\n        console.error(`unsafe attribute name: ${name}`);\r\n    }\r\n    return (attrValidationCache[name] = !isUnsafe);\r\n}\r\nconst propsToAttrMap = {\r\n    acceptCharset: 'accept-charset',\r\n    className: 'class',\r\n    htmlFor: 'for',\r\n    httpEquiv: 'http-equiv'\r\n};\r\n/**\r\n * CSS properties that accept plain numbers\r\n */\r\nconst isNoUnitNumericStyleProp = /*#__PURE__*/ makeMap(`animation-iteration-count,border-image-outset,border-image-slice,` +\r\n    `border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,` +\r\n    `columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,` +\r\n    `grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,` +\r\n    `grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,` +\r\n    `line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,` +\r\n    // SVG\r\n    `fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,` +\r\n    `stroke-miterlimit,stroke-opacity,stroke-width`);\r\n/**\r\n * Known attributes, this is used for stringification of runtime static nodes\r\n * so that we don't stringify bindings that cannot be set from HTML.\r\n * Don't also forget to allow `data-*` and `aria-*`!\r\n * Generated from https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\r\n */\r\nconst isKnownHtmlAttr = /*#__PURE__*/ makeMap(`accept,accept-charset,accesskey,action,align,allow,alt,async,` +\r\n    `autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,` +\r\n    `border,buffered,capture,challenge,charset,checked,cite,class,code,` +\r\n    `codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,` +\r\n    `coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,` +\r\n    `disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,` +\r\n    `formaction,formenctype,formmethod,formnovalidate,formtarget,headers,` +\r\n    `height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,` +\r\n    `ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,` +\r\n    `manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,` +\r\n    `open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,` +\r\n    `referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,` +\r\n    `selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,` +\r\n    `start,step,style,summary,tabindex,target,title,translate,type,usemap,` +\r\n    `value,width,wrap`);\r\n/**\r\n * Generated from https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute\r\n */\r\nconst isKnownSvgAttr = /*#__PURE__*/ makeMap(`xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,` +\r\n    `arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,` +\r\n    `baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,` +\r\n    `clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,` +\r\n    `color-interpolation-filters,color-profile,color-rendering,` +\r\n    `contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,` +\r\n    `descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,` +\r\n    `dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,` +\r\n    `fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,` +\r\n    `font-family,font-size,font-size-adjust,font-stretch,font-style,` +\r\n    `font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,` +\r\n    `glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,` +\r\n    `gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,` +\r\n    `horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,` +\r\n    `k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,` +\r\n    `lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,` +\r\n    `marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,` +\r\n    `mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,` +\r\n    `name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,` +\r\n    `overflow,overline-position,overline-thickness,panose-1,paint-order,path,` +\r\n    `pathLength,patternContentUnits,patternTransform,patternUnits,ping,` +\r\n    `pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,` +\r\n    `preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,` +\r\n    `rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,` +\r\n    `restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,` +\r\n    `specularConstant,specularExponent,speed,spreadMethod,startOffset,` +\r\n    `stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,` +\r\n    `strikethrough-position,strikethrough-thickness,string,stroke,` +\r\n    `stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,` +\r\n    `stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,` +\r\n    `systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,` +\r\n    `text-decoration,text-rendering,textLength,to,transform,transform-origin,` +\r\n    `type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,` +\r\n    `unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,` +\r\n    `v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,` +\r\n    `vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,` +\r\n    `writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,` +\r\n    `xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,` +\r\n    `xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`);\n\nfunction normalizeStyle(value) {\r\n    if (isArray(value)) {\r\n        const res = {};\r\n        for (let i = 0; i < value.length; i++) {\r\n            const item = value[i];\r\n            const normalized = isString(item)\r\n                ? parseStringStyle(item)\r\n                : normalizeStyle(item);\r\n            if (normalized) {\r\n                for (const key in normalized) {\r\n                    res[key] = normalized[key];\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    else if (isString(value)) {\r\n        return value;\r\n    }\r\n    else if (isObject(value)) {\r\n        return value;\r\n    }\r\n}\r\nconst listDelimiterRE = /;(?![^(]*\\))/g;\r\nconst propertyDelimiterRE = /:(.+)/;\r\nfunction parseStringStyle(cssText) {\r\n    const ret = {};\r\n    cssText.split(listDelimiterRE).forEach(item => {\r\n        if (item) {\r\n            const tmp = item.split(propertyDelimiterRE);\r\n            tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\r\n        }\r\n    });\r\n    return ret;\r\n}\r\nfunction stringifyStyle(styles) {\r\n    let ret = '';\r\n    if (!styles || isString(styles)) {\r\n        return ret;\r\n    }\r\n    for (const key in styles) {\r\n        const value = styles[key];\r\n        const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\r\n        if (isString(value) ||\r\n            (typeof value === 'number' && isNoUnitNumericStyleProp(normalizedKey))) {\r\n            // only render valid values\r\n            ret += `${normalizedKey}:${value};`;\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nfunction normalizeClass(value) {\r\n    let res = '';\r\n    if (isString(value)) {\r\n        res = value;\r\n    }\r\n    else if (isArray(value)) {\r\n        for (let i = 0; i < value.length; i++) {\r\n            const normalized = normalizeClass(value[i]);\r\n            if (normalized) {\r\n                res += normalized + ' ';\r\n            }\r\n        }\r\n    }\r\n    else if (isObject(value)) {\r\n        for (const name in value) {\r\n            if (value[name]) {\r\n                res += name + ' ';\r\n            }\r\n        }\r\n    }\r\n    return res.trim();\r\n}\r\nfunction normalizeProps(props) {\r\n    if (!props)\r\n        return null;\r\n    let { class: klass, style } = props;\r\n    if (klass && !isString(klass)) {\r\n        props.class = normalizeClass(klass);\r\n    }\r\n    if (style) {\r\n        props.style = normalizeStyle(style);\r\n    }\r\n    return props;\r\n}\n\n// These tag configs are shared between compiler-dom and runtime-dom, so they\r\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element\r\nconst HTML_TAGS = 'html,body,base,head,link,meta,style,title,address,article,aside,footer,' +\r\n    'header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,' +\r\n    'figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,' +\r\n    'data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,' +\r\n    'time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,' +\r\n    'canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,' +\r\n    'th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,' +\r\n    'option,output,progress,select,textarea,details,dialog,menu,' +\r\n    'summary,template,blockquote,iframe,tfoot';\r\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Element\r\nconst SVG_TAGS = 'svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,' +\r\n    'defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,' +\r\n    'feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,' +\r\n    'feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,' +\r\n    'feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,' +\r\n    'fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,' +\r\n    'foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,' +\r\n    'mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,' +\r\n    'polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,' +\r\n    'text,textPath,title,tspan,unknown,use,view';\r\nconst VOID_TAGS = 'area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr';\r\n/**\r\n * Compiler only.\r\n * Do NOT use in runtime code paths unless behind `(process.env.NODE_ENV !== 'production')` flag.\r\n */\r\nconst isHTMLTag = /*#__PURE__*/ makeMap(HTML_TAGS);\r\n/**\r\n * Compiler only.\r\n * Do NOT use in runtime code paths unless behind `(process.env.NODE_ENV !== 'production')` flag.\r\n */\r\nconst isSVGTag = /*#__PURE__*/ makeMap(SVG_TAGS);\r\n/**\r\n * Compiler only.\r\n * Do NOT use in runtime code paths unless behind `(process.env.NODE_ENV !== 'production')` flag.\r\n */\r\nconst isVoidTag = /*#__PURE__*/ makeMap(VOID_TAGS);\n\nconst escapeRE = /[\"'&<>]/;\r\nfunction escapeHtml(string) {\r\n    const str = '' + string;\r\n    const match = escapeRE.exec(str);\r\n    if (!match) {\r\n        return str;\r\n    }\r\n    let html = '';\r\n    let escaped;\r\n    let index;\r\n    let lastIndex = 0;\r\n    for (index = match.index; index < str.length; index++) {\r\n        switch (str.charCodeAt(index)) {\r\n            case 34: // \"\r\n                escaped = '&quot;';\r\n                break;\r\n            case 38: // &\r\n                escaped = '&amp;';\r\n                break;\r\n            case 39: // '\r\n                escaped = '&#39;';\r\n                break;\r\n            case 60: // <\r\n                escaped = '&lt;';\r\n                break;\r\n            case 62: // >\r\n                escaped = '&gt;';\r\n                break;\r\n            default:\r\n                continue;\r\n        }\r\n        if (lastIndex !== index) {\r\n            html += str.slice(lastIndex, index);\r\n        }\r\n        lastIndex = index + 1;\r\n        html += escaped;\r\n    }\r\n    return lastIndex !== index ? html + str.slice(lastIndex, index) : html;\r\n}\r\n// https://www.w3.org/TR/html52/syntax.html#comments\r\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\r\nfunction escapeHtmlComment(src) {\r\n    return src.replace(commentStripRE, '');\r\n}\n\nfunction looseCompareArrays(a, b) {\r\n    if (a.length !== b.length)\r\n        return false;\r\n    let equal = true;\r\n    for (let i = 0; equal && i < a.length; i++) {\r\n        equal = looseEqual(a[i], b[i]);\r\n    }\r\n    return equal;\r\n}\r\nfunction looseEqual(a, b) {\r\n    if (a === b)\r\n        return true;\r\n    let aValidType = isDate(a);\r\n    let bValidType = isDate(b);\r\n    if (aValidType || bValidType) {\r\n        return aValidType && bValidType ? a.getTime() === b.getTime() : false;\r\n    }\r\n    aValidType = isSymbol(a);\r\n    bValidType = isSymbol(b);\r\n    if (aValidType || bValidType) {\r\n        return a === b;\r\n    }\r\n    aValidType = isArray(a);\r\n    bValidType = isArray(b);\r\n    if (aValidType || bValidType) {\r\n        return aValidType && bValidType ? looseCompareArrays(a, b) : false;\r\n    }\r\n    aValidType = isObject(a);\r\n    bValidType = isObject(b);\r\n    if (aValidType || bValidType) {\r\n        /* istanbul ignore if: this if will probably never be called */\r\n        if (!aValidType || !bValidType) {\r\n            return false;\r\n        }\r\n        const aKeysCount = Object.keys(a).length;\r\n        const bKeysCount = Object.keys(b).length;\r\n        if (aKeysCount !== bKeysCount) {\r\n            return false;\r\n        }\r\n        for (const key in a) {\r\n            const aHasKey = a.hasOwnProperty(key);\r\n            const bHasKey = b.hasOwnProperty(key);\r\n            if ((aHasKey && !bHasKey) ||\r\n                (!aHasKey && bHasKey) ||\r\n                !looseEqual(a[key], b[key])) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return String(a) === String(b);\r\n}\r\nfunction looseIndexOf(arr, val) {\r\n    return arr.findIndex(item => looseEqual(item, val));\r\n}\n\n/**\r\n * For converting {{ interpolation }} values to displayed strings.\r\n * @private\r\n */\r\nconst toDisplayString = (val) => {\r\n    return isString(val)\r\n        ? val\r\n        : val == null\r\n            ? ''\r\n            : isArray(val) ||\r\n                (isObject(val) &&\r\n                    (val.toString === objectToString || !isFunction(val.toString)))\r\n                ? JSON.stringify(val, replacer, 2)\r\n                : String(val);\r\n};\r\nconst replacer = (_key, val) => {\r\n    // can't use isRef here since @vue/shared has no deps\r\n    if (val && val.__v_isRef) {\r\n        return replacer(_key, val.value);\r\n    }\r\n    else if (isMap(val)) {\r\n        return {\r\n            [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val]) => {\r\n                entries[`${key} =>`] = val;\r\n                return entries;\r\n            }, {})\r\n        };\r\n    }\r\n    else if (isSet(val)) {\r\n        return {\r\n            [`Set(${val.size})`]: [...val.values()]\r\n        };\r\n    }\r\n    else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\r\n        return String(val);\r\n    }\r\n    return val;\r\n};\n\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\r\n    ? Object.freeze({})\r\n    : {};\r\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\r\nconst NOOP = () => { };\r\n/**\r\n * Always return false.\r\n */\r\nconst NO = () => false;\r\nconst onRE = /^on[^a-z]/;\r\nconst isOn = (key) => onRE.test(key);\r\nconst isModelListener = (key) => key.startsWith('onUpdate:');\r\nconst extend = Object.assign;\r\nconst remove = (arr, el) => {\r\n    const i = arr.indexOf(el);\r\n    if (i > -1) {\r\n        arr.splice(i, 1);\r\n    }\r\n};\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\r\nconst isArray = Array.isArray;\r\nconst isMap = (val) => toTypeString(val) === '[object Map]';\r\nconst isSet = (val) => toTypeString(val) === '[object Set]';\r\nconst isDate = (val) => toTypeString(val) === '[object Date]';\r\nconst isFunction = (val) => typeof val === 'function';\r\nconst isString = (val) => typeof val === 'string';\r\nconst isSymbol = (val) => typeof val === 'symbol';\r\nconst isObject = (val) => val !== null && typeof val === 'object';\r\nconst isPromise = (val) => {\r\n    return isObject(val) && isFunction(val.then) && isFunction(val.catch);\r\n};\r\nconst objectToString = Object.prototype.toString;\r\nconst toTypeString = (value) => objectToString.call(value);\r\nconst toRawType = (value) => {\r\n    // extract \"RawType\" from strings like \"[object RawType]\"\r\n    return toTypeString(value).slice(8, -1);\r\n};\r\nconst isPlainObject = (val) => toTypeString(val) === '[object Object]';\r\nconst isIntegerKey = (key) => isString(key) &&\r\n    key !== 'NaN' &&\r\n    key[0] !== '-' &&\r\n    '' + parseInt(key, 10) === key;\r\nconst isReservedProp = /*#__PURE__*/ makeMap(\r\n// the leading comma is intentional so empty string \"\" is also included\r\n',key,ref,ref_for,ref_key,' +\r\n    'onVnodeBeforeMount,onVnodeMounted,' +\r\n    'onVnodeBeforeUpdate,onVnodeUpdated,' +\r\n    'onVnodeBeforeUnmount,onVnodeUnmounted');\r\nconst isBuiltInDirective = /*#__PURE__*/ makeMap('bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo');\r\nconst cacheStringFunction = (fn) => {\r\n    const cache = Object.create(null);\r\n    return ((str) => {\r\n        const hit = cache[str];\r\n        return hit || (cache[str] = fn(str));\r\n    });\r\n};\r\nconst camelizeRE = /-(\\w)/g;\r\n/**\r\n * @private\r\n */\r\nconst camelize = cacheStringFunction((str) => {\r\n    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));\r\n});\r\nconst hyphenateRE = /\\B([A-Z])/g;\r\n/**\r\n * @private\r\n */\r\nconst hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, '-$1').toLowerCase());\r\n/**\r\n * @private\r\n */\r\nconst capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));\r\n/**\r\n * @private\r\n */\r\nconst toHandlerKey = cacheStringFunction((str) => str ? `on${capitalize(str)}` : ``);\r\n// compare whether a value has changed, accounting for NaN.\r\nconst hasChanged = (value, oldValue) => !Object.is(value, oldValue);\r\nconst invokeArrayFns = (fns, arg) => {\r\n    for (let i = 0; i < fns.length; i++) {\r\n        fns[i](arg);\r\n    }\r\n};\r\nconst def = (obj, key, value) => {\r\n    Object.defineProperty(obj, key, {\r\n        configurable: true,\r\n        enumerable: false,\r\n        value\r\n    });\r\n};\r\nconst toNumber = (val) => {\r\n    const n = parseFloat(val);\r\n    return isNaN(n) ? val : n;\r\n};\r\nlet _globalThis;\r\nconst getGlobalThis = () => {\r\n    return (_globalThis ||\r\n        (_globalThis =\r\n            typeof globalThis !== 'undefined'\r\n                ? globalThis\r\n                : typeof self !== 'undefined'\r\n                    ? self\r\n                    : typeof window !== 'undefined'\r\n                        ? window\r\n                        : typeof global !== 'undefined'\r\n                            ? global\r\n                            : {}));\r\n};\r\nconst identRE = /^[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/;\r\nfunction genPropsAccessExp(name) {\r\n    return identRE.test(name)\r\n        ? `__props.${name}`\r\n        : `__props[${JSON.stringify(name)}]`;\r\n}\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, camelize, capitalize, def, escapeHtml, escapeHtmlComment, extend, genPropsAccessExp, generateCodeFrame, getGlobalThis, hasChanged, hasOwn, hyphenate, includeBooleanAttr, invokeArrayFns, isArray, isBooleanAttr, isBuiltInDirective, isDate, isFunction, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownHtmlAttr, isKnownSvgAttr, isMap, isModelListener, isNoUnitNumericStyleProp, isObject, isOn, isPlainObject, isPromise, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, makeMap, normalizeClass, normalizeProps, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","/**\n * Vue 3 Carousel 0.1.46\n * (c) 2022\n * @license MIT\n */\nimport { defineComponent, ref, reactive, provide, onMounted, nextTick, onUnmounted, computed, watch, watchEffect, h, withModifiers, inject } from 'vue';\n\nconst defaultConfigs = {\r\n    itemsToShow: 1,\r\n    itemsToScroll: 1,\r\n    modelValue: 0,\r\n    transition: 300,\r\n    autoplay: 0,\r\n    snapAlign: 'center',\r\n    wrapAround: false,\r\n    pauseAutoplayOnHover: false,\r\n    mouseDrag: true,\r\n    touchDrag: true,\r\n    dir: 'ltr',\r\n    breakpoints: undefined,\r\n};\n\nconst carouselProps = {\r\n    // count of items to showed per view\r\n    itemsToShow: {\r\n        default: defaultConfigs.itemsToShow,\r\n        type: Number,\r\n    },\r\n    // count of items to be scrolled\r\n    itemsToScroll: {\r\n        default: defaultConfigs.itemsToScroll,\r\n        type: Number,\r\n    },\r\n    // control infinite scrolling mode\r\n    wrapAround: {\r\n        default: defaultConfigs.wrapAround,\r\n        type: Boolean,\r\n    },\r\n    // control snap position alignment\r\n    snapAlign: {\r\n        default: defaultConfigs.snapAlign,\r\n        validator(value) {\r\n            // The value must match one of these strings\r\n            return ['start', 'end', 'center', 'center-even', 'center-odd'].includes(value);\r\n        },\r\n    },\r\n    // sliding transition time in ms\r\n    transition: {\r\n        default: defaultConfigs.transition,\r\n        type: Number,\r\n    },\r\n    // an object to store breakpoints\r\n    breakpoints: {\r\n        default: defaultConfigs.breakpoints,\r\n        type: Object,\r\n    },\r\n    // time to auto advance slides in ms\r\n    autoplay: {\r\n        default: defaultConfigs.autoplay,\r\n        type: Number,\r\n    },\r\n    // pause autoplay when mouse hover over the carousel\r\n    pauseAutoplayOnHover: {\r\n        default: defaultConfigs.pauseAutoplayOnHover,\r\n        type: Boolean,\r\n    },\r\n    // slide number number of initial slide\r\n    modelValue: {\r\n        default: undefined,\r\n        type: Number,\r\n    },\r\n    // toggle mouse dragging.\r\n    mouseDrag: {\r\n        default: defaultConfigs.mouseDrag,\r\n        type: Boolean,\r\n    },\r\n    // toggle mouse dragging.\r\n    touchDrag: {\r\n        default: defaultConfigs.touchDrag,\r\n        type: Boolean,\r\n    },\r\n    // control snap position alignment\r\n    dir: {\r\n        default: defaultConfigs.dir,\r\n        validator(value) {\r\n            // The value must match one of these strings\r\n            return ['rtl', 'ltr'].includes(value);\r\n        },\r\n    },\r\n    // an object to pass all settings\r\n    settings: {\r\n        default() {\r\n            return {};\r\n        },\r\n        type: Object,\r\n    },\r\n};\n\n/**\r\n * return a debounced version of the function\r\n * @param fn\r\n * @param delay\r\n */\r\n// eslint-disable-next-line no-unused-vars\r\nfunction debounce(fn, delay) {\r\n    let timerId;\r\n    return function (...args) {\r\n        if (timerId) {\r\n            clearTimeout(timerId);\r\n        }\r\n        timerId = setTimeout(() => {\r\n            fn(...args);\r\n            timerId = null;\r\n        }, delay);\r\n    };\r\n}\r\n/**\r\n * return a throttle version of the function\r\n * Throttling\r\n *\r\n */\r\n// eslint-disable-next-line no-unused-vars\r\nfunction throttle(fn, limit) {\r\n    let inThrottle;\r\n    return function (...args) {\r\n        const self = this;\r\n        if (!inThrottle) {\r\n            fn.apply(self, args);\r\n            inThrottle = true;\r\n            setTimeout(() => (inThrottle = false), limit);\r\n        }\r\n    };\r\n}\r\nfunction getSlidesVNodes(vNode) {\r\n    var _a, _b, _c;\r\n    // Return empty array if there's any node\r\n    if (!vNode)\r\n        return [];\r\n    // Check if the Slides components are added directly without v-for (#72)\r\n    if (((_b = (_a = vNode[0]) === null || _a === void 0 ? void 0 : _a.type) === null || _b === void 0 ? void 0 : _b.name) === 'CarouselSlide')\r\n        return vNode;\r\n    return ((_c = vNode[0]) === null || _c === void 0 ? void 0 : _c.children) || [];\r\n}\r\nfunction getMaxSlideIndex(config, slidesCount) {\r\n    if (config.wrapAround) {\r\n        return slidesCount - 1;\r\n    }\r\n    switch (config.snapAlign) {\r\n        case 'start':\r\n            return slidesCount - config.itemsToShow;\r\n        case 'end':\r\n            return slidesCount - 1;\r\n        case 'center':\r\n        case 'center-odd':\r\n            return slidesCount - Math.ceil(config.itemsToShow / 2);\r\n        case 'center-even':\r\n            return slidesCount - Math.ceil(config.itemsToShow / 2);\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nfunction getMinSlideIndex(config) {\r\n    if (config.wrapAround) {\r\n        return 0;\r\n    }\r\n    switch (config.snapAlign) {\r\n        case 'start':\r\n            return 0;\r\n        case 'end':\r\n            return config.itemsToShow - 1;\r\n        case 'center':\r\n        case 'center-odd':\r\n            return Math.floor((config.itemsToShow - 1) / 2);\r\n        case 'center-even':\r\n            return Math.floor((config.itemsToShow - 2) / 2);\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nfunction getCurrentSlideIndex(config, val, max, min) {\r\n    if (config.wrapAround) {\r\n        return val;\r\n    }\r\n    return Math.min(Math.max(val, min), max);\r\n}\r\nfunction getSlidesToScroll({ slidesBuffer, currentSlide, snapAlign, itemsToShow, wrapAround, slidesCount, }) {\r\n    let output = slidesBuffer.indexOf(currentSlide);\r\n    if (output === -1) {\r\n        output = slidesBuffer.indexOf(Math.ceil(currentSlide));\r\n    }\r\n    if (snapAlign === 'center' || snapAlign === 'center-odd') {\r\n        output -= (itemsToShow - 1) / 2;\r\n    }\r\n    else if (snapAlign === 'center-even') {\r\n        output -= (itemsToShow - 2) / 2;\r\n    }\r\n    else if (snapAlign === 'end') {\r\n        output -= itemsToShow - 1;\r\n    }\r\n    if (!wrapAround) {\r\n        const max = slidesCount - itemsToShow;\r\n        const min = 0;\r\n        output = Math.max(Math.min(output, max), min);\r\n    }\r\n    return output;\r\n}\n\nvar Carousel = defineComponent({\r\n    name: 'Carousel',\r\n    props: carouselProps,\r\n    setup(props, { slots, emit, expose }) {\r\n        var _a;\r\n        const root = ref(null);\r\n        const slides = ref([]);\r\n        const slidesBuffer = ref([]);\r\n        const slideWidth = ref(0);\r\n        const slidesCount = ref(1);\r\n        let autoplayTimer;\r\n        let transitionTimer;\r\n        let breakpoints = ref({});\r\n        // generate carousel configs\r\n        let __defaultConfig = Object.assign({}, defaultConfigs);\r\n        // current config\r\n        const config = reactive(Object.assign({}, __defaultConfig));\r\n        // slides\r\n        const currentSlideIndex = ref((_a = config.modelValue) !== null && _a !== void 0 ? _a : 0);\r\n        const prevSlideIndex = ref(0);\r\n        const middleSlideIndex = ref(0);\r\n        const maxSlideIndex = ref(0);\r\n        const minSlideIndex = ref(0);\r\n        provide('config', config);\r\n        provide('slidesBuffer', slidesBuffer);\r\n        provide('slidesCount', slidesCount);\r\n        provide('currentSlide', currentSlideIndex);\r\n        provide('maxSlide', maxSlideIndex);\r\n        provide('minSlide', minSlideIndex);\r\n        /**\r\n         * Configs\r\n         */\r\n        function initDefaultConfigs() {\r\n            // generate carousel configs\r\n            const mergedConfigs = Object.assign(Object.assign({}, props), props.settings);\r\n            // Set breakpoints\r\n            breakpoints = ref(Object.assign({}, mergedConfigs.breakpoints));\r\n            // remove extra values\r\n            __defaultConfig = Object.assign(Object.assign({}, mergedConfigs), { settings: undefined, breakpoints: undefined });\r\n            bindConfigs(__defaultConfig);\r\n        }\r\n        function updateBreakpointsConfigs() {\r\n            const breakpointsArray = Object.keys(breakpoints.value)\r\n                .map((key) => Number(key))\r\n                .sort((a, b) => +b - +a);\r\n            let newConfig = Object.assign({}, __defaultConfig);\r\n            breakpointsArray.some((breakpoint) => {\r\n                const isMatched = window.matchMedia(`(min-width: ${breakpoint}px)`).matches;\r\n                if (isMatched) {\r\n                    newConfig = Object.assign(Object.assign({}, newConfig), breakpoints.value[breakpoint]);\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n            bindConfigs(newConfig);\r\n        }\r\n        function bindConfigs(newConfig) {\r\n            for (let key in newConfig) {\r\n                // @ts-ignore\r\n                config[key] = newConfig[key];\r\n            }\r\n        }\r\n        const handleWindowResize = debounce(() => {\r\n            if (breakpoints.value) {\r\n                updateBreakpointsConfigs();\r\n                updateSlidesData();\r\n            }\r\n            updateSlideWidth();\r\n        }, 16);\r\n        /**\r\n         * Setup functions\r\n         */\r\n        function updateSlideWidth() {\r\n            if (!root.value)\r\n                return;\r\n            const rect = root.value.getBoundingClientRect();\r\n            slideWidth.value = rect.width / config.itemsToShow;\r\n        }\r\n        function updateSlidesData() {\r\n            slidesCount.value = Math.max(slides.value.length, 1);\r\n            if (slidesCount.value <= 0)\r\n                return;\r\n            middleSlideIndex.value = Math.ceil((slidesCount.value - 1) / 2);\r\n            maxSlideIndex.value = getMaxSlideIndex(config, slidesCount.value);\r\n            minSlideIndex.value = getMinSlideIndex(config);\r\n            currentSlideIndex.value = getCurrentSlideIndex(config, currentSlideIndex.value, maxSlideIndex.value, minSlideIndex.value);\r\n        }\r\n        function updateSlidesBuffer() {\r\n            const slidesArray = [...Array(slidesCount.value).keys()];\r\n            const shouldShiftSlides = config.wrapAround && config.itemsToShow + 1 <= slidesCount.value;\r\n            if (shouldShiftSlides) {\r\n                const buffer = config.itemsToShow !== 1\r\n                    ? Math.round((slidesCount.value - config.itemsToShow) / 2)\r\n                    : 0;\r\n                let shifts = buffer - currentSlideIndex.value;\r\n                if (config.snapAlign === 'end') {\r\n                    shifts += Math.floor(config.itemsToShow - 1);\r\n                }\r\n                else if (config.snapAlign === 'center' || config.snapAlign === 'center-odd') {\r\n                    shifts++;\r\n                }\r\n                // Check shifting directions\r\n                if (shifts < 0) {\r\n                    for (let i = shifts; i < 0; i++) {\r\n                        slidesArray.push(Number(slidesArray.shift()));\r\n                    }\r\n                }\r\n                else {\r\n                    for (let i = 0; i < shifts; i++) {\r\n                        slidesArray.unshift(Number(slidesArray.pop()));\r\n                    }\r\n                }\r\n            }\r\n            slidesBuffer.value = slidesArray;\r\n        }\r\n        onMounted(() => {\r\n            if (breakpoints.value) {\r\n                updateBreakpointsConfigs();\r\n                updateSlidesData();\r\n            }\r\n            nextTick(() => setTimeout(updateSlideWidth, 16));\r\n            initAutoplay();\r\n            window.addEventListener('resize', handleWindowResize, { passive: true });\r\n        });\r\n        onUnmounted(() => {\r\n            if (transitionTimer) {\r\n                clearTimeout(transitionTimer);\r\n            }\r\n            if (autoplayTimer) {\r\n                clearInterval(autoplayTimer);\r\n            }\r\n        });\r\n        /**\r\n         * Carousel Event listeners\r\n         */\r\n        let isTouch = false;\r\n        const startPosition = { x: 0, y: 0 };\r\n        const endPosition = { x: 0, y: 0 };\r\n        const dragged = reactive({ x: 0, y: 0 });\r\n        const isHover = ref(false);\r\n        const handleMouseEnter = () => {\r\n            isHover.value = true;\r\n        };\r\n        const handleMouseLeave = () => {\r\n            isHover.value = false;\r\n        };\r\n        function handleDragStart(event) {\r\n            isTouch = event.type === 'touchstart';\r\n            if ((!isTouch && event.button !== 0) || isSliding.value) {\r\n                return;\r\n            }\r\n            if (!isTouch) {\r\n                event.preventDefault();\r\n            }\r\n            startPosition.x = isTouch ? event.touches[0].clientX : event.clientX;\r\n            startPosition.y = isTouch ? event.touches[0].clientY : event.clientY;\r\n            document.addEventListener(isTouch ? 'touchmove' : 'mousemove', handleDragging, true);\r\n            document.addEventListener(isTouch ? 'touchend' : 'mouseup', handleDragEnd, true);\r\n        }\r\n        const handleDragging = throttle((event) => {\r\n            endPosition.x = isTouch ? event.touches[0].clientX : event.clientX;\r\n            endPosition.y = isTouch ? event.touches[0].clientY : event.clientY;\r\n            const deltaX = endPosition.x - startPosition.x;\r\n            const deltaY = endPosition.y - startPosition.y;\r\n            dragged.y = deltaY;\r\n            dragged.x = deltaX;\r\n        }, 16);\r\n        function handleDragEnd() {\r\n            const direction = config.dir === 'rtl' ? -1 : 1;\r\n            const tolerance = Math.sign(dragged.x) * 0.4;\r\n            const draggedSlides = Math.round(dragged.x / slideWidth.value + tolerance) * direction;\r\n            let newSlide = getCurrentSlideIndex(config, currentSlideIndex.value - draggedSlides, maxSlideIndex.value, minSlideIndex.value);\r\n            // Prevent clicking if there is clicked slides\r\n            if (draggedSlides && !isTouch) {\r\n                const captureClick = (e) => {\r\n                    e.stopPropagation();\r\n                    window.removeEventListener('click', captureClick, true);\r\n                };\r\n                window.addEventListener('click', captureClick, true);\r\n            }\r\n            slideTo(newSlide);\r\n            dragged.x = 0;\r\n            dragged.y = 0;\r\n            document.removeEventListener(isTouch ? 'touchmove' : 'mousemove', handleDragging, true);\r\n            document.removeEventListener(isTouch ? 'touchend' : 'mouseup', handleDragEnd, true);\r\n        }\r\n        /**\r\n         * Autoplay\r\n         */\r\n        function initAutoplay() {\r\n            if (!config.autoplay || config.autoplay <= 0) {\r\n                return;\r\n            }\r\n            autoplayTimer = setInterval(() => {\r\n                if (config.pauseAutoplayOnHover && isHover.value) {\r\n                    return;\r\n                }\r\n                next();\r\n            }, config.autoplay);\r\n        }\r\n        function resetAutoplay() {\r\n            if (autoplayTimer) {\r\n                clearInterval(autoplayTimer);\r\n                autoplayTimer = null;\r\n            }\r\n            initAutoplay();\r\n        }\r\n        /**\r\n         * Navigation function\r\n         */\r\n        const isSliding = ref(false);\r\n        function slideTo(slideIndex, mute = false) {\r\n            if (currentSlideIndex.value === slideIndex || isSliding.value) {\r\n                return;\r\n            }\r\n            resetAutoplay();\r\n            // Wrap slide index\r\n            const lastSlideIndex = slidesCount.value - 1;\r\n            if (slideIndex > lastSlideIndex) {\r\n                return slideTo(slideIndex - slidesCount.value);\r\n            }\r\n            if (slideIndex < 0) {\r\n                return slideTo(slideIndex + slidesCount.value);\r\n            }\r\n            isSliding.value = true;\r\n            prevSlideIndex.value = currentSlideIndex.value;\r\n            currentSlideIndex.value = slideIndex;\r\n            if (!mute) {\r\n                emit('update:modelValue', currentSlideIndex.value);\r\n            }\r\n            transitionTimer = setTimeout(() => {\r\n                if (config.wrapAround)\r\n                    updateSlidesBuffer();\r\n                isSliding.value = false;\r\n            }, config.transition);\r\n        }\r\n        function next() {\r\n            let nextSlide = currentSlideIndex.value + config.itemsToScroll;\r\n            if (!config.wrapAround) {\r\n                nextSlide = Math.min(nextSlide, maxSlideIndex.value);\r\n            }\r\n            slideTo(nextSlide);\r\n        }\r\n        function prev() {\r\n            let prevSlide = currentSlideIndex.value - config.itemsToScroll;\r\n            if (!config.wrapAround) {\r\n                prevSlide = Math.max(prevSlide, minSlideIndex.value);\r\n            }\r\n            slideTo(prevSlide);\r\n        }\r\n        const nav = { slideTo, next, prev };\r\n        provide('nav', nav);\r\n        /**\r\n         * Track style\r\n         */\r\n        const slidesToScroll = computed(() => getSlidesToScroll({\r\n            slidesBuffer: slidesBuffer.value,\r\n            itemsToShow: config.itemsToShow,\r\n            snapAlign: config.snapAlign,\r\n            wrapAround: Boolean(config.wrapAround),\r\n            currentSlide: currentSlideIndex.value,\r\n            slidesCount: slidesCount.value,\r\n        }));\r\n        provide('slidesToScroll', slidesToScroll);\r\n        const trackStyle = computed(() => {\r\n            const direction = config.dir === 'rtl' ? -1 : 1;\r\n            const xScroll = slidesToScroll.value * slideWidth.value * direction;\r\n            return {\r\n                transform: `translateX(${dragged.x - xScroll}px)`,\r\n                transition: `${isSliding.value ? config.transition : 0}ms`,\r\n            };\r\n        });\r\n        function initCarousel() {\r\n            initDefaultConfigs();\r\n        }\r\n        function restartCarousel() {\r\n            initDefaultConfigs();\r\n            updateBreakpointsConfigs();\r\n            updateSlidesData();\r\n            updateSlidesBuffer();\r\n            updateSlideWidth();\r\n            resetAutoplay();\r\n        }\r\n        function updateCarousel() {\r\n            updateSlidesData();\r\n            updateSlidesBuffer();\r\n        }\r\n        // Update the carousel on props change\r\n        Object.keys(carouselProps).forEach((prop) => {\r\n            if (['modelValue'].includes(prop))\r\n                return;\r\n            watch(() => props[prop], restartCarousel);\r\n        });\r\n        // Init carousel\r\n        initCarousel();\r\n        watchEffect(() => {\r\n            // Handel when slides added/removed\r\n            const needToUpdate = slidesCount.value !== slides.value.length;\r\n            const currentSlideUpdated = props.modelValue !== undefined && currentSlideIndex.value !== props.modelValue;\r\n            if (currentSlideUpdated) {\r\n                slideTo(Number(props.modelValue), true);\r\n            }\r\n            if (needToUpdate) {\r\n                updateCarousel();\r\n            }\r\n        });\r\n        const data = {\r\n            config,\r\n            slidesBuffer,\r\n            slidesCount,\r\n            slideWidth,\r\n            currentSlide: currentSlideIndex,\r\n            maxSlide: maxSlideIndex,\r\n            minSlide: minSlideIndex,\r\n            middleSlide: middleSlideIndex,\r\n        };\r\n        expose({\r\n            updateBreakpointsConfigs,\r\n            updateSlidesData,\r\n            updateSlideWidth,\r\n            updateSlidesBuffer,\r\n            initCarousel,\r\n            restartCarousel,\r\n            updateCarousel,\r\n            slideTo,\r\n            next,\r\n            prev,\r\n            nav,\r\n            data,\r\n        });\r\n        const slotSlides = slots.default || slots.slides;\r\n        const slotAddons = slots.addons;\r\n        const slotsProps = reactive(data);\r\n        return () => {\r\n            const slidesElements = getSlidesVNodes(slotSlides === null || slotSlides === void 0 ? void 0 : slotSlides(slotsProps));\r\n            const addonsElements = (slotAddons === null || slotAddons === void 0 ? void 0 : slotAddons(slotsProps)) || [];\r\n            slides.value = slidesElements;\r\n            // Bind slide order\r\n            slidesElements.forEach((el, index) => (el.props.index = index));\r\n            const trackEl = h('ol', {\r\n                class: 'carousel__track',\r\n                style: trackStyle.value,\r\n                onMousedown: config.mouseDrag\r\n                    ? withModifiers(handleDragStart, ['capture'])\r\n                    : null,\r\n                onTouchstart: config.touchDrag\r\n                    ? withModifiers(handleDragStart, ['capture'])\r\n                    : null,\r\n            }, slidesElements);\r\n            const viewPortEl = h('div', { class: 'carousel__viewport' }, trackEl);\r\n            return h('section', {\r\n                ref: root,\r\n                class: {\r\n                    carousel: true,\r\n                    'carousel--rtl': config.dir === 'rtl',\r\n                },\r\n                dir: config.dir,\r\n                'aria-label': 'Gallery',\r\n                onMouseenter: handleMouseEnter,\r\n                onMouseleave: handleMouseLeave,\r\n            }, [viewPortEl, addonsElements]);\r\n        };\r\n    },\r\n});\n\nconst icons = {\r\n    arrowUp: 'M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z',\r\n    arrowDown: 'M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z',\r\n    arrowRight: 'M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z',\r\n    arrowLeft: 'M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z',\r\n};\n\nconst Icon = (props) => {\r\n    const iconName = props.name;\r\n    if (!iconName || typeof iconName !== 'string') {\r\n        return;\r\n    }\r\n    const path = icons[iconName];\r\n    const pathEl = h('path', { d: path });\r\n    const iconTitle = (props.title || iconName);\r\n    const titleEl = h('title', iconTitle);\r\n    return h('svg', {\r\n        class: 'carousel__icon',\r\n        viewBox: '0 0 24 24',\r\n        role: 'img',\r\n        ariaLabel: iconTitle,\r\n    }, [titleEl, pathEl]);\r\n};\r\nIcon.props = { name: String, title: String };\n\nconst Navigation = (props, { slots, attrs }) => {\r\n    const { next: slotNext, prev: slotPrev } = slots || {};\r\n    const config = inject('config', reactive(Object.assign({}, defaultConfigs)));\r\n    const maxSlide = inject('maxSlide', ref(1));\r\n    const minSlide = inject('minSlide', ref(1));\r\n    const currentSlide = inject('currentSlide', ref(1));\r\n    const nav = inject('nav', {});\r\n    const isRTL = config.dir === 'rtl';\r\n    const prevButton = h('button', {\r\n        type: 'button',\r\n        class: [\r\n            'carousel__prev',\r\n            !config.wrapAround &&\r\n                currentSlide.value <= minSlide.value &&\r\n                'carousel__prev--in-active',\r\n            attrs === null || attrs === void 0 ? void 0 : attrs.class,\r\n        ],\r\n        'aria-label': `Navigate to previous slide`,\r\n        onClick: nav.prev,\r\n    }, (slotPrev === null || slotPrev === void 0 ? void 0 : slotPrev()) || h(Icon, { name: isRTL ? 'arrowRight' : 'arrowLeft' }));\r\n    const nextButton = h('button', {\r\n        type: 'button',\r\n        class: [\r\n            'carousel__next',\r\n            !config.wrapAround &&\r\n                currentSlide.value >= maxSlide.value &&\r\n                'carousel__next--in-active',\r\n            attrs === null || attrs === void 0 ? void 0 : attrs.class,\r\n        ],\r\n        'aria-label': `Navigate to next slide`,\r\n        onClick: nav.next,\r\n    }, (slotNext === null || slotNext === void 0 ? void 0 : slotNext()) || h(Icon, { name: isRTL ? 'arrowLeft' : 'arrowRight' }));\r\n    return [prevButton, nextButton];\r\n};\n\nvar Slide = defineComponent({\r\n    name: 'CarouselSlide',\r\n    props: {\r\n        index: {\r\n            type: Number,\r\n            default: 1,\r\n        },\r\n    },\r\n    setup(props, { slots }) {\r\n        const config = inject('config', reactive(Object.assign({}, defaultConfigs)));\r\n        const slidesBuffer = inject('slidesBuffer', ref([]));\r\n        const currentSlide = inject('currentSlide', ref(0));\r\n        const slidesToScroll = inject('slidesToScroll', ref(0));\r\n        const wrapOrder = ref(props.index);\r\n        if (config.wrapAround) {\r\n            updateOrder();\r\n            watch(slidesBuffer, updateOrder);\r\n        }\r\n        function updateOrder() {\r\n            wrapOrder.value = slidesBuffer.value.indexOf(props.index);\r\n        }\r\n        const slideStyle = computed(() => {\r\n            const items = config.itemsToShow;\r\n            const width = `${(1 / items) * 100}%`;\r\n            return {\r\n                width,\r\n                order: wrapOrder.value.toString(),\r\n            };\r\n        });\r\n        const isActive = () => props.index === currentSlide.value;\r\n        const isVisible = () => {\r\n            const min = Math.ceil(slidesToScroll.value);\r\n            const max = Math.floor(slidesToScroll.value + config.itemsToShow);\r\n            const current = slidesBuffer.value.slice(min, max);\r\n            return current.includes(props.index);\r\n        };\r\n        const isPrev = () => props.index === slidesBuffer.value[Math.ceil(slidesToScroll.value) - 1];\r\n        const isNext = () => props.index ===\r\n            slidesBuffer.value[Math.floor(slidesToScroll.value + config.itemsToShow)];\r\n        return () => {\r\n            var _a;\r\n            return h('li', {\r\n                style: slideStyle.value,\r\n                class: {\r\n                    carousel__slide: true,\r\n                    'carousel__slide--active': isActive(),\r\n                    'carousel__slide--visible': isVisible(),\r\n                    'carousel__slide--prev': isPrev(),\r\n                    'carousel__slide--next': isNext(),\r\n                },\r\n            }, (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots));\r\n        };\r\n    },\r\n});\n\nconst Pagination = () => {\r\n    const maxSlide = inject('maxSlide', ref(1));\r\n    const minSlide = inject('minSlide', ref(1));\r\n    const currentSlide = inject('currentSlide', ref(1));\r\n    const nav = inject('nav', {});\r\n    function handleButtonClick(slideNumber) {\r\n        nav.slideTo(slideNumber);\r\n    }\r\n    const isActive = (slide) => {\r\n        const val = currentSlide.value;\r\n        return (val === slide ||\r\n            (val > maxSlide.value && slide >= maxSlide.value) ||\r\n            (val < minSlide.value && slide <= minSlide.value));\r\n    };\r\n    const children = [];\r\n    for (let slide = minSlide.value; slide < maxSlide.value + 1; slide++) {\r\n        const button = h('button', {\r\n            type: 'button',\r\n            class: {\r\n                'carousel__pagination-button': true,\r\n                'carousel__pagination-button--active': isActive(slide),\r\n            },\r\n            'aria-label': `Navigate to slide ${slide + 1}`,\r\n            onClick: () => handleButtonClick(slide),\r\n        });\r\n        const item = h('li', { class: 'carousel__pagination-item', key: slide }, button);\r\n        children.push(item);\r\n    }\r\n    return h('ol', { class: 'carousel__pagination' }, children);\r\n};\n\nexport { Carousel, Icon, Navigation, Pagination, Slide };\n","/*!\n  * vue-router v4.1.5\n  * (c) 2022 Eduardo San Martin Morote\n  * @license MIT\n  */\nimport { getCurrentInstance, inject, onUnmounted, onDeactivated, onActivated, computed, unref, watchEffect, defineComponent, reactive, h, provide, ref, watch, shallowRef, nextTick } from 'vue';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\n\nconst isBrowser = typeof window !== 'undefined';\n\nfunction isESModule(obj) {\r\n    return obj.__esModule || obj[Symbol.toStringTag] === 'Module';\r\n}\r\nconst assign = Object.assign;\r\nfunction applyToParams(fn, params) {\r\n    const newParams = {};\r\n    for (const key in params) {\r\n        const value = params[key];\r\n        newParams[key] = isArray(value)\r\n            ? value.map(fn)\r\n            : fn(value);\r\n    }\r\n    return newParams;\r\n}\r\nconst noop = () => { };\r\n/**\r\n * Typesafe alternative to Array.isArray\r\n * https://github.com/microsoft/TypeScript/pull/48228\r\n */\r\nconst isArray = Array.isArray;\n\nfunction warn(msg) {\r\n    // avoid using ...args as it breaks in older Edge builds\r\n    const args = Array.from(arguments).slice(1);\r\n    console.warn.apply(console, ['[Vue Router warn]: ' + msg].concat(args));\r\n}\n\nconst TRAILING_SLASH_RE = /\\/$/;\r\nconst removeTrailingSlash = (path) => path.replace(TRAILING_SLASH_RE, '');\r\n/**\r\n * Transforms a URI into a normalized history location\r\n *\r\n * @param parseQuery\r\n * @param location - URI to normalize\r\n * @param currentLocation - current absolute location. Allows resolving relative\r\n * paths. Must start with `/`. Defaults to `/`\r\n * @returns a normalized history location\r\n */\r\nfunction parseURL(parseQuery, location, currentLocation = '/') {\r\n    let path, query = {}, searchString = '', hash = '';\r\n    // Could use URL and URLSearchParams but IE 11 doesn't support it\r\n    // TODO: move to new URL()\r\n    const hashPos = location.indexOf('#');\r\n    let searchPos = location.indexOf('?');\r\n    // the hash appears before the search, so it's not part of the search string\r\n    if (hashPos < searchPos && hashPos >= 0) {\r\n        searchPos = -1;\r\n    }\r\n    if (searchPos > -1) {\r\n        path = location.slice(0, searchPos);\r\n        searchString = location.slice(searchPos + 1, hashPos > -1 ? hashPos : location.length);\r\n        query = parseQuery(searchString);\r\n    }\r\n    if (hashPos > -1) {\r\n        path = path || location.slice(0, hashPos);\r\n        // keep the # character\r\n        hash = location.slice(hashPos, location.length);\r\n    }\r\n    // no search and no query\r\n    path = resolveRelativePath(path != null ? path : location, currentLocation);\r\n    // empty path means a relative query or hash `?foo=f`, `#thing`\r\n    return {\r\n        fullPath: path + (searchString && '?') + searchString + hash,\r\n        path,\r\n        query,\r\n        hash,\r\n    };\r\n}\r\n/**\r\n * Stringifies a URL object\r\n *\r\n * @param stringifyQuery\r\n * @param location\r\n */\r\nfunction stringifyURL(stringifyQuery, location) {\r\n    const query = location.query ? stringifyQuery(location.query) : '';\r\n    return location.path + (query && '?') + query + (location.hash || '');\r\n}\r\n/**\r\n * Strips off the base from the beginning of a location.pathname in a non-case-sensitive way.\r\n *\r\n * @param pathname - location.pathname\r\n * @param base - base to strip off\r\n */\r\nfunction stripBase(pathname, base) {\r\n    // no base or base is not found at the beginning\r\n    if (!base || !pathname.toLowerCase().startsWith(base.toLowerCase()))\r\n        return pathname;\r\n    return pathname.slice(base.length) || '/';\r\n}\r\n/**\r\n * Checks if two RouteLocation are equal. This means that both locations are\r\n * pointing towards the same {@link RouteRecord} and that all `params`, `query`\r\n * parameters and `hash` are the same\r\n *\r\n * @param a - first {@link RouteLocation}\r\n * @param b - second {@link RouteLocation}\r\n */\r\nfunction isSameRouteLocation(stringifyQuery, a, b) {\r\n    const aLastIndex = a.matched.length - 1;\r\n    const bLastIndex = b.matched.length - 1;\r\n    return (aLastIndex > -1 &&\r\n        aLastIndex === bLastIndex &&\r\n        isSameRouteRecord(a.matched[aLastIndex], b.matched[bLastIndex]) &&\r\n        isSameRouteLocationParams(a.params, b.params) &&\r\n        stringifyQuery(a.query) === stringifyQuery(b.query) &&\r\n        a.hash === b.hash);\r\n}\r\n/**\r\n * Check if two `RouteRecords` are equal. Takes into account aliases: they are\r\n * considered equal to the `RouteRecord` they are aliasing.\r\n *\r\n * @param a - first {@link RouteRecord}\r\n * @param b - second {@link RouteRecord}\r\n */\r\nfunction isSameRouteRecord(a, b) {\r\n    // since the original record has an undefined value for aliasOf\r\n    // but all aliases point to the original record, this will always compare\r\n    // the original record\r\n    return (a.aliasOf || a) === (b.aliasOf || b);\r\n}\r\nfunction isSameRouteLocationParams(a, b) {\r\n    if (Object.keys(a).length !== Object.keys(b).length)\r\n        return false;\r\n    for (const key in a) {\r\n        if (!isSameRouteLocationParamsValue(a[key], b[key]))\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\nfunction isSameRouteLocationParamsValue(a, b) {\r\n    return isArray(a)\r\n        ? isEquivalentArray(a, b)\r\n        : isArray(b)\r\n            ? isEquivalentArray(b, a)\r\n            : a === b;\r\n}\r\n/**\r\n * Check if two arrays are the same or if an array with one single entry is the\r\n * same as another primitive value. Used to check query and parameters\r\n *\r\n * @param a - array of values\r\n * @param b - array of values or a single value\r\n */\r\nfunction isEquivalentArray(a, b) {\r\n    return isArray(b)\r\n        ? a.length === b.length && a.every((value, i) => value === b[i])\r\n        : a.length === 1 && a[0] === b;\r\n}\r\n/**\r\n * Resolves a relative path that starts with `.`.\r\n *\r\n * @param to - path location we are resolving\r\n * @param from - currentLocation.path, should start with `/`\r\n */\r\nfunction resolveRelativePath(to, from) {\r\n    if (to.startsWith('/'))\r\n        return to;\r\n    if ((process.env.NODE_ENV !== 'production') && !from.startsWith('/')) {\r\n        warn(`Cannot resolve a relative location without an absolute path. Trying to resolve \"${to}\" from \"${from}\". It should look like \"/${from}\".`);\r\n        return to;\r\n    }\r\n    if (!to)\r\n        return from;\r\n    const fromSegments = from.split('/');\r\n    const toSegments = to.split('/');\r\n    let position = fromSegments.length - 1;\r\n    let toPosition;\r\n    let segment;\r\n    for (toPosition = 0; toPosition < toSegments.length; toPosition++) {\r\n        segment = toSegments[toPosition];\r\n        // we stay on the same position\r\n        if (segment === '.')\r\n            continue;\r\n        // go up in the from array\r\n        if (segment === '..') {\r\n            // we can't go below zero, but we still need to increment toPosition\r\n            if (position > 1)\r\n                position--;\r\n            // continue\r\n        }\r\n        // we reached a non-relative path, we stop here\r\n        else\r\n            break;\r\n    }\r\n    return (fromSegments.slice(0, position).join('/') +\r\n        '/' +\r\n        toSegments\r\n            // ensure we use at least the last element in the toSegments\r\n            .slice(toPosition - (toPosition === toSegments.length ? 1 : 0))\r\n            .join('/'));\r\n}\n\nvar NavigationType;\r\n(function (NavigationType) {\r\n    NavigationType[\"pop\"] = \"pop\";\r\n    NavigationType[\"push\"] = \"push\";\r\n})(NavigationType || (NavigationType = {}));\r\nvar NavigationDirection;\r\n(function (NavigationDirection) {\r\n    NavigationDirection[\"back\"] = \"back\";\r\n    NavigationDirection[\"forward\"] = \"forward\";\r\n    NavigationDirection[\"unknown\"] = \"\";\r\n})(NavigationDirection || (NavigationDirection = {}));\r\n/**\r\n * Starting location for Histories\r\n */\r\nconst START = '';\r\n// Generic utils\r\n/**\r\n * Normalizes a base by removing any trailing slash and reading the base tag if\r\n * present.\r\n *\r\n * @param base - base to normalize\r\n */\r\nfunction normalizeBase(base) {\r\n    if (!base) {\r\n        if (isBrowser) {\r\n            // respect <base> tag\r\n            const baseEl = document.querySelector('base');\r\n            base = (baseEl && baseEl.getAttribute('href')) || '/';\r\n            // strip full URL origin\r\n            base = base.replace(/^\\w+:\\/\\/[^\\/]+/, '');\r\n        }\r\n        else {\r\n            base = '/';\r\n        }\r\n    }\r\n    // ensure leading slash when it was removed by the regex above avoid leading\r\n    // slash with hash because the file could be read from the disk like file://\r\n    // and the leading slash would cause problems\r\n    if (base[0] !== '/' && base[0] !== '#')\r\n        base = '/' + base;\r\n    // remove the trailing slash so all other method can just do `base + fullPath`\r\n    // to build an href\r\n    return removeTrailingSlash(base);\r\n}\r\n// remove any character before the hash\r\nconst BEFORE_HASH_RE = /^[^#]+#/;\r\nfunction createHref(base, location) {\r\n    return base.replace(BEFORE_HASH_RE, '#') + location;\r\n}\n\nfunction getElementPosition(el, offset) {\r\n    const docRect = document.documentElement.getBoundingClientRect();\r\n    const elRect = el.getBoundingClientRect();\r\n    return {\r\n        behavior: offset.behavior,\r\n        left: elRect.left - docRect.left - (offset.left || 0),\r\n        top: elRect.top - docRect.top - (offset.top || 0),\r\n    };\r\n}\r\nconst computeScrollPosition = () => ({\r\n    left: window.pageXOffset,\r\n    top: window.pageYOffset,\r\n});\r\nfunction scrollToPosition(position) {\r\n    let scrollToOptions;\r\n    if ('el' in position) {\r\n        const positionEl = position.el;\r\n        const isIdSelector = typeof positionEl === 'string' && positionEl.startsWith('#');\r\n        /**\r\n         * `id`s can accept pretty much any characters, including CSS combinators\r\n         * like `>` or `~`. It's still possible to retrieve elements using\r\n         * `document.getElementById('~')` but it needs to be escaped when using\r\n         * `document.querySelector('#\\\\~')` for it to be valid. The only\r\n         * requirements for `id`s are them to be unique on the page and to not be\r\n         * empty (`id=\"\"`). Because of that, when passing an id selector, it should\r\n         * be properly escaped for it to work with `querySelector`. We could check\r\n         * for the id selector to be simple (no CSS combinators `+ >~`) but that\r\n         * would make things inconsistent since they are valid characters for an\r\n         * `id` but would need to be escaped when using `querySelector`, breaking\r\n         * their usage and ending up in no selector returned. Selectors need to be\r\n         * escaped:\r\n         *\r\n         * - `#1-thing` becomes `#\\31 -thing`\r\n         * - `#with~symbols` becomes `#with\\\\~symbols`\r\n         *\r\n         * - More information about  the topic can be found at\r\n         *   https://mathiasbynens.be/notes/html5-id-class.\r\n         * - Practical example: https://mathiasbynens.be/demo/html5-id\r\n         */\r\n        if ((process.env.NODE_ENV !== 'production') && typeof position.el === 'string') {\r\n            if (!isIdSelector || !document.getElementById(position.el.slice(1))) {\r\n                try {\r\n                    const foundEl = document.querySelector(position.el);\r\n                    if (isIdSelector && foundEl) {\r\n                        warn(`The selector \"${position.el}\" should be passed as \"el: document.querySelector('${position.el}')\" because it starts with \"#\".`);\r\n                        // return to avoid other warnings\r\n                        return;\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    warn(`The selector \"${position.el}\" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);\r\n                    // return to avoid other warnings\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        const el = typeof positionEl === 'string'\r\n            ? isIdSelector\r\n                ? document.getElementById(positionEl.slice(1))\r\n                : document.querySelector(positionEl)\r\n            : positionEl;\r\n        if (!el) {\r\n            (process.env.NODE_ENV !== 'production') &&\r\n                warn(`Couldn't find element using selector \"${position.el}\" returned by scrollBehavior.`);\r\n            return;\r\n        }\r\n        scrollToOptions = getElementPosition(el, position);\r\n    }\r\n    else {\r\n        scrollToOptions = position;\r\n    }\r\n    if ('scrollBehavior' in document.documentElement.style)\r\n        window.scrollTo(scrollToOptions);\r\n    else {\r\n        window.scrollTo(scrollToOptions.left != null ? scrollToOptions.left : window.pageXOffset, scrollToOptions.top != null ? scrollToOptions.top : window.pageYOffset);\r\n    }\r\n}\r\nfunction getScrollKey(path, delta) {\r\n    const position = history.state ? history.state.position - delta : -1;\r\n    return position + path;\r\n}\r\nconst scrollPositions = new Map();\r\nfunction saveScrollPosition(key, scrollPosition) {\r\n    scrollPositions.set(key, scrollPosition);\r\n}\r\nfunction getSavedScrollPosition(key) {\r\n    const scroll = scrollPositions.get(key);\r\n    // consume it so it's not used again\r\n    scrollPositions.delete(key);\r\n    return scroll;\r\n}\r\n// TODO: RFC about how to save scroll position\r\n/**\r\n * ScrollBehavior instance used by the router to compute and restore the scroll\r\n * position when navigating.\r\n */\r\n// export interface ScrollHandler<ScrollPositionEntry extends HistoryStateValue, ScrollPosition extends ScrollPositionEntry> {\r\n//   // returns a scroll position that can be saved in history\r\n//   compute(): ScrollPositionEntry\r\n//   // can take an extended ScrollPositionEntry\r\n//   scroll(position: ScrollPosition): void\r\n// }\r\n// export const scrollHandler: ScrollHandler<ScrollPosition> = {\r\n//   compute: computeScroll,\r\n//   scroll: scrollToPosition,\r\n// }\n\nlet createBaseLocation = () => location.protocol + '//' + location.host;\r\n/**\r\n * Creates a normalized history location from a window.location object\r\n * @param location -\r\n */\r\nfunction createCurrentLocation(base, location) {\r\n    const { pathname, search, hash } = location;\r\n    // allows hash bases like #, /#, #/, #!, #!/, /#!/, or even /folder#end\r\n    const hashPos = base.indexOf('#');\r\n    if (hashPos > -1) {\r\n        let slicePos = hash.includes(base.slice(hashPos))\r\n            ? base.slice(hashPos).length\r\n            : 1;\r\n        let pathFromHash = hash.slice(slicePos);\r\n        // prepend the starting slash to hash so the url starts with /#\r\n        if (pathFromHash[0] !== '/')\r\n            pathFromHash = '/' + pathFromHash;\r\n        return stripBase(pathFromHash, '');\r\n    }\r\n    const path = stripBase(pathname, base);\r\n    return path + search + hash;\r\n}\r\nfunction useHistoryListeners(base, historyState, currentLocation, replace) {\r\n    let listeners = [];\r\n    let teardowns = [];\r\n    // TODO: should it be a stack? a Dict. Check if the popstate listener\r\n    // can trigger twice\r\n    let pauseState = null;\r\n    const popStateHandler = ({ state, }) => {\r\n        const to = createCurrentLocation(base, location);\r\n        const from = currentLocation.value;\r\n        const fromState = historyState.value;\r\n        let delta = 0;\r\n        if (state) {\r\n            currentLocation.value = to;\r\n            historyState.value = state;\r\n            // ignore the popstate and reset the pauseState\r\n            if (pauseState && pauseState === from) {\r\n                pauseState = null;\r\n                return;\r\n            }\r\n            delta = fromState ? state.position - fromState.position : 0;\r\n        }\r\n        else {\r\n            replace(to);\r\n        }\r\n        // console.log({ deltaFromCurrent })\r\n        // Here we could also revert the navigation by calling history.go(-delta)\r\n        // this listener will have to be adapted to not trigger again and to wait for the url\r\n        // to be updated before triggering the listeners. Some kind of validation function would also\r\n        // need to be passed to the listeners so the navigation can be accepted\r\n        // call all listeners\r\n        listeners.forEach(listener => {\r\n            listener(currentLocation.value, from, {\r\n                delta,\r\n                type: NavigationType.pop,\r\n                direction: delta\r\n                    ? delta > 0\r\n                        ? NavigationDirection.forward\r\n                        : NavigationDirection.back\r\n                    : NavigationDirection.unknown,\r\n            });\r\n        });\r\n    };\r\n    function pauseListeners() {\r\n        pauseState = currentLocation.value;\r\n    }\r\n    function listen(callback) {\r\n        // set up the listener and prepare teardown callbacks\r\n        listeners.push(callback);\r\n        const teardown = () => {\r\n            const index = listeners.indexOf(callback);\r\n            if (index > -1)\r\n                listeners.splice(index, 1);\r\n        };\r\n        teardowns.push(teardown);\r\n        return teardown;\r\n    }\r\n    function beforeUnloadListener() {\r\n        const { history } = window;\r\n        if (!history.state)\r\n            return;\r\n        history.replaceState(assign({}, history.state, { scroll: computeScrollPosition() }), '');\r\n    }\r\n    function destroy() {\r\n        for (const teardown of teardowns)\r\n            teardown();\r\n        teardowns = [];\r\n        window.removeEventListener('popstate', popStateHandler);\r\n        window.removeEventListener('beforeunload', beforeUnloadListener);\r\n    }\r\n    // set up the listeners and prepare teardown callbacks\r\n    window.addEventListener('popstate', popStateHandler);\r\n    window.addEventListener('beforeunload', beforeUnloadListener);\r\n    return {\r\n        pauseListeners,\r\n        listen,\r\n        destroy,\r\n    };\r\n}\r\n/**\r\n * Creates a state object\r\n */\r\nfunction buildState(back, current, forward, replaced = false, computeScroll = false) {\r\n    return {\r\n        back,\r\n        current,\r\n        forward,\r\n        replaced,\r\n        position: window.history.length,\r\n        scroll: computeScroll ? computeScrollPosition() : null,\r\n    };\r\n}\r\nfunction useHistoryStateNavigation(base) {\r\n    const { history, location } = window;\r\n    // private variables\r\n    const currentLocation = {\r\n        value: createCurrentLocation(base, location),\r\n    };\r\n    const historyState = { value: history.state };\r\n    // build current history entry as this is a fresh navigation\r\n    if (!historyState.value) {\r\n        changeLocation(currentLocation.value, {\r\n            back: null,\r\n            current: currentLocation.value,\r\n            forward: null,\r\n            // the length is off by one, we need to decrease it\r\n            position: history.length - 1,\r\n            replaced: true,\r\n            // don't add a scroll as the user may have an anchor, and we want\r\n            // scrollBehavior to be triggered without a saved position\r\n            scroll: null,\r\n        }, true);\r\n    }\r\n    function changeLocation(to, state, replace) {\r\n        /**\r\n         * if a base tag is provided, and we are on a normal domain, we have to\r\n         * respect the provided `base` attribute because pushState() will use it and\r\n         * potentially erase anything before the `#` like at\r\n         * https://github.com/vuejs/router/issues/685 where a base of\r\n         * `/folder/#` but a base of `/` would erase the `/folder/` section. If\r\n         * there is no host, the `<base>` tag makes no sense and if there isn't a\r\n         * base tag we can just use everything after the `#`.\r\n         */\r\n        const hashIndex = base.indexOf('#');\r\n        const url = hashIndex > -1\r\n            ? (location.host && document.querySelector('base')\r\n                ? base\r\n                : base.slice(hashIndex)) + to\r\n            : createBaseLocation() + base + to;\r\n        try {\r\n            // BROWSER QUIRK\r\n            // NOTE: Safari throws a SecurityError when calling this function 100 times in 30 seconds\r\n            history[replace ? 'replaceState' : 'pushState'](state, '', url);\r\n            historyState.value = state;\r\n        }\r\n        catch (err) {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                warn('Error with push/replace State', err);\r\n            }\r\n            else {\r\n                console.error(err);\r\n            }\r\n            // Force the navigation, this also resets the call count\r\n            location[replace ? 'replace' : 'assign'](url);\r\n        }\r\n    }\r\n    function replace(to, data) {\r\n        const state = assign({}, history.state, buildState(historyState.value.back, \r\n        // keep back and forward entries but override current position\r\n        to, historyState.value.forward, true), data, { position: historyState.value.position });\r\n        changeLocation(to, state, true);\r\n        currentLocation.value = to;\r\n    }\r\n    function push(to, data) {\r\n        // Add to current entry the information of where we are going\r\n        // as well as saving the current position\r\n        const currentState = assign({}, \r\n        // use current history state to gracefully handle a wrong call to\r\n        // history.replaceState\r\n        // https://github.com/vuejs/router/issues/366\r\n        historyState.value, history.state, {\r\n            forward: to,\r\n            scroll: computeScrollPosition(),\r\n        });\r\n        if ((process.env.NODE_ENV !== 'production') && !history.state) {\r\n            warn(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:\\n\\n` +\r\n                `history.replaceState(history.state, '', url)\\n\\n` +\r\n                `You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`);\r\n        }\r\n        changeLocation(currentState.current, currentState, true);\r\n        const state = assign({}, buildState(currentLocation.value, to, null), { position: currentState.position + 1 }, data);\r\n        changeLocation(to, state, false);\r\n        currentLocation.value = to;\r\n    }\r\n    return {\r\n        location: currentLocation,\r\n        state: historyState,\r\n        push,\r\n        replace,\r\n    };\r\n}\r\n/**\r\n * Creates an HTML5 history. Most common history for single page applications.\r\n *\r\n * @param base -\r\n */\r\nfunction createWebHistory(base) {\r\n    base = normalizeBase(base);\r\n    const historyNavigation = useHistoryStateNavigation(base);\r\n    const historyListeners = useHistoryListeners(base, historyNavigation.state, historyNavigation.location, historyNavigation.replace);\r\n    function go(delta, triggerListeners = true) {\r\n        if (!triggerListeners)\r\n            historyListeners.pauseListeners();\r\n        history.go(delta);\r\n    }\r\n    const routerHistory = assign({\r\n        // it's overridden right after\r\n        location: '',\r\n        base,\r\n        go,\r\n        createHref: createHref.bind(null, base),\r\n    }, historyNavigation, historyListeners);\r\n    Object.defineProperty(routerHistory, 'location', {\r\n        enumerable: true,\r\n        get: () => historyNavigation.location.value,\r\n    });\r\n    Object.defineProperty(routerHistory, 'state', {\r\n        enumerable: true,\r\n        get: () => historyNavigation.state.value,\r\n    });\r\n    return routerHistory;\r\n}\n\n/**\r\n * Creates an in-memory based history. The main purpose of this history is to handle SSR. It starts in a special location that is nowhere.\r\n * It's up to the user to replace that location with the starter location by either calling `router.push` or `router.replace`.\r\n *\r\n * @param base - Base applied to all urls, defaults to '/'\r\n * @returns a history object that can be passed to the router constructor\r\n */\r\nfunction createMemoryHistory(base = '') {\r\n    let listeners = [];\r\n    let queue = [START];\r\n    let position = 0;\r\n    base = normalizeBase(base);\r\n    function setLocation(location) {\r\n        position++;\r\n        if (position === queue.length) {\r\n            // we are at the end, we can simply append a new entry\r\n            queue.push(location);\r\n        }\r\n        else {\r\n            // we are in the middle, we remove everything from here in the queue\r\n            queue.splice(position);\r\n            queue.push(location);\r\n        }\r\n    }\r\n    function triggerListeners(to, from, { direction, delta }) {\r\n        const info = {\r\n            direction,\r\n            delta,\r\n            type: NavigationType.pop,\r\n        };\r\n        for (const callback of listeners) {\r\n            callback(to, from, info);\r\n        }\r\n    }\r\n    const routerHistory = {\r\n        // rewritten by Object.defineProperty\r\n        location: START,\r\n        // TODO: should be kept in queue\r\n        state: {},\r\n        base,\r\n        createHref: createHref.bind(null, base),\r\n        replace(to) {\r\n            // remove current entry and decrement position\r\n            queue.splice(position--, 1);\r\n            setLocation(to);\r\n        },\r\n        push(to, data) {\r\n            setLocation(to);\r\n        },\r\n        listen(callback) {\r\n            listeners.push(callback);\r\n            return () => {\r\n                const index = listeners.indexOf(callback);\r\n                if (index > -1)\r\n                    listeners.splice(index, 1);\r\n            };\r\n        },\r\n        destroy() {\r\n            listeners = [];\r\n            queue = [START];\r\n            position = 0;\r\n        },\r\n        go(delta, shouldTrigger = true) {\r\n            const from = this.location;\r\n            const direction = \r\n            // we are considering delta === 0 going forward, but in abstract mode\r\n            // using 0 for the delta doesn't make sense like it does in html5 where\r\n            // it reloads the page\r\n            delta < 0 ? NavigationDirection.back : NavigationDirection.forward;\r\n            position = Math.max(0, Math.min(position + delta, queue.length - 1));\r\n            if (shouldTrigger) {\r\n                triggerListeners(this.location, from, {\r\n                    direction,\r\n                    delta,\r\n                });\r\n            }\r\n        },\r\n    };\r\n    Object.defineProperty(routerHistory, 'location', {\r\n        enumerable: true,\r\n        get: () => queue[position],\r\n    });\r\n    return routerHistory;\r\n}\n\n/**\r\n * Creates a hash history. Useful for web applications with no host (e.g. `file://`) or when configuring a server to\r\n * handle any URL is not possible.\r\n *\r\n * @param base - optional base to provide. Defaults to `location.pathname + location.search` If there is a `<base>` tag\r\n * in the `head`, its value will be ignored in favor of this parameter **but note it affects all the history.pushState()\r\n * calls**, meaning that if you use a `<base>` tag, it's `href` value **has to match this parameter** (ignoring anything\r\n * after the `#`).\r\n *\r\n * @example\r\n * ```js\r\n * // at https://example.com/folder\r\n * createWebHashHistory() // gives a url of `https://example.com/folder#`\r\n * createWebHashHistory('/folder/') // gives a url of `https://example.com/folder/#`\r\n * // if the `#` is provided in the base, it won't be added by `createWebHashHistory`\r\n * createWebHashHistory('/folder/#/app/') // gives a url of `https://example.com/folder/#/app/`\r\n * // you should avoid doing this because it changes the original url and breaks copying urls\r\n * createWebHashHistory('/other-folder/') // gives a url of `https://example.com/other-folder/#`\r\n *\r\n * // at file:///usr/etc/folder/index.html\r\n * // for locations with no `host`, the base is ignored\r\n * createWebHashHistory('/iAmIgnored') // gives a url of `file:///usr/etc/folder/index.html#`\r\n * ```\r\n */\r\nfunction createWebHashHistory(base) {\r\n    // Make sure this implementation is fine in terms of encoding, specially for IE11\r\n    // for `file://`, directly use the pathname and ignore the base\r\n    // location.pathname contains an initial `/` even at the root: `https://example.com`\r\n    base = location.host ? base || location.pathname + location.search : '';\r\n    // allow the user to provide a `#` in the middle: `/base/#/app`\r\n    if (!base.includes('#'))\r\n        base += '#';\r\n    if ((process.env.NODE_ENV !== 'production') && !base.endsWith('#/') && !base.endsWith('#')) {\r\n        warn(`A hash base must end with a \"#\":\\n\"${base}\" should be \"${base.replace(/#.*$/, '#')}\".`);\r\n    }\r\n    return createWebHistory(base);\r\n}\n\nfunction isRouteLocation(route) {\r\n    return typeof route === 'string' || (route && typeof route === 'object');\r\n}\r\nfunction isRouteName(name) {\r\n    return typeof name === 'string' || typeof name === 'symbol';\r\n}\n\n/**\r\n * Initial route location where the router is. Can be used in navigation guards\r\n * to differentiate the initial navigation.\r\n *\r\n * @example\r\n * ```js\r\n * import { START_LOCATION } from 'vue-router'\r\n *\r\n * router.beforeEach((to, from) => {\r\n *   if (from === START_LOCATION) {\r\n *     // initial navigation\r\n *   }\r\n * })\r\n * ```\r\n */\r\nconst START_LOCATION_NORMALIZED = {\r\n    path: '/',\r\n    name: undefined,\r\n    params: {},\r\n    query: {},\r\n    hash: '',\r\n    fullPath: '/',\r\n    matched: [],\r\n    meta: {},\r\n    redirectedFrom: undefined,\r\n};\n\nconst NavigationFailureSymbol = Symbol((process.env.NODE_ENV !== 'production') ? 'navigation failure' : '');\r\n/**\r\n * Enumeration with all possible types for navigation failures. Can be passed to\r\n * {@link isNavigationFailure} to check for specific failures.\r\n */\r\nvar NavigationFailureType;\r\n(function (NavigationFailureType) {\r\n    /**\r\n     * An aborted navigation is a navigation that failed because a navigation\r\n     * guard returned `false` or called `next(false)`\r\n     */\r\n    NavigationFailureType[NavigationFailureType[\"aborted\"] = 4] = \"aborted\";\r\n    /**\r\n     * A cancelled navigation is a navigation that failed because a more recent\r\n     * navigation finished started (not necessarily finished).\r\n     */\r\n    NavigationFailureType[NavigationFailureType[\"cancelled\"] = 8] = \"cancelled\";\r\n    /**\r\n     * A duplicated navigation is a navigation that failed because it was\r\n     * initiated while already being at the exact same location.\r\n     */\r\n    NavigationFailureType[NavigationFailureType[\"duplicated\"] = 16] = \"duplicated\";\r\n})(NavigationFailureType || (NavigationFailureType = {}));\r\n// DEV only debug messages\r\nconst ErrorTypeMessages = {\r\n    [1 /* ErrorTypes.MATCHER_NOT_FOUND */]({ location, currentLocation }) {\r\n        return `No match for\\n ${JSON.stringify(location)}${currentLocation\r\n            ? '\\nwhile being at\\n' + JSON.stringify(currentLocation)\r\n            : ''}`;\r\n    },\r\n    [2 /* ErrorTypes.NAVIGATION_GUARD_REDIRECT */]({ from, to, }) {\r\n        return `Redirected from \"${from.fullPath}\" to \"${stringifyRoute(to)}\" via a navigation guard.`;\r\n    },\r\n    [4 /* ErrorTypes.NAVIGATION_ABORTED */]({ from, to }) {\r\n        return `Navigation aborted from \"${from.fullPath}\" to \"${to.fullPath}\" via a navigation guard.`;\r\n    },\r\n    [8 /* ErrorTypes.NAVIGATION_CANCELLED */]({ from, to }) {\r\n        return `Navigation cancelled from \"${from.fullPath}\" to \"${to.fullPath}\" with a new navigation.`;\r\n    },\r\n    [16 /* ErrorTypes.NAVIGATION_DUPLICATED */]({ from, to }) {\r\n        return `Avoided redundant navigation to current location: \"${from.fullPath}\".`;\r\n    },\r\n};\r\nfunction createRouterError(type, params) {\r\n    // keep full error messages in cjs versions\r\n    if ((process.env.NODE_ENV !== 'production') || !true) {\r\n        return assign(new Error(ErrorTypeMessages[type](params)), {\r\n            type,\r\n            [NavigationFailureSymbol]: true,\r\n        }, params);\r\n    }\r\n    else {\r\n        return assign(new Error(), {\r\n            type,\r\n            [NavigationFailureSymbol]: true,\r\n        }, params);\r\n    }\r\n}\r\nfunction isNavigationFailure(error, type) {\r\n    return (error instanceof Error &&\r\n        NavigationFailureSymbol in error &&\r\n        (type == null || !!(error.type & type)));\r\n}\r\nconst propertiesToLog = ['params', 'query', 'hash'];\r\nfunction stringifyRoute(to) {\r\n    if (typeof to === 'string')\r\n        return to;\r\n    if ('path' in to)\r\n        return to.path;\r\n    const location = {};\r\n    for (const key of propertiesToLog) {\r\n        if (key in to)\r\n            location[key] = to[key];\r\n    }\r\n    return JSON.stringify(location, null, 2);\r\n}\n\n// default pattern for a param: non-greedy everything but /\r\nconst BASE_PARAM_PATTERN = '[^/]+?';\r\nconst BASE_PATH_PARSER_OPTIONS = {\r\n    sensitive: false,\r\n    strict: false,\r\n    start: true,\r\n    end: true,\r\n};\r\n// Special Regex characters that must be escaped in static tokens\r\nconst REGEX_CHARS_RE = /[.+*?^${}()[\\]/\\\\]/g;\r\n/**\r\n * Creates a path parser from an array of Segments (a segment is an array of Tokens)\r\n *\r\n * @param segments - array of segments returned by tokenizePath\r\n * @param extraOptions - optional options for the regexp\r\n * @returns a PathParser\r\n */\r\nfunction tokensToParser(segments, extraOptions) {\r\n    const options = assign({}, BASE_PATH_PARSER_OPTIONS, extraOptions);\r\n    // the amount of scores is the same as the length of segments except for the root segment \"/\"\r\n    const score = [];\r\n    // the regexp as a string\r\n    let pattern = options.start ? '^' : '';\r\n    // extracted keys\r\n    const keys = [];\r\n    for (const segment of segments) {\r\n        // the root segment needs special treatment\r\n        const segmentScores = segment.length ? [] : [90 /* PathScore.Root */];\r\n        // allow trailing slash\r\n        if (options.strict && !segment.length)\r\n            pattern += '/';\r\n        for (let tokenIndex = 0; tokenIndex < segment.length; tokenIndex++) {\r\n            const token = segment[tokenIndex];\r\n            // resets the score if we are inside a sub-segment /:a-other-:b\r\n            let subSegmentScore = 40 /* PathScore.Segment */ +\r\n                (options.sensitive ? 0.25 /* PathScore.BonusCaseSensitive */ : 0);\r\n            if (token.type === 0 /* TokenType.Static */) {\r\n                // prepend the slash if we are starting a new segment\r\n                if (!tokenIndex)\r\n                    pattern += '/';\r\n                pattern += token.value.replace(REGEX_CHARS_RE, '\\\\$&');\r\n                subSegmentScore += 40 /* PathScore.Static */;\r\n            }\r\n            else if (token.type === 1 /* TokenType.Param */) {\r\n                const { value, repeatable, optional, regexp } = token;\r\n                keys.push({\r\n                    name: value,\r\n                    repeatable,\r\n                    optional,\r\n                });\r\n                const re = regexp ? regexp : BASE_PARAM_PATTERN;\r\n                // the user provided a custom regexp /:id(\\\\d+)\r\n                if (re !== BASE_PARAM_PATTERN) {\r\n                    subSegmentScore += 10 /* PathScore.BonusCustomRegExp */;\r\n                    // make sure the regexp is valid before using it\r\n                    try {\r\n                        new RegExp(`(${re})`);\r\n                    }\r\n                    catch (err) {\r\n                        throw new Error(`Invalid custom RegExp for param \"${value}\" (${re}): ` +\r\n                            err.message);\r\n                    }\r\n                }\r\n                // when we repeat we must take care of the repeating leading slash\r\n                let subPattern = repeatable ? `((?:${re})(?:/(?:${re}))*)` : `(${re})`;\r\n                // prepend the slash if we are starting a new segment\r\n                if (!tokenIndex)\r\n                    subPattern =\r\n                        // avoid an optional / if there are more segments e.g. /:p?-static\r\n                        // or /:p?-:p2\r\n                        optional && segment.length < 2\r\n                            ? `(?:/${subPattern})`\r\n                            : '/' + subPattern;\r\n                if (optional)\r\n                    subPattern += '?';\r\n                pattern += subPattern;\r\n                subSegmentScore += 20 /* PathScore.Dynamic */;\r\n                if (optional)\r\n                    subSegmentScore += -8 /* PathScore.BonusOptional */;\r\n                if (repeatable)\r\n                    subSegmentScore += -20 /* PathScore.BonusRepeatable */;\r\n                if (re === '.*')\r\n                    subSegmentScore += -50 /* PathScore.BonusWildcard */;\r\n            }\r\n            segmentScores.push(subSegmentScore);\r\n        }\r\n        // an empty array like /home/ -> [[{home}], []]\r\n        // if (!segment.length) pattern += '/'\r\n        score.push(segmentScores);\r\n    }\r\n    // only apply the strict bonus to the last score\r\n    if (options.strict && options.end) {\r\n        const i = score.length - 1;\r\n        score[i][score[i].length - 1] += 0.7000000000000001 /* PathScore.BonusStrict */;\r\n    }\r\n    // TODO: dev only warn double trailing slash\r\n    if (!options.strict)\r\n        pattern += '/?';\r\n    if (options.end)\r\n        pattern += '$';\r\n    // allow paths like /dynamic to only match dynamic or dynamic/... but not dynamic_something_else\r\n    else if (options.strict)\r\n        pattern += '(?:/|$)';\r\n    const re = new RegExp(pattern, options.sensitive ? '' : 'i');\r\n    function parse(path) {\r\n        const match = path.match(re);\r\n        const params = {};\r\n        if (!match)\r\n            return null;\r\n        for (let i = 1; i < match.length; i++) {\r\n            const value = match[i] || '';\r\n            const key = keys[i - 1];\r\n            params[key.name] = value && key.repeatable ? value.split('/') : value;\r\n        }\r\n        return params;\r\n    }\r\n    function stringify(params) {\r\n        let path = '';\r\n        // for optional parameters to allow to be empty\r\n        let avoidDuplicatedSlash = false;\r\n        for (const segment of segments) {\r\n            if (!avoidDuplicatedSlash || !path.endsWith('/'))\r\n                path += '/';\r\n            avoidDuplicatedSlash = false;\r\n            for (const token of segment) {\r\n                if (token.type === 0 /* TokenType.Static */) {\r\n                    path += token.value;\r\n                }\r\n                else if (token.type === 1 /* TokenType.Param */) {\r\n                    const { value, repeatable, optional } = token;\r\n                    const param = value in params ? params[value] : '';\r\n                    if (isArray(param) && !repeatable) {\r\n                        throw new Error(`Provided param \"${value}\" is an array but it is not repeatable (* or + modifiers)`);\r\n                    }\r\n                    const text = isArray(param)\r\n                        ? param.join('/')\r\n                        : param;\r\n                    if (!text) {\r\n                        if (optional) {\r\n                            // if we have more than one optional param like /:a?-static we don't need to care about the optional param\r\n                            if (segment.length < 2) {\r\n                                // remove the last slash as we could be at the end\r\n                                if (path.endsWith('/'))\r\n                                    path = path.slice(0, -1);\r\n                                // do not append a slash on the next iteration\r\n                                else\r\n                                    avoidDuplicatedSlash = true;\r\n                            }\r\n                        }\r\n                        else\r\n                            throw new Error(`Missing required param \"${value}\"`);\r\n                    }\r\n                    path += text;\r\n                }\r\n            }\r\n        }\r\n        // avoid empty path when we have multiple optional params\r\n        return path || '/';\r\n    }\r\n    return {\r\n        re,\r\n        score,\r\n        keys,\r\n        parse,\r\n        stringify,\r\n    };\r\n}\r\n/**\r\n * Compares an array of numbers as used in PathParser.score and returns a\r\n * number. This function can be used to `sort` an array\r\n *\r\n * @param a - first array of numbers\r\n * @param b - second array of numbers\r\n * @returns 0 if both are equal, < 0 if a should be sorted first, > 0 if b\r\n * should be sorted first\r\n */\r\nfunction compareScoreArray(a, b) {\r\n    let i = 0;\r\n    while (i < a.length && i < b.length) {\r\n        const diff = b[i] - a[i];\r\n        // only keep going if diff === 0\r\n        if (diff)\r\n            return diff;\r\n        i++;\r\n    }\r\n    // if the last subsegment was Static, the shorter segments should be sorted first\r\n    // otherwise sort the longest segment first\r\n    if (a.length < b.length) {\r\n        return a.length === 1 && a[0] === 40 /* PathScore.Static */ + 40 /* PathScore.Segment */\r\n            ? -1\r\n            : 1;\r\n    }\r\n    else if (a.length > b.length) {\r\n        return b.length === 1 && b[0] === 40 /* PathScore.Static */ + 40 /* PathScore.Segment */\r\n            ? 1\r\n            : -1;\r\n    }\r\n    return 0;\r\n}\r\n/**\r\n * Compare function that can be used with `sort` to sort an array of PathParser\r\n *\r\n * @param a - first PathParser\r\n * @param b - second PathParser\r\n * @returns 0 if both are equal, < 0 if a should be sorted first, > 0 if b\r\n */\r\nfunction comparePathParserScore(a, b) {\r\n    let i = 0;\r\n    const aScore = a.score;\r\n    const bScore = b.score;\r\n    while (i < aScore.length && i < bScore.length) {\r\n        const comp = compareScoreArray(aScore[i], bScore[i]);\r\n        // do not return if both are equal\r\n        if (comp)\r\n            return comp;\r\n        i++;\r\n    }\r\n    if (Math.abs(bScore.length - aScore.length) === 1) {\r\n        if (isLastScoreNegative(aScore))\r\n            return 1;\r\n        if (isLastScoreNegative(bScore))\r\n            return -1;\r\n    }\r\n    // if a and b share the same score entries but b has more, sort b first\r\n    return bScore.length - aScore.length;\r\n    // this is the ternary version\r\n    // return aScore.length < bScore.length\r\n    //   ? 1\r\n    //   : aScore.length > bScore.length\r\n    //   ? -1\r\n    //   : 0\r\n}\r\n/**\r\n * This allows detecting splats at the end of a path: /home/:id(.*)*\r\n *\r\n * @param score - score to check\r\n * @returns true if the last entry is negative\r\n */\r\nfunction isLastScoreNegative(score) {\r\n    const last = score[score.length - 1];\r\n    return score.length > 0 && last[last.length - 1] < 0;\r\n}\n\nconst ROOT_TOKEN = {\r\n    type: 0 /* TokenType.Static */,\r\n    value: '',\r\n};\r\nconst VALID_PARAM_RE = /[a-zA-Z0-9_]/;\r\n// After some profiling, the cache seems to be unnecessary because tokenizePath\r\n// (the slowest part of adding a route) is very fast\r\n// const tokenCache = new Map<string, Token[][]>()\r\nfunction tokenizePath(path) {\r\n    if (!path)\r\n        return [[]];\r\n    if (path === '/')\r\n        return [[ROOT_TOKEN]];\r\n    if (!path.startsWith('/')) {\r\n        throw new Error((process.env.NODE_ENV !== 'production')\r\n            ? `Route paths should start with a \"/\": \"${path}\" should be \"/${path}\".`\r\n            : `Invalid path \"${path}\"`);\r\n    }\r\n    // if (tokenCache.has(path)) return tokenCache.get(path)!\r\n    function crash(message) {\r\n        throw new Error(`ERR (${state})/\"${buffer}\": ${message}`);\r\n    }\r\n    let state = 0 /* TokenizerState.Static */;\r\n    let previousState = state;\r\n    const tokens = [];\r\n    // the segment will always be valid because we get into the initial state\r\n    // with the leading /\r\n    let segment;\r\n    function finalizeSegment() {\r\n        if (segment)\r\n            tokens.push(segment);\r\n        segment = [];\r\n    }\r\n    // index on the path\r\n    let i = 0;\r\n    // char at index\r\n    let char;\r\n    // buffer of the value read\r\n    let buffer = '';\r\n    // custom regexp for a param\r\n    let customRe = '';\r\n    function consumeBuffer() {\r\n        if (!buffer)\r\n            return;\r\n        if (state === 0 /* TokenizerState.Static */) {\r\n            segment.push({\r\n                type: 0 /* TokenType.Static */,\r\n                value: buffer,\r\n            });\r\n        }\r\n        else if (state === 1 /* TokenizerState.Param */ ||\r\n            state === 2 /* TokenizerState.ParamRegExp */ ||\r\n            state === 3 /* TokenizerState.ParamRegExpEnd */) {\r\n            if (segment.length > 1 && (char === '*' || char === '+'))\r\n                crash(`A repeatable param (${buffer}) must be alone in its segment. eg: '/:ids+.`);\r\n            segment.push({\r\n                type: 1 /* TokenType.Param */,\r\n                value: buffer,\r\n                regexp: customRe,\r\n                repeatable: char === '*' || char === '+',\r\n                optional: char === '*' || char === '?',\r\n            });\r\n        }\r\n        else {\r\n            crash('Invalid state to consume buffer');\r\n        }\r\n        buffer = '';\r\n    }\r\n    function addCharToBuffer() {\r\n        buffer += char;\r\n    }\r\n    while (i < path.length) {\r\n        char = path[i++];\r\n        if (char === '\\\\' && state !== 2 /* TokenizerState.ParamRegExp */) {\r\n            previousState = state;\r\n            state = 4 /* TokenizerState.EscapeNext */;\r\n            continue;\r\n        }\r\n        switch (state) {\r\n            case 0 /* TokenizerState.Static */:\r\n                if (char === '/') {\r\n                    if (buffer) {\r\n                        consumeBuffer();\r\n                    }\r\n                    finalizeSegment();\r\n                }\r\n                else if (char === ':') {\r\n                    consumeBuffer();\r\n                    state = 1 /* TokenizerState.Param */;\r\n                }\r\n                else {\r\n                    addCharToBuffer();\r\n                }\r\n                break;\r\n            case 4 /* TokenizerState.EscapeNext */:\r\n                addCharToBuffer();\r\n                state = previousState;\r\n                break;\r\n            case 1 /* TokenizerState.Param */:\r\n                if (char === '(') {\r\n                    state = 2 /* TokenizerState.ParamRegExp */;\r\n                }\r\n                else if (VALID_PARAM_RE.test(char)) {\r\n                    addCharToBuffer();\r\n                }\r\n                else {\r\n                    consumeBuffer();\r\n                    state = 0 /* TokenizerState.Static */;\r\n                    // go back one character if we were not modifying\r\n                    if (char !== '*' && char !== '?' && char !== '+')\r\n                        i--;\r\n                }\r\n                break;\r\n            case 2 /* TokenizerState.ParamRegExp */:\r\n                // TODO: is it worth handling nested regexp? like :p(?:prefix_([^/]+)_suffix)\r\n                // it already works by escaping the closing )\r\n                // https://paths.esm.dev/?p=AAMeJbiAwQEcDKbAoAAkP60PG2R6QAvgNaA6AFACM2ABuQBB#\r\n                // is this really something people need since you can also write\r\n                // /prefix_:p()_suffix\r\n                if (char === ')') {\r\n                    // handle the escaped )\r\n                    if (customRe[customRe.length - 1] == '\\\\')\r\n                        customRe = customRe.slice(0, -1) + char;\r\n                    else\r\n                        state = 3 /* TokenizerState.ParamRegExpEnd */;\r\n                }\r\n                else {\r\n                    customRe += char;\r\n                }\r\n                break;\r\n            case 3 /* TokenizerState.ParamRegExpEnd */:\r\n                // same as finalizing a param\r\n                consumeBuffer();\r\n                state = 0 /* TokenizerState.Static */;\r\n                // go back one character if we were not modifying\r\n                if (char !== '*' && char !== '?' && char !== '+')\r\n                    i--;\r\n                customRe = '';\r\n                break;\r\n            default:\r\n                crash('Unknown state');\r\n                break;\r\n        }\r\n    }\r\n    if (state === 2 /* TokenizerState.ParamRegExp */)\r\n        crash(`Unfinished custom RegExp for param \"${buffer}\"`);\r\n    consumeBuffer();\r\n    finalizeSegment();\r\n    // tokenCache.set(path, tokens)\r\n    return tokens;\r\n}\n\nfunction createRouteRecordMatcher(record, parent, options) {\r\n    const parser = tokensToParser(tokenizePath(record.path), options);\r\n    // warn against params with the same name\r\n    if ((process.env.NODE_ENV !== 'production')) {\r\n        const existingKeys = new Set();\r\n        for (const key of parser.keys) {\r\n            if (existingKeys.has(key.name))\r\n                warn(`Found duplicated params with name \"${key.name}\" for path \"${record.path}\". Only the last one will be available on \"$route.params\".`);\r\n            existingKeys.add(key.name);\r\n        }\r\n    }\r\n    const matcher = assign(parser, {\r\n        record,\r\n        parent,\r\n        // these needs to be populated by the parent\r\n        children: [],\r\n        alias: [],\r\n    });\r\n    if (parent) {\r\n        // both are aliases or both are not aliases\r\n        // we don't want to mix them because the order is used when\r\n        // passing originalRecord in Matcher.addRoute\r\n        if (!matcher.record.aliasOf === !parent.record.aliasOf)\r\n            parent.children.push(matcher);\r\n    }\r\n    return matcher;\r\n}\n\n/**\r\n * Creates a Router Matcher.\r\n *\r\n * @internal\r\n * @param routes - array of initial routes\r\n * @param globalOptions - global route options\r\n */\r\nfunction createRouterMatcher(routes, globalOptions) {\r\n    // normalized ordered array of matchers\r\n    const matchers = [];\r\n    const matcherMap = new Map();\r\n    globalOptions = mergeOptions({ strict: false, end: true, sensitive: false }, globalOptions);\r\n    function getRecordMatcher(name) {\r\n        return matcherMap.get(name);\r\n    }\r\n    function addRoute(record, parent, originalRecord) {\r\n        // used later on to remove by name\r\n        const isRootAdd = !originalRecord;\r\n        const mainNormalizedRecord = normalizeRouteRecord(record);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            checkChildMissingNameWithEmptyPath(mainNormalizedRecord, parent);\r\n        }\r\n        // we might be the child of an alias\r\n        mainNormalizedRecord.aliasOf = originalRecord && originalRecord.record;\r\n        const options = mergeOptions(globalOptions, record);\r\n        // generate an array of records to correctly handle aliases\r\n        const normalizedRecords = [\r\n            mainNormalizedRecord,\r\n        ];\r\n        if ('alias' in record) {\r\n            const aliases = typeof record.alias === 'string' ? [record.alias] : record.alias;\r\n            for (const alias of aliases) {\r\n                normalizedRecords.push(assign({}, mainNormalizedRecord, {\r\n                    // this allows us to hold a copy of the `components` option\r\n                    // so that async components cache is hold on the original record\r\n                    components: originalRecord\r\n                        ? originalRecord.record.components\r\n                        : mainNormalizedRecord.components,\r\n                    path: alias,\r\n                    // we might be the child of an alias\r\n                    aliasOf: originalRecord\r\n                        ? originalRecord.record\r\n                        : mainNormalizedRecord,\r\n                    // the aliases are always of the same kind as the original since they\r\n                    // are defined on the same record\r\n                }));\r\n            }\r\n        }\r\n        let matcher;\r\n        let originalMatcher;\r\n        for (const normalizedRecord of normalizedRecords) {\r\n            const { path } = normalizedRecord;\r\n            // Build up the path for nested routes if the child isn't an absolute\r\n            // route. Only add the / delimiter if the child path isn't empty and if the\r\n            // parent path doesn't have a trailing slash\r\n            if (parent && path[0] !== '/') {\r\n                const parentPath = parent.record.path;\r\n                const connectingSlash = parentPath[parentPath.length - 1] === '/' ? '' : '/';\r\n                normalizedRecord.path =\r\n                    parent.record.path + (path && connectingSlash + path);\r\n            }\r\n            if ((process.env.NODE_ENV !== 'production') && normalizedRecord.path === '*') {\r\n                throw new Error('Catch all routes (\"*\") must now be defined using a param with a custom regexp.\\n' +\r\n                    'See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.');\r\n            }\r\n            // create the object beforehand, so it can be passed to children\r\n            matcher = createRouteRecordMatcher(normalizedRecord, parent, options);\r\n            if ((process.env.NODE_ENV !== 'production') && parent && path[0] === '/')\r\n                checkMissingParamsInAbsolutePath(matcher, parent);\r\n            // if we are an alias we must tell the original record that we exist,\r\n            // so we can be removed\r\n            if (originalRecord) {\r\n                originalRecord.alias.push(matcher);\r\n                if ((process.env.NODE_ENV !== 'production')) {\r\n                    checkSameParams(originalRecord, matcher);\r\n                }\r\n            }\r\n            else {\r\n                // otherwise, the first record is the original and others are aliases\r\n                originalMatcher = originalMatcher || matcher;\r\n                if (originalMatcher !== matcher)\r\n                    originalMatcher.alias.push(matcher);\r\n                // remove the route if named and only for the top record (avoid in nested calls)\r\n                // this works because the original record is the first one\r\n                if (isRootAdd && record.name && !isAliasRecord(matcher))\r\n                    removeRoute(record.name);\r\n            }\r\n            if (mainNormalizedRecord.children) {\r\n                const children = mainNormalizedRecord.children;\r\n                for (let i = 0; i < children.length; i++) {\r\n                    addRoute(children[i], matcher, originalRecord && originalRecord.children[i]);\r\n                }\r\n            }\r\n            // if there was no original record, then the first one was not an alias and all\r\n            // other aliases (if any) need to reference this record when adding children\r\n            originalRecord = originalRecord || matcher;\r\n            // TODO: add normalized records for more flexibility\r\n            // if (parent && isAliasRecord(originalRecord)) {\r\n            //   parent.children.push(originalRecord)\r\n            // }\r\n            insertMatcher(matcher);\r\n        }\r\n        return originalMatcher\r\n            ? () => {\r\n                // since other matchers are aliases, they should be removed by the original matcher\r\n                removeRoute(originalMatcher);\r\n            }\r\n            : noop;\r\n    }\r\n    function removeRoute(matcherRef) {\r\n        if (isRouteName(matcherRef)) {\r\n            const matcher = matcherMap.get(matcherRef);\r\n            if (matcher) {\r\n                matcherMap.delete(matcherRef);\r\n                matchers.splice(matchers.indexOf(matcher), 1);\r\n                matcher.children.forEach(removeRoute);\r\n                matcher.alias.forEach(removeRoute);\r\n            }\r\n        }\r\n        else {\r\n            const index = matchers.indexOf(matcherRef);\r\n            if (index > -1) {\r\n                matchers.splice(index, 1);\r\n                if (matcherRef.record.name)\r\n                    matcherMap.delete(matcherRef.record.name);\r\n                matcherRef.children.forEach(removeRoute);\r\n                matcherRef.alias.forEach(removeRoute);\r\n            }\r\n        }\r\n    }\r\n    function getRoutes() {\r\n        return matchers;\r\n    }\r\n    function insertMatcher(matcher) {\r\n        let i = 0;\r\n        while (i < matchers.length &&\r\n            comparePathParserScore(matcher, matchers[i]) >= 0 &&\r\n            // Adding children with empty path should still appear before the parent\r\n            // https://github.com/vuejs/router/issues/1124\r\n            (matcher.record.path !== matchers[i].record.path ||\r\n                !isRecordChildOf(matcher, matchers[i])))\r\n            i++;\r\n        matchers.splice(i, 0, matcher);\r\n        // only add the original record to the name map\r\n        if (matcher.record.name && !isAliasRecord(matcher))\r\n            matcherMap.set(matcher.record.name, matcher);\r\n    }\r\n    function resolve(location, currentLocation) {\r\n        let matcher;\r\n        let params = {};\r\n        let path;\r\n        let name;\r\n        if ('name' in location && location.name) {\r\n            matcher = matcherMap.get(location.name);\r\n            if (!matcher)\r\n                throw createRouterError(1 /* ErrorTypes.MATCHER_NOT_FOUND */, {\r\n                    location,\r\n                });\r\n            // warn if the user is passing invalid params so they can debug it better when they get removed\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                const invalidParams = Object.keys(location.params || {}).filter(paramName => !matcher.keys.find(k => k.name === paramName));\r\n                if (invalidParams.length) {\r\n                    warn(`Discarded invalid param(s) \"${invalidParams.join('\", \"')}\" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`);\r\n                }\r\n            }\r\n            name = matcher.record.name;\r\n            params = assign(\r\n            // paramsFromLocation is a new object\r\n            paramsFromLocation(currentLocation.params, \r\n            // only keep params that exist in the resolved location\r\n            // TODO: only keep optional params coming from a parent record\r\n            matcher.keys.filter(k => !k.optional).map(k => k.name)), \r\n            // discard any existing params in the current location that do not exist here\r\n            // #1497 this ensures better active/exact matching\r\n            location.params &&\r\n                paramsFromLocation(location.params, matcher.keys.map(k => k.name)));\r\n            // throws if cannot be stringified\r\n            path = matcher.stringify(params);\r\n        }\r\n        else if ('path' in location) {\r\n            // no need to resolve the path with the matcher as it was provided\r\n            // this also allows the user to control the encoding\r\n            path = location.path;\r\n            if ((process.env.NODE_ENV !== 'production') && !path.startsWith('/')) {\r\n                warn(`The Matcher cannot resolve relative paths but received \"${path}\". Unless you directly called \\`matcher.resolve(\"${path}\")\\`, this is probably a bug in vue-router. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/router.`);\r\n            }\r\n            matcher = matchers.find(m => m.re.test(path));\r\n            // matcher should have a value after the loop\r\n            if (matcher) {\r\n                // we know the matcher works because we tested the regexp\r\n                params = matcher.parse(path);\r\n                name = matcher.record.name;\r\n            }\r\n            // location is a relative path\r\n        }\r\n        else {\r\n            // match by name or path of current route\r\n            matcher = currentLocation.name\r\n                ? matcherMap.get(currentLocation.name)\r\n                : matchers.find(m => m.re.test(currentLocation.path));\r\n            if (!matcher)\r\n                throw createRouterError(1 /* ErrorTypes.MATCHER_NOT_FOUND */, {\r\n                    location,\r\n                    currentLocation,\r\n                });\r\n            name = matcher.record.name;\r\n            // since we are navigating to the same location, we don't need to pick the\r\n            // params like when `name` is provided\r\n            params = assign({}, currentLocation.params, location.params);\r\n            path = matcher.stringify(params);\r\n        }\r\n        const matched = [];\r\n        let parentMatcher = matcher;\r\n        while (parentMatcher) {\r\n            // reversed order so parents are at the beginning\r\n            matched.unshift(parentMatcher.record);\r\n            parentMatcher = parentMatcher.parent;\r\n        }\r\n        return {\r\n            name,\r\n            path,\r\n            params,\r\n            matched,\r\n            meta: mergeMetaFields(matched),\r\n        };\r\n    }\r\n    // add initial routes\r\n    routes.forEach(route => addRoute(route));\r\n    return { addRoute, resolve, removeRoute, getRoutes, getRecordMatcher };\r\n}\r\nfunction paramsFromLocation(params, keys) {\r\n    const newParams = {};\r\n    for (const key of keys) {\r\n        if (key in params)\r\n            newParams[key] = params[key];\r\n    }\r\n    return newParams;\r\n}\r\n/**\r\n * Normalizes a RouteRecordRaw. Creates a copy\r\n *\r\n * @param record\r\n * @returns the normalized version\r\n */\r\nfunction normalizeRouteRecord(record) {\r\n    return {\r\n        path: record.path,\r\n        redirect: record.redirect,\r\n        name: record.name,\r\n        meta: record.meta || {},\r\n        aliasOf: undefined,\r\n        beforeEnter: record.beforeEnter,\r\n        props: normalizeRecordProps(record),\r\n        children: record.children || [],\r\n        instances: {},\r\n        leaveGuards: new Set(),\r\n        updateGuards: new Set(),\r\n        enterCallbacks: {},\r\n        components: 'components' in record\r\n            ? record.components || null\r\n            : record.component && { default: record.component },\r\n    };\r\n}\r\n/**\r\n * Normalize the optional `props` in a record to always be an object similar to\r\n * components. Also accept a boolean for components.\r\n * @param record\r\n */\r\nfunction normalizeRecordProps(record) {\r\n    const propsObject = {};\r\n    // props does not exist on redirect records, but we can set false directly\r\n    const props = record.props || false;\r\n    if ('component' in record) {\r\n        propsObject.default = props;\r\n    }\r\n    else {\r\n        // NOTE: we could also allow a function to be applied to every component.\r\n        // Would need user feedback for use cases\r\n        for (const name in record.components)\r\n            propsObject[name] = typeof props === 'boolean' ? props : props[name];\r\n    }\r\n    return propsObject;\r\n}\r\n/**\r\n * Checks if a record or any of its parent is an alias\r\n * @param record\r\n */\r\nfunction isAliasRecord(record) {\r\n    while (record) {\r\n        if (record.record.aliasOf)\r\n            return true;\r\n        record = record.parent;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Merge meta fields of an array of records\r\n *\r\n * @param matched - array of matched records\r\n */\r\nfunction mergeMetaFields(matched) {\r\n    return matched.reduce((meta, record) => assign(meta, record.meta), {});\r\n}\r\nfunction mergeOptions(defaults, partialOptions) {\r\n    const options = {};\r\n    for (const key in defaults) {\r\n        options[key] = key in partialOptions ? partialOptions[key] : defaults[key];\r\n    }\r\n    return options;\r\n}\r\nfunction isSameParam(a, b) {\r\n    return (a.name === b.name &&\r\n        a.optional === b.optional &&\r\n        a.repeatable === b.repeatable);\r\n}\r\n/**\r\n * Check if a path and its alias have the same required params\r\n *\r\n * @param a - original record\r\n * @param b - alias record\r\n */\r\nfunction checkSameParams(a, b) {\r\n    for (const key of a.keys) {\r\n        if (!key.optional && !b.keys.find(isSameParam.bind(null, key)))\r\n            return warn(`Alias \"${b.record.path}\" and the original record: \"${a.record.path}\" must have the exact same param named \"${key.name}\"`);\r\n    }\r\n    for (const key of b.keys) {\r\n        if (!key.optional && !a.keys.find(isSameParam.bind(null, key)))\r\n            return warn(`Alias \"${b.record.path}\" and the original record: \"${a.record.path}\" must have the exact same param named \"${key.name}\"`);\r\n    }\r\n}\r\n/**\r\n * A route with a name and a child with an empty path without a name should warn when adding the route\r\n *\r\n * @param mainNormalizedRecord - RouteRecordNormalized\r\n * @param parent - RouteRecordMatcher\r\n */\r\nfunction checkChildMissingNameWithEmptyPath(mainNormalizedRecord, parent) {\r\n    if (parent &&\r\n        parent.record.name &&\r\n        !mainNormalizedRecord.name &&\r\n        !mainNormalizedRecord.path) {\r\n        warn(`The route named \"${String(parent.record.name)}\" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`);\r\n    }\r\n}\r\nfunction checkMissingParamsInAbsolutePath(record, parent) {\r\n    for (const key of parent.keys) {\r\n        if (!record.keys.find(isSameParam.bind(null, key)))\r\n            return warn(`Absolute path \"${record.record.path}\" must have the exact same param named \"${key.name}\" as its parent \"${parent.record.path}\".`);\r\n    }\r\n}\r\nfunction isRecordChildOf(record, parent) {\r\n    return parent.children.some(child => child === record || isRecordChildOf(record, child));\r\n}\n\n/**\r\n * Encoding Rules ␣ = Space Path: ␣ \" < > # ? { } Query: ␣ \" < > # & = Hash: ␣ \"\r\n * < > `\r\n *\r\n * On top of that, the RFC3986 (https://tools.ietf.org/html/rfc3986#section-2.2)\r\n * defines some extra characters to be encoded. Most browsers do not encode them\r\n * in encodeURI https://github.com/whatwg/url/issues/369, so it may be safer to\r\n * also encode `!'()*`. Leaving un-encoded only ASCII alphanumeric(`a-zA-Z0-9`)\r\n * plus `-._~`. This extra safety should be applied to query by patching the\r\n * string returned by encodeURIComponent encodeURI also encodes `[\\]^`. `\\`\r\n * should be encoded to avoid ambiguity. Browsers (IE, FF, C) transform a `\\`\r\n * into a `/` if directly typed in. The _backtick_ (`````) should also be\r\n * encoded everywhere because some browsers like FF encode it when directly\r\n * written while others don't. Safari and IE don't encode ``\"<>{}``` in hash.\r\n */\r\n// const EXTRA_RESERVED_RE = /[!'()*]/g\r\n// const encodeReservedReplacer = (c: string) => '%' + c.charCodeAt(0).toString(16)\r\nconst HASH_RE = /#/g; // %23\r\nconst AMPERSAND_RE = /&/g; // %26\r\nconst SLASH_RE = /\\//g; // %2F\r\nconst EQUAL_RE = /=/g; // %3D\r\nconst IM_RE = /\\?/g; // %3F\r\nconst PLUS_RE = /\\+/g; // %2B\r\n/**\r\n * NOTE: It's not clear to me if we should encode the + symbol in queries, it\r\n * seems to be less flexible than not doing so and I can't find out the legacy\r\n * systems requiring this for regular requests like text/html. In the standard,\r\n * the encoding of the plus character is only mentioned for\r\n * application/x-www-form-urlencoded\r\n * (https://url.spec.whatwg.org/#urlencoded-parsing) and most browsers seems lo\r\n * leave the plus character as is in queries. To be more flexible, we allow the\r\n * plus character on the query, but it can also be manually encoded by the user.\r\n *\r\n * Resources:\r\n * - https://url.spec.whatwg.org/#urlencoded-parsing\r\n * - https://stackoverflow.com/questions/1634271/url-encoding-the-space-character-or-20\r\n */\r\nconst ENC_BRACKET_OPEN_RE = /%5B/g; // [\r\nconst ENC_BRACKET_CLOSE_RE = /%5D/g; // ]\r\nconst ENC_CARET_RE = /%5E/g; // ^\r\nconst ENC_BACKTICK_RE = /%60/g; // `\r\nconst ENC_CURLY_OPEN_RE = /%7B/g; // {\r\nconst ENC_PIPE_RE = /%7C/g; // |\r\nconst ENC_CURLY_CLOSE_RE = /%7D/g; // }\r\nconst ENC_SPACE_RE = /%20/g; // }\r\n/**\r\n * Encode characters that need to be encoded on the path, search and hash\r\n * sections of the URL.\r\n *\r\n * @internal\r\n * @param text - string to encode\r\n * @returns encoded string\r\n */\r\nfunction commonEncode(text) {\r\n    return encodeURI('' + text)\r\n        .replace(ENC_PIPE_RE, '|')\r\n        .replace(ENC_BRACKET_OPEN_RE, '[')\r\n        .replace(ENC_BRACKET_CLOSE_RE, ']');\r\n}\r\n/**\r\n * Encode characters that need to be encoded on the hash section of the URL.\r\n *\r\n * @param text - string to encode\r\n * @returns encoded string\r\n */\r\nfunction encodeHash(text) {\r\n    return commonEncode(text)\r\n        .replace(ENC_CURLY_OPEN_RE, '{')\r\n        .replace(ENC_CURLY_CLOSE_RE, '}')\r\n        .replace(ENC_CARET_RE, '^');\r\n}\r\n/**\r\n * Encode characters that need to be encoded query values on the query\r\n * section of the URL.\r\n *\r\n * @param text - string to encode\r\n * @returns encoded string\r\n */\r\nfunction encodeQueryValue(text) {\r\n    return (commonEncode(text)\r\n        // Encode the space as +, encode the + to differentiate it from the space\r\n        .replace(PLUS_RE, '%2B')\r\n        .replace(ENC_SPACE_RE, '+')\r\n        .replace(HASH_RE, '%23')\r\n        .replace(AMPERSAND_RE, '%26')\r\n        .replace(ENC_BACKTICK_RE, '`')\r\n        .replace(ENC_CURLY_OPEN_RE, '{')\r\n        .replace(ENC_CURLY_CLOSE_RE, '}')\r\n        .replace(ENC_CARET_RE, '^'));\r\n}\r\n/**\r\n * Like `encodeQueryValue` but also encodes the `=` character.\r\n *\r\n * @param text - string to encode\r\n */\r\nfunction encodeQueryKey(text) {\r\n    return encodeQueryValue(text).replace(EQUAL_RE, '%3D');\r\n}\r\n/**\r\n * Encode characters that need to be encoded on the path section of the URL.\r\n *\r\n * @param text - string to encode\r\n * @returns encoded string\r\n */\r\nfunction encodePath(text) {\r\n    return commonEncode(text).replace(HASH_RE, '%23').replace(IM_RE, '%3F');\r\n}\r\n/**\r\n * Encode characters that need to be encoded on the path section of the URL as a\r\n * param. This function encodes everything {@link encodePath} does plus the\r\n * slash (`/`) character. If `text` is `null` or `undefined`, returns an empty\r\n * string instead.\r\n *\r\n * @param text - string to encode\r\n * @returns encoded string\r\n */\r\nfunction encodeParam(text) {\r\n    return text == null ? '' : encodePath(text).replace(SLASH_RE, '%2F');\r\n}\r\n/**\r\n * Decode text using `decodeURIComponent`. Returns the original text if it\r\n * fails.\r\n *\r\n * @param text - string to decode\r\n * @returns decoded string\r\n */\r\nfunction decode(text) {\r\n    try {\r\n        return decodeURIComponent('' + text);\r\n    }\r\n    catch (err) {\r\n        (process.env.NODE_ENV !== 'production') && warn(`Error decoding \"${text}\". Using original value`);\r\n    }\r\n    return '' + text;\r\n}\n\n/**\r\n * Transforms a queryString into a {@link LocationQuery} object. Accept both, a\r\n * version with the leading `?` and without Should work as URLSearchParams\r\n\n * @internal\r\n *\r\n * @param search - search string to parse\r\n * @returns a query object\r\n */\r\nfunction parseQuery(search) {\r\n    const query = {};\r\n    // avoid creating an object with an empty key and empty value\r\n    // because of split('&')\r\n    if (search === '' || search === '?')\r\n        return query;\r\n    const hasLeadingIM = search[0] === '?';\r\n    const searchParams = (hasLeadingIM ? search.slice(1) : search).split('&');\r\n    for (let i = 0; i < searchParams.length; ++i) {\r\n        // pre decode the + into space\r\n        const searchParam = searchParams[i].replace(PLUS_RE, ' ');\r\n        // allow the = character\r\n        const eqPos = searchParam.indexOf('=');\r\n        const key = decode(eqPos < 0 ? searchParam : searchParam.slice(0, eqPos));\r\n        const value = eqPos < 0 ? null : decode(searchParam.slice(eqPos + 1));\r\n        if (key in query) {\r\n            // an extra variable for ts types\r\n            let currentValue = query[key];\r\n            if (!isArray(currentValue)) {\r\n                currentValue = query[key] = [currentValue];\r\n            }\r\n            currentValue.push(value);\r\n        }\r\n        else {\r\n            query[key] = value;\r\n        }\r\n    }\r\n    return query;\r\n}\r\n/**\r\n * Stringifies a {@link LocationQueryRaw} object. Like `URLSearchParams`, it\r\n * doesn't prepend a `?`\r\n *\r\n * @internal\r\n *\r\n * @param query - query object to stringify\r\n * @returns string version of the query without the leading `?`\r\n */\r\nfunction stringifyQuery(query) {\r\n    let search = '';\r\n    for (let key in query) {\r\n        const value = query[key];\r\n        key = encodeQueryKey(key);\r\n        if (value == null) {\r\n            // only null adds the value\r\n            if (value !== undefined) {\r\n                search += (search.length ? '&' : '') + key;\r\n            }\r\n            continue;\r\n        }\r\n        // keep null values\r\n        const values = isArray(value)\r\n            ? value.map(v => v && encodeQueryValue(v))\r\n            : [value && encodeQueryValue(value)];\r\n        values.forEach(value => {\r\n            // skip undefined values in arrays as if they were not present\r\n            // smaller code than using filter\r\n            if (value !== undefined) {\r\n                // only append & with non-empty search\r\n                search += (search.length ? '&' : '') + key;\r\n                if (value != null)\r\n                    search += '=' + value;\r\n            }\r\n        });\r\n    }\r\n    return search;\r\n}\r\n/**\r\n * Transforms a {@link LocationQueryRaw} into a {@link LocationQuery} by casting\r\n * numbers into strings, removing keys with an undefined value and replacing\r\n * undefined with null in arrays\r\n *\r\n * @param query - query object to normalize\r\n * @returns a normalized query object\r\n */\r\nfunction normalizeQuery(query) {\r\n    const normalizedQuery = {};\r\n    for (const key in query) {\r\n        const value = query[key];\r\n        if (value !== undefined) {\r\n            normalizedQuery[key] = isArray(value)\r\n                ? value.map(v => (v == null ? null : '' + v))\r\n                : value == null\r\n                    ? value\r\n                    : '' + value;\r\n        }\r\n    }\r\n    return normalizedQuery;\r\n}\n\n/**\r\n * RouteRecord being rendered by the closest ancestor Router View. Used for\r\n * `onBeforeRouteUpdate` and `onBeforeRouteLeave`. rvlm stands for Router View\r\n * Location Matched\r\n *\r\n * @internal\r\n */\r\nconst matchedRouteKey = Symbol((process.env.NODE_ENV !== 'production') ? 'router view location matched' : '');\r\n/**\r\n * Allows overriding the router view depth to control which component in\r\n * `matched` is rendered. rvd stands for Router View Depth\r\n *\r\n * @internal\r\n */\r\nconst viewDepthKey = Symbol((process.env.NODE_ENV !== 'production') ? 'router view depth' : '');\r\n/**\r\n * Allows overriding the router instance returned by `useRouter` in tests. r\r\n * stands for router\r\n *\r\n * @internal\r\n */\r\nconst routerKey = Symbol((process.env.NODE_ENV !== 'production') ? 'router' : '');\r\n/**\r\n * Allows overriding the current route returned by `useRoute` in tests. rl\r\n * stands for route location\r\n *\r\n * @internal\r\n */\r\nconst routeLocationKey = Symbol((process.env.NODE_ENV !== 'production') ? 'route location' : '');\r\n/**\r\n * Allows overriding the current route used by router-view. Internally this is\r\n * used when the `route` prop is passed.\r\n *\r\n * @internal\r\n */\r\nconst routerViewLocationKey = Symbol((process.env.NODE_ENV !== 'production') ? 'router view location' : '');\n\n/**\r\n * Create a list of callbacks that can be reset. Used to create before and after navigation guards list\r\n */\r\nfunction useCallbacks() {\r\n    let handlers = [];\r\n    function add(handler) {\r\n        handlers.push(handler);\r\n        return () => {\r\n            const i = handlers.indexOf(handler);\r\n            if (i > -1)\r\n                handlers.splice(i, 1);\r\n        };\r\n    }\r\n    function reset() {\r\n        handlers = [];\r\n    }\r\n    return {\r\n        add,\r\n        list: () => handlers,\r\n        reset,\r\n    };\r\n}\n\nfunction registerGuard(record, name, guard) {\r\n    const removeFromList = () => {\r\n        record[name].delete(guard);\r\n    };\r\n    onUnmounted(removeFromList);\r\n    onDeactivated(removeFromList);\r\n    onActivated(() => {\r\n        record[name].add(guard);\r\n    });\r\n    record[name].add(guard);\r\n}\r\n/**\r\n * Add a navigation guard that triggers whenever the component for the current\r\n * location is about to be left. Similar to {@link beforeRouteLeave} but can be\r\n * used in any component. The guard is removed when the component is unmounted.\r\n *\r\n * @param leaveGuard - {@link NavigationGuard}\r\n */\r\nfunction onBeforeRouteLeave(leaveGuard) {\r\n    if ((process.env.NODE_ENV !== 'production') && !getCurrentInstance()) {\r\n        warn('getCurrentInstance() returned null. onBeforeRouteLeave() must be called at the top of a setup function');\r\n        return;\r\n    }\r\n    const activeRecord = inject(matchedRouteKey, \r\n    // to avoid warning\r\n    {}).value;\r\n    if (!activeRecord) {\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn('No active route record was found when calling `onBeforeRouteLeave()`. Make sure you call this function inside a component child of <router-view>. Maybe you called it inside of App.vue?');\r\n        return;\r\n    }\r\n    registerGuard(activeRecord, 'leaveGuards', leaveGuard);\r\n}\r\n/**\r\n * Add a navigation guard that triggers whenever the current location is about\r\n * to be updated. Similar to {@link beforeRouteUpdate} but can be used in any\r\n * component. The guard is removed when the component is unmounted.\r\n *\r\n * @param updateGuard - {@link NavigationGuard}\r\n */\r\nfunction onBeforeRouteUpdate(updateGuard) {\r\n    if ((process.env.NODE_ENV !== 'production') && !getCurrentInstance()) {\r\n        warn('getCurrentInstance() returned null. onBeforeRouteUpdate() must be called at the top of a setup function');\r\n        return;\r\n    }\r\n    const activeRecord = inject(matchedRouteKey, \r\n    // to avoid warning\r\n    {}).value;\r\n    if (!activeRecord) {\r\n        (process.env.NODE_ENV !== 'production') &&\r\n            warn('No active route record was found when calling `onBeforeRouteUpdate()`. Make sure you call this function inside a component child of <router-view>. Maybe you called it inside of App.vue?');\r\n        return;\r\n    }\r\n    registerGuard(activeRecord, 'updateGuards', updateGuard);\r\n}\r\nfunction guardToPromiseFn(guard, to, from, record, name) {\r\n    // keep a reference to the enterCallbackArray to prevent pushing callbacks if a new navigation took place\r\n    const enterCallbackArray = record &&\r\n        // name is defined if record is because of the function overload\r\n        (record.enterCallbacks[name] = record.enterCallbacks[name] || []);\r\n    return () => new Promise((resolve, reject) => {\r\n        const next = (valid) => {\r\n            if (valid === false) {\r\n                reject(createRouterError(4 /* ErrorTypes.NAVIGATION_ABORTED */, {\r\n                    from,\r\n                    to,\r\n                }));\r\n            }\r\n            else if (valid instanceof Error) {\r\n                reject(valid);\r\n            }\r\n            else if (isRouteLocation(valid)) {\r\n                reject(createRouterError(2 /* ErrorTypes.NAVIGATION_GUARD_REDIRECT */, {\r\n                    from: to,\r\n                    to: valid,\r\n                }));\r\n            }\r\n            else {\r\n                if (enterCallbackArray &&\r\n                    // since enterCallbackArray is truthy, both record and name also are\r\n                    record.enterCallbacks[name] === enterCallbackArray &&\r\n                    typeof valid === 'function') {\r\n                    enterCallbackArray.push(valid);\r\n                }\r\n                resolve();\r\n            }\r\n        };\r\n        // wrapping with Promise.resolve allows it to work with both async and sync guards\r\n        const guardReturn = guard.call(record && record.instances[name], to, from, (process.env.NODE_ENV !== 'production') ? canOnlyBeCalledOnce(next, to, from) : next);\r\n        let guardCall = Promise.resolve(guardReturn);\r\n        if (guard.length < 3)\r\n            guardCall = guardCall.then(next);\r\n        if ((process.env.NODE_ENV !== 'production') && guard.length > 2) {\r\n            const message = `The \"next\" callback was never called inside of ${guard.name ? '\"' + guard.name + '\"' : ''}:\\n${guard.toString()}\\n. If you are returning a value instead of calling \"next\", make sure to remove the \"next\" parameter from your function.`;\r\n            if (typeof guardReturn === 'object' && 'then' in guardReturn) {\r\n                guardCall = guardCall.then(resolvedValue => {\r\n                    // @ts-expect-error: _called is added at canOnlyBeCalledOnce\r\n                    if (!next._called) {\r\n                        warn(message);\r\n                        return Promise.reject(new Error('Invalid navigation guard'));\r\n                    }\r\n                    return resolvedValue;\r\n                });\r\n            }\r\n            else if (guardReturn !== undefined) {\r\n                // @ts-expect-error: _called is added at canOnlyBeCalledOnce\r\n                if (!next._called) {\r\n                    warn(message);\r\n                    reject(new Error('Invalid navigation guard'));\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        guardCall.catch(err => reject(err));\r\n    });\r\n}\r\nfunction canOnlyBeCalledOnce(next, to, from) {\r\n    let called = 0;\r\n    return function () {\r\n        if (called++ === 1)\r\n            warn(`The \"next\" callback was called more than once in one navigation guard when going from \"${from.fullPath}\" to \"${to.fullPath}\". It should be called exactly one time in each navigation guard. This will fail in production.`);\r\n        // @ts-expect-error: we put it in the original one because it's easier to check\r\n        next._called = true;\r\n        if (called === 1)\r\n            next.apply(null, arguments);\r\n    };\r\n}\r\nfunction extractComponentsGuards(matched, guardType, to, from) {\r\n    const guards = [];\r\n    for (const record of matched) {\r\n        if ((process.env.NODE_ENV !== 'production') && !record.components && !record.children.length) {\r\n            warn(`Record with path \"${record.path}\" is either missing a \"component(s)\"` +\r\n                ` or \"children\" property.`);\r\n        }\r\n        for (const name in record.components) {\r\n            let rawComponent = record.components[name];\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                if (!rawComponent ||\r\n                    (typeof rawComponent !== 'object' &&\r\n                        typeof rawComponent !== 'function')) {\r\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is not` +\r\n                        ` a valid component. Received \"${String(rawComponent)}\".`);\r\n                    // throw to ensure we stop here but warn to ensure the message isn't\r\n                    // missed by the user\r\n                    throw new Error('Invalid route component');\r\n                }\r\n                else if ('then' in rawComponent) {\r\n                    // warn if user wrote import('/component.vue') instead of () =>\r\n                    // import('./component.vue')\r\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is a ` +\r\n                        `Promise instead of a function that returns a Promise. Did you ` +\r\n                        `write \"import('./MyPage.vue')\" instead of ` +\r\n                        `\"() => import('./MyPage.vue')\" ? This will break in ` +\r\n                        `production if not fixed.`);\r\n                    const promise = rawComponent;\r\n                    rawComponent = () => promise;\r\n                }\r\n                else if (rawComponent.__asyncLoader &&\r\n                    // warn only once per component\r\n                    !rawComponent.__warnedDefineAsync) {\r\n                    rawComponent.__warnedDefineAsync = true;\r\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is defined ` +\r\n                        `using \"defineAsyncComponent()\". ` +\r\n                        `Write \"() => import('./MyPage.vue')\" instead of ` +\r\n                        `\"defineAsyncComponent(() => import('./MyPage.vue'))\".`);\r\n                }\r\n            }\r\n            // skip update and leave guards if the route component is not mounted\r\n            if (guardType !== 'beforeRouteEnter' && !record.instances[name])\r\n                continue;\r\n            if (isRouteComponent(rawComponent)) {\r\n                // __vccOpts is added by vue-class-component and contain the regular options\r\n                const options = rawComponent.__vccOpts || rawComponent;\r\n                const guard = options[guardType];\r\n                guard && guards.push(guardToPromiseFn(guard, to, from, record, name));\r\n            }\r\n            else {\r\n                // start requesting the chunk already\r\n                let componentPromise = rawComponent();\r\n                if ((process.env.NODE_ENV !== 'production') && !('catch' in componentPromise)) {\r\n                    warn(`Component \"${name}\" in record with path \"${record.path}\" is a function that does not return a Promise. If you were passing a functional component, make sure to add a \"displayName\" to the component. This will break in production if not fixed.`);\r\n                    componentPromise = Promise.resolve(componentPromise);\r\n                }\r\n                guards.push(() => componentPromise.then(resolved => {\r\n                    if (!resolved)\r\n                        return Promise.reject(new Error(`Couldn't resolve component \"${name}\" at \"${record.path}\"`));\r\n                    const resolvedComponent = isESModule(resolved)\r\n                        ? resolved.default\r\n                        : resolved;\r\n                    // replace the function with the resolved component\r\n                    // cannot be null or undefined because we went into the for loop\r\n                    record.components[name] = resolvedComponent;\r\n                    // __vccOpts is added by vue-class-component and contain the regular options\r\n                    const options = resolvedComponent.__vccOpts || resolvedComponent;\r\n                    const guard = options[guardType];\r\n                    return guard && guardToPromiseFn(guard, to, from, record, name)();\r\n                }));\r\n            }\r\n        }\r\n    }\r\n    return guards;\r\n}\r\n/**\r\n * Allows differentiating lazy components from functional components and vue-class-component\r\n * @internal\r\n *\r\n * @param component\r\n */\r\nfunction isRouteComponent(component) {\r\n    return (typeof component === 'object' ||\r\n        'displayName' in component ||\r\n        'props' in component ||\r\n        '__vccOpts' in component);\r\n}\r\n/**\r\n * Ensures a route is loaded, so it can be passed as o prop to `<RouterView>`.\r\n *\r\n * @param route - resolved route to load\r\n */\r\nfunction loadRouteLocation(route) {\r\n    return route.matched.every(record => record.redirect)\r\n        ? Promise.reject(new Error('Cannot load a route that redirects.'))\r\n        : Promise.all(route.matched.map(record => record.components &&\r\n            Promise.all(Object.keys(record.components).reduce((promises, name) => {\r\n                const rawComponent = record.components[name];\r\n                if (typeof rawComponent === 'function' &&\r\n                    !('displayName' in rawComponent)) {\r\n                    promises.push(rawComponent().then(resolved => {\r\n                        if (!resolved)\r\n                            return Promise.reject(new Error(`Couldn't resolve component \"${name}\" at \"${record.path}\". Ensure you passed a function that returns a promise.`));\r\n                        const resolvedComponent = isESModule(resolved)\r\n                            ? resolved.default\r\n                            : resolved;\r\n                        // replace the function with the resolved component\r\n                        // cannot be null or undefined because we went into the for loop\r\n                        record.components[name] = resolvedComponent;\r\n                        return;\r\n                    }));\r\n                }\r\n                return promises;\r\n            }, [])))).then(() => route);\r\n}\n\n// TODO: we could allow currentRoute as a prop to expose `isActive` and\r\n// `isExactActive` behavior should go through an RFC\r\nfunction useLink(props) {\r\n    const router = inject(routerKey);\r\n    const currentRoute = inject(routeLocationKey);\r\n    const route = computed(() => router.resolve(unref(props.to)));\r\n    const activeRecordIndex = computed(() => {\r\n        const { matched } = route.value;\r\n        const { length } = matched;\r\n        const routeMatched = matched[length - 1];\r\n        const currentMatched = currentRoute.matched;\r\n        if (!routeMatched || !currentMatched.length)\r\n            return -1;\r\n        const index = currentMatched.findIndex(isSameRouteRecord.bind(null, routeMatched));\r\n        if (index > -1)\r\n            return index;\r\n        // possible parent record\r\n        const parentRecordPath = getOriginalPath(matched[length - 2]);\r\n        return (\r\n        // we are dealing with nested routes\r\n        length > 1 &&\r\n            // if the parent and matched route have the same path, this link is\r\n            // referring to the empty child. Or we currently are on a different\r\n            // child of the same parent\r\n            getOriginalPath(routeMatched) === parentRecordPath &&\r\n            // avoid comparing the child with its parent\r\n            currentMatched[currentMatched.length - 1].path !== parentRecordPath\r\n            ? currentMatched.findIndex(isSameRouteRecord.bind(null, matched[length - 2]))\r\n            : index);\r\n    });\r\n    const isActive = computed(() => activeRecordIndex.value > -1 &&\r\n        includesParams(currentRoute.params, route.value.params));\r\n    const isExactActive = computed(() => activeRecordIndex.value > -1 &&\r\n        activeRecordIndex.value === currentRoute.matched.length - 1 &&\r\n        isSameRouteLocationParams(currentRoute.params, route.value.params));\r\n    function navigate(e = {}) {\r\n        if (guardEvent(e)) {\r\n            return router[unref(props.replace) ? 'replace' : 'push'](unref(props.to)\r\n            // avoid uncaught errors are they are logged anyway\r\n            ).catch(noop);\r\n        }\r\n        return Promise.resolve();\r\n    }\r\n    // devtools only\r\n    if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && isBrowser) {\r\n        const instance = getCurrentInstance();\r\n        if (instance) {\r\n            const linkContextDevtools = {\r\n                route: route.value,\r\n                isActive: isActive.value,\r\n                isExactActive: isExactActive.value,\r\n            };\r\n            // @ts-expect-error: this is internal\r\n            instance.__vrl_devtools = instance.__vrl_devtools || [];\r\n            // @ts-expect-error: this is internal\r\n            instance.__vrl_devtools.push(linkContextDevtools);\r\n            watchEffect(() => {\r\n                linkContextDevtools.route = route.value;\r\n                linkContextDevtools.isActive = isActive.value;\r\n                linkContextDevtools.isExactActive = isExactActive.value;\r\n            }, { flush: 'post' });\r\n        }\r\n    }\r\n    return {\r\n        route,\r\n        href: computed(() => route.value.href),\r\n        isActive,\r\n        isExactActive,\r\n        navigate,\r\n    };\r\n}\r\nconst RouterLinkImpl = /*#__PURE__*/ defineComponent({\r\n    name: 'RouterLink',\r\n    compatConfig: { MODE: 3 },\r\n    props: {\r\n        to: {\r\n            type: [String, Object],\r\n            required: true,\r\n        },\r\n        replace: Boolean,\r\n        activeClass: String,\r\n        // inactiveClass: String,\r\n        exactActiveClass: String,\r\n        custom: Boolean,\r\n        ariaCurrentValue: {\r\n            type: String,\r\n            default: 'page',\r\n        },\r\n    },\r\n    useLink,\r\n    setup(props, { slots }) {\r\n        const link = reactive(useLink(props));\r\n        const { options } = inject(routerKey);\r\n        const elClass = computed(() => ({\r\n            [getLinkClass(props.activeClass, options.linkActiveClass, 'router-link-active')]: link.isActive,\r\n            // [getLinkClass(\r\n            //   props.inactiveClass,\r\n            //   options.linkInactiveClass,\r\n            //   'router-link-inactive'\r\n            // )]: !link.isExactActive,\r\n            [getLinkClass(props.exactActiveClass, options.linkExactActiveClass, 'router-link-exact-active')]: link.isExactActive,\r\n        }));\r\n        return () => {\r\n            const children = slots.default && slots.default(link);\r\n            return props.custom\r\n                ? children\r\n                : h('a', {\r\n                    'aria-current': link.isExactActive\r\n                        ? props.ariaCurrentValue\r\n                        : null,\r\n                    href: link.href,\r\n                    // this would override user added attrs but Vue will still add\r\n                    // the listener, so we end up triggering both\r\n                    onClick: link.navigate,\r\n                    class: elClass.value,\r\n                }, children);\r\n        };\r\n    },\r\n});\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\n/**\r\n * Component to render a link that triggers a navigation on click.\r\n */\r\nconst RouterLink = RouterLinkImpl;\r\nfunction guardEvent(e) {\r\n    // don't redirect with control keys\r\n    if (e.metaKey || e.altKey || e.ctrlKey || e.shiftKey)\r\n        return;\r\n    // don't redirect when preventDefault called\r\n    if (e.defaultPrevented)\r\n        return;\r\n    // don't redirect on right click\r\n    if (e.button !== undefined && e.button !== 0)\r\n        return;\r\n    // don't redirect if `target=\"_blank\"`\r\n    // @ts-expect-error getAttribute does exist\r\n    if (e.currentTarget && e.currentTarget.getAttribute) {\r\n        // @ts-expect-error getAttribute exists\r\n        const target = e.currentTarget.getAttribute('target');\r\n        if (/\\b_blank\\b/i.test(target))\r\n            return;\r\n    }\r\n    // this may be a Weex event which doesn't have this method\r\n    if (e.preventDefault)\r\n        e.preventDefault();\r\n    return true;\r\n}\r\nfunction includesParams(outer, inner) {\r\n    for (const key in inner) {\r\n        const innerValue = inner[key];\r\n        const outerValue = outer[key];\r\n        if (typeof innerValue === 'string') {\r\n            if (innerValue !== outerValue)\r\n                return false;\r\n        }\r\n        else {\r\n            if (!isArray(outerValue) ||\r\n                outerValue.length !== innerValue.length ||\r\n                innerValue.some((value, i) => value !== outerValue[i]))\r\n                return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Get the original path value of a record by following its aliasOf\r\n * @param record\r\n */\r\nfunction getOriginalPath(record) {\r\n    return record ? (record.aliasOf ? record.aliasOf.path : record.path) : '';\r\n}\r\n/**\r\n * Utility class to get the active class based on defaults.\r\n * @param propClass\r\n * @param globalClass\r\n * @param defaultClass\r\n */\r\nconst getLinkClass = (propClass, globalClass, defaultClass) => propClass != null\r\n    ? propClass\r\n    : globalClass != null\r\n        ? globalClass\r\n        : defaultClass;\n\nconst RouterViewImpl = /*#__PURE__*/ defineComponent({\r\n    name: 'RouterView',\r\n    // #674 we manually inherit them\r\n    inheritAttrs: false,\r\n    props: {\r\n        name: {\r\n            type: String,\r\n            default: 'default',\r\n        },\r\n        route: Object,\r\n    },\r\n    // Better compat for @vue/compat users\r\n    // https://github.com/vuejs/router/issues/1315\r\n    compatConfig: { MODE: 3 },\r\n    setup(props, { attrs, slots }) {\r\n        (process.env.NODE_ENV !== 'production') && warnDeprecatedUsage();\r\n        const injectedRoute = inject(routerViewLocationKey);\r\n        const routeToDisplay = computed(() => props.route || injectedRoute.value);\r\n        const injectedDepth = inject(viewDepthKey, 0);\r\n        // The depth changes based on empty components option, which allows passthrough routes e.g. routes with children\r\n        // that are used to reuse the `path` property\r\n        const depth = computed(() => {\r\n            let initialDepth = unref(injectedDepth);\r\n            const { matched } = routeToDisplay.value;\r\n            let matchedRoute;\r\n            while ((matchedRoute = matched[initialDepth]) &&\r\n                !matchedRoute.components) {\r\n                initialDepth++;\r\n            }\r\n            return initialDepth;\r\n        });\r\n        const matchedRouteRef = computed(() => routeToDisplay.value.matched[depth.value]);\r\n        provide(viewDepthKey, computed(() => depth.value + 1));\r\n        provide(matchedRouteKey, matchedRouteRef);\r\n        provide(routerViewLocationKey, routeToDisplay);\r\n        const viewRef = ref();\r\n        // watch at the same time the component instance, the route record we are\r\n        // rendering, and the name\r\n        watch(() => [viewRef.value, matchedRouteRef.value, props.name], ([instance, to, name], [oldInstance, from, oldName]) => {\r\n            // copy reused instances\r\n            if (to) {\r\n                // this will update the instance for new instances as well as reused\r\n                // instances when navigating to a new route\r\n                to.instances[name] = instance;\r\n                // the component instance is reused for a different route or name, so\r\n                // we copy any saved update or leave guards. With async setup, the\r\n                // mounting component will mount before the matchedRoute changes,\r\n                // making instance === oldInstance, so we check if guards have been\r\n                // added before. This works because we remove guards when\r\n                // unmounting/deactivating components\r\n                if (from && from !== to && instance && instance === oldInstance) {\r\n                    if (!to.leaveGuards.size) {\r\n                        to.leaveGuards = from.leaveGuards;\r\n                    }\r\n                    if (!to.updateGuards.size) {\r\n                        to.updateGuards = from.updateGuards;\r\n                    }\r\n                }\r\n            }\r\n            // trigger beforeRouteEnter next callbacks\r\n            if (instance &&\r\n                to &&\r\n                // if there is no instance but to and from are the same this might be\r\n                // the first visit\r\n                (!from || !isSameRouteRecord(to, from) || !oldInstance)) {\r\n                (to.enterCallbacks[name] || []).forEach(callback => callback(instance));\r\n            }\r\n        }, { flush: 'post' });\r\n        return () => {\r\n            const route = routeToDisplay.value;\r\n            // we need the value at the time we render because when we unmount, we\r\n            // navigated to a different location so the value is different\r\n            const currentName = props.name;\r\n            const matchedRoute = matchedRouteRef.value;\r\n            const ViewComponent = matchedRoute && matchedRoute.components[currentName];\r\n            if (!ViewComponent) {\r\n                return normalizeSlot(slots.default, { Component: ViewComponent, route });\r\n            }\r\n            // props from route configuration\r\n            const routePropsOption = matchedRoute.props[currentName];\r\n            const routeProps = routePropsOption\r\n                ? routePropsOption === true\r\n                    ? route.params\r\n                    : typeof routePropsOption === 'function'\r\n                        ? routePropsOption(route)\r\n                        : routePropsOption\r\n                : null;\r\n            const onVnodeUnmounted = vnode => {\r\n                // remove the instance reference to prevent leak\r\n                if (vnode.component.isUnmounted) {\r\n                    matchedRoute.instances[currentName] = null;\r\n                }\r\n            };\r\n            const component = h(ViewComponent, assign({}, routeProps, attrs, {\r\n                onVnodeUnmounted,\r\n                ref: viewRef,\r\n            }));\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\r\n                isBrowser &&\r\n                component.ref) {\r\n                // TODO: can display if it's an alias, its props\r\n                const info = {\r\n                    depth: depth.value,\r\n                    name: matchedRoute.name,\r\n                    path: matchedRoute.path,\r\n                    meta: matchedRoute.meta,\r\n                };\r\n                const internalInstances = isArray(component.ref)\r\n                    ? component.ref.map(r => r.i)\r\n                    : [component.ref.i];\r\n                internalInstances.forEach(instance => {\r\n                    // @ts-expect-error\r\n                    instance.__vrv_devtools = info;\r\n                });\r\n            }\r\n            return (\r\n            // pass the vnode to the slot as a prop.\r\n            // h and <component :is=\"...\"> both accept vnodes\r\n            normalizeSlot(slots.default, { Component: component, route }) ||\r\n                component);\r\n        };\r\n    },\r\n});\r\nfunction normalizeSlot(slot, data) {\r\n    if (!slot)\r\n        return null;\r\n    const slotContent = slot(data);\r\n    return slotContent.length === 1 ? slotContent[0] : slotContent;\r\n}\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\n/**\r\n * Component to display the current route the user is at.\r\n */\r\nconst RouterView = RouterViewImpl;\r\n// warn against deprecated usage with <transition> & <keep-alive>\r\n// due to functional component being no longer eager in Vue 3\r\nfunction warnDeprecatedUsage() {\r\n    const instance = getCurrentInstance();\r\n    const parentName = instance.parent && instance.parent.type.name;\r\n    if (parentName &&\r\n        (parentName === 'KeepAlive' || parentName.includes('Transition'))) {\r\n        const comp = parentName === 'KeepAlive' ? 'keep-alive' : 'transition';\r\n        warn(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.\\n` +\r\n            `Use slot props instead:\\n\\n` +\r\n            `<router-view v-slot=\"{ Component }\">\\n` +\r\n            `  <${comp}>\\n` +\r\n            `    <component :is=\"Component\" />\\n` +\r\n            `  </${comp}>\\n` +\r\n            `</router-view>`);\r\n    }\r\n}\n\n/**\r\n * Copies a route location and removes any problematic properties that cannot be shown in devtools (e.g. Vue instances).\r\n *\r\n * @param routeLocation - routeLocation to format\r\n * @param tooltip - optional tooltip\r\n * @returns a copy of the routeLocation\r\n */\r\nfunction formatRouteLocation(routeLocation, tooltip) {\r\n    const copy = assign({}, routeLocation, {\r\n        // remove variables that can contain vue instances\r\n        matched: routeLocation.matched.map(matched => omit(matched, ['instances', 'children', 'aliasOf'])),\r\n    });\r\n    return {\r\n        _custom: {\r\n            type: null,\r\n            readOnly: true,\r\n            display: routeLocation.fullPath,\r\n            tooltip,\r\n            value: copy,\r\n        },\r\n    };\r\n}\r\nfunction formatDisplay(display) {\r\n    return {\r\n        _custom: {\r\n            display,\r\n        },\r\n    };\r\n}\r\n// to support multiple router instances\r\nlet routerId = 0;\r\nfunction addDevtools(app, router, matcher) {\r\n    // Take over router.beforeEach and afterEach\r\n    // make sure we are not registering the devtool twice\r\n    if (router.__hasDevtools)\r\n        return;\r\n    router.__hasDevtools = true;\r\n    // increment to support multiple router instances\r\n    const id = routerId++;\r\n    setupDevtoolsPlugin({\r\n        id: 'org.vuejs.router' + (id ? '.' + id : ''),\r\n        label: 'Vue Router',\r\n        packageName: 'vue-router',\r\n        homepage: 'https://router.vuejs.org',\r\n        logo: 'https://router.vuejs.org/logo.png',\r\n        componentStateTypes: ['Routing'],\r\n        app,\r\n    }, api => {\r\n        if (typeof api.now !== 'function') {\r\n            console.warn('[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html.');\r\n        }\r\n        // display state added by the router\r\n        api.on.inspectComponent((payload, ctx) => {\r\n            if (payload.instanceData) {\r\n                payload.instanceData.state.push({\r\n                    type: 'Routing',\r\n                    key: '$route',\r\n                    editable: false,\r\n                    value: formatRouteLocation(router.currentRoute.value, 'Current Route'),\r\n                });\r\n            }\r\n        });\r\n        // mark router-link as active and display tags on router views\r\n        api.on.visitComponentTree(({ treeNode: node, componentInstance }) => {\r\n            if (componentInstance.__vrv_devtools) {\r\n                const info = componentInstance.__vrv_devtools;\r\n                node.tags.push({\r\n                    label: (info.name ? `${info.name.toString()}: ` : '') + info.path,\r\n                    textColor: 0,\r\n                    tooltip: 'This component is rendered by &lt;router-view&gt;',\r\n                    backgroundColor: PINK_500,\r\n                });\r\n            }\r\n            // if multiple useLink are used\r\n            if (isArray(componentInstance.__vrl_devtools)) {\r\n                componentInstance.__devtoolsApi = api;\r\n                componentInstance.__vrl_devtools.forEach(devtoolsData => {\r\n                    let backgroundColor = ORANGE_400;\r\n                    let tooltip = '';\r\n                    if (devtoolsData.isExactActive) {\r\n                        backgroundColor = LIME_500;\r\n                        tooltip = 'This is exactly active';\r\n                    }\r\n                    else if (devtoolsData.isActive) {\r\n                        backgroundColor = BLUE_600;\r\n                        tooltip = 'This link is active';\r\n                    }\r\n                    node.tags.push({\r\n                        label: devtoolsData.route.path,\r\n                        textColor: 0,\r\n                        tooltip,\r\n                        backgroundColor,\r\n                    });\r\n                });\r\n            }\r\n        });\r\n        watch(router.currentRoute, () => {\r\n            // refresh active state\r\n            refreshRoutesView();\r\n            api.notifyComponentUpdate();\r\n            api.sendInspectorTree(routerInspectorId);\r\n            api.sendInspectorState(routerInspectorId);\r\n        });\r\n        const navigationsLayerId = 'router:navigations:' + id;\r\n        api.addTimelineLayer({\r\n            id: navigationsLayerId,\r\n            label: `Router${id ? ' ' + id : ''} Navigations`,\r\n            color: 0x40a8c4,\r\n        });\r\n        // const errorsLayerId = 'router:errors'\r\n        // api.addTimelineLayer({\r\n        //   id: errorsLayerId,\r\n        //   label: 'Router Errors',\r\n        //   color: 0xea5455,\r\n        // })\r\n        router.onError((error, to) => {\r\n            api.addTimelineEvent({\r\n                layerId: navigationsLayerId,\r\n                event: {\r\n                    title: 'Error during Navigation',\r\n                    subtitle: to.fullPath,\r\n                    logType: 'error',\r\n                    time: api.now(),\r\n                    data: { error },\r\n                    groupId: to.meta.__navigationId,\r\n                },\r\n            });\r\n        });\r\n        // attached to `meta` and used to group events\r\n        let navigationId = 0;\r\n        router.beforeEach((to, from) => {\r\n            const data = {\r\n                guard: formatDisplay('beforeEach'),\r\n                from: formatRouteLocation(from, 'Current Location during this navigation'),\r\n                to: formatRouteLocation(to, 'Target location'),\r\n            };\r\n            // Used to group navigations together, hide from devtools\r\n            Object.defineProperty(to.meta, '__navigationId', {\r\n                value: navigationId++,\r\n            });\r\n            api.addTimelineEvent({\r\n                layerId: navigationsLayerId,\r\n                event: {\r\n                    time: api.now(),\r\n                    title: 'Start of navigation',\r\n                    subtitle: to.fullPath,\r\n                    data,\r\n                    groupId: to.meta.__navigationId,\r\n                },\r\n            });\r\n        });\r\n        router.afterEach((to, from, failure) => {\r\n            const data = {\r\n                guard: formatDisplay('afterEach'),\r\n            };\r\n            if (failure) {\r\n                data.failure = {\r\n                    _custom: {\r\n                        type: Error,\r\n                        readOnly: true,\r\n                        display: failure ? failure.message : '',\r\n                        tooltip: 'Navigation Failure',\r\n                        value: failure,\r\n                    },\r\n                };\r\n                data.status = formatDisplay('❌');\r\n            }\r\n            else {\r\n                data.status = formatDisplay('✅');\r\n            }\r\n            // we set here to have the right order\r\n            data.from = formatRouteLocation(from, 'Current Location during this navigation');\r\n            data.to = formatRouteLocation(to, 'Target location');\r\n            api.addTimelineEvent({\r\n                layerId: navigationsLayerId,\r\n                event: {\r\n                    title: 'End of navigation',\r\n                    subtitle: to.fullPath,\r\n                    time: api.now(),\r\n                    data,\r\n                    logType: failure ? 'warning' : 'default',\r\n                    groupId: to.meta.__navigationId,\r\n                },\r\n            });\r\n        });\r\n        /**\r\n         * Inspector of Existing routes\r\n         */\r\n        const routerInspectorId = 'router-inspector:' + id;\r\n        api.addInspector({\r\n            id: routerInspectorId,\r\n            label: 'Routes' + (id ? ' ' + id : ''),\r\n            icon: 'book',\r\n            treeFilterPlaceholder: 'Search routes',\r\n        });\r\n        function refreshRoutesView() {\r\n            // the routes view isn't active\r\n            if (!activeRoutesPayload)\r\n                return;\r\n            const payload = activeRoutesPayload;\r\n            // children routes will appear as nested\r\n            let routes = matcher.getRoutes().filter(route => !route.parent);\r\n            // reset match state to false\r\n            routes.forEach(resetMatchStateOnRouteRecord);\r\n            // apply a match state if there is a payload\r\n            if (payload.filter) {\r\n                routes = routes.filter(route => \r\n                // save matches state based on the payload\r\n                isRouteMatching(route, payload.filter.toLowerCase()));\r\n            }\r\n            // mark active routes\r\n            routes.forEach(route => markRouteRecordActive(route, router.currentRoute.value));\r\n            payload.rootNodes = routes.map(formatRouteRecordForInspector);\r\n        }\r\n        let activeRoutesPayload;\r\n        api.on.getInspectorTree(payload => {\r\n            activeRoutesPayload = payload;\r\n            if (payload.app === app && payload.inspectorId === routerInspectorId) {\r\n                refreshRoutesView();\r\n            }\r\n        });\r\n        /**\r\n         * Display information about the currently selected route record\r\n         */\r\n        api.on.getInspectorState(payload => {\r\n            if (payload.app === app && payload.inspectorId === routerInspectorId) {\r\n                const routes = matcher.getRoutes();\r\n                const route = routes.find(route => route.record.__vd_id === payload.nodeId);\r\n                if (route) {\r\n                    payload.state = {\r\n                        options: formatRouteRecordMatcherForStateInspector(route),\r\n                    };\r\n                }\r\n            }\r\n        });\r\n        api.sendInspectorTree(routerInspectorId);\r\n        api.sendInspectorState(routerInspectorId);\r\n    });\r\n}\r\nfunction modifierForKey(key) {\r\n    if (key.optional) {\r\n        return key.repeatable ? '*' : '?';\r\n    }\r\n    else {\r\n        return key.repeatable ? '+' : '';\r\n    }\r\n}\r\nfunction formatRouteRecordMatcherForStateInspector(route) {\r\n    const { record } = route;\r\n    const fields = [\r\n        { editable: false, key: 'path', value: record.path },\r\n    ];\r\n    if (record.name != null) {\r\n        fields.push({\r\n            editable: false,\r\n            key: 'name',\r\n            value: record.name,\r\n        });\r\n    }\r\n    fields.push({ editable: false, key: 'regexp', value: route.re });\r\n    if (route.keys.length) {\r\n        fields.push({\r\n            editable: false,\r\n            key: 'keys',\r\n            value: {\r\n                _custom: {\r\n                    type: null,\r\n                    readOnly: true,\r\n                    display: route.keys\r\n                        .map(key => `${key.name}${modifierForKey(key)}`)\r\n                        .join(' '),\r\n                    tooltip: 'Param keys',\r\n                    value: route.keys,\r\n                },\r\n            },\r\n        });\r\n    }\r\n    if (record.redirect != null) {\r\n        fields.push({\r\n            editable: false,\r\n            key: 'redirect',\r\n            value: record.redirect,\r\n        });\r\n    }\r\n    if (route.alias.length) {\r\n        fields.push({\r\n            editable: false,\r\n            key: 'aliases',\r\n            value: route.alias.map(alias => alias.record.path),\r\n        });\r\n    }\r\n    if (Object.keys(route.record.meta).length) {\r\n        fields.push({\r\n            editable: false,\r\n            key: 'meta',\r\n            value: route.record.meta,\r\n        });\r\n    }\r\n    fields.push({\r\n        key: 'score',\r\n        editable: false,\r\n        value: {\r\n            _custom: {\r\n                type: null,\r\n                readOnly: true,\r\n                display: route.score.map(score => score.join(', ')).join(' | '),\r\n                tooltip: 'Score used to sort routes',\r\n                value: route.score,\r\n            },\r\n        },\r\n    });\r\n    return fields;\r\n}\r\n/**\r\n * Extracted from tailwind palette\r\n */\r\nconst PINK_500 = 0xec4899;\r\nconst BLUE_600 = 0x2563eb;\r\nconst LIME_500 = 0x84cc16;\r\nconst CYAN_400 = 0x22d3ee;\r\nconst ORANGE_400 = 0xfb923c;\r\n// const GRAY_100 = 0xf4f4f5\r\nconst DARK = 0x666666;\r\nfunction formatRouteRecordForInspector(route) {\r\n    const tags = [];\r\n    const { record } = route;\r\n    if (record.name != null) {\r\n        tags.push({\r\n            label: String(record.name),\r\n            textColor: 0,\r\n            backgroundColor: CYAN_400,\r\n        });\r\n    }\r\n    if (record.aliasOf) {\r\n        tags.push({\r\n            label: 'alias',\r\n            textColor: 0,\r\n            backgroundColor: ORANGE_400,\r\n        });\r\n    }\r\n    if (route.__vd_match) {\r\n        tags.push({\r\n            label: 'matches',\r\n            textColor: 0,\r\n            backgroundColor: PINK_500,\r\n        });\r\n    }\r\n    if (route.__vd_exactActive) {\r\n        tags.push({\r\n            label: 'exact',\r\n            textColor: 0,\r\n            backgroundColor: LIME_500,\r\n        });\r\n    }\r\n    if (route.__vd_active) {\r\n        tags.push({\r\n            label: 'active',\r\n            textColor: 0,\r\n            backgroundColor: BLUE_600,\r\n        });\r\n    }\r\n    if (record.redirect) {\r\n        tags.push({\r\n            label: typeof record.redirect === 'string'\r\n                ? `redirect: ${record.redirect}`\r\n                : 'redirects',\r\n            textColor: 0xffffff,\r\n            backgroundColor: DARK,\r\n        });\r\n    }\r\n    // add an id to be able to select it. Using the `path` is not possible because\r\n    // empty path children would collide with their parents\r\n    let id = record.__vd_id;\r\n    if (id == null) {\r\n        id = String(routeRecordId++);\r\n        record.__vd_id = id;\r\n    }\r\n    return {\r\n        id,\r\n        label: record.path,\r\n        tags,\r\n        children: route.children.map(formatRouteRecordForInspector),\r\n    };\r\n}\r\n//  incremental id for route records and inspector state\r\nlet routeRecordId = 0;\r\nconst EXTRACT_REGEXP_RE = /^\\/(.*)\\/([a-z]*)$/;\r\nfunction markRouteRecordActive(route, currentRoute) {\r\n    // no route will be active if matched is empty\r\n    // reset the matching state\r\n    const isExactActive = currentRoute.matched.length &&\r\n        isSameRouteRecord(currentRoute.matched[currentRoute.matched.length - 1], route.record);\r\n    route.__vd_exactActive = route.__vd_active = isExactActive;\r\n    if (!isExactActive) {\r\n        route.__vd_active = currentRoute.matched.some(match => isSameRouteRecord(match, route.record));\r\n    }\r\n    route.children.forEach(childRoute => markRouteRecordActive(childRoute, currentRoute));\r\n}\r\nfunction resetMatchStateOnRouteRecord(route) {\r\n    route.__vd_match = false;\r\n    route.children.forEach(resetMatchStateOnRouteRecord);\r\n}\r\nfunction isRouteMatching(route, filter) {\r\n    const found = String(route.re).match(EXTRACT_REGEXP_RE);\r\n    route.__vd_match = false;\r\n    if (!found || found.length < 3) {\r\n        return false;\r\n    }\r\n    // use a regexp without $ at the end to match nested routes better\r\n    const nonEndingRE = new RegExp(found[1].replace(/\\$$/, ''), found[2]);\r\n    if (nonEndingRE.test(filter)) {\r\n        // mark children as matches\r\n        route.children.forEach(child => isRouteMatching(child, filter));\r\n        // exception case: `/`\r\n        if (route.record.path !== '/' || filter === '/') {\r\n            route.__vd_match = route.re.test(filter);\r\n            return true;\r\n        }\r\n        // hide the / route\r\n        return false;\r\n    }\r\n    const path = route.record.path.toLowerCase();\r\n    const decodedPath = decode(path);\r\n    // also allow partial matching on the path\r\n    if (!filter.startsWith('/') &&\r\n        (decodedPath.includes(filter) || path.includes(filter)))\r\n        return true;\r\n    if (decodedPath.startsWith(filter) || path.startsWith(filter))\r\n        return true;\r\n    if (route.record.name && String(route.record.name).includes(filter))\r\n        return true;\r\n    return route.children.some(child => isRouteMatching(child, filter));\r\n}\r\nfunction omit(obj, keys) {\r\n    const ret = {};\r\n    for (const key in obj) {\r\n        if (!keys.includes(key)) {\r\n            // @ts-expect-error\r\n            ret[key] = obj[key];\r\n        }\r\n    }\r\n    return ret;\r\n}\n\n/**\r\n * Creates a Router instance that can be used by a Vue app.\r\n *\r\n * @param options - {@link RouterOptions}\r\n */\r\nfunction createRouter(options) {\r\n    const matcher = createRouterMatcher(options.routes, options);\r\n    const parseQuery$1 = options.parseQuery || parseQuery;\r\n    const stringifyQuery$1 = options.stringifyQuery || stringifyQuery;\r\n    const routerHistory = options.history;\r\n    if ((process.env.NODE_ENV !== 'production') && !routerHistory)\r\n        throw new Error('Provide the \"history\" option when calling \"createRouter()\":' +\r\n            ' https://next.router.vuejs.org/api/#history.');\r\n    const beforeGuards = useCallbacks();\r\n    const beforeResolveGuards = useCallbacks();\r\n    const afterGuards = useCallbacks();\r\n    const currentRoute = shallowRef(START_LOCATION_NORMALIZED);\r\n    let pendingLocation = START_LOCATION_NORMALIZED;\r\n    // leave the scrollRestoration if no scrollBehavior is provided\r\n    if (isBrowser && options.scrollBehavior && 'scrollRestoration' in history) {\r\n        history.scrollRestoration = 'manual';\r\n    }\r\n    const normalizeParams = applyToParams.bind(null, paramValue => '' + paramValue);\r\n    const encodeParams = applyToParams.bind(null, encodeParam);\r\n    const decodeParams = \r\n    // @ts-expect-error: intentionally avoid the type check\r\n    applyToParams.bind(null, decode);\r\n    function addRoute(parentOrRoute, route) {\r\n        let parent;\r\n        let record;\r\n        if (isRouteName(parentOrRoute)) {\r\n            parent = matcher.getRecordMatcher(parentOrRoute);\r\n            record = route;\r\n        }\r\n        else {\r\n            record = parentOrRoute;\r\n        }\r\n        return matcher.addRoute(record, parent);\r\n    }\r\n    function removeRoute(name) {\r\n        const recordMatcher = matcher.getRecordMatcher(name);\r\n        if (recordMatcher) {\r\n            matcher.removeRoute(recordMatcher);\r\n        }\r\n        else if ((process.env.NODE_ENV !== 'production')) {\r\n            warn(`Cannot remove non-existent route \"${String(name)}\"`);\r\n        }\r\n    }\r\n    function getRoutes() {\r\n        return matcher.getRoutes().map(routeMatcher => routeMatcher.record);\r\n    }\r\n    function hasRoute(name) {\r\n        return !!matcher.getRecordMatcher(name);\r\n    }\r\n    function resolve(rawLocation, currentLocation) {\r\n        // const objectLocation = routerLocationAsObject(rawLocation)\r\n        // we create a copy to modify it later\r\n        currentLocation = assign({}, currentLocation || currentRoute.value);\r\n        if (typeof rawLocation === 'string') {\r\n            const locationNormalized = parseURL(parseQuery$1, rawLocation, currentLocation.path);\r\n            const matchedRoute = matcher.resolve({ path: locationNormalized.path }, currentLocation);\r\n            const href = routerHistory.createHref(locationNormalized.fullPath);\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                if (href.startsWith('//'))\r\n                    warn(`Location \"${rawLocation}\" resolved to \"${href}\". A resolved location cannot start with multiple slashes.`);\r\n                else if (!matchedRoute.matched.length) {\r\n                    warn(`No match found for location with path \"${rawLocation}\"`);\r\n                }\r\n            }\r\n            // locationNormalized is always a new object\r\n            return assign(locationNormalized, matchedRoute, {\r\n                params: decodeParams(matchedRoute.params),\r\n                hash: decode(locationNormalized.hash),\r\n                redirectedFrom: undefined,\r\n                href,\r\n            });\r\n        }\r\n        let matcherLocation;\r\n        // path could be relative in object as well\r\n        if ('path' in rawLocation) {\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                'params' in rawLocation &&\r\n                !('name' in rawLocation) &&\r\n                // @ts-expect-error: the type is never\r\n                Object.keys(rawLocation.params).length) {\r\n                warn(`Path \"${\r\n                // @ts-expect-error: the type is never\r\n                rawLocation.path}\" was passed with params but they will be ignored. Use a named route alongside params instead.`);\r\n            }\r\n            matcherLocation = assign({}, rawLocation, {\r\n                path: parseURL(parseQuery$1, rawLocation.path, currentLocation.path).path,\r\n            });\r\n        }\r\n        else {\r\n            // remove any nullish param\r\n            const targetParams = assign({}, rawLocation.params);\r\n            for (const key in targetParams) {\r\n                if (targetParams[key] == null) {\r\n                    delete targetParams[key];\r\n                }\r\n            }\r\n            // pass encoded values to the matcher, so it can produce encoded path and fullPath\r\n            matcherLocation = assign({}, rawLocation, {\r\n                params: encodeParams(rawLocation.params),\r\n            });\r\n            // current location params are decoded, we need to encode them in case the\r\n            // matcher merges the params\r\n            currentLocation.params = encodeParams(currentLocation.params);\r\n        }\r\n        const matchedRoute = matcher.resolve(matcherLocation, currentLocation);\r\n        const hash = rawLocation.hash || '';\r\n        if ((process.env.NODE_ENV !== 'production') && hash && !hash.startsWith('#')) {\r\n            warn(`A \\`hash\\` should always start with the character \"#\". Replace \"${hash}\" with \"#${hash}\".`);\r\n        }\r\n        // the matcher might have merged current location params, so\r\n        // we need to run the decoding again\r\n        matchedRoute.params = normalizeParams(decodeParams(matchedRoute.params));\r\n        const fullPath = stringifyURL(stringifyQuery$1, assign({}, rawLocation, {\r\n            hash: encodeHash(hash),\r\n            path: matchedRoute.path,\r\n        }));\r\n        const href = routerHistory.createHref(fullPath);\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            if (href.startsWith('//')) {\r\n                warn(`Location \"${rawLocation}\" resolved to \"${href}\". A resolved location cannot start with multiple slashes.`);\r\n            }\r\n            else if (!matchedRoute.matched.length) {\r\n                warn(`No match found for location with path \"${'path' in rawLocation ? rawLocation.path : rawLocation}\"`);\r\n            }\r\n        }\r\n        return assign({\r\n            fullPath,\r\n            // keep the hash encoded so fullPath is effectively path + encodedQuery +\r\n            // hash\r\n            hash,\r\n            query: \r\n            // if the user is using a custom query lib like qs, we might have\r\n            // nested objects, so we keep the query as is, meaning it can contain\r\n            // numbers at `$route.query`, but at the point, the user will have to\r\n            // use their own type anyway.\r\n            // https://github.com/vuejs/router/issues/328#issuecomment-649481567\r\n            stringifyQuery$1 === stringifyQuery\r\n                ? normalizeQuery(rawLocation.query)\r\n                : (rawLocation.query || {}),\r\n        }, matchedRoute, {\r\n            redirectedFrom: undefined,\r\n            href,\r\n        });\r\n    }\r\n    function locationAsObject(to) {\r\n        return typeof to === 'string'\r\n            ? parseURL(parseQuery$1, to, currentRoute.value.path)\r\n            : assign({}, to);\r\n    }\r\n    function checkCanceledNavigation(to, from) {\r\n        if (pendingLocation !== to) {\r\n            return createRouterError(8 /* ErrorTypes.NAVIGATION_CANCELLED */, {\r\n                from,\r\n                to,\r\n            });\r\n        }\r\n    }\r\n    function push(to) {\r\n        return pushWithRedirect(to);\r\n    }\r\n    function replace(to) {\r\n        return push(assign(locationAsObject(to), { replace: true }));\r\n    }\r\n    function handleRedirectRecord(to) {\r\n        const lastMatched = to.matched[to.matched.length - 1];\r\n        if (lastMatched && lastMatched.redirect) {\r\n            const { redirect } = lastMatched;\r\n            let newTargetLocation = typeof redirect === 'function' ? redirect(to) : redirect;\r\n            if (typeof newTargetLocation === 'string') {\r\n                newTargetLocation =\r\n                    newTargetLocation.includes('?') || newTargetLocation.includes('#')\r\n                        ? (newTargetLocation = locationAsObject(newTargetLocation))\r\n                        : // force empty params\r\n                            { path: newTargetLocation };\r\n                // @ts-expect-error: force empty params when a string is passed to let\r\n                // the router parse them again\r\n                newTargetLocation.params = {};\r\n            }\r\n            if ((process.env.NODE_ENV !== 'production') &&\r\n                !('path' in newTargetLocation) &&\r\n                !('name' in newTargetLocation)) {\r\n                warn(`Invalid redirect found:\\n${JSON.stringify(newTargetLocation, null, 2)}\\n when navigating to \"${to.fullPath}\". A redirect must contain a name or path. This will break in production.`);\r\n                throw new Error('Invalid redirect');\r\n            }\r\n            return assign({\r\n                query: to.query,\r\n                hash: to.hash,\r\n                // avoid transferring params if the redirect has a path\r\n                params: 'path' in newTargetLocation ? {} : to.params,\r\n            }, newTargetLocation);\r\n        }\r\n    }\r\n    function pushWithRedirect(to, redirectedFrom) {\r\n        const targetLocation = (pendingLocation = resolve(to));\r\n        const from = currentRoute.value;\r\n        const data = to.state;\r\n        const force = to.force;\r\n        // to could be a string where `replace` is a function\r\n        const replace = to.replace === true;\r\n        const shouldRedirect = handleRedirectRecord(targetLocation);\r\n        if (shouldRedirect)\r\n            return pushWithRedirect(assign(locationAsObject(shouldRedirect), {\r\n                state: typeof shouldRedirect === 'object'\r\n                    ? assign({}, data, shouldRedirect.state)\r\n                    : data,\r\n                force,\r\n                replace,\r\n            }), \r\n            // keep original redirectedFrom if it exists\r\n            redirectedFrom || targetLocation);\r\n        // if it was a redirect we already called `pushWithRedirect` above\r\n        const toLocation = targetLocation;\r\n        toLocation.redirectedFrom = redirectedFrom;\r\n        let failure;\r\n        if (!force && isSameRouteLocation(stringifyQuery$1, from, targetLocation)) {\r\n            failure = createRouterError(16 /* ErrorTypes.NAVIGATION_DUPLICATED */, { to: toLocation, from });\r\n            // trigger scroll to allow scrolling to the same anchor\r\n            handleScroll(from, from, \r\n            // this is a push, the only way for it to be triggered from a\r\n            // history.listen is with a redirect, which makes it become a push\r\n            true, \r\n            // This cannot be the first navigation because the initial location\r\n            // cannot be manually navigated to\r\n            false);\r\n        }\r\n        return (failure ? Promise.resolve(failure) : navigate(toLocation, from))\r\n            .catch((error) => isNavigationFailure(error)\r\n            ? // navigation redirects still mark the router as ready\r\n                isNavigationFailure(error, 2 /* ErrorTypes.NAVIGATION_GUARD_REDIRECT */)\r\n                    ? error\r\n                    : markAsReady(error) // also returns the error\r\n            : // reject any unknown error\r\n                triggerError(error, toLocation, from))\r\n            .then((failure) => {\r\n            if (failure) {\r\n                if (isNavigationFailure(failure, 2 /* ErrorTypes.NAVIGATION_GUARD_REDIRECT */)) {\r\n                    if ((process.env.NODE_ENV !== 'production') &&\r\n                        // we are redirecting to the same location we were already at\r\n                        isSameRouteLocation(stringifyQuery$1, resolve(failure.to), toLocation) &&\r\n                        // and we have done it a couple of times\r\n                        redirectedFrom &&\r\n                        // @ts-expect-error: added only in dev\r\n                        (redirectedFrom._count = redirectedFrom._count\r\n                            ? // @ts-expect-error\r\n                                redirectedFrom._count + 1\r\n                            : 1) > 10) {\r\n                        warn(`Detected an infinite redirection in a navigation guard when going from \"${from.fullPath}\" to \"${toLocation.fullPath}\". Aborting to avoid a Stack Overflow. This will break in production if not fixed.`);\r\n                        return Promise.reject(new Error('Infinite redirect in navigation guard'));\r\n                    }\r\n                    return pushWithRedirect(\r\n                    // keep options\r\n                    assign({\r\n                        // preserve an existing replacement but allow the redirect to override it\r\n                        replace,\r\n                    }, locationAsObject(failure.to), {\r\n                        state: typeof failure.to === 'object'\r\n                            ? assign({}, data, failure.to.state)\r\n                            : data,\r\n                        force,\r\n                    }), \r\n                    // preserve the original redirectedFrom if any\r\n                    redirectedFrom || toLocation);\r\n                }\r\n            }\r\n            else {\r\n                // if we fail we don't finalize the navigation\r\n                failure = finalizeNavigation(toLocation, from, true, replace, data);\r\n            }\r\n            triggerAfterEach(toLocation, from, failure);\r\n            return failure;\r\n        });\r\n    }\r\n    /**\r\n     * Helper to reject and skip all navigation guards if a new navigation happened\r\n     * @param to\r\n     * @param from\r\n     */\r\n    function checkCanceledNavigationAndReject(to, from) {\r\n        const error = checkCanceledNavigation(to, from);\r\n        return error ? Promise.reject(error) : Promise.resolve();\r\n    }\r\n    // TODO: refactor the whole before guards by internally using router.beforeEach\r\n    function navigate(to, from) {\r\n        let guards;\r\n        const [leavingRecords, updatingRecords, enteringRecords] = extractChangingRecords(to, from);\r\n        // all components here have been resolved once because we are leaving\r\n        guards = extractComponentsGuards(leavingRecords.reverse(), 'beforeRouteLeave', to, from);\r\n        // leavingRecords is already reversed\r\n        for (const record of leavingRecords) {\r\n            record.leaveGuards.forEach(guard => {\r\n                guards.push(guardToPromiseFn(guard, to, from));\r\n            });\r\n        }\r\n        const canceledNavigationCheck = checkCanceledNavigationAndReject.bind(null, to, from);\r\n        guards.push(canceledNavigationCheck);\r\n        // run the queue of per route beforeRouteLeave guards\r\n        return (runGuardQueue(guards)\r\n            .then(() => {\r\n            // check global guards beforeEach\r\n            guards = [];\r\n            for (const guard of beforeGuards.list()) {\r\n                guards.push(guardToPromiseFn(guard, to, from));\r\n            }\r\n            guards.push(canceledNavigationCheck);\r\n            return runGuardQueue(guards);\r\n        })\r\n            .then(() => {\r\n            // check in components beforeRouteUpdate\r\n            guards = extractComponentsGuards(updatingRecords, 'beforeRouteUpdate', to, from);\r\n            for (const record of updatingRecords) {\r\n                record.updateGuards.forEach(guard => {\r\n                    guards.push(guardToPromiseFn(guard, to, from));\r\n                });\r\n            }\r\n            guards.push(canceledNavigationCheck);\r\n            // run the queue of per route beforeEnter guards\r\n            return runGuardQueue(guards);\r\n        })\r\n            .then(() => {\r\n            // check the route beforeEnter\r\n            guards = [];\r\n            for (const record of to.matched) {\r\n                // do not trigger beforeEnter on reused views\r\n                if (record.beforeEnter && !from.matched.includes(record)) {\r\n                    if (isArray(record.beforeEnter)) {\r\n                        for (const beforeEnter of record.beforeEnter)\r\n                            guards.push(guardToPromiseFn(beforeEnter, to, from));\r\n                    }\r\n                    else {\r\n                        guards.push(guardToPromiseFn(record.beforeEnter, to, from));\r\n                    }\r\n                }\r\n            }\r\n            guards.push(canceledNavigationCheck);\r\n            // run the queue of per route beforeEnter guards\r\n            return runGuardQueue(guards);\r\n        })\r\n            .then(() => {\r\n            // NOTE: at this point to.matched is normalized and does not contain any () => Promise<Component>\r\n            // clear existing enterCallbacks, these are added by extractComponentsGuards\r\n            to.matched.forEach(record => (record.enterCallbacks = {}));\r\n            // check in-component beforeRouteEnter\r\n            guards = extractComponentsGuards(enteringRecords, 'beforeRouteEnter', to, from);\r\n            guards.push(canceledNavigationCheck);\r\n            // run the queue of per route beforeEnter guards\r\n            return runGuardQueue(guards);\r\n        })\r\n            .then(() => {\r\n            // check global guards beforeResolve\r\n            guards = [];\r\n            for (const guard of beforeResolveGuards.list()) {\r\n                guards.push(guardToPromiseFn(guard, to, from));\r\n            }\r\n            guards.push(canceledNavigationCheck);\r\n            return runGuardQueue(guards);\r\n        })\r\n            // catch any navigation canceled\r\n            .catch(err => isNavigationFailure(err, 8 /* ErrorTypes.NAVIGATION_CANCELLED */)\r\n            ? err\r\n            : Promise.reject(err)));\r\n    }\r\n    function triggerAfterEach(to, from, failure) {\r\n        // navigation is confirmed, call afterGuards\r\n        // TODO: wrap with error handlers\r\n        for (const guard of afterGuards.list())\r\n            guard(to, from, failure);\r\n    }\r\n    /**\r\n     * - Cleans up any navigation guards\r\n     * - Changes the url if necessary\r\n     * - Calls the scrollBehavior\r\n     */\r\n    function finalizeNavigation(toLocation, from, isPush, replace, data) {\r\n        // a more recent navigation took place\r\n        const error = checkCanceledNavigation(toLocation, from);\r\n        if (error)\r\n            return error;\r\n        // only consider as push if it's not the first navigation\r\n        const isFirstNavigation = from === START_LOCATION_NORMALIZED;\r\n        const state = !isBrowser ? {} : history.state;\r\n        // change URL only if the user did a push/replace and if it's not the initial navigation because\r\n        // it's just reflecting the url\r\n        if (isPush) {\r\n            // on the initial navigation, we want to reuse the scroll position from\r\n            // history state if it exists\r\n            if (replace || isFirstNavigation)\r\n                routerHistory.replace(toLocation.fullPath, assign({\r\n                    scroll: isFirstNavigation && state && state.scroll,\r\n                }, data));\r\n            else\r\n                routerHistory.push(toLocation.fullPath, data);\r\n        }\r\n        // accept current navigation\r\n        currentRoute.value = toLocation;\r\n        handleScroll(toLocation, from, isPush, isFirstNavigation);\r\n        markAsReady();\r\n    }\r\n    let removeHistoryListener;\r\n    // attach listener to history to trigger navigations\r\n    function setupListeners() {\r\n        // avoid setting up listeners twice due to an invalid first navigation\r\n        if (removeHistoryListener)\r\n            return;\r\n        removeHistoryListener = routerHistory.listen((to, _from, info) => {\r\n            if (!router.listening)\r\n                return;\r\n            // cannot be a redirect route because it was in history\r\n            const toLocation = resolve(to);\r\n            // due to dynamic routing, and to hash history with manual navigation\r\n            // (manually changing the url or calling history.hash = '#/somewhere'),\r\n            // there could be a redirect record in history\r\n            const shouldRedirect = handleRedirectRecord(toLocation);\r\n            if (shouldRedirect) {\r\n                pushWithRedirect(assign(shouldRedirect, { replace: true }), toLocation).catch(noop);\r\n                return;\r\n            }\r\n            pendingLocation = toLocation;\r\n            const from = currentRoute.value;\r\n            // TODO: should be moved to web history?\r\n            if (isBrowser) {\r\n                saveScrollPosition(getScrollKey(from.fullPath, info.delta), computeScrollPosition());\r\n            }\r\n            navigate(toLocation, from)\r\n                .catch((error) => {\r\n                if (isNavigationFailure(error, 4 /* ErrorTypes.NAVIGATION_ABORTED */ | 8 /* ErrorTypes.NAVIGATION_CANCELLED */)) {\r\n                    return error;\r\n                }\r\n                if (isNavigationFailure(error, 2 /* ErrorTypes.NAVIGATION_GUARD_REDIRECT */)) {\r\n                    // Here we could call if (info.delta) routerHistory.go(-info.delta,\r\n                    // false) but this is bug prone as we have no way to wait the\r\n                    // navigation to be finished before calling pushWithRedirect. Using\r\n                    // a setTimeout of 16ms seems to work but there is no guarantee for\r\n                    // it to work on every browser. So instead we do not restore the\r\n                    // history entry and trigger a new navigation as requested by the\r\n                    // navigation guard.\r\n                    // the error is already handled by router.push we just want to avoid\r\n                    // logging the error\r\n                    pushWithRedirect(error.to, toLocation\r\n                    // avoid an uncaught rejection, let push call triggerError\r\n                    )\r\n                        .then(failure => {\r\n                        // manual change in hash history #916 ending up in the URL not\r\n                        // changing, but it was changed by the manual url change, so we\r\n                        // need to manually change it ourselves\r\n                        if (isNavigationFailure(failure, 4 /* ErrorTypes.NAVIGATION_ABORTED */ |\r\n                            16 /* ErrorTypes.NAVIGATION_DUPLICATED */) &&\r\n                            !info.delta &&\r\n                            info.type === NavigationType.pop) {\r\n                            routerHistory.go(-1, false);\r\n                        }\r\n                    })\r\n                        .catch(noop);\r\n                    // avoid the then branch\r\n                    return Promise.reject();\r\n                }\r\n                // do not restore history on unknown direction\r\n                if (info.delta) {\r\n                    routerHistory.go(-info.delta, false);\r\n                }\r\n                // unrecognized error, transfer to the global handler\r\n                return triggerError(error, toLocation, from);\r\n            })\r\n                .then((failure) => {\r\n                failure =\r\n                    failure ||\r\n                        finalizeNavigation(\r\n                        // after navigation, all matched components are resolved\r\n                        toLocation, from, false);\r\n                // revert the navigation\r\n                if (failure) {\r\n                    if (info.delta &&\r\n                        // a new navigation has been triggered, so we do not want to revert, that will change the current history\r\n                        // entry while a different route is displayed\r\n                        !isNavigationFailure(failure, 8 /* ErrorTypes.NAVIGATION_CANCELLED */)) {\r\n                        routerHistory.go(-info.delta, false);\r\n                    }\r\n                    else if (info.type === NavigationType.pop &&\r\n                        isNavigationFailure(failure, 4 /* ErrorTypes.NAVIGATION_ABORTED */ | 16 /* ErrorTypes.NAVIGATION_DUPLICATED */)) {\r\n                        // manual change in hash history #916\r\n                        // it's like a push but lacks the information of the direction\r\n                        routerHistory.go(-1, false);\r\n                    }\r\n                }\r\n                triggerAfterEach(toLocation, from, failure);\r\n            })\r\n                .catch(noop);\r\n        });\r\n    }\r\n    // Initialization and Errors\r\n    let readyHandlers = useCallbacks();\r\n    let errorHandlers = useCallbacks();\r\n    let ready;\r\n    /**\r\n     * Trigger errorHandlers added via onError and throws the error as well\r\n     *\r\n     * @param error - error to throw\r\n     * @param to - location we were navigating to when the error happened\r\n     * @param from - location we were navigating from when the error happened\r\n     * @returns the error as a rejected promise\r\n     */\r\n    function triggerError(error, to, from) {\r\n        markAsReady(error);\r\n        const list = errorHandlers.list();\r\n        if (list.length) {\r\n            list.forEach(handler => handler(error, to, from));\r\n        }\r\n        else {\r\n            if ((process.env.NODE_ENV !== 'production')) {\r\n                warn('uncaught error during route navigation:');\r\n            }\r\n            console.error(error);\r\n        }\r\n        return Promise.reject(error);\r\n    }\r\n    function isReady() {\r\n        if (ready && currentRoute.value !== START_LOCATION_NORMALIZED)\r\n            return Promise.resolve();\r\n        return new Promise((resolve, reject) => {\r\n            readyHandlers.add([resolve, reject]);\r\n        });\r\n    }\r\n    function markAsReady(err) {\r\n        if (!ready) {\r\n            // still not ready if an error happened\r\n            ready = !err;\r\n            setupListeners();\r\n            readyHandlers\r\n                .list()\r\n                .forEach(([resolve, reject]) => (err ? reject(err) : resolve()));\r\n            readyHandlers.reset();\r\n        }\r\n        return err;\r\n    }\r\n    // Scroll behavior\r\n    function handleScroll(to, from, isPush, isFirstNavigation) {\r\n        const { scrollBehavior } = options;\r\n        if (!isBrowser || !scrollBehavior)\r\n            return Promise.resolve();\r\n        const scrollPosition = (!isPush && getSavedScrollPosition(getScrollKey(to.fullPath, 0))) ||\r\n            ((isFirstNavigation || !isPush) &&\r\n                history.state &&\r\n                history.state.scroll) ||\r\n            null;\r\n        return nextTick()\r\n            .then(() => scrollBehavior(to, from, scrollPosition))\r\n            .then(position => position && scrollToPosition(position))\r\n            .catch(err => triggerError(err, to, from));\r\n    }\r\n    const go = (delta) => routerHistory.go(delta);\r\n    let started;\r\n    const installedApps = new Set();\r\n    const router = {\r\n        currentRoute,\r\n        listening: true,\r\n        addRoute,\r\n        removeRoute,\r\n        hasRoute,\r\n        getRoutes,\r\n        resolve,\r\n        options,\r\n        push,\r\n        replace,\r\n        go,\r\n        back: () => go(-1),\r\n        forward: () => go(1),\r\n        beforeEach: beforeGuards.add,\r\n        beforeResolve: beforeResolveGuards.add,\r\n        afterEach: afterGuards.add,\r\n        onError: errorHandlers.add,\r\n        isReady,\r\n        install(app) {\r\n            const router = this;\r\n            app.component('RouterLink', RouterLink);\r\n            app.component('RouterView', RouterView);\r\n            app.config.globalProperties.$router = router;\r\n            Object.defineProperty(app.config.globalProperties, '$route', {\r\n                enumerable: true,\r\n                get: () => unref(currentRoute),\r\n            });\r\n            // this initial navigation is only necessary on client, on server it doesn't\r\n            // make sense because it will create an extra unnecessary navigation and could\r\n            // lead to problems\r\n            if (isBrowser &&\r\n                // used for the initial navigation client side to avoid pushing\r\n                // multiple times when the router is used in multiple apps\r\n                !started &&\r\n                currentRoute.value === START_LOCATION_NORMALIZED) {\r\n                // see above\r\n                started = true;\r\n                push(routerHistory.location).catch(err => {\r\n                    if ((process.env.NODE_ENV !== 'production'))\r\n                        warn('Unexpected error when starting the router:', err);\r\n                });\r\n            }\r\n            const reactiveRoute = {};\r\n            for (const key in START_LOCATION_NORMALIZED) {\r\n                // @ts-expect-error: the key matches\r\n                reactiveRoute[key] = computed(() => currentRoute.value[key]);\r\n            }\r\n            app.provide(routerKey, router);\r\n            app.provide(routeLocationKey, reactive(reactiveRoute));\r\n            app.provide(routerViewLocationKey, currentRoute);\r\n            const unmountApp = app.unmount;\r\n            installedApps.add(app);\r\n            app.unmount = function () {\r\n                installedApps.delete(app);\r\n                // the router is not attached to an app anymore\r\n                if (installedApps.size < 1) {\r\n                    // invalidate the current navigation\r\n                    pendingLocation = START_LOCATION_NORMALIZED;\r\n                    removeHistoryListener && removeHistoryListener();\r\n                    removeHistoryListener = null;\r\n                    currentRoute.value = START_LOCATION_NORMALIZED;\r\n                    started = false;\r\n                    ready = false;\r\n                }\r\n                unmountApp();\r\n            };\r\n            // TODO: this probably needs to be updated so it can be used by vue-termui\r\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && isBrowser) {\r\n                addDevtools(app, router, matcher);\r\n            }\r\n        },\r\n    };\r\n    return router;\r\n}\r\nfunction runGuardQueue(guards) {\r\n    return guards.reduce((promise, guard) => promise.then(() => guard()), Promise.resolve());\r\n}\r\nfunction extractChangingRecords(to, from) {\r\n    const leavingRecords = [];\r\n    const updatingRecords = [];\r\n    const enteringRecords = [];\r\n    const len = Math.max(from.matched.length, to.matched.length);\r\n    for (let i = 0; i < len; i++) {\r\n        const recordFrom = from.matched[i];\r\n        if (recordFrom) {\r\n            if (to.matched.find(record => isSameRouteRecord(record, recordFrom)))\r\n                updatingRecords.push(recordFrom);\r\n            else\r\n                leavingRecords.push(recordFrom);\r\n        }\r\n        const recordTo = to.matched[i];\r\n        if (recordTo) {\r\n            // the type doesn't matter because we are comparing per reference\r\n            if (!from.matched.find(record => isSameRouteRecord(record, recordTo))) {\r\n                enteringRecords.push(recordTo);\r\n            }\r\n        }\r\n    }\r\n    return [leavingRecords, updatingRecords, enteringRecords];\r\n}\n\n/**\r\n * Returns the router instance. Equivalent to using `$router` inside\r\n * templates.\r\n */\r\nfunction useRouter() {\r\n    return inject(routerKey);\r\n}\r\n/**\r\n * Returns the current route location. Equivalent to using `$route` inside\r\n * templates.\r\n */\r\nfunction useRoute() {\r\n    return inject(routeLocationKey);\r\n}\n\nexport { NavigationFailureType, RouterLink, RouterView, START_LOCATION_NORMALIZED as START_LOCATION, createMemoryHistory, createRouter, createRouterMatcher, createWebHashHistory, createWebHistory, isNavigationFailure, loadRouteLocation, matchedRouteKey, onBeforeRouteLeave, onBeforeRouteUpdate, parseQuery, routeLocationKey, routerKey, routerViewLocationKey, stringifyQuery, useLink, useRoute, useRouter, viewDepthKey };\n"],"names":["isCallable","tryToString","$TypeError","TypeError","module","exports","argument","$String","String","isObject","ArrayBuffer","DataView","NAME","Constructor","Prototype","NATIVE_ARRAY_BUFFER","DESCRIPTORS","global","hasOwn","classof","createNonEnumerableProperty","defineBuiltIn","defineProperty","isPrototypeOf","getPrototypeOf","setPrototypeOf","wellKnownSymbol","uid","InternalStateModule","enforceInternalState","enforce","getInternalState","get","Int8Array","Int8ArrayPrototype","prototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","ObjectPrototype","Object","TO_STRING_TAG","TYPED_ARRAY_TAG","TYPED_ARRAY_CONSTRUCTOR","NATIVE_ARRAY_BUFFER_VIEWS","opera","TYPED_ARRAY_TAG_REQUIRED","TypedArrayConstructorsList","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigIntArrayConstructorsList","BigInt64Array","BigUint64Array","isView","it","klass","getTypedArrayConstructor","proto","state","isTypedArray","aTypedArray","aTypedArrayConstructor","C","exportTypedArrayMethod","KEY","property","forced","options","ARRAY","TypedArrayConstructor","error","error2","exportTypedArrayStaticMethod","Function","this","undefined","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","el","fromIndex","value","O","length","index","includes","indexOf","bind","IndexedObject","toObject","TYPE","IS_FIND_LAST_INDEX","callbackfn","that","result","self","boundFunction","findLast","findLastIndex","uncurryThis","toString","stringSlice","slice","TO_STRING_TAG_SUPPORT","classofRaw","$Object","CORRECT_ARGUMENTS","arguments","tryGet","key","tag","callee","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","target","source","exceptions","keys","f","getOwnPropertyDescriptor","i","fails","F","constructor","createPropertyDescriptor","object","bitmap","enumerable","configurable","writable","makeBuiltIn","name","descriptor","getter","set","setter","defineGlobalProperty","simple","unsafe","nonConfigurable","nonWritable","document","EXISTS","createElement","getBuiltIn","match","version","userAgent","process","Deno","versions","v8","split","$Error","Error","replace","TEST","arg","stack","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","test","dropEntries","prepareStackTrace","copyConstructorProperties","isForced","FORCED","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","dontCallGetSet","sham","exec","NATIVE_BIND","FunctionPrototype","apply","call","Reflect","aCallable","fn","hasOwnProperty","getDescriptor","PROPER","CONFIGURABLE","aFunction","namespace","method","isNullOrUndefined","V","P","func","check","Math","globalThis","window","g","a","propertyIsEnumerable","dummy","Wrapper","NewTarget","NewTargetPrototype","store","functionToString","inspectSource","cause","has","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","getterFor","type","wmget","wmhas","wmset","metadata","facade","STATE","replacement","feature","detection","data","normalize","POLYFILL","NATIVE","string","toLowerCase","documentAll","all","SPECIAL_DOCUMENT_ALL","USE_SYMBOL_AS_UID","$Symbol","toLength","obj","CONFIGURABLE_FUNCTION_NAME","CONFIGURABLE_LENGTH","TEMPLATE","arity","join","ceil","floor","trunc","x","n","$default","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","anObject","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","Attributes","current","propertyIsEnumerableModule","internalObjectKeys","enumBugKeys","concat","getOwnPropertyNames","getOwnPropertySymbols","CORRECT_PROTOTYPE_GETTER","IE_PROTO","push","names","$propertyIsEnumerable","NASHORN_BUG","aPossiblePrototype","CORRECT_SETTER","Array","__proto__","input","pref","val","valueOf","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","Target","Source","hasIndices","ignoreCase","multiline","dotAll","unicode","unicodeSets","sticky","SHARED","IS_PURE","mode","copyright","license","V8_VERSION","symbol","Symbol","toIntegerOrInfinity","max","min","integer","requireObjectCoercible","number","isSymbol","getMethod","ordinaryToPrimitive","TO_PRIMITIVE","exoticToPrim","toPrimitive","id","postfix","random","NATIVE_SYMBOL","iterator","WellKnownSymbolsStore","symbolFor","createWellKnownSymbol","withoutSetter","description","proxyAccessor","inheritIfRequired","normalizeStringArgument","installErrorCause","clearErrorStack","ERROR_STACK_INSTALLABLE","FULL_NAME","wrapper","IS_AGGREGATE_ERROR","STACK_TRACE_LIMIT","OPTIONS_POSITION","path","ERROR_NAME","OriginalError","OriginalErrorPrototype","BaseError","WrappedError","b","message","$","wrapErrorConstructorWithCause","WEB_ASSEMBLY","WebAssembly","exportGlobalErrorCauseWrapper","exportWebAssemblyErrorCauseWrapper","init","defineBuiltInAccessor","regExpFlags","RegExp","RegExpPrototype","INDICES_SUPPORT","calls","expected","addGetter","chr","pairs","ArrayBufferViewCore","len","relativeIndex","k","$findLastIndex","predicate","$findLast","define","r","e","t","o","c","u","code","p","1","_dereq_","css","createStyle","href","insertAt","browserify-css","2","toPoint","y","round","DG","Point","Util","isArray","reduce","callback","opt_initialValue","isValueSet","forEach","thisArg","T","kValue","hasDontEnumBug","dontEnums","dontEnumsLength","prop","some","fun","map","res","filter","oThis","aArgs","fToBind","fNOP","fBound","searchElement","abs","Infinity","Promise","requireModule","requirejs","registry","seen","deps","resolve","child","charAt","parts","parentBase","l","part","pop","_eak_seen","mod","reified","__dependency1__","__exports__","promises","reject","resolver","resolveAll","results","remaining","promise","isFunction","then","useNextTick","nextTick","flush","useMutationObserver","iterations","observer","BrowserMutationObserver","node","createTextNode","observe","characterData","useSetTimeout","local","setTimeout","queue","tuple","asap","scheduleFlush","browserGlobal","MutationObserver","WebKitMutationObserver","configure","config","instrument","__dependency2__","polyfill","es6PromiseSupport","RSVPPromise","__dependency3__","__dependency4__","__dependency5__","__dependency6__","__dependency7__","_subscribers","invokeResolver","resolvePromise","rejectPromise","reason","invokeCallback","settled","detail","succeeded","failed","hasCallback","handleThenable","FULFILLED","REJECTED","subscribe","parent","onFulfillment","onRejection","subscribers","publish","_detail","resolved","objectOrFunction","fulfill","_state","PENDING","SEALED","async","publishFulfillment","publishRejection","now","race","staticResolve","staticReject","thenPromise","callbacks","catch","Date","getTime","oldDG","DgApi","DgApiCore","L","__dgApi__","Icon","Default","imagePath","Map","addInitHook","inited","s","m","GoogleAnalyticsObject","q","getElementsByTagName","src","parentNode","insertBefore","googleAnalytics","ga","gaCode","storage","gaName","sampleRate","include","addHandler","HandlerClass","param","handler","_handlers","enable","Browser","touchEnabled","DomUtil","addClass","_container","handlers","chain","err","console","plugin","plugins","count","jsReg","cssReg","checkLoading","appendJS","link","js","setAttribute","onload","onerror","onreadystatechange","readyState","appendChild","appendCSS","isJs","url","isCss","appendAsset","asset","ajax","handleReadyState","success","_aborted","request","noop","twoHundo","status","setHeaders","http","h","headers","Accept","defaultHeaders","accept","dataType","crossDomain","requestedWith","contentType","setRequestHeader","setCredentials","withCredentials","generalCallback","lastValue","urlappend","handleJsonp","reqId","uniqid","cbkey","jsonpCallback","cbval","jsonpCallbackName","callbackPrefix","cbreg","script","doc","loaded","isIE10","navigator","win","event","htmlFor","head","removeChild","onclick","abort","getRequest","toUpperCase","processData","Ajax","toQueryString","sendWait","xhr","open","xDomainRequest","onprogress","ontimeout","send","buildParams","prefix","traditional","add","v","rbracket","setType","isCrossDomain","rurl","ajaxLocParts","doRequest","complete","resp","timeout","clearTimeout","_erred","filteredResponse","globalSetupOptions","dataFilter","responseText","JSON","parse","eval","responseXML","parseError","errorCode","_responseArgs","msg","requestPromise","resultPromise","ajaxLocation","byTag","xmlHttpRequest","*","xml","html","text","json","XMLHttpRequest","XDomainRequest","location","setup","trad","enc","encodeURIComponent","testxhr","corsSupport","ie","host","search","Wkt","toGeoJSON","re","substring","crs","srid","properties","white","multicoords","elem","depth","rings","pointer","parseFloat","coords","item","pt","list","point","coordinates","multipoint","multilinestring","linestring","polygon","multipolygon","geometrycollection","geometry","geometries","root","shift","geoJsonLayer","opts","geoJson","_coordsToLatLngs","GeoJSON","coordsToLatLng","arr","coord","toLatLngs","toPoints","pointsToLatLngOnMap","wkt","parsePoints","points","containerPointToLatLng","ProjectDetector","Handler","extend","initialize","_map","_osmViewport","_project","_loadProjectList","addHooks","_projectWatch","on","removeHooks","off","getProject","getProjectsList","_projectList","isProjectHere","project","checkMethod","LatLng","LatLngBounds","latLng","latLngBounds","getSouthWest","wrap","getNorthEast","_testProjectIntersects","_testProjectContains","_loaded","_centerInProject","attributionControl","_update","_zoomInProject","_searchProject","country_code","_checkProjectData","bounds","domain","flags","zoom_level","time_zone","offset","fallbackProjectsList","projectsList","bound","geoJSON","getBounds","defaultPos","default_pos","lat","lon","minZoom","maxZoom","timeOffset","traffic","transport","public_transport","roads","road_network","filteredByZoom","foundProjects","mapBounds","mapCenter","getCenter","neareastProject","currentProject","distanceTo","newProject","fire","intersects","latlng","PolyUtil","inside","lng","getZoom","mergeOptions","projectDetector","Metric","Segments","getLength","getReverse","segments","getIndex","getSegRatio","sub","getSegLength","VertexTransform","Class","vertices","_vertices","_scale","_angle","_trans","_matrix","load","vertex","clone","save","setScale","scale","getScale","setAngle","angle","getAngle","setTranslation","trans","getTranslation","setMatrix","matrix","getMatrix","unScale","rotate","cos","sin","unRotate","translate","dx","dy","unTranslate","transform","d","statics","vt","rx","ry","vec1","vec2","sqrt","getScaled","origin","sp","x1","y1","x2","y2","getAnglesSum","angle1","angle2","getAnglesDif","ArrowPathTransform","_lengths","_drawings","_setPath","subPath","ax","bx","cx","angles","drawings","width","arcs","lengths","getAngles","cot","tan","reverse","fullAngle","_arcs","ArcBezier","_setAngleAndDisplacement","vL","vR","displ","pathRatio","vertexLeft","vertexRight","segIndex","segRatio","vertexIndexLeft","vertexIndexRight","drawingIndexLeft","drawingIndexRight","arc","aed","getCurveBefore","getTbyL","absSin","temp","sign","splice","getTranslatedPath","latlngs","vector","ring","j","ArrowTipTransform","shape","_setShape","pl","subShape","ComplexPath","Path","fill","fillOpacity","interactive","setOptions","_empty","_pxEmpty","_pxBounds","getEvents","zoom","weight","visibility","isShown","setStyle","toFixed","_updatePath","_renderer","_updateComplexPath","Canvas","layer","closed","_x","_y","$x","$y","ctx","_ctx","_drawnLayers","_leaflet_id","beginPath","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","closePath","_fillStroke","SVG","complexPointsToPath","str","svg","Bezier","dpoints","_getDerivatives","order","_lut","getPoint","mt","mt2","t2","derivative","w_i","WEIGHT","x_i","ABSCISSA","z","sum","z2","z3","mz","mz2","mz3","b$3","b$4","c$4","curve","getCurveAfter","getLUT","steps","_setLUT3","_setLUT2","lut","bezier","TimeBezier","controlPoint1","controlPoint2","START","END","getYbyX","mid","_setLutLengths","et","dt","pow","Animation","Evented","_animID","_startTime","_running","_animation","_durations","start","stop","_prepare","_animate","_run","animation","duration","requestAnimFrame","elapsed","progress","_step","_getFrameValues","_complete","cancelAnimFrame","fr","to","frames","from","LINEAR","EASE","EASE_IN","EASE_IN_OUT","EASE_OUT","Entrance","FeatureGroup","vectors","fillColor","strokeColor","enableAnimation","autoClose","LayerGroup","_bounds","_animations","bounce","BOUNCE_ANIMATION","PATH_ANIMATION","_initArrows","_isShown","onAdd","show","onRemove","hide","events","layeradd","_removeEntrance","zoomend","fitBounds","_layers","eachLayer","arrow","setVisibility","setFillColor","color","setStrokeColor","base","create","distance","addLayer","entrance","fitZoom","contains","_isAllowedZoom","_getFitZoom","once","setZoom","setView","animate","SHOW_FROM_ZOOM","Popup","remove","function","Arrow","_progress","_distance","_visibility","_position","_shape","SHAPE","_apt","_att","beforeAdd","preferCanvas","ielt9","projection","lineCap","lineJoin","moveend","viewreset","_reset","lastPoint","prevPoint","_mapToAdd","latLngToLayerPoint","_setBounds","invoke","_resetBounds","pp","apt","att","Bounds","16","17","18","19","Label","Layer","className","zIndexOffset","textDirection","_typeOfString","_defaultZIndex","content","_animated","any3d","_content","_el","_initDOM","_visible","setContent","_onViewReset","_onZoomAnimation","falseFn","offsetWidth","getPanes","tooltipPane","style","zIndex","DomEvent","disableClickPropagation","stopPropagation","_latlng","setPosition","opt","_latLngToNewLayerPoint","center","setOffset","setZIndexOffset","isNaN","innerHTML","label","Marker","bindLabel","_label","unbindLabel","_onMarkerRemove","showLabel","_mouseOverLabel","_mouseOutLabel","_dragStartLabel","_dragEndLabel","_updateLabelZIndex","hideLabel","_updatePosition","getLabel","_originalUpdateZIndex","_updateZIndex","_zIndex","_icon","getLatLng","removeLayer","isMarkerDragging","isMouseOverMarker","_labelEvents","mouseover","mousemove","mouseout","configTheme","balloonOptions","offsetX","offsetY","originalInitialize","originalInitLayout","_initLayout","originalOnAdd","graf","baron","noConflict","BaronDomHelper","element","getAttribute","removeAttribute","getStyle","border","mapControlsWidth","_headerContent","_footerContent","_scroller","_scrollerBar","_barWrapper","_baron","_isBaronExist","_popupShowClass","_popupHideClass","_popupTipClass","_tipSVGPath","_isAutoPanPaddingUserDefined","_popupStructure","entranceshow","_closePopup","resize","_animateOpening","_animateClosing","TRANSITION","_removeTimeout","popup","_source","_isNode","_bodyContent","update","setHeaderContent","setFooterContent","getContent","getHeaderContent","getFooterContent","clear","_clearElement","clearHeader","clearFooter","findElement","_contentNode","querySelector","_innerContainer","removeClass","closePopup","nodeName","_onCloseButtonClick","_close","mobile","geoclicker","closeOnClick","closePopupOnClick","popupWasOpen","eventPath","composedPath","preventDefault","closeButton","_detachEl","_closeButton","_wrapper","tip","_tipContainer","svgClass","_updateScrollPosition","scrolled","_updateLayout","scrollTop","innerHeight","maxHeight","_getDelta","_scrollerWrapper","height","_isContentHeightEnough","_initBaronScroller","_initBaron","_onScroll","_adjustPan","_bindAdjustPanOnTransitionEnd","propertyName","TRANSITION_END","autoPan","containerHeight","offsetHeight","containerWidth","_containerWidth","layerPos","_containerLeft","_containerBottom","_zoomAnimated","_add","getPosition","autoPanPadding","maxWidth","containerPos","layerPointToContainerPoint","padding","paddingTL","autoPanPaddingTopLeft","paddingBR","autoPanPaddingBottomRight","size","getSize","panBy","popupHeight","body","contentNode","scrollerWrapper","scroller","barWrapper","_switchEvents","originalEvent","_onClick","srcElement","_moving","_onStart","_moved","first","touches","_startPoint","clientX","clientY","_toggleTouchEvents","_onEnd","_onMove","newPoint","subtract","context","bar","track","selector","_initHeader","header","_initFooter","footer","_initBodyContainer","_clearNode","_updatePopupStructure","delta","wrapperStyle","scrolledClass","margin","availableWidth","sprawling","minWidth","whiteSpace","_insertContent","hasChildNodes","firstChild","switcher","touch","_markerClass","_markerShowClass","_markerHideClass","_dgHideClass","openPopup","setLatLng","hasLayer","_popup","_shadow","Dictionary","ru","pluralRules","en","cs","es","ar","Locale","dictionaryMsg","exp","lang","getLang","msgIsset","defaultLang","parseInt","template","setLang","currentLang","documentElement","getAttributeNS","RoundControl","Control","Mixin","Events","position","iconClass","controlClass","_controlCLass","controlIconClass","_controlIconCLass","container","_disable","_link","_renderTranslation","_toggleControl","fireEvent","setState","roundControl","ie9","div","Boolean","safari51","safari","wasPreviouslyDisabled","localStorage","getItem","museum","opera12","Museum","wearesorry","_element","_text","children","getContainer","setItem","disable","markersData","iconSize","iconAnchor","bounceAtZoomLimits","controlAddTo","addTo","DivIcon","createIcon","oldIcon","tagName","Element","empty","bgPos","backgroundPosition","_setIconStyles","msPointer","msPointerEnabled","msMaxTouchPoints","PointerEvent","pointerEnabled","maxTouchPoints","documentTouch","DocumentTouch","icon","divIcon","utilSetOptions","clickable","nonBubblingEvents","_initContainer","_onMouseMove","_handleMouseOut","getContext","pathInitialize","loggedGeometryTypes","Rectangle","Circle","CircleMarker","Polygon","Polyline","initMap","getBoundsZoom","setMaxZoom","_tileLayersNumber","_mapMaxZoomCache","wheelPxPerZoomLevel","metaLayers","reset","_lastMetalayer","entity","_restrictZoom","_zoom","_limitZoom","_limitCenter","maxBounds","_testAnimation","_stop","pan","animated","_tryAnimatedZoom","_tryAnimatedPan","_sizeTimer","_resetView","getTileLayersNumber","enabled","projectFrom","projectTo","_updateTileLayers","TileLayer","_isDg","_getNewBounds","screenSize","divideBy","sw","unproject","ne","mapOptions","isMapMaxZoom","dgTileLayer","baseLayer","detectRetina","retina","projectLeaveMaxZoom","maxNativeZoom","_updateZoomLevels","_fireDOMEvent","targets","keyCode","synth","_stopped","_findEventTargets","listens","eventTargets","eventTargetsMapIndex","isMarker","containerPoint","latLngToContainerPoint","mouseEventToContainerPoint","layerPoint","containerPointToLayerPoint","layerPointToLatLng","metalayer","_getCurrentMetaLayer","_fireMetalayerEvent","eventTarget","isClick","metaEntity","getHoveredObject","listener","mapEvents","dragging","tap","updateTileUrl","errorTileUrl","errorUrl","errorRuUrl","currentTilesLang","setUrl","arabicTileUrl","setPreviewUrl","arabicPreviewTileUrl","tileUrl","previewTileUrl","protocol","baseUrl","MobileTileLayer","BaseLayer","getTiles","_tiles","retinaTileServer","tileServer","arabicRetinaTileServer","arabicTileServer","previewRetinaTileServer","previewTileServer","arabicPreviewRetinaTileServer","arabicPreviewTileServer","subdomains","updateWhenIdle","previewUrl","langchange","projectchange","projectleave","tilesCheck","TilesCheck","_layer","_moveStartEventCounter","_moveEndEventCounter","_loadingEventCounter","_loadEventCounter","_mapEvents","_layerEvents","layerremove","movestart","_stopWaiting","_isWaiting","_isMoveEnd","_checkWaiting","loading","_isLoad","_resetCounters","_checkTiles","tileZoom","_tileZoom","tiles","zoomOut","onDragEnd","Drag","_onDragEnd","_rememberTimeAndPosition","time","_lastTime","pos","_lastPos","_draggable","_absPos","_newPos","_positions","_times","_onDrag","inertia","pointReduce","_defaultPointReduce","polys","insidePoly","_inRing","inHole","isInside","pi","pj","xi","yi","xj","yj","intersect","Draggable","_simulated","_enabled","clickTolerance","_startPos","_lastTarget","SVGElementInstance","correspondingUseElement","_round","_animRequest","_lastEvent","noInertia","direction","ease","easeLinearity","speedVector","multiplyBy","speed","limitedSpeed","inertiaMaxSpeed","limitedSpeedVector","decelerationDuration","_limitOffset","noMoveStart","_previewUrl","redraw","createTile","done","tile","_tileOnLoad","_tileOnError","crossOrigin","alt","getTileUrl","_initTile","tileSize","getTileSize","pointerEvents","onselectstart","onmousemove","android","android23","WebkitBackfaceVisibility","_updateLevels","_levels","_removeTilesAtZoom","level","getPixelOrigin","_setZoomTransform","_level","pixelBounds","_getTiledPixelBounds","tileRange","_pxBoundsToTileRange","tileCenter","keepBuffer","noPruneRange","getBottomLeft","getTopRight","_setView","_isValidTile","_tileCoordsToKey","sort","_loading","_addTile","_needPreviewTile","_existTileFromLowerZoom","_existTilesFromHigherZoom","coords2","_floor","preview","tilePos","_getTilePos","wrapCoords","_wrapCoords","needPreview","_url","_tileReady","originalEl","replaceChild","active","_pruneTiles","_noTilesToLoad","_fadeAnimated","_getSubdomain","_getZoomForUrl","infinite","invertedY","_globalTileRange","tms","Zoom","zoomName","buttonTemplate","_zoomInButton","_createButton","_zoomIn","_zoomOutButton","_zoomOut","_updateDisabled","_originalCreateButton","args","linkActiveClass","iconActiveClass","title","zoom_in","zoom_out","dust","render","Attribution","_getLink","linkType","dictionary","copyright_logo","copyright_apilink","copyright_license","open_link","cz","cl","cy","ae","countryCode","_countryCode","_markerToRoute","_markers","_checkMarkerLayers","currentMarkers","_copyright","_first","_logotype","logotype","_open2gis","getAttribution","addAttribution","_updateLink","_getOpenUrl","osm","_osm","attribs","_attributions","prefixAndAttribs","_getAttributionHTML","ppLink2gis","gislink","rsType","openLink2gis","_getData","btn","isHideButton","work_on","work_on_with_osm","open2gis_link","open2gis_name","license_agreement","dir","control","attribution","open_on","route_on","Location","drawCircle","follow","stopFollowingOnDrag","metric","onLocationError","onLocationOutsideMapBounds","locateOptions","geolocation","_event","_locateOptions","watch","maximumAge","_resetVariables","click","_handleLocate","_initLocate","locationfound","_onLocationFound","locationerror","_onLocationError","_active","_isOutsideMapBounds","_stopLocate","_locateOnNextLocationFound","locate","_startFollowing","_clearError","_visualizeLocation","accuracy","_following","_stopFollowing","radius","opacity","_circle","setRadius","circle","markerClass","_marker","marker","stopLocate","clearLayers","_error","_errorText","locationControl","addControl","cant_find","you_are_here","button_title","Screenfull","_apiMap","api","_api","requestFullscreen","ALLOW_KEYBOARD_INPUT","exit","exitFullscreen","isFullscreen","fullscreenElement","isAvailable","apiMap","screenfull","Fullscreen","_isFullscreen","_toggleFullscreen","_toggle","invalidateSize","isEnabled","fullscreenchange","_onFullScreenStateChange","fullscreen","fullscreenControl","title_max","title_min","Meta","zoomOffset","eventBubbling","_currentTileKey","_currentTileData","_lastEntity","_dispatchMouseEvents","_origin","getOrigin","_disableDispatchMouseEvents","_enableDispatchMouseEvents","isPoi","_onTileLoadStart","viewprereset","_invalidateAll","_onMoveEnd","setURL","tileKey","mouseEventToLayerPoint","tileOriginPoint","tileCoord","unscaleBy","mouseTileOffset","getTileKey","_getHoveredObject","getTileData","tileData","_removeAllTiles","GridLayer","_resetGrid","_animatingZoom","onTileData","currentTileData","_mouseDown","_requests","_tileStorage","dblclick","mousedown","contextmenu","mouseEvent","meta","mouseEventToLatLng","isDragging","_pointReduceHelper","noPrune","noUpdate","tileZoomChanged","Origin","clb","currentRequest","_requestData","setTileData","_performRequest","_prepareURL","poi","Poi","disableLabel","retinaPoiMetaServer","poiMetaServer","_metaLayer","poiLayerMinZoom","_processData","_currentTilesLang","_labelHelper","_layerEventsListeners","_updateUrl","getMetaLayer","arabicUrl","arabicRetinaPoiMetaServer","arabicPoiMetaServer","scaleBy","polygonLngLatToPoints","_polygonLngLatToPoints","hovers","hover","hint","links","linked","originPoint","contour","lngLat","_setCursor","cursor","Geoclicker","clickCount","pendingClick","_controller","Controller","_toggleEvents","_pause","_unpause","_checkOpenPopup","flag","_mapEventsListeners","_onMetaClick","getController","reinvokeHandler","popupclose","handlePopupClose","_singleClick","handleClick","clampHelper","lineClamp","measure","lineWidth","lineStart","lineCount","wordStart","line","lineText","wasNewLine","ce","ctn","ownerDocument","clientWidth","textContent","innerText","substr","Provider","CatalogApi","apiUrl","webApiServer","webApiVersion","_urlGeoSearch","_urlGeoGet","_urlDetails","_urlFirmsInHouse","_key","geoclickerCatalogApiKey","_geoFields","geoAdditionalFields","_firmInfoFields","firmInfoFields","getLocations","beforeRequest","types","getTypesByZoom","geoSearch","_filterResponse","firmsInHouse","houseId","parameters","params","building_id","page","getFirmInfo","firmId","fields","zoomlevel","geoGet","cancelLastRequest","_lastRequest","adm_div.settlement","adm_div.city","adm_div.division","adm_div.district","street","building","adm_div.place","attraction","selectedTypes","format","_timeoutMs","response","allowedTypes","found","_isNotFound","items","subtype","_eventHandlers","controller","view","_view","handle","tmpl","addClickEvent","_runEventHandlers","_removeClickEvent","_addEventHandler","eventClass","_clearEventHandlers","_getDirectionsUrl","ppnotLink","projectCode","_getDrilldown","admDivs","adm_div","admDiv","address","postcode","HandlerExample","ApiError","CityArea","_polylineStyleDefault","noClip","_polylineStyles","11","12","13","_stylesInited","_initStyles","_geometry","getPopup","_geometryZoomStyle","_getPolyStyleNum","selection","_updateGeometry","_clearPopup","_fillCityAreaObject","drilldown","purpose","mapZoom","newStyle","House","_firmsOnPage","_scrollThrottleInterval","_scrollHeightReserve","showBooklet","showPhotos","showRouteSearch","firmCard","_page","_houseObject","_firmList","_firmListObject","_firmCardObject","_isFirmlistOpen","_id","_totalPages","getCatalogApi","_initedPopupClose","_directionsUrl","_firmListLoader","initLoader","_fillHouseObject","_isRouteSearchAllowed","getMap","_firmCardSetup","renderTemplate","timezoneOffset","isMobile","showEntrance","gotoUrl","onFirmReady","_onFirmReady","onToggle","_fillFirmCardObject","FirmCard","_initPopupClose","_firmListSetup","backBtn","_showHousePopup","onFirmClick","_onFirmListClick","onShowLess","pasteLoader","_pasteLoader","firmlistItemTmpl","onListReady","_renderFirmList","_initShortFirmList","firms","_shortFirmList","List","renderList","_initFirmList","_showListPopup","_toggleEventHandlers","_fillFirmListObject","_clearAndRenderPopup","firmList","_header","btns","afterRender","firmContentObject","headerTitle","webkit","loaderWrapper","loader","_onPopupClose","throttle","_handlePopupScroll","clearList","_firmId","_initShowMore","popupObject","renderPopup","_appendFirmList","addFirms","scrollHeight","_handlePaging","_getAddressString","house","components","component","_fillBody","filials","branches","building_name","purpose_name","floors","ground_count","attractions","_fillHeader","_fillFooter","houseFilials","filialsItemsCount","_getShowAllData","filialsCount","reference","Sight","_fillSightObject","buildingName","subtype_name","drillDown","_checkDescFieldHeight","showMoreText","_needShowMore","_showMoreText","_desc","desc","View","minHeight","isSmall","small","anim","_detectCssAnimation","showPopup","openOn","beforeRender","domPrefixes","elm","animationName","handlersSequence","default","apiError","_options","_catalogApi","_renderHandlerResult","_lastHandleClickArguments","handleResponse","_runHandler","findHandler","_initHandlerOnce","handlerResult","apiErrorTitle","apiErrorBody","we_have_not","noname","go_to","show_organization_in_building","show_more_about_sight","back_button","n_floors","firm","_setOptions","_firmContentObject","_schedule","Schedule","localLang","dict","_renderCardById","getSchedule","_firmData","_convertWebsite","_renderFirmCard","_renderError","_createFirmContainer","_getPaymentTypes","groupName","attribute_groups","group","attributes","attr","_groupRubrics","primary","additional","rubrics","rubric","kind","contact_groups","contacts","contact","firmCardBody","schedule","forecast","paymentTypes","zoneOffset","apiLang","_buildFirmCardBody","_getConfigFirmCardBody","_fillHeaderLinks","_fillFooterButtons","firmName","_footerContainer","address_name","comment","address_comment","groups","payments","entrances","booklet","reviewData","reviews","external_content","is_reviewable","rating","review_count","DataHelper","getFlampUrl","photos","externalContent","photosLink","_events","dg-popup__button_name_firm-card-back","dg-popup__button_name_show-entrance","ent","dg-schedule__today","_onToggleSchedule","_onClose","showClass","display","option","_hasTouch","payMethods","_msgs","flampUrl","flampGoogleAnalytics","log","getProjectTime","utc","getTimezoneOffset","_firms","_eventHandlersInited","_firmCard","_createFirm","_processFirms","action","_isArray","removeFirms","newLang","_clearContainer","_removeFirm","_addFirm","firmData","domFirm","_createListItem","insertAdjacentHTML","_isEmptyObj","dg-popup__link","dg-building-callout__list-item","dg-popup__button_name_back","model","capitaliseFirstLetter","getHours","getMinutes","formatTime","hours","dayNum","getArrayLast","isEqual","obj1","obj2","range","step","idx","fillDefaults","sortBy","pluck","criteria","left","right","rv","getSortedTimePoints","day","deltaHours","deltaMinutes","working_hours","getTimeStamps","timePoints","timestamps","out","num","weekKeys","todayKey","tsp","setDate","getDate","setHours","setMinutes","ts","timestamp","whenOpenInverse","minHoursToDisplayClosure","dayInterval","timestampEnd","dateStart","diff","oneDay","dateEnd","setTodayString","today","periods","always","dayNow","nowIsOpen","lunch","will","willType","willWhen","when","getDay","willTill","strHours","strMinutes","till","alltime","alltimeStr","lunchStr","makeTable","column","hasLunch","dayKey","lunchMaxLength","weekKeysLocal","col","table","makeSimpleString","dayList","lunchesTime","round_the_clock","holiday","groupWorkingDays","flow","numKey","weekFullKeysLocal","firstdayOffset","lastDay","budni","localWorkingDays","everyday","holidayStr","makeAdvancedString","days","weekKeysShort","weekKeysFull","apiDifferentDays","apiScheduleDaysCount","apiDifferentDaysCount","differentWorkingHoursCount","week","evently","apiSortedDifferentDays","nowText","interval","maxHours","btnBack","btnFindWay","btnEntrance","linkReviews","linkPhoto","linkBooklet","tommorow","afterTommorow","afterWeek","nextSun","nextMon","nextTue","nextWed","nextThu","nextFri","nextSat","willOpen","willClose","isOpen","openTill","closeIn","openAt","openIn","nHours","nMins","Lunch","workingDays","weekdays","restDay","reviewsOnFlamp","writeReviewOnFlamp","payment","worksAroundTheClock","aroundTheClock","knowMore","toClose","monday","tuesday","wednesday","thursday","friday","saturday","sunday","mon","tue","wed","thu","fri","sat","sun","toLunch","lessThenHour","youCouldLate","workingTime","showAllOrgInRubric","todayIsRestDay","internet","noncash","goldcrown","dinersclub","mastercard","maestrocard","visa","cash","americanexpress","hour","less","_in","isClosingOnDinner","Traffic","period","_tileUrl","retinaTrafficTileServer","trafficTileServer","_metaUrl","retinaTrafficMetaServer","trafficMetaServer","_timeUrl","trafficTimestampServer","_updateInterval","trafficLayerUpdateInterval","_layersOptions","trafficLayerMinZoom","_isOnRequest","_onTimer","timestampString","_onAddSetParams","_getTimestampString","_removeZoomLimit","clearInterval","_updateTimer","_onMapProjectChange","_updateLang","_prepareMetaURL","getSubdomain","trafficData","hints","graph_id","speed_text","_updateLayerProject","setInterval","speed_unit_km_h","_trafficClass","_controlHideClass","_trafficLayer","_controlEvents","_updateControlVisibility","_showTraffic","_hideTraffic","_updateTrafficScore","_handleDom","score","_scoreRate","_getTrafficColor","projectHasTraffic","_getTrafficScore","trafficScoreServer","trafficControl","Ruler","editable","back","middle","front","mouse","_points","_layersContainer","featureGroup","_lineMouseEvents","setLatLngs","_updateDistance","getPane","createPane","getTotalDistance","_calcDistance","spliceLatLngs","oldLength","mutationStart","removed","LayeredMarker","_createPoint","iconStyles","large","_pointEvents","_addCloseHandler","_legs","_addLegs","setPointStyle","_pos","_removeLegs","collapse","_updateLegs","_normalizeRulerPoints","_lineMarkerHelper","_fireChangeEvent","addLatLng","_normalizeLatLng","getLatLngs","unshift","_morphingNow","setText","_getFormatedDistance","insertPos","_point","_hovered","_addRunningLabel","_nearestPoint","originalEv","relatedTarget","_removeRunningLabel","bringToFront","previousPoint","pane","lastElementChild","_insertPointInLine","createEvent","initMouseEvent","defaultView","dispatchEvent","createEventObject","button","bubbles","cancelable","polyline","minDistance","closestSegmentIndex","linePoints","LineUtil","pointToSegmentDistance","closestPoint","closestPointOnSegment","_unproject","_deletePoint","pointStyle","layers","circleMarker","layeredMarker","draggable","curr","newLng","currPoint","normalized","changedPoints","equals","previous","skipPrevious","drag","dragend","dragstart","_degToRad","deg","PI","_radToDeg","rad","CRS","EPSG3857","latLngToPoint","pointToLatLng","_calcAngle","point1","point2","dotProduct","mag1","mag2","acos","_calcMidPoint","latlng1","latlng2","lon1","lat1","lon2","lat2","A","B","atan2","_adaptiveSample","leftMiddle","rightMiddle","angle3","minAngle","_calcGreatCircle","latitude","pathStyles","greatCirclePoints","_clearRemovingPointLegs","newPoints","nextPoint","finishPoint","tail","calcTo","units","ruler","keyboard","riseOnHover","iconHTML","domClass","_viewport","_style","_iconCollapsed","expand","_iconNodes","spacer","_initIcon","_setPos","_afterInit","rulerRenderer","hoverRenderer","renderer","smoothFactor","vml","km","delimiter","_drawingHelper","_geoclickerNeedRestore","_startDrawing","_finishDrawing","_handleMapClick","rulerControl","body_0","chk","w","else","body_1","block","body_2","body_3","body_7","body_4","body_5","body_6","register","__dustBody","getPath","body_8","body_9","body_10","nx","body_12","body_11","body_13","body_14","body_22","body_15","body_16","body_17","body_18","body_19","body_21","body_20","body_23","body_24","body_25","cond","body_26","body_27","body_28","body_29","body_30","body_33","body_34","body_31","body_32","port","defaultSkin","webApiKey","regionListFields","loadProjectListTimeout","../../../dist/css/styles.full.dark.css","../../../vendors/baron","_process","dustjs-helpers","dustjs-linkedin","html5shiv","leaflet","3","styleElementsInsertedAtTop","insertStyleElement","styleElement","lastStyleElementInsertedAtTop","nextSibling","createLink","rel","cssText","extraOptions","sheet","styleSheet","4","factory","amd","helper","_deprecated","_deprecatedCache","isSelect","__select__","getSelectState","addSelectState","newContext","rebase","isPending","isResolved","isDeferredComplete","deferreds","of","resolveSelectDeferreds","isDeferredPending","jsonFilter","truthTest","chunk","bodies","helperName","willResolve","skip","selectState","coerce","helpers","sep","last","contextDump","output","stringify","write","math","operand","select","eq","lt","lte","gt","gte","any","end","none","isFinite","5","getTemplate","nameOrTemplate","loadFromCache","isTemplateFn","cache","setError","Context","templateName","onLoad","srcOrTemplate","compile","loadSource","blocks","Stack","_isContext","getWithResolvedData","cur","down","_get","Stub","Chunk","Stream","next","taps","flushable","mapThenable","thenable","asyncChunk","ERROR","getTemplateName","INFO","renderError","Tap","NONE","WARN","DEBUG","EMPTY_FUNC","whitespace","cjs","_aliases","section","exists","notexists","partial","consoleLog","loggingLevels","debugLevel","env","stream","isEmpty","isEmptyObject","isThenable","isNonThenableFunction","isStreamable","pipe","auto","filters","escapeHtml","escapeJs","encodeURI","uc","escapeJSON","jp","makeBase","isContext","ctxThis","getBlock","shiftBlocks","locals","newBlocks","emit","destEnded","go","branch","untap","await","$len","$idx","partialContext","capture","ret","errorBody","ended","thunk","stub","HCHARS","AMP","LT","GT","QUOT","SQUOT","BS","FS","CR","LS","PS","NL","LF","SQ","DQ","TB","6","addStyleSheet","lastChild","getElements","elements","html5","addElements","newElements","shivDocument","getExpandoData","expandoData","expando","expanID","supportsUnknownElements","cloneNode","saveClones","createElem","canHaveChildren","reSkip","tagUrn","frag","createDocumentFragment","elems","shivMethods","createFrag","shivCSS","supportsHtml5Styles","hasCSS","childNodes","7","expose","oldL","dest","stamp","lastId","lock","wrapperFn","later","wrapNum","includeMax","formatNum","digits","trim","splitWords","getParamString","existingUrl","uppercase","templateRe","array","emptyImageUrl","getPrefixed","timeoutDefer","timeToCall","lastTime","requestFn","requestAnimationFrame","cancelFn","cancelAnimationFrame","immediate","props","NewClass","callInitHooks","parentProto","__super__","_initHooks","_initHooksCalled","_on","_off","typeListeners","newListener","listeners","_firingCount","propagate","_propagateEvent","_eventParents","addEventParent","removeEventParent","addEventListener","removeEventListener","clearAllEventListeners","addOneTimeEventListener","hasEventListeners","ua","phantomjs","chrome","gecko","platform","orientation","MSPointerEvent","ie3d","webkit3d","WebKitCSSMatrix","gecko3d","L_NO_TOUCH","edge","L_DISABLE_3D","mobileWebkit","mobileWebkit3d","mobileOpera","mobileGecko","devicePixelRatio","screen","deviceXDPI","logicalXDPI","_subtract","_divideBy","_multiplyBy","_ceil","min2","max2","xIntersects","yIntersects","overlaps","xOverlaps","yOverlaps","isValid","Transformation","_a","_b","_c","_d","_transform","untransform","getElementById","currentStyle","getComputedStyle","toFront","toBack","hasClass","classList","getClass","classes","setClass","baseVal","setOpacity","_setOpacityIE","filterName","Enabled","Opacity","testProp","setTransform","TRANSFORM","_leaflet_pos","top","transition","disableTextSelection","enableTextSelection","userSelectProperty","_userSelect","disableImageDrag","enableImageDrag","preventOutline","tabIndex","restoreOutline","_outlineElement","_outlineStyle","outline","maxMargin","precision","other","Earth","wrapLatLng","toBounds","sizeInMeters","latAccuracy","lngAccuracy","southWest","northEast","sw2","ne2","_southWest","_northEast","pad","bufferRatio","heightBuffer","widthBuffer","getNorthWest","getNorth","getWest","getSouthEast","getSouth","getEast","latIntersects","lngIntersects","latOverlaps","lngOverlaps","toBBoxString","Projection","LonLat","SphericalMercator","R","MAX_LATITUDE","atan","projectedPoint","transformation","untransformedPoint","LN2","getProjectedBounds","wrapLng","wrapLat","Simple","EPSG900913","EPSG4326","fadeAnimation","markerZoomAnimation","transform3DLimit","zoomSnap","zoomDelta","trackResize","_onResize","_initEvents","setMaxBounds","_zoomBoundLayers","_sizeChanged","_addLayers","zoomIn","setZoomAround","getZoomScale","viewHalf","centerOffset","newCenter","_getBoundsCenterZoom","paddingTopLeft","paddingBottomRight","paddingOffset","swPoint","nePoint","fitWorld","panTo","_rawPanBy","_panInsideMaxBounds","setMinZoom","panInsideBounds","_enforcingBounds","oldSize","_lastCenter","newSize","oldCenter","debounceMoveend","_containerId","_mapPane","_clearControlPos","_clearHandlers","_panes","_checkIfLoaded","_getCenterLayerPoint","getPixelBounds","getMinZoom","_layersMinZoom","getMaxZoom","_layersMaxZoom","nw","se","boundsSize","snap","getScaleZoom","_size","clientHeight","topLeftPoint","_getTopLeftPoint","_pixelOrigin","getPixelWorldBounds","toZoom","fromZoom","_getMapPanePos","getMousePosition","addListener","_initPanes","_initControlPos","panes","_paneRenderers","markerPane","shadowPane","zoomChanged","_moveStart","_move","_moveEnd","_getNewPixelOrigin","pinch","_flyToFrame","_panAnim","_getZoomSpan","_targets","onOff","_handleDOMEvent","_resizeRequest","scrollLeft","isHover","_draggableMoved","_isExternalTarget","_skipped","moved","boxZoom","whenReady","pixelOrigin","topLeft","_getCenterOffset","centerPoint","viewBounds","_getBoundsOffset","newBounds","pxBounds","projectedMaxBounds","minOffset","maxOffset","_rebound","removeFrom","addInteractiveTarget","targetEl","removeInteractiveTarget","_layerAdd","removeAttribution","_addZoomLimit","oldZoomSpan","Mercator","R_MINOR","tmp","con","phi","dphi","EPSG3395","updateWhenZooming","updateInterval","noWrap","_setAutoZIndex","bringToBack","_updateOpacity","setZIndex","isLoading","move","zoomanim","_animateZoom","compare","edgeZIndex","nextFrame","willPrune","fade","_noPrune","_fadeFrame","retain","_retainParent","_retainChildren","_removeTile","animating","flyTo","_abortLoading","_setZoomTransforms","_tileSize","_wrapX","_wrapY","_animateToZoom","pixelCenter","halfSize","fragment","tileBounds","_tileCoordsToBounds","_keyToBounds","_keyToTileCoords","nwPoint","sePoint","newCoords","gridLayer","zoomReverse","_onTileRemove","noRedraw","zoomN","tilePoint","tileLayer","WMS","defaultWmsParams","service","styles","transparent","wmsParams","_crs","_wmsVersion","projectionKey","bbox","setParams","wms","ImageOverlay","_image","_initImage","styleOpts","setBounds","getElement","img","image","imageOverlay","_createIcon","createShadow","_getIconUrl","_createImg","sizeOption","anchor","shadowAnchor","marginLeft","marginTop","iconUrl","iconRetinaUrl","shadowUrl","popupAnchor","tooltipAnchor","shadowSize","_detectIconPath","riseOffset","_removeIcon","_removeShadow","oldLatLng","setIcon","bindPopup","classToAdd","addIcon","_bringToFront","_resetZIndex","newShadow","addShadow","_initInteraction","MarkerDrag","DivOverlay","_updateContent","_getAnchor","bottom","keepInView","preclick","disableScrollPropagation","_tip","_inProgress","marginBottom","_getPopupAnchor","_popupHandlersAdded","_openPopup","_movePopup","unbindPopup","togglePopup","isPopupOpen","setPopupContent","Tooltip","permanent","tooltip","closeTooltip","_setPosition","tooltipPoint","tooltipWidth","tooltipHeight","_getTooltipAnchor","openTooltip","bindTooltip","_tooltip","_initTooltipInteractions","unbindTooltip","_tooltipHandlersAdded","_moveTooltip","_openTooltip","toggleTooltip","isTooltipOpen","setTooltipContent","getTooltip","getLayerId","methodName","getLayer","getLayers","layerGroup","Renderer","_onZoom","_onAnimZoom","ev","_updateTransform","currentCenterPoint","_center","destCenterPoint","topLeftOffset","getRenderer","_getPaneRenderer","canvas","stroke","dashArray","dashOffset","fillRule","_initPath","_addPath","_removePath","_updateStyle","_bringToBack","_path","_clickTolerance","simplify","tolerance","sqTolerance","_reducePoints","_simplifyDP","p1","p2","_sqClosestPointOnSegment","ArrayConstructor","markers","_simplifyDPStep","sqDist","maxSqDist","reducedPoints","prev","_sqDist","clipSegment","useLastCode","codeOut","newCode","codeA","_lastCode","_getBitCode","codeB","_getEdgeIntersection","dot","_setLatLngs","_latlngs","closestLayerPoint","minPoint","closest","jLen","_parts","halfDist","segDist","dist","ratio","_rings","_defaultShape","_convertLatLngs","_flat","flat","_projectLatlngs","projectedBounds","_clipPoints","len2","segment","_simplifyPoints","_updatePoly","clipPolygon","clippedPoints","edges","lu","_code","area","clipped","_boundsToLatLngs","rectangle","_radius","getRadius","_updateBounds","r2","_radiusY","_updateCircle","legacyOptions","_mRadius","half","latR","lngR","zoomstart","_onZoomStart","_rootGroup","_svgSize","pointsToPath","createElementNS","createSVGRect","behavior","adj","coordsize","_stroke","_fill","stroked","filled","dashStyle","endcap","joinstyle","namespaces","_draw","_updateDashArray","_removed","_requestRedraw","_redrawBounds","Number","_dashArray","_redrawRequest","_redraw","_clear","rect","clip","restore","setLineDash","globalCompositeOperation","globalAlpha","fillStyle","_prevWeight","strokeStyle","_containsPoint","_fakeStop","_fireEvent","moving","_handleMouseHover","_hoveredLayer","geojson","addData","features","geometryToLayer","asFeature","defaultOptions","resetStyle","onEachFeature","_setLayerStyle","pointToLayer","coordsToLatLngs","levelsDeep","latLngToCoords","latLngsToCoords","getFeature","newGeometry","PointToGeoJSON","multi","holes","toMultiPoint","isGeometryCollection","jsons","eventsKey","originalHandler","addPointerListener","addDoubleTapListener","_filterClick","attachEvent","removePointerListener","removeDoubleTapListener","detachEvent","cancelBubble","returnValue","getBoundingClientRect","clientLeft","clientTop","_wheelPxFactor","getWheelDelta","wheelDeltaY","deltaY","deltaMode","deltaX","deltaZ","wheelDelta","_skipEvents","skipped","related","timeStamp","_lastClick","_simulatedClick","removeListener","touchstart","pointerdown","MSPointerDown","MOVE","dragStartTarget","_dragStartTarget","_preventOutline","_onDown","_dragging","shiftKey","which","_onUp","inertiaDeceleration","worldCopyJump","maxBoundsViscosity","_onDragStart","_onPreDragLimit","_onPreDragWrap","_onZoomEnd","_offsetLimit","_viscosity","pxCenter","pxWorldCenter","_initialWorldOffset","_worldWidth","_viscousLimit","threshold","limit","worldWidth","halfWidth","newX1","newX2","newX","doubleClickZoom","DoubleClickZoom","_onDoubleClick","oldZoom","scrollWheelZoom","wheelDebounceTime","ScrollWheelZoom","_onWheelScroll","_delta","debounce","_lastMousePos","_timer","_performZoom","d2","d3","d4","PosAnimation","run","newPos","_duration","_easeOutPower","_offset","_animId","_runFrame","_easeOut","_onPanTransitionStep","_onPanTransitionEnd","zoomAnimation","zoomAnimationThreshold","zoomAnimated","_createAnimProxy","_proxy","_catchTransitionEnd","proxy","mapPane","_onZoomTransitionEnd","_nothingToAnimate","getElementsByClassName","startAnim","_animateToCenter","targetCenter","targetZoom","s1","s2","w1","w0","t1","rho2","u1","b1","sq","sinh","cosh","tanh","r0","rho","easeOut","frame","S","startZoom","flyToBounds","_touchstart","_touchend","onTouchStart","_pointersCount","doubleTap","delay","onTouchEnd","newTouch","pre","touchend","POINTER_DOWN","POINTER_MOVE","POINTER_UP","POINTER_CANCEL","TAG_WHITE_LIST","_pointers","_addPointerStart","_addPointerMove","_addPointerEnd","onDown","pointerType","MSPOINTER_TYPE_MOUSE","_handlePointer","_pointerDocListener","pointerUp","_globalPointerUp","_globalPointerDown","_globalPointerMove","pointerId","changedTouches","onMove","buttons","onUp","touchZoom","TouchZoom","_onTouchStart","_zooming","_centerPoint","_startLatLng","_pinchStartLatLng","_startDist","_startZoom","_onTouchMove","_onTouchEnd","moveFn","tapTolerance","_fireClick","_holdTimeout","_isTapValid","_simulateEvent","touchmove","simulatedEvent","screenX","screenY","BoxZoom","_pane","overlayPane","_onMouseDown","_resetState","mouseup","_onMouseUp","keydown","_onKeyDown","_box","_finish","boxZoomBounds","keyboardPanDelta","Keyboard","keyCodes","up","_setPanDelta","_setZoomDelta","focus","_onFocus","blur","_onBlur","_addHooks","_removeHooks","_focused","docEl","scrollTo","panDelta","_panKeys","codes","_zoomKeys","altKey","ctrlKey","metaKey","_oldLatLng","shadow","iconPos","removeControl","corner","_controlCorners","_refocusOnMap","createCorner","vSide","hSide","corners","_controlContainer","zoomInText","zoomInTitle","zoomOutText","zoomOutTitle","_disabled","zoomControl","setPrefix","Scale","imperial","_addScales","_mScale","_iScale","maxMeters","_updateScales","_updateMetric","_updateImperial","meters","_getRoundNum","_updateScale","maxMiles","miles","feet","maxFeet","pow10","Layers","collapsed","autoZIndex","hideSingleBase","baseLayers","overlays","_lastZIndex","_handlingClick","_addLayer","_checkDisabledLayers","_onLayerChange","addBaseLayer","addOverlay","_getLayer","_form","acceptableHeight","offsetTop","form","mouseenter","mouseleave","_layersLink","_onInputClick","_baseLayersList","_separator","_overlaysList","overlay","baseLayersPresent","overlaysPresent","baseLayersCount","_addItem","_createRadioElement","checked","radioHtml","radioFragment","defaultChecked","layerId","holder","inputs","addedLayers","removedLayers","disabled","_expand","_collapse","_defaultLocateOptions","_handleGeolocationError","onResponse","_handleGeolocationResponse","onError","_locationWatchId","watchPosition","getCurrentPosition","clearWatch","longitude","8","defaultSetTimout","defaultClearTimeout","runTimeout","cachedSetTimeout","runClearTimeout","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queueIndex","drainQueue","Item","browser","argv","removeAllListeners","prependListener","prependOnceListener","binding","cwd","chdir","umask","9","manageEvents","eventManager","scroll","_pos0","each","manageAttr","attrName","validate","eventName","jQuery","crossPos","crossSize","client","crossClient","crossOffset","offsetPos","scrollSize","roots","jQueryMode","localParams","dispose","_chain","getNode","sel","setBarSize","barMinSize","posBar","barTopLimit","relToPos","posToRel","dontPosSelect","barPos","scrollerPos0","resizePauseTimer","scrollPauseTimer","pause","scrollLastFire","resizeLastFire","clipper","barOnCls","rpos","free","barOn","upd","freeze","newBarSize","oldBarSize","userArg","fix","userParams","fixElement","viewPortSize","minView","outside","bubbleWheel","initWebKitWheelEvent","wheelDeltaX","_params","headerTops","topFixHeights","topRealHeights","limiter","before","after","past","future","fixState","hTop","fixFlag","change","updParams","controls","forward","backward","xBar","pull","getContentSize","getScrollerSize","force","toggle","_interval","op4","scrollInProgress","_insistence","inProgress","onCollapse","_waiting","onExpand","_onExpandCalled","_zeroXCount","waiting","activeEffectScope","EffectScope","detached","effects","cleanups","scopes","currentEffectScope","fromParent","recordEffectScope","effect","scope","createDep","dep","Set","wasTracked","trackOpBit","newTracked","initDepMarkers","finalizeDepMarkers","ptr","delete","targetMap","effectTrackDepth","maxMarkerBits","activeEffect","ITERATE_KEY","MAP_KEY_ITERATE_KEY","ReactiveEffect","scheduler","lastShouldTrack","shouldTrack","cleanupEffect","deferStop","onStop","trackStack","pauseTracking","resetTracking","depsMap","eventInfo","trackEffects","debuggerEventExtraInfo","trigger","newValue","oldValue","oldTarget","values","isIntegerKey","isMap","triggerEffects","computed","triggerEffect","allowRecurse","isNonTrackableKeys","makeMap","builtInSymbols","createGetter","shallowGet","readonlyGet","arrayInstrumentations","createArrayInstrumentations","instrumentations","toRaw","isReadonly","shallow","receiver","shallowReadonlyMap","readonlyMap","shallowReactiveMap","reactiveMap","targetIsArray","isRef","readonly","reactive","createSetter","shallowSet","isShallow","hadKey","hasChanged","deleteProperty","mutableHandlers","readonlyHandlers","shallowReactiveHandlers","toShallow","getProto","get$1","rawTarget","rawKey","toReadonly","toReactive","has$1","set$1","deleteEntry","hadItems","createForEach","observed","createIterableMethod","targetIsMap","isPair","isKeyOnly","innerIterator","createReadonlyMethod","createInstrumentations","mutableInstrumentations","shallowInstrumentations","readonlyInstrumentations","shallowReadonlyInstrumentations","iteratorMethods","createInstrumentationGetter","mutableCollectionHandlers","shallowCollectionHandlers","readonlyCollectionHandlers","targetTypeMap","rawType","getTargetType","isExtensible","toRawType","createReactiveObject","shallowReactive","baseHandlers","collectionHandlers","proxyMap","existingProxy","targetType","Proxy","isReactive","isProxy","raw","markRaw","def","trackRefValue","ref","triggerRefValue","newVal","__v_isRef","createRef","shallowRef","rawValue","RefImpl","__v_isShallow","_rawValue","_value","useDirectValue","unref","shallowUnwrapHandlers","proxyRefs","objectWithRefs","ComputedRefImpl","_setter","isSSR","_dirty","_cacheable","getterOrOptions","debugOptions","onlyGetter","NOOP","cRef","callWithErrorHandling","instance","handleError","callWithAsyncErrorHandling","isPromise","throwInDev","contextVNode","vnode","exposedInstance","errorInfo","errorCapturedHooks","ec","appErrorHandler","appContext","errorHandler","logError","isFlushing","isFlushPending","flushIndex","pendingPostFlushCbs","activePostFlushCbs","postFlushIndex","resolvedPromise","currentFlushPromise","findInsertionIndex","middleJobId","getId","queueJob","job","queueFlush","flushJobs","invalidateJob","queuePostFlushCb","cb","flushPreFlushCbs","flushPostFlushCbs","deduped","comparator","emit$1","rawArgs","isUnmounted","EMPTY_OBJ","isModelListener","startsWith","modelArg","modifiersKey","toNumber","handlerName","toHandlerKey","camelize","hyphenate","onceHandler","emitted","normalizeEmitsOptions","comp","asMixin","emitsCache","cached","emits","hasExtends","extendEmits","normalizedFromExtend","mixins","extends","isEmitListener","isOn","currentRenderingInstance","currentScopeId","setCurrentRenderingInstance","__scopeId","pushScopeId","popScopeId","withCtx","isNonScopedSlot","_n","renderFnWithContext","setBlockTracking","prevInstance","renderComponentRoot","Component","withProxy","propsOptions","slots","attrs","renderCache","setupState","inheritAttrs","fallthroughAttrs","shapeFlag","proxyToUse","normalizeVNode","getFunctionalFallthrough","blockStack","createVNode","Comment","filterModelListeners","cloneVNode","dirs","shouldUpdateComponent","prevVNode","nextVNode","optimized","prevProps","prevChildren","nextProps","nextChildren","patchFlag","emitsOptions","$stable","hasPropsChanged","dynamicProps","nextKeys","updateHOCHostEl","subTree","isSuspense","__isSuspense","queueEffectWithSuspense","suspense","pendingBranch","provide","currentInstance","provides","parentProvides","inject","defaultValue","treatDefaultAsFactory","watchEffect","doWatch","INITIAL_WATCHER_VALUE","deep","onTrack","onTrigger","cleanup","forceTrigger","isMultiSource","isShallow$1","traverse","onCleanup","baseGetter","isInSSRComponentSetup","queuePostRenderEffect","instanceWatch","publicThis","isString","createPathGetter","setCurrentInstance","unsetCurrentInstance","isSet","isPlainObject","useTransitionState","isMounted","isLeaving","isUnmounting","leavingVNodes","onMounted","onBeforeUnmount","TransitionHookValidator","BaseTransitionImpl","appear","persisted","onBeforeEnter","onEnter","onAfterEnter","onEnterCancelled","onBeforeLeave","onLeave","onAfterLeave","onLeaveCancelled","onBeforeAppear","onAppear","onAfterAppear","onAppearCancelled","getCurrentInstance","prevTransitionKey","getTransitionRawChildren","hasFound","rawProps","emptyPlaceholder","innerChild","getKeepAliveChild","enterHooks","resolveTransitionHooks","setTransitionHooks","oldChild","oldInnerChild","transitionKeyChanged","getTransitionKey","isSameVNodeType","leavingHooks","afterLeave","delayLeave","earlyRemove","delayedLeave","leavingVNodesCache","getLeavingNodesForType","_leaveCb","BaseTransition","callHook","hook","callAsyncHook","every","hooks","beforeEnter","leavingVNode","enter","afterHook","cancelHook","called","_enterCb","cancelled","leave","isKeepAlive","ssContent","ssFallback","keepComment","parentKey","keyedFragmentCount","Fragment","defineComponent","isAsyncWrapper","__asyncLoader","__isKeepAlive","matches","pattern","onActivated","registerKeepAliveHook","onDeactivated","wrappedHook","__wdc","isDeactivated","injectHook","injectToKeepAliveRoot","keepAliveRoot","injected","onUnmounted","resetShapeFlag","getInnerChild","prepend","__weh","createHook","lifecycle","onBeforeMount","onBeforeUpdate","onUpdated","onServerPrefetch","onRenderTriggered","onRenderTracked","onErrorCaptured","withDirectives","directives","internalInstance","getExposeProxy","bindings","modifiers","mounted","updated","invokeDirectiveHook","oldBindings","COMPONENTS","resolveComponent","maybeSelfReference","resolveAsset","NULL_DYNAMIC_COMPONENT","warnMissing","selfName","getComponentName","capitalize","renderItem","getPublicInstance","isStatefulComponent","publicPropertiesMap","$el","$data","$props","$attrs","$slots","$refs","refs","$parent","$root","$emit","$options","resolveMergedOptions","$forceUpdate","$nextTick","$watch","PublicInstanceProxyHandlers","_","accessCache","normalizedProps","shouldCacheAccess","publicGetter","cssModule","globalProperties","__cssModules","applyOptions","beforeCreate","dataOptions","computedOptions","methods","watchOptions","provideOptions","injectOptions","created","beforeMount","beforeUpdate","activated","deactivated","beforeDestroy","beforeUnmount","destroyed","unmounted","renderTracked","renderTriggered","errorCaptured","serverPrefetch","checkDuplicateProperties","resolveInjections","unwrapInjectedRef","methodHandler","createWatcher","registerLifecycleHook","_hook","exposed","unwrapRef","normalizeInject","extendsOptions","globalMixins","optionsCache","optionMergeStrategies","strats","strat","internalOptionMergeStrats","mergeDataFn","mergeObjectOptions","mergeAsArray","mergeWatchOptions","mergeInject","merged","initProps","isStateful","InternalObjectKey","propsDefaults","setFullProps","updateProps","rawPrevProps","rawCurrentProps","hasAttrsChanged","kebabKey","resolvePropValue","propsToUpdate","camelizedKey","needCastKeys","rawCastValues","isReservedProp","camelKey","castValues","isAbsent","hasDefault","normalizePropsOptions","propsCache","extendProps","EMPTY_ARR","normalizedKey","validatePropName","booleanIndex","getTypeIndex","stringIndex","getType","ctor","isSameType","expectedTypes","findIndex","isInternalKey","normalizeSlotValue","normalizeSlot","rawSlot","normalizeObjectSlots","rawSlots","normalizeVNodeSlots","initSlots","updateSlots","needDeletionCheck","deletionComparisonTarget","createAppContext","app","isNativeTag","NO","performance","warnHandler","compilerOptions","createAppAPI","hydrate","rootComponent","rootProps","assign","installedPlugins","_uid","_component","_props","_context","_instance","use","install","mixin","directive","mount","rootContainer","isHydrate","isSVG","__vue_app__","unmount","setRef","rawRef","oldRawRef","parentSuspense","isUnmount","refValue","owner","oldRef","_isString","_isRef","doSet","existing","initFeatureFlags","createRenderer","baseCreateRenderer","createHydrationFns","getGlobalThis","__VUE__","insert","hostInsert","hostRemove","patchProp","hostPatchProp","hostCreateElement","createText","hostCreateText","createComment","hostCreateComment","hostSetText","setElementText","hostSetElementText","hostParentNode","hostNextSibling","setScopeId","hostSetScopeId","hostCloneNode","insertStaticContent","hostInsertStaticContent","patch","n1","n2","parentComponent","slotScopeIds","dynamicChildren","getNextHostNode","Text","processText","processCommentNode","Static","mountStaticNode","processFragment","processElement","processComponent","internals","moveStaticNode","removeStaticNode","mountElement","patchElement","vnodeHook","is","mountChildren","unmountChildren","onVnodeBeforeMount","invokeVNodeHook","scopeId","needCallTransitionHooks","onVnodeMounted","parentVNode","cloneIfMounted","oldProps","newProps","toggleRecurse","onVnodeBeforeUpdate","areChildrenSVG","patchBlockChildren","patchChildren","patchProps","class","onVnodeUpdated","oldChildren","newChildren","fallbackContainer","oldVNode","newVNode","fragmentStartAnchor","fragmentEndAnchor","fragmentSlotScopeIds","traverseStaticChildren","activate","mountComponent","updateComponent","initialVNode","createComponentInstance","setupComponent","asyncDep","registerDep","setupRenderEffect","placeholder","asyncResolved","updateComponentPreRender","componentUpdateFn","bu","originNext","invokeArrayFns","nextTree","prevTree","bm","isAsyncWrapperVNode","hydrateNode","hydrateSubTree","scopedInitialVNode","c1","prevShapeFlag","c2","patchKeyedChildren","patchUnkeyedChildren","newLength","commonLength","nextChild","parentAnchor","l2","e1","e2","nextPos","keyToNewIndexMap","patched","toBePatched","maxNewIndexSoFar","newIndexToOldIndexMap","prevChild","newIndex","increasingNewIndexSequence","getSequence","nextIndex","moveType","needTransition","performLeave","doRemove","deactivate","shouldInvokeDirs","shouldInvokeVnodeHook","onVnodeBeforeUnmount","unmountComponent","onVnodeUnmounted","removeFragment","performRemove","bum","um","suspenseId","pendingId","_vnode","mc","pc","pbc","createApp","allowed","ch1","ch2","arrI","isTeleport","__isTeleport","currentBlock","openBlock","disableTracking","closeBlock","isBlockTreeEnabled","setupBlock","createElementBlock","createBaseVNode","createBlock","isVNode","__v_isVNode","normalizeKey","normalizeRef","ref_key","ref_for","isBlockNode","needFullChildrenNormalization","__v_skip","targetAnchor","staticCount","normalizeChildren","_createVNode","cloned","isClassComponent","__vccOpts","guardReactiveProps","normalizeClass","normalizeStyle","extraProps","mergeRef","mergedProps","mergeProps","createTextVNode","createStaticVNode","numberOfNodes","createCommentVNode","asBlock","memo","slot","slotFlag","toMerge","incoming","emptyAppContext","uid$1","exposeProxy","setupContext","bc","da","rtg","rtc","installWithProxy","setupResult","setupStatefulComponent","createSetupContext","resolvedResult","handleSetupResult","finishComponentSetup","__ssrInlineRender","ssrRender","skipOptions","isCustomElement","delimiters","componentCompilerOptions","finalCompilerOptions","createAttrsProxy","includeInferred","displayName","__name","computed$1","propsOrChildren","svgNS","templateContainer","nodeOps","multiple","nodeValue","previousSibling","patchClass","transitionClasses","_vtc","patchStyle","isCssString","currentDisplay","importantRE","setProperty","prefixed","autoPrefix","prefixes","prefixCache","rawName","xlinkNS","patchAttr","removeAttributeNS","setAttributeNS","isBoolean","isSpecialBooleanAttr","includeBooleanAttr","patchDOMProp","needRemove","_getNow","skipTimestampCheck","ffMatch","cachedNow","getNow","patchEvent","prevValue","nextValue","invokers","_vei","existingInvoker","parseName","invoker","createInvoker","optionsModifierRE","initialValue","attached","patchStopImmediatePropagation","originalStop","stopImmediatePropagation","nativeOnRE","shouldSetAsProp","_trueValue","_falseValue","HTMLElement","ANIMATION","Transition","resolveTransitionProps","DOMTransitionPropsValidators","enterFromClass","enterActiveClass","enterToClass","appearFromClass","appearActiveClass","appearToClass","leaveFromClass","leaveActiveClass","leaveToClass","hasExplicitCallback","baseProps","durations","normalizeDuration","enterDuration","leaveDuration","finishEnter","isAppear","removeTransitionClass","finishLeave","_isLeaving","makeEnterHook","addTransitionClass","whenTransitionEnds","forceReflow","NumberOf","cls","endId","expectedType","explicitTimeout","_endId","resolveIfNotStale","propCount","getTransitionInfo","endEvent","onEnd","getStyleProperties","transitionDelays","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationDurations","animationTimeout","hasTransform","delays","toMs","getModelAssigner","onCompositionStart","composing","onCompositionEnd","Event","vModelText","lazy","_assign","castToNumber","domValue","activeElement","vModelSelect","isSetModel","selectedVal","selected","getValue","setSelected","_binding","isMultiple","optionValue","looseIndexOf","looseEqual","selectedIndex","systemModifiers","modifierGuards","prevent","currentTarget","ctrl","exact","withModifiers","guard","rendererOptions","ensureRenderer","containerOrSelector","normalizeContainer","SVGElement","expectsLowerCase","GLOBALS_WHITE_LISTED","isGloballyWhitelisted","specialBooleanAttrs","parseStringStyle","listDelimiterRE","propertyDelimiterRE","looseCompareArrays","equal","aValidType","isDate","bValidType","aKeysCount","bKeysCount","aHasKey","bHasKey","toDisplayString","objectToString","replacer","entries","onRE","toTypeString","cacheStringFunction","hit","camelizeRE","hyphenateRE","fns","_globalThis","sfc","defaultConfigs","itemsToShow","itemsToScroll","modelValue","autoplay","snapAlign","wrapAround","pauseAutoplayOnHover","mouseDrag","touchDrag","breakpoints","carouselProps","validator","settings","timerId","inThrottle","getSlidesVNodes","vNode","getMaxSlideIndex","slidesCount","getMinSlideIndex","getCurrentSlideIndex","getSlidesToScroll","slidesBuffer","currentSlide","Carousel","slides","slideWidth","autoplayTimer","transitionTimer","__defaultConfig","currentSlideIndex","prevSlideIndex","middleSlideIndex","maxSlideIndex","minSlideIndex","initDefaultConfigs","mergedConfigs","bindConfigs","updateBreakpointsConfigs","breakpointsArray","newConfig","breakpoint","isMatched","matchMedia","handleWindowResize","updateSlidesData","updateSlideWidth","updateSlidesBuffer","slidesArray","shouldShiftSlides","buffer","shifts","initAutoplay","passive","isTouch","startPosition","endPosition","dragged","handleMouseEnter","handleMouseLeave","handleDragStart","isSliding","handleDragging","handleDragEnd","draggedSlides","newSlide","captureClick","slideTo","resetAutoplay","slideIndex","mute","lastSlideIndex","nextSlide","prevSlide","nav","slidesToScroll","trackStyle","xScroll","initCarousel","restartCarousel","updateCarousel","needToUpdate","currentSlideUpdated","maxSlide","minSlide","middleSlide","slotSlides","slotAddons","addons","slotsProps","slidesElements","addonsElements","trackEl","onMousedown","onTouchstart","viewPortEl","carousel","onMouseenter","onMouseleave","icons","arrowUp","arrowDown","arrowRight","arrowLeft","iconName","pathEl","iconTitle","titleEl","viewBox","role","ariaLabel","Navigation","slotNext","slotPrev","isRTL","prevButton","onClick","nextButton","Slide","wrapOrder","updateOrder","slideStyle","isActive","isVisible","isPrev","isNext","carousel__slide","isBrowser","isESModule","__esModule","toStringTag","applyToParams","newParams","TRAILING_SLASH_RE","removeTrailingSlash","parseURL","parseQuery","currentLocation","query","searchString","hash","hashPos","searchPos","resolveRelativePath","fullPath","stringifyURL","stringifyQuery","stripBase","pathname","isSameRouteLocation","aLastIndex","matched","bLastIndex","isSameRouteRecord","isSameRouteLocationParams","aliasOf","isSameRouteLocationParamsValue","isEquivalentArray","fromSegments","toSegments","toPosition","NavigationType","NavigationDirection","normalizeBase","baseEl","BEFORE_HASH_RE","createHref","getElementPosition","docRect","elRect","computeScrollPosition","pageXOffset","pageYOffset","scrollToPosition","scrollToOptions","positionEl","isIdSelector","getScrollKey","history","scrollPositions","saveScrollPosition","scrollPosition","getSavedScrollPosition","createBaseLocation","createCurrentLocation","slicePos","pathFromHash","useHistoryListeners","historyState","teardowns","pauseState","popStateHandler","fromState","unknown","pauseListeners","listen","teardown","beforeUnloadListener","replaceState","destroy","buildState","replaced","computeScroll","useHistoryStateNavigation","changeLocation","hashIndex","currentState","createWebHistory","historyNavigation","historyListeners","triggerListeners","routerHistory","isRouteLocation","route","isRouteName","START_LOCATION_NORMALIZED","redirectedFrom","NavigationFailureSymbol","NavigationFailureType","createRouterError","isNavigationFailure","BASE_PARAM_PATTERN","BASE_PATH_PARSER_OPTIONS","sensitive","strict","REGEX_CHARS_RE","tokensToParser","segmentScores","tokenIndex","token","subSegmentScore","repeatable","optional","regexp","subPattern","avoidDuplicatedSlash","endsWith","compareScoreArray","comparePathParserScore","aScore","bScore","isLastScoreNegative","ROOT_TOKEN","VALID_PARAM_RE","tokenizePath","crash","previousState","tokens","finalizeSegment","char","customRe","consumeBuffer","addCharToBuffer","createRouteRecordMatcher","record","parser","matcher","alias","createRouterMatcher","routes","globalOptions","matchers","matcherMap","getRecordMatcher","addRoute","originalRecord","isRootAdd","mainNormalizedRecord","normalizeRouteRecord","normalizedRecords","aliases","originalMatcher","normalizedRecord","parentPath","connectingSlash","isAliasRecord","removeRoute","insertMatcher","matcherRef","getRoutes","isRecordChildOf","paramsFromLocation","find","parentMatcher","mergeMetaFields","redirect","normalizeRecordProps","instances","leaveGuards","updateGuards","enterCallbacks","propsObject","defaults","partialOptions","HASH_RE","AMPERSAND_RE","SLASH_RE","EQUAL_RE","IM_RE","PLUS_RE","ENC_BRACKET_OPEN_RE","ENC_BRACKET_CLOSE_RE","ENC_CARET_RE","ENC_BACKTICK_RE","ENC_CURLY_OPEN_RE","ENC_PIPE_RE","ENC_CURLY_CLOSE_RE","ENC_SPACE_RE","commonEncode","encodeHash","encodeQueryValue","encodeQueryKey","encodePath","encodeParam","decode","decodeURIComponent","hasLeadingIM","searchParams","searchParam","eqPos","currentValue","normalizeQuery","normalizedQuery","matchedRouteKey","viewDepthKey","routerKey","routeLocationKey","routerViewLocationKey","useCallbacks","guardToPromiseFn","enterCallbackArray","valid","guardReturn","guardCall","extractComponentsGuards","guardType","guards","rawComponent","isRouteComponent","componentPromise","resolvedComponent","useLink","router","currentRoute","activeRecordIndex","routeMatched","currentMatched","parentRecordPath","getOriginalPath","includesParams","isExactActive","navigate","guardEvent","RouterLinkImpl","compatConfig","MODE","required","activeClass","exactActiveClass","custom","ariaCurrentValue","elClass","getLinkClass","linkExactActiveClass","RouterLink","defaultPrevented","outer","inner","innerValue","outerValue","propClass","globalClass","defaultClass","RouterViewImpl","injectedRoute","routeToDisplay","injectedDepth","initialDepth","matchedRoute","matchedRouteRef","viewRef","oldInstance","oldName","currentName","ViewComponent","routePropsOption","routeProps","slotContent","RouterView","createRouter","parseQuery$1","stringifyQuery$1","beforeGuards","beforeResolveGuards","afterGuards","pendingLocation","scrollBehavior","scrollRestoration","normalizeParams","paramValue","encodeParams","decodeParams","parentOrRoute","recordMatcher","routeMatcher","hasRoute","rawLocation","locationNormalized","matcherLocation","targetParams","locationAsObject","checkCanceledNavigation","pushWithRedirect","handleRedirectRecord","lastMatched","newTargetLocation","targetLocation","shouldRedirect","toLocation","failure","handleScroll","markAsReady","triggerError","finalizeNavigation","triggerAfterEach","checkCanceledNavigationAndReject","leavingRecords","updatingRecords","enteringRecords","extractChangingRecords","canceledNavigationCheck","runGuardQueue","isPush","isFirstNavigation","removeHistoryListener","setupListeners","_from","info","listening","ready","readyHandlers","errorHandlers","isReady","started","installedApps","beforeEach","beforeResolve","afterEach","$router","warn","reactiveRoute","unmountApp","recordFrom","recordTo"],"sourceRoot":""}